import React from "react";
import { C } from "xadmin-ui";
import { Table } from 'antd'

const ResultShow = ({ debugRes, showType }) => {
  if (showType === 'table') {
    return <TableShow debugRes={debugRes} />
  } else if (showType === 'tree') {
    return <TreeShow debugRes={debugRes} />
  } else if (debugRes?.input && debugRes?.output) {
    return <div className='debug-content'>
      输入：<br/>
      {JSON.stringify(debugRes.input)}<br/>
      输出：<br/>
      {JSON.stringify(debugRes.output)}
    </div>
  } else {
    return <div className='debug-content'>
      {JSON.stringify(debugRes || {})}
    </div>
  }
}

const TreeShow = ({ debugRes }) => {

  return debugRes && <C is='Dashboard.VariableTree'
    rootName={_t1('输出结果')}
    data={debugRes}
    onClick={() => null}
  />
}

const TableShow = ({ debugRes }) => {
  let dataList = debugRes.output.data

  return <Table
    bordered={true}
    size="small"
    pagination={false}
    dataSource={dataList}
  />
}

export default ResultShow

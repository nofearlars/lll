/*! For license information please see front.js.LICENSE.txt */
(()=>{var __webpack_modules__={145:(e,t,r)=>{"use strict";r.d(t,{_y:()=>i}),r(687),r(611);var n=r(363),a=r.n(n);r(78);var i=a().createContext();i.displayName="DatasourceContext",i.displayName="DatasourceContext"},199:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(942),a=r(885),i=r(363),o=r.n(i),l=r(907),u=r(821);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const c=function(e){var t=e.input,r=e.label,i=e.field,c=o().useState(!1),_=(0,a.Z)(c,2),d=_[0],p=_[1],f=o().useState(t.value),m=(0,a.Z)(f,2),y=m[0],h=m[1],v=useI18n().t;o().useEffect((function(){h(t.value)}),[t.value]);var E=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({roundedSelection:!1,readOnly:!1,minimap:{enabled:!1},cursorStyle:"line",automaticLayout:!1},i.editor||{});return o().createElement(o().Fragment,null,o().createElement(u.Button,{type:"default",size:"small",onClick:function(e){return p(!0)}},o().createElement(l.Icon,{type:"code"}),v("编辑代码")),o().createElement(u.Modal,{title:v(r),visible:d,maskClosable:!1,width:"80%",onOk:function(e){t.onChange(y),p(!1)},onCancel:function(e){return p(!1)}},o().createElement(l.C,{is:"CodeEditor",language:"javascript",value:y,width:"100%",height:"600",options:E,defaultValue:"option = {}",onChange:h})))}},647:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(462),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(885),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(363),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),xadmin__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(78),xadmin__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(xadmin__WEBPACK_IMPORTED_MODULE_1__),xadmin_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(907),xadmin_ui__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(xadmin_ui__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(611),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),antd__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(821),antd__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(antd__WEBPACK_IMPORTED_MODULE_4__),_CodeEditor__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(199),_useField__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(248),_models__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(963),useDataSource=function useDataSource(props){var op=props.op,params=props.params,predata=props.predata,interval=props.interval,_props$scriptConfig=props.scriptConfig,scriptConfig=void 0===_props$scriptConfig?{}:_props$scriptConfig,_props$testConfig=props.testConfig,testConfig=void 0===_props$testConfig?{}:_props$testConfig,url=null!=op&&op.key?"ds/p/".concat(op.key):null,script=scriptConfig.script,submit=testConfig.submit,_React$useState=react__WEBPACK_IMPORTED_MODULE_0___default().useState([]),_React$useState2=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__.Z)(_React$useState,2),dataset=_React$useState2[0],setDataset=_React$useState2[1],_React$useState3=react__WEBPACK_IMPORTED_MODULE_0___default().useState(!1),_React$useState4=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__.Z)(_React$useState3,2),loading=_React$useState4[0],setloading=_React$useState4[1],_useI18n=useI18n(),_t1=_useI18n.t,editMode=(0,xadmin__WEBPACK_IMPORTED_MODULE_1__.use)("dashboard.mode"),queryCallback=react__WEBPACK_IMPORTED_MODULE_0___default().useRef(),submitRef=react__WEBPACK_IMPORTED_MODULE_0___default().useRef(),filterResult=function(e){var t,r=e,n=[];return lodash__WEBPACK_IMPORTED_MODULE_3___default().isPlainObject(r)?r=[r]:lodash__WEBPACK_IMPORTED_MODULE_3___default().isArray(r)||(r=[{result:r}]),r.map((function(e){var r=lodash__WEBPACK_IMPORTED_MODULE_3___default().keys(e);t=lodash__WEBPACK_IMPORTED_MODULE_3___default().union(t,r)})),r.map((function(e){var r=[];t.map((function(t){r.push(e[t])})),n.push(r)})),{dimensions:t,source:n}},filterData=function filterData(data){predata&&(data=filterResult(data));var e=eval(script);return e.transformData&&(data=e.transformData(data)),data},fetchData=function(){var e=url;e&&(setloading(!0),(0,xadmin__WEBPACK_IMPORTED_MODULE_1__.api)({name:e}).fetch("",{method:"POST",body:JSON.stringify((null==params?void 0:params.value)||{})}).then((function(e){var t=e.json,r=filterData(t);setloading(!1),setDataset(r)})).catch((function(e){return setloading(!1)})))};return queryCallback.current=fetchData,react__WEBPACK_IMPORTED_MODULE_0___default().useEffect((function(){editMode&&submit&&submitRef.current!=submit&&(fetchData(),submitRef.current=submit)}),[submit]),react__WEBPACK_IMPORTED_MODULE_0___default().useEffect((function(){editMode||fetchData()}),[JSON.stringify(op,params,predata,interval)]),react__WEBPACK_IMPORTED_MODULE_0___default().useEffect((function(){if(interval){var e=setInterval((function(){queryCallback.current()}),1e3*interval);return function(){return clearInterval(e)}}}),[interval]),{dataset,loading}},Submit=function(e){var t=e.input.onChange,r=Math.random().toString(24),n=(0,xadmin__WEBPACK_IMPORTED_MODULE_1__.use)("form",(function(e){return{config:e.values}})).config,a=void 0===n?{}:n;return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_4__.Button,{disabled:lodash__WEBPACK_IMPORTED_MODULE_3___default().isEmpty(a.op)||a.interval,onClick:function(){t(r)},size:"small"},_t1("发送"))},SelectType=function(e){var t=e.input,r=react__WEBPACK_IMPORTED_MODULE_0___default().useState([]),n=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__.Z)(r,2),a=n[0],i=n[1];return react__WEBPACK_IMPORTED_MODULE_0___default().useEffect((function(){(0,xadmin__WEBPACK_IMPORTED_MODULE_1__.api)({name:"/ds/group"}).query({},{}).then((function(e){var t=e.items;i(t)}))}),[]),react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_4__.Select,{value:null==t?void 0:t.value,onChange:t.onChange,allowClear:!0},a.map((function(e){return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_4__.Select.Option,{value:e.id},e.name)})))},SelectName=function(e){var t,r=e.input,n=(0,_useField__WEBPACK_IMPORTED_MODULE_6__.Z)("ds"),a=react__WEBPACK_IMPORTED_MODULE_0___default().useState([]),i=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__.Z)(a,2),o=i[0],l=i[1];return react__WEBPACK_IMPORTED_MODULE_0___default().useEffect((function(){n&&(0,xadmin__WEBPACK_IMPORTED_MODULE_1__.api)({name:"/ds/interface"}).query({},{where:{dataGroup:n}}).then((function(e){var t=e.items;l(t)}))}),[n]),react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_4__.Select,{value:null==r||null===(t=r.value)||void 0===t?void 0:t.key,onChange:function(e){var t=o.find((function(t){return t.key===e}));r.onChange({id:t.id,key:t.key})},allowClear:!0},o.map((function(e){return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_4__.Select.Option,{value:e.key},e.name)})))},getInitVal=function(e){if(e){var t={};return e.forEach((function(e){t[e.paramKey]=e.defaultValue})),t}return null},ParamsForm=function(e){var t=e.input,r=(e.field,react__WEBPACK_IMPORTED_MODULE_0___default().useState(null)),n=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__.Z)(r,2),a=n[0],i=n[1],o=react__WEBPACK_IMPORTED_MODULE_0___default().useState(t.value||{}),l=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__.Z)(o,2),u=l[0],s=l[1],c=(0,_useField__WEBPACK_IMPORTED_MODULE_6__.Z)("op");react__WEBPACK_IMPORTED_MODULE_0___default().useEffect((function(){null!=c&&c.id&&(0,xadmin__WEBPACK_IMPORTED_MODULE_1__.api)({name:"ds/interface/"}).fetch(c.id).then((function(e){var r=e.json,n=(0,_models__WEBPACK_IMPORTED_MODULE_7__.v4)(r.variableSchema),a=getInitVal(r.variableSchema);!t.value&&a?(t.onChange(a),s({value:a})):s(t.value||{}),i({type:"object",properties:{value:n}})}))}),[null==c?void 0:c.id]);var _=function(e){t.onChange(e)};return react__WEBPACK_IMPORTED_MODULE_0___default().useMemo((function(){return a?react__WEBPACK_IMPORTED_MODULE_0___default().createElement(xadmin_ui__WEBPACK_IMPORTED_MODULE_2__.C,{is:"Dashboard.PropForm",formKey:"model.".concat(null==c?void 0:c.id),schema:a,initialValues:u,group:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"datasourceParamsForm"},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(xadmin_ui__WEBPACK_IMPORTED_MODULE_2__.C,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_9__.Z)({is:"Dashboard.DataGroup"},e)))},bindVar:!0,component:function(e){return e.children},onSubmit:_,onChange:_}):null}),[null==c?void 0:c.id,a,u])},paramSchema={type:"object",properties:{ds:{title:_r("分组"),type:"string",field:{component:SelectType}},op:{title:_r("接口"),type:"object",field:{component:SelectName}},params:{title:_r("参数"),type:"object",field:{component:ParamsForm},properties:{}},predata:{title:_r("预处理数据"),type:"boolean",description:_r("只有接口返回数据为数组格式时，支持预处理数据，否则依然返回原数据")},interval:{title:_r("轮询时间"),type:"number",description:_r("数据更新间隔时间，不填写数据不更新，单位（秒）"),field:{suffix:"s"},minimum:0},scriptConfig:{title:_r("脚本"),type:"object",fieldType:"fieldset_card",properties:{script:{type:"string",title:_r("处理脚本"),unbind:!0,field:{component:_CodeEditor__WEBPACK_IMPORTED_MODULE_5__.Z}}}},testConfig:{title:_r("测试"),type:"object",fieldType:"fieldset_card",properties:{submit:{type:"string",title:_r("提交请求"),unbind:!0,field:{component:Submit}}}}}},initParam={config:{predata:!0},scriptConfig:{script:"({\n/**\n  * 转换数据方法\n  * dimensions: 维度\n  * source: 数据\n  **/\ntransformData: function (dataset) {\n  // 如果开启【预处理数据】，将会默认生成{dimensions, source}两个对象，前提是返回的数据需要是数组\n  var {dimensions, source} = dataset\n  // 在此处添加你的处理方法 \n\n  return dataset\n}\n})"}};const __WEBPACK_DEFAULT_EXPORT__={api:{title:_r("数据接口"),useUpdate:useDataSource,paramSchema,icon:__webpack_require__(955),initParam}}},159:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={GET:"green",POST:"orange",PUT:"blur",DELETE:"red",PATCH:"magenta"}},963:(e,t,r)=>{"use strict";r.d(t,{v4:()=>V});var n=r(885),a=r(861),i=r(462),o=r(942),l=r(687),u=r.n(l),s=r(363),c=r.n(s),_=r(78),d=r(907),p=r(821),f=r(611),m=r.n(f),y=r(204),h=r(982),v=r(925),E=r(159);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=p.Tabs.TabPane,P=function(e){var t=e.error,r=t.message,n=t.status,a=t.headers,i=t.json,o=useI18n().t;return c().createElement(c().Fragment,null,c().createElement("h4",null,o("请求结果")),c().createElement("h3",null,o("状态码"),": ",n),c().createElement(p.Tabs,null,i&&c().createElement(O,{tab:"JSON",key:"json"},c().createElement(d.C,{is:"CodeEditor",height:"400",width:"100%",theme:"vs-dark",language:"json",value:JSON.stringify(i,2,2),onChange:function(){}})),r&&c().createElement(O,{tab:"Body",key:"body"},c().createElement(p.Input.TextArea,{rows:15,value:r,readOnly:!0})),a&&c().createElement(O,{tab:"Header",key:"headers"},c().createElement(p.Table,{bordered:!0,size:"small",dataSource:m().keys(a).map((function(e){return{key:e,value:a[e]}})),columns:[{title:"Key",dataIndex:"key",key:"key"},{title:"Value",dataIndex:"value",key:"value"}]}))))},D=function(e){var t=e.response,r=t.status,n=t.headers,a=t.body,i=t.json,o=useI18n().t;return c().createElement(c().Fragment,null,c().createElement("h4",null,o("请求结果")),c().createElement("h3",null,o("状态码"),": ",r),c().createElement(p.Tabs,null,i&&c().createElement(O,{tab:"JSON",key:"json"},c().createElement(d.C,{is:"CodeEditor",height:"400",width:"100%",theme:"vs-dark",language:"json",value:JSON.stringify(i,2,2),onChange:function(){}})),a&&c().createElement(O,{tab:"Body",key:"body"},c().createElement(p.Input.TextArea,{rows:15,value:a,readOnly:!0})),n&&c().createElement(O,{tab:"Header",key:"headers"},c().createElement(p.Table,{bordered:!0,size:"small",dataSource:m().keys(n).map((function(e){return{key:e,value:n[e]}})),columns:[{title:"Key",dataIndex:"key",key:"key"},{title:"Value",dataIndex:"value",key:"value"}]}))))};const T=function(){var e=c().useState(!1),t=(0,n.Z)(e,2),r=t[0],i=t[1],l=c().useState(!1),s=(0,n.Z)(l,2),f=s[0],m=s[1],y=c().useRef(null),h=c().useState(null),v=(0,n.Z)(h,2),E=v[0],b=v[1],O=c().useState(null),T=(0,n.Z)(O,2),w=T[0],C=T[1],M=(0,_.use)("form").getFormState,S=c().useState(M().values.variableSchema),k=(0,n.Z)(S,2),L=k[0],x=k[1],A=c().useState(null),I=(0,n.Z)(A,2),j=I[0],R=I[1],B=c().useState(null),K=(0,n.Z)(B,2),U=K[0],q=K[1],Z=useI18n().t;c().useEffect((function(){x(M().values.variableSchema)}),[JSON.stringify(M().values.variableSchema)]),c().useEffect((function(){q({type:"object",properties:{vars:V(L)}}),R(L?{vars:L.reduce((function(e,t){var r;return g(g({},e),{},(0,o.Z)({},t.paramKey,null===(r=t.defaultValue)||void 0===r?void 0:r.value))}),{})}:null)}),[L]);var W=function(){var e=(0,a.Z)(u().mark((function e(){var t,r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=M(),r=t.values.key,C(null),b(null),console.log((null==y?void 0:y.current)||(null==j?void 0:j.vars)),e.prev=5,m(!0),e.next=9,(0,_.api)({name:"ds/p/"}).fetch(r,{method:"POST",body:JSON.stringify((null==y?void 0:y.current)||(null==j?void 0:j.vars)||{})});case 9:n=e.sent,m(!1),b(n),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),m(!1),C(e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=M()).dirtySinceLastSubmit||!t.submitSucceeded&&t.dirty?p.message.error(Z("接口有未保存信息，请先保存接口")):i(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(U,"variableSchema"),c().createElement(c().Fragment,null,c().createElement(p.Modal,{visible:r,width:"70%",okText:Z("发送请求"),okButtonProps:{loading:f},onOk:W,cancelText:Z("取消"),onCancel:function(){i(!1)},title:Z("运行接口")},c().createElement(d.C,{is:"I18nSchemaForm",schema:U,initialValues:j,component:function(e){return e.children},onChange:function(e){var t=e.vars;return y.current=t}}),f&&c().createElement(d.Loading,null),w&&c().createElement(P,{error:w}),E&&c().createElement(D,{response:E})),c().createElement(p.Button,{size:"large",onClick:F},Z("运行")))};var w=r(145),C=r(248),M=["field","group","option","component"];function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=p.Tabs.TabPane,x=p.Select.Option,A=function(e){var t=e.field,r=e.group,n=e.option,a=e.component,i=(0,v.Z)(e,M);return(0,y.fieldBuilder)(k(k({},t),{},{component:a||t.component,attrs:k(k({},t.attrs),i)}),k(k({},n),{},{group:r}))},I=function(e){var t=e.input,r=e.label,n=e.field;return c().createElement(p.Select,(0,i.Z)({style:{minWidth:150},size:"large",placeholder:r},t),(0,h.Z)(n.titleMap).map((function(e){return c().createElement(x,{key:e.value,value:e.value},c().createElement("b",{style:{color:E.Z[e.value.toUpperCase()]}},e.name))})))},j=function(){var e=(0,_.use)("form"),t=e.form,r=e.formState,a=c().useState(r.hasValidationErrors),i=(0,n.Z)(a,2),o=i[0],l=i[1],u=c().useState(r.submitting),s=(0,n.Z)(u,2),d=s[0],f=s[1],m=useI18n().t;return c().useEffect((function(){t.subscribe((function(e){l(e.hasValidationErrors),f(e.submitting)}),{hasValidationErrors:!0,submitting:!0})}),[]),c().createElement(p.Button,{type:"primary",size:"large",htmlType:"submit",loading:d,disabled:o},m("保存"))},R=function(e,t){var r=((0,C.Z)("dataGroup")||{}).type,n=(0,C.Z)("setting")||{},a=n.sendType,i=n.rawMode,l=useI18n().t,u=c().useMemo((function(){return e.reduce((function(e,t){return k(k({},((r=e).label=l(r.label),r)),{},(0,o.Z)({},t.key.replace("setting.",""),t));var r}),{})}),e);return c().createElement(c().Fragment,null,"http"===r?c().createElement("div",{style:{display:"flex",gap:8}},c().createElement(A,{field:u.method,group:(0,d.C)("Form.InlineGroup"),component:I}),c().createElement("div",{style:{flexGrow:1}},c().createElement(A,{field:u.url,group:(0,d.C)("Form.InlineGroup"),size:"large"})),c().createElement(p.Form.Item,null,c().createElement(j,null)),c().createElement(p.Form.Item,null,c().createElement(T,null))):null,"db"===r?c().createElement(c().Fragment,null,c().createElement(A,{field:u.tableName}),c().createElement(A,{field:u.sendType}),"query"!==a?c().createElement(A,{field:u.rawMode}):null,"delete"!==a||i?null:c().createElement(A,{field:u.exOr}),"query"===a||i?c().createElement(A,{field:u.sql}):null,"query"===a||i?null:c().createElement(A,{field:u.tags}),c().createElement("div",{style:{display:"flex",gap:8,justifyContent:"center"}},c().createElement(p.Form.Item,null,c().createElement(j,null)),c().createElement(p.Form.Item,null,c().createElement(T,null)))):null,c().createElement("h3",null,l("配置参数")),c().createElement(p.Tabs,null,"http"===r?c().createElement(c().Fragment,null,u.params&&c().createElement(L,{tab:"Params",key:"params"},c().createElement(A,{field:u.params})),u.body&&c().createElement(L,{tab:"Body",key:"body"},c().createElement(A,{field:u.body})),u.headers&&c().createElement(L,{tab:"Header",key:"headers"},c().createElement(A,{field:u.headers,group:(0,d.C)("Form.InlineGroup")})),u.authorization&&c().createElement(L,{tab:"Auth",key:"authorization"},c().createElement(A,{field:u.authorization}))):null,u.inputScript&&c().createElement(L,{tab:l("前置脚本"),key:"inputScript"},c().createElement(A,{field:u.inputScript,group:(0,d.C)("Form.InlineGroup")})),u.outputScript&&c().createElement(L,{tab:l("后置脚本"),key:"outputScript"},c().createElement(A,{field:u.outputScript,group:(0,d.C)("Form.InlineGroup")})),"http"===r?c().createElement(L,{tab:l("设置"),key:"setting"},c().createElement(A,{field:u.expire}),c().createElement(A,{field:u.timeout})):null))},B=function(e){var t=e.field,r=e.group,n=e.option;return(0,y.objectBuilder)(t.fields,R,k(k({},n),{},{group:r}))};B.useGroup=!1;function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=function(e){var t=e.onRemove,r=useI18n().t;return c().createElement(c().Fragment,null,c().createElement(p.Popconfirm,{title:r("确定删除此项?"),onConfirm:t,onCancel:function(){},okText:r("确定"),cancelText:r("取消")},c().createElement(p.Form.Item,null,c().createElement(p.Button,{danger:!0,type:"text"},c().createElement(d.Icon,{type:"delete"})))))},Z=function(e,t){return"Parent"===(null==e?void 0:e.type)?t:e};const W=function(e){var t,r,n=e.input,a=e.fields,i=e.meta,l=(i.touched,i.error),u=e.field,s=(0,C.Z)("variableSchema"),f=(0,C.Z)("setting.authorization"),v=c().useContext(w._y).state.id,E=(0,_.use)("model.item",{id:v}).data,b=null==E||null===(t=E.dataGroup)||void 0===t||null===(r=t.setting)||void 0===r?void 0:r.authorization,g=u.items,O=u.label,P=m().isArray(n.value)?n.value:[],D=[].concat((0,h.Z)(function(e){return e.map((function(e){return{title:e.label,dataIndex:e.name,key:e.name,field:e,width:200,fixed:"id"==e.name||"name"==e.name}}))}(g.fields)),[{title:_r("操作"),key:"actions",fixed:"right",width:80,render:function(e,t,r){var n=r;return c().createElement(q,{name:a.name+"["+n+"]",title:P[n].name||O+" "+(n+1),key:"items.".concat(n),onRemove:function(){return a.remove(n)},item:P[n],index:n,error:l?l[n]:void 0})}}]),T=P.map((function(e,t){return g.fields.reduce((function(e,r){var n=U(U({},(0,y.prefixFieldKey)(r,a.name+"["+t+"].")),{},{variableSchema:s,authorization:Z(f,b)});return U(U({},e),{},(0,o.Z)({},r.name,(0,y.objectBuilder)([n],null,{group:(0,d.C)("Form.InlineGroup")})[0]))}),{})}));return T&&T.length>0?c().createElement(p.Table,{bordered:!0,size:"small",dataSource:T,columns:D,pagination:!1}):null};function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(640);var G=function(e){var t=e.field,r=e.group,n=e.option;return(0,y.objectBuilder)(t.fields,null,N(N({},n),{},{group:r}))};G.useGroup=!1;var z=function(e){var t=e.input,r=e.field.template,n=void 0===r?"":r;return t.value?c().createElement(d.C,(0,i.Z)({is:"CodeEditor",height:"480",width:"100%",theme:"vs-dark",language:"javascript"},t)):c().createElement(d.C,{is:"CodeEditor",height:"480",width:"100%",theme:"vs-dark",language:"javascript",value:n,onChange:t.onChange})},V=function(e,t){var r={type:"object",title:"请求变量",properties:{}};e&&e.forEach((function(e){var t;e.paramKey&&(r.properties[e.paramKey]=N(N({},null==e||null===(t=e.variableType)||void 0===t?void 0:t.schema),{},{title:e.paramKey,bind:!0}))}));var n=t||{},a=n.data,i=n.type;if("DynamicToken"===i||"APIKey"===i){var o=a||{},l=o.addTo,u=o.key;"AddToVariable"===l&&(r.properties[u]={title:u,type:"string"})}return r},H={type:"object",title:"keyValue",properties:{key:{type:"string",field:{attrs:{placeholder:_r("参数Key")}}},value:{type:"string",field:{attrs:{placeholder:_r("参数值")},component:function(e){var t=e.input,r=e.field||{},n=r.variableSchema,a=r.authorization,o=V(n,a);return c().createElement("div",{className:"ant-input",style:{backgroundColor:"#f0f2f5",width:"100%"}},c().createElement(d.C,(0,i.Z)({is:"CodeEditor.VariableEditor"},t,{schema:o,stringify:!0})))}}}},required:["key","value"]},Q=(_r("参数Key"),_r("参数值"),{type:"object",field:{component:G},properties:{type:{type:"string",enum:["none","form-data","x-www-form-urlencoded","raw"],field:{effect:function(e,t){var r=e.value,n=e.name.replace(".type","");setTimeout((function(){"form-data"==r||"x-www-form-urlencoded"==r?(t.setFieldData("".concat(n,".params"),{display:!0,required:!0}),t.setFieldData("".concat(n,".format"),{display:!1,required:!1}),t.setFieldData("".concat(n,".data"),{display:!1,required:!1})):"raw"==r?(t.setFieldData("".concat(n,".params"),{display:!1,required:!1}),t.setFieldData("".concat(n,".format"),{display:!0,required:!0}),t.setFieldData("".concat(n,".data"),{display:!0,required:!0})):(t.setFieldData("".concat(n,".params"),{display:!1,required:!1}),t.setFieldData("".concat(n,".format"),{display:!1,required:!1}),t.setFieldData("".concat(n,".data"),{display:!1,required:!1}))}))}}},params:{title:_r("Body参数"),type:"array",items:H,field:{itemsRender:W}},format:{type:"string",enum:["Text","JavaScript","JSON","HTML","XML"]},data:{type:"string",field:{component:function(e){var t=e.input;return c().createElement(d.C,(0,i.Z)({is:"CodeEditor",height:"480",width:"100%",theme:"vs-dark",language:"json"},t))}}}}}),$={type:"object",field:{component:G},properties:{type:{type:"string",title:_r("Auth类型"),enum:["Parent","NoAuth","APIKey","BearerToken","DynamicToken","BasicAuth","Signature"],enum_title:[_r("从父级继承"),_r("无Auth"),"APIKey","BearerToken",_r("动态Token"),"BasicAuth",_r("Signature签名")],field:{effect:function(e,t){var r=e.value,n=e.name.replace(".type",".data"),a=["key","value","addTo","token","tokenRequestSetting","tokenExpire","username","password","signScript","signKey"],i={NoAuth:[],APIKey:["key","value","addTo"],BearerToken:["token","tokenRequestSetting","tokenExpire"],DynamicToken:["key","addTo","tokenRequestSetting","tokenExpire"],BasicAuth:["username","password"],Signature:["signScript","addTo","signKey"]};setTimeout((function(){a.forEach((function(e){var a=(i[r]||[]).indexOf(e)>=0;t.setFieldData("".concat(n,".").concat(e),{display:a,required:a})}))}))}}},data:{type:"object",field:{component:G},properties:{key:{type:"string"},value:{type:"string"},addTo:{type:"string",title:_r("添加到"),enum:["Header","QueryParams","AddToVariable"],enum_title:[_r("请求头Header"),_r("Url Query参数"),_r("添加为变量")]},token:{type:"string"},tokenRequestSetting:{type:"object",title:_r("获取token请求"),properties:{method:{title:_r("请求方法"),type:"string",enum:["GET","POST"]},url:{title:"URL",type:"string"},expire:{title:_r("过期时间"),type:"number"},timeout:{title:_r("超时时间"),type:"number"},params:{title:_r("参数"),type:"object",field:{component:G},properties:{query:{title:_r("Query参数"),type:"array",items:H,field:{itemsRender:W}},path:{title:_r("Path参数"),type:"array",items:H,field:{itemsRender:W}}}},headers:{title:"Headers",type:"array",items:H,field:{itemsRender:W}},body:Q,outputScript:{title:_r("后置脚本"),type:"string",field:{template:'// 输入值 data: {"token":"123"}\n// 输出值字符串,返回具体的token字符串: "123"\n// function handler(data) {\n//   const obj = JSON.parse(Buffer.from(data).toString());\n//   return obj["token"];\n// }',component:z}}},form:["*"]},tokenExpire:{title:_r("Token 超时时间"),type:"number"},username:{type:"string"},password:{type:"string"},signKey:{title:_r("签名Key名称"),type:"string",field:{attrs:{placeholder:"例如: sign"}}},signScript:{title:_r("生成签名脚本"),type:"string",field:{template:'// 输出值自定义数据\n// function handler() {\n//   const obj = {"sign":"test"};\n//   return obj;\n// }',component:z}}}}}},J={inputScript:{title:_r("前置脚本"),type:"string",field:{template:'// 输入值: {"temperature":26.3,"humidity":65}\n// 输出值: {"temperature":26.3,"humidity":65,"ts":"2023-03-30 17:07:44"}\n// function handler(data) {\n//   if(!data){\n//     data = {};\n//   }\n//   // 数据中增加当前时间参数\n//   data["ts"] = moment().format(\'YYYY-MM-DD HH:mm:ss\');\n//   return data;\n// }',component:z}},outputScript:{title:_r("后置脚本"),type:"string",field:{template:'// 输入值 data: [{"name":"temperature","value":26.3},{"name":"humidity","value":65}]\n// 输出值 obj: {"temperature":26.3,"humidity":65}\n// function handler(data) {\n//   const arr = JSON.parse(Buffer.from(data).toString());\n//   let obj = arr.reduce((acc, cur) => {\n//     acc[cur.name] = cur.value;\n//     return acc;\n//   }, {});\n//   return obj;\n// }',component:z}}},Y={type:"object",properties:N({method:{title:_r("请求方法"),type:"string",enum:["GET","POST","PUT","DELETE","PATCH"]},url:{title:"URL",type:"string"},expire:{title:_r("过期时间"),type:"number"},timeout:{title:_r("超时时间"),type:"number"},params:{title:_r("参数"),type:"object",field:{component:G},properties:{query:{title:_r("Query参数"),type:"array",items:H,field:{itemsRender:W,attrs:{groupSize:{labelCol:{span:24}}}}},path:{title:_r("Path参数"),type:"array",items:H,field:{itemsRender:W,attrs:{groupSize:{labelCol:{span:24}}}}}}},headers:{title:"Headers",type:"array",items:H,field:{itemsRender:W,attrs:{groupSize:{labelCol:{span:24}}}}},body:Q,authorization:N({title:"Auth"},$)},J),required:["method","url"]},X=function(e){var t=e.input,r=(0,C.Z)("variableSchema");console.log(r,"variableSchema");var n=V(r);return c().createElement("div",{className:"ant-input",style:{backgroundColor:"#f0f2f5",width:"100%"}},c().createElement(d.C,(0,i.Z)({is:"CodeEditor.VariableEditor"},t,{schema:n,stringify:!0})))},ee={type:"object",properties:{tableName:{title:_r("表名"),type:"string"},sendType:{title:_r("操作类型"),type:"string",enum:["query","insert","update","delete"],enum_title:[_r("查询"),_r("插入"),_r("修改"),_r("删除")],field:{effect:function(e,t){var r=e.value;setTimeout((function(){"query"===r&&t.change("setting.rawMode",!0)}))}}},rawMode:{title:_r("原生模式"),type:"boolean",description:_r("勾选后，需输入sql语句，执行用户输入的sql语句"),field:{effect:function(e,t){e.value,setTimeout((function(){t.setFieldData("setting.tableName",{field:{required:!0}}),t.setFieldData("setting.sendType",{field:{required:!0}}),t.setFieldData("setting.sql",{field:{required:!0}}),t.setFieldData("setting.tags",{field:{required:!0}})}))}}},exOr:{title:_r("删除条件为或关系"),type:"boolean",description:_r("执行删除操作时，条件是否为或关系，默认false为与")},sql:{title:_r("SQL语句"),type:"string"},tags:{title:_r("字段配置"),type:"array",items:{type:"object",properties:{operator:{title:_r("符号"),type:"string",enum:["gt","gte","lt","lte"],enum_title:[_r("大于"),_r("大于等于"),_r("小于"),_r("小于等于")]},value:{title:_r("目标值"),type:"string",field:{component:X}},field:{title:_r("目标字段"),type:"string",field:{component:X,effect:function(e,t){var r=e.name;setTimeout((function(){t.setFieldData(r,{field:{required:!0}})}))}}},isPrimaryKey:{title:_r("主键"),type:"boolean"}}}}}};_r("数据接口分组"),_r("类型"),_r("HTTP数据"),_r("数据库数据"),_r("名称"),_r("分组说明"),_r("配置"),N({baseUrl:{type:"string",title:"BaseURL"},driverType:{type:"string",title:_r("数据库类型"),enum:["MySQL","Postgres","SQLserver","MariaDB","SQLite3"]},filePath:{type:"string",title:_r("sqlite路径")},username:{type:"string",title:_r("用户名")},password:{type:"string",title:_r("密码"),fieldType:"password"},ip:{type:"string",title:"Ip",field:{validate:function(e){var t=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;return t.test,t.test(e)?null:_r("IP地址格式错误")}}},port:{type:"number",title:_r("端口"),field:{validate:function(e){return e<0||e>65536?_r("端口号是0-65536"):null}}},dbName:{type:"string",title:_r("数据库名称")},test:{type:"string",title:_r("测试连接"),field:{component:function(){var e=(0,C.Z)("setting")||{},t=useI18n().t,r=function(){var r=(0,a.Z)(u().mark((function r(){var n,a;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,_.api)({name:"ds/group/validate"}).fetch("",{method:"POST",body:JSON.stringify(e)});case 2:n=r.sent,(a=n.json).valid?p.message.success(t("测试成功！")):p.message.error(a.error);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return c().createElement(p.Button,{onClick:r},t("测试"))}}},headers:{title:"Headers",type:"array",items:H,field:{itemsRender:W}},authorization:N({title:"Auth"},$)},J),_r("数据接口操作"),_r("分组"),_r("标识"),_r("操作的唯一标识，必须为英文字母、数值或下划线。该标识在调用接口时使用。"),_r("名称"),_r("参数"),_r("参数名"),_r("参数类型"),_r("默认值"),_r("配置"),N(N({},ee.properties),Y.properties),_r("查看"),_r("添加"),_r("修改"),_r("删除"),_r("请求变量"),_r("数据接口运行"),_r("调用")},248:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(885),a=r(78);const i=function(e){var t=React.useState(null),r=(0,n.Z)(t,2),i=r[0],o=r[1],l=(0,a.use)("form").form,u=React.useRef(null);return l.useField(e,(function(e){var t=null==e?void 0:e.value;(!u.current||t&&u.current!=t)&&(u.current=t,t&&o(t))})),i}},955:e=>{e.exports='<svg viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>数据接口</title><defs><path d="M747,258 C751.970563,258 756,262.029437 756,267 C756,271.970563 751.970563,276 747,276 C742.029437,276 738,271.970563 738,267 C738,262.029437 742.029437,258 747,258 Z M749.723267,265.000285 L748.049688,265 C747.752351,265.000073 746.927811,265.192178 746.556769,265.517959 C746.496518,265.46686 746.426294,265.441189 746.35609,265.44101 C746.264161,265.441091 746.172292,265.484292 746.102154,265.570669 C746.051038,265.633627 746.018542,265.710763 746.005028,265.78986 L746.005028,265.78986 L744.85963,265.78986 L744.85963,266.468501 L742,266.468501 L742,267.387825 L744.859676,267.387882 L744.859676,268.046172 L745.996514,268.046172 L745.996514,268.075235 C745.99652,268.188528 746.031639,268.301845 746.101837,268.388295 C746.172035,268.474736 746.264023,268.517978 746.30502,268.513927 C746.377965,268.526234 746.453401,268.510657 746.522258,268.465618 C746.951813,268.784014 747.73428,269 748.049569,269 L748.049569,269 L749.723267,268.999943 L749.723267,265.000285 Z M752,265.5224 L749.981126,265.522344 L749.981079,268.477787 L751.999954,268.477844 L752,265.5224 Z M751.577921,267.365334 L751.577921,267.961438 L751.214839,267.961438 L751.214839,267.365334 L751.577921,267.365334 Z M751.583839,265.955773 L751.583839,266.551877 L751.220757,266.551877 L751.220757,265.955773 L751.583839,265.955773 Z" id="path-1"></path><filter x="-11.1%" y="-11.1%" width="122.2%" height="122.2%" filterUnits="objectBoundingBox" id="filter-2"><feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur><feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset><feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite><feColorMatrix values="0 0 0 0 0.810764921 0 0 0 0 0.360564569 0 0 0 0 0.154758694 0 0 0 1 0" type="matrix" in="shadowInnerInner1"></feColorMatrix></filter></defs><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="图标" fill-rule="nonzero"><g id="数据接口"><use fill="#DE7545" xlink:href="#path-1"></use><use fill="black" fill-opacity="1" filter="url(#filter-2)" xlink:href="#path-1"></use></g></g></g></svg>'},363:e=>{"use strict";e.exports=React},611:e=>{"use strict";e.exports=_},821:e=>{"use strict";e.exports=antd},640:e=>{"use strict";e.exports=icons},78:e=>{"use strict";e.exports=xadmin},204:e=>{"use strict";e.exports=xadminForm},907:e=>{"use strict";e.exports=xadminUi},61:(e,t,r)=>{var n=r(698).default;function a(){"use strict";e.exports=a=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",s=l.asyncIterator||"@@asyncIterator",c=l.toStringTag||"@@toStringTag";function _(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{_({},"")}catch(e){_=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),l=new M(n||[]);return o(i,"_invoke",{value:D(e,r,l)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f={};function m(){}function y(){}function h(){}var v={};_(v,u,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(S([])));b&&b!==r&&i.call(b,u)&&(v=b);var g=h.prototype=m.prototype=Object.create(v);function O(e){["next","throw","return"].forEach((function(t){_(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(a,o,l,u){var s=p(e[a],e,o);if("throw"!==s.type){var c=s.arg,_=c.value;return _&&"object"==n(_)&&i.call(_,"__await")?t.resolve(_.__await).then((function(e){r("next",e,l,u)}),(function(e){r("throw",e,l,u)})):t.resolve(_).then((function(e){c.value=e,l(c)}),(function(e){return r("throw",e,l,u)}))}u(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}})}function D(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return{value:void 0,done:!0}}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var l=T(o,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function T(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=p(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:k}}function k(){return{value:void 0,done:!0}}return y.prototype=h,o(g,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:y,configurable:!0}),y.displayName=_(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,_(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},t.awrap=function(e){return{__await:e}},O(P.prototype),_(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new P(d(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(g),_(g,c,"Generator"),_(g,u,(function(){return this})),_(g,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=S,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},698:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},687:(e,t,r)=>{var n=r(61)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},210:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:()=>n})},861:(e,t,r)=>{"use strict";function n(e,t,r,n,a,i,o){try{var l=e[i](o),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var o=e.apply(t,r);function l(e){n(o,a,i,l,u,"next",e)}function u(e){n(o,a,i,l,u,"throw",e)}l(void 0)}))}}r.d(t,{Z:()=>a})},942:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(142);function a(e,t,r){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},462:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{Z:()=>n})},925:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r.d(t,{Z:()=>n})},885:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(181);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,a=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(e,t)||(0,n.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},982:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(210),a=r(181);function i(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},142:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(2);function a(e){var t=function(e,t){if("object"!==(0,n.Z)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!==(0,n.Z)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===(0,n.Z)(t)?t:String(t)}},2:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{Z:()=>n})},181:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(210);function a(e,t){if(e){if("string"==typeof e)return(0,n.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(e,t):void 0}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(78),t=__webpack_require__(647);const r=JSON.parse('{"保存":"Preservation","配置参数":"Configuration parameter","前置脚本":"Pre script","后置脚本":"Post script","设置":"Set up","确定删除此项?":"Are you sure to delete this item?","确定":"Determine","取消":"Cancel","操作":"Operation","请求结果":"Request Results","状态码":"Status code","接口有未保存信息，请先保存接口":"The interface has unsaved information, please save the interface first","发送请求":"Send Request","运行接口":"Run Interface","运行":"Function","编辑代码":"Edit Code","发送":"Send out","配置":"To configure","分组":"Grouping","接口":"Interface","参数":"Parameter","预处理数据":"Preprocessing data","只有接口返回数据为数组格式时，支持预处理数据，否则依然返回原数据":"Preprocessing data is only supported when the interface returns data in array format, otherwise the original data will still be returned","轮询时间":"Poll time ","数据更新间隔时间，不填写数据不更新，单位（秒）":"Data update interval time, do not update without filling in data, unit (seconds)","脚本":"Script","处理脚本":"Processing scripts","测试":"Test","提交请求":"Submit Request","数据接口":"Data interface ","变化率：统计点的变化率为最新数据与上次数据的差值除以上次数据，数据有正有负，计算公式：（最新数据值-上次数据值）/上一次数据值":"Change rate: The change rate of a statistical point is the difference between the latest data and the last data divided by the last data. The data has positive and negative values, and the calculation formula is (Latest Data Value - Last Data Value)/Last Data Value","计数：统计数据点在定义时间周期内上数的总次数，新的周期清空重新计数":"Count: Counts the total number of times a data point has been counted within a defined time period, and the new period is cleared and counted again","最小值：统计数据点在定义时间周期内的最小值":"Minimum value: The minimum value of a statistical data point within a defined time period","最大值：统计数据点在定义时间周期内的最大值":"Maximum value: The maximum value of a statistical data point within a defined time period","平均值：对数据点在定义时间周期内的所有数据值求平均数":"Average: Average all data values of a data point within a defined time period","求和：统计数据点在定义时间周期所有数据值的总和":"Sum: The sum of all data values at a defined time period for a statistical data point","时段差：统计数据点在选定的单位周期每个周期的数据总和，周期内每次上数数据都会变化，新的周期数据会清零重新计算":"Period difference: The total amount of data for each cycle of the selected unit period for the statistical data point. The data for each cycle will change, and the new cycle data will be reset and recalculated","同比比值：统计数据点在选定周期类型的同比率，如（今年的数据—去年的数据）/去年的数据*100%":"Year-on-year ratio: The same ratio of statistical data points in the selected cycle type, such as (this year\'s data - last year\'s data)/last year\'s data * 100%","累计同比比值：":"Accumulated year-on-year ratio:","环比比值：统计数据点在选定周期类型的环比率，以单位周期的数据总和进行计算，如按月统计：（当月数据总和—上月数据总和）/上月数据总和*100%":"Month to month ratio: The month to month ratio of a statistical data point in a selected period type is calculated based on the sum of data per unit period, such as monthly statistics: (total data of the current month - total data of the previous month)/total data of the previous month * 100%","增加值：统计数据点在定义周期单位，每个周期比上个周期增加的数量，如按月统计，计算的是这个月与上个月对比，增加的数量，计算公式是当月数据总和-上个月数据总和":"Value added: The statistical data point defines the unit of period, and the amount of increase in each period compared to the previous period. For example, monthly statistics calculate the amount of increase compared to the previous month. The calculation formula is the sum of the current month\'s data - the sum of the previous month\'s data","绝对值变化率：统计数据点的绝对值，数据永远大于等于0":"Absolute value change rate: The absolute value of a statistical data point is always greater than or equal to 0","确定删除该接口吗?":"Are you sure to delete this interface?","删除分组":"Delete Group","添加接口":"Add Interface","确定删除该分组吗?  删除后齐下的所有操作接口统一被删除且无法撤回。":"Are you sure to delete this group? After deletion, all the operating interfaces under the command will be uniformly deleted and cannot be recalled.","模糊搜索接口":"Fuzzy search interface","添加分组":"Add Group","编辑分组":"Edit Group","编辑操作":"Editing Operations","添加操作":"Add Action","分组管理":"Group management","请求变量":"Request Variables","参数Key":"Parameter Key","参数值":"Parameter value","Body参数":"Body parameter","Auth类型":"Auth type","从父级继承":"Inherit from Parent","无Auth":"No Auth","动态Token":"Dynamic Token","Signature签名":"Signature","添加到":"Add to","请求头Header":"Request Header","Url Query参数":"Url Query parameter","添加为变量":"Add as Variable","请求方法":"Request Method","过期时间":"Expiration time","超时时间":"Timeout time","Query参数":"Query parameters","Path参数":"Path parameter","Token 超时时间":"Token timeout","签名Key名称":"Signature Key Name","生成签名脚本":"Generate signature script","表名":"Table Name","操作类型":"Operation type","查询":"Query","插入":"Insert","修改":"Modify","删除":"Delete","原生模式":"Native mode ","勾选后，需输入sql语句，执行用户输入的sql语句":"After checking, it is necessary to input SQL statements and execute the SQL statements entered by the user","删除条件为或关系":"Delete condition as or relationship","执行删除操作时，条件是否为或关系，默认false为与":"When performing a delete operation, whether the condition is a or relationship, the default false is and","SQL语句":"SQL statement","字段配置":"Field Configuration","符号":"Symbol","大于":"Greater than","大于等于":"Greater than or equal to","小于":"Less than","小于等于":"Less than or equal to","目标值":"Target value","目标字段":"Target Field","主键":"Primary key","类型":"Type","HTTP数据":"HTTP data","数据库数据":"Database data","名称":"Name","分组说明":"Group Description","数据库类型":"Database type","用户名":"User name","密码":"Password","IP地址格式错误":"IP address format error","端口":"Port","端口号是0-65536":"The port number is 0-65536","数据库名称":"Database Name","测试连接":"Test Connection","测试成功！":"Test successful!","默认值":"Default value","标识":"Identification","操作的唯一标识，必须为英文字母、数值或下划线。该标识在调用接口时使用。":"The unique identifier of the operation must be English letters, numerical values, or underscores. This identifier is used when calling the interface.","参数名":"Parameter Name","首位不可为数字":"The first digit cannot be a number","参数类型":"Parameter Type","字符串":"Character string","数字":"Number","布尔":"Boolean"}'),n={zh_Hans:{translation:JSON.parse('{"保存":"保存","配置参数":"配置参数","前置脚本":"前置脚本","后置脚本":"后置脚本","设置":"设置","确定删除此项?":"确定删除此项?","确定":"确定","取消":"取消","操作":"操作","请求结果":"请求结果","状态码":"状态码","接口有未保存信息，请先保存接口":"接口有未保存信息，请先保存接口","发送请求":"发送请求","运行接口":"运行接口","运行":"运行","编辑代码":"编辑代码","发送":"发送","配置":"配置","分组":"分组","接口":"接口","参数":"参数","预处理数据":"预处理数据","只有接口返回数据为数组格式时，支持预处理数据，否则依然返回原数据":"只有接口返回数据为数组格式时，支持预处理数据，否则依然返回原数据","轮询时间":"轮询时间","数据更新间隔时间，不填写数据不更新，单位（秒）":"数据更新间隔时间，不填写数据不更新，单位（秒）","脚本":"脚本","处理脚本":"处理脚本","测试":"测试","提交请求":"提交请求","数据接口":"数据接口","变化率：统计点的变化率为最新数据与上次数据的差值除以上次数据，数据有正有负，计算公式：（最新数据值-上次数据值）/上一次数据值":"变化率：统计点的变化率为最新数据与上次数据的差值除以上次数据，数据有正有负，计算公式：（最新数据值-上次数据值）/上一次数据值","计数：统计数据点在定义时间周期内上数的总次数，新的周期清空重新计数":"计数：统计数据点在定义时间周期内上数的总次数，新的周期清空重新计数","最小值：统计数据点在定义时间周期内的最小值":"最小值：统计数据点在定义时间周期内的最小值","最大值：统计数据点在定义时间周期内的最大值":"最大值：统计数据点在定义时间周期内的最大值","平均值：对数据点在定义时间周期内的所有数据值求平均数":"平均值：对数据点在定义时间周期内的所有数据值求平均数","求和：统计数据点在定义时间周期所有数据值的总和":"求和：统计数据点在定义时间周期所有数据值的总和","时段差：统计数据点在选定的单位周期每个周期的数据总和，周期内每次上数数据都会变化，新的周期数据会清零重新计算":"时段差：统计数据点在选定的单位周期每个周期的数据总和，周期内每次上数数据都会变化，新的周期数据会清零重新计算","同比比值：统计数据点在选定周期类型的同比率，如（今年的数据—去年的数据）/去年的数据*100%":"同比比值：统计数据点在选定周期类型的同比率，如（今年的数据—去年的数据）/去年的数据*100%","累计同比比值：":"累计同比比值：","环比比值：统计数据点在选定周期类型的环比率，以单位周期的数据总和进行计算，如按月统计：（当月数据总和—上月数据总和）/上月数据总和*100%":"环比比值：统计数据点在选定周期类型的环比率，以单位周期的数据总和进行计算，如按月统计：（当月数据总和—上月数据总和）/上月数据总和*100%","增加值：统计数据点在定义周期单位，每个周期比上个周期增加的数量，如按月统计，计算的是这个月与上个月对比，增加的数量，计算公式是当月数据总和-上个月数据总和":"增加值：统计数据点在定义周期单位，每个周期比上个周期增加的数量，如按月统计，计算的是这个月与上个月对比，增加的数量，计算公式是当月数据总和-上个月数据总和","绝对值变化率：统计数据点的绝对值，数据永远大于等于0":"绝对值变化率：统计数据点的绝对值，数据永远大于等于0","确定删除该接口吗?":"确定删除该接口吗?","删除分组":"删除分组","添加接口":"添加接口","确定删除该分组吗?  删除后齐下的所有操作接口统一被删除且无法撤回。":"确定删除该分组吗?  删除后齐下的所有操作接口统一被删除且无法撤回。","模糊搜索接口":"模糊搜索接口","添加分组":"添加分组","编辑分组":"编辑分组","编辑操作":"编辑操作","添加操作":"添加操作","分组管理":"分组管理","请求变量":"请求变量","参数Key":"参数Key","参数值":"参数值","Body参数":"Body参数","Auth类型":"Auth类型","从父级继承":"从父级继承","无Auth":"无Auth","动态Token":"动态Token","Signature签名":"Signature签名","添加到":"添加到","请求头Header":"请求头Header","Url Query参数":"Url Query参数","添加为变量":"添加为变量","请求方法":"请求方法","过期时间":"过期时间","超时时间":"超时时间","Query参数":"Query参数","Path参数":"Path参数","Token 超时时间":"Token 超时时间","签名Key名称":"签名Key名称","生成签名脚本":"生成签名脚本","表名":"表名","操作类型":"操作类型","查询":"查询","插入":"插入","修改":"修改","删除":"删除","原生模式":"原生模式","勾选后，需输入sql语句，执行用户输入的sql语句":"勾选后，需输入sql语句，执行用户输入的sql语句","删除条件为或关系":"删除条件为或关系","执行删除操作时，条件是否为或关系，默认false为与":"执行删除操作时，条件是否为或关系，默认false为与","SQL语句":"SQL语句","字段配置":"字段配置","符号":"符号","大于":"大于","大于等于":"大于等于","小于":"小于","小于等于":"小于等于","目标值":"目标值","目标字段":"目标字段","主键":"主键","类型":"类型","HTTP数据":"HTTP数据","数据库数据":"数据库数据","名称":"名称","分组说明":"分组说明","数据库类型":"数据库类型","用户名":"用户名","密码":"密码","IP地址格式错误":"IP地址格式错误","端口":"端口","端口号是0-65536":"端口号是0-65536","数据库名称":"数据库名称","测试连接":"测试连接","测试成功！":"测试成功！","默认值":"默认值","标识":"标识","操作的唯一标识，必须为英文字母、数值或下划线。该标识在调用接口时使用。":"操作的唯一标识，必须为英文字母、数值或下划线。该标识在调用接口时使用。","参数名":"参数名","首位不可为数字":"首位不可为数字","参数类型":"参数类型","字符串":"字符串","数字":"数字","布尔":"布尔"}')},en:{translation:r}};e.app.use({name:"iot.datasource",locales:n,dashboardDataSource:t.Z})})()})();
//# sourceMappingURL=front.js.map
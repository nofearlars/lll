"use strict";(this.webpackChunk_airiot_svg=this.webpackChunk_airiot_svg||[]).push([[779],{2920:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j,getSVGStyle:()=>R,prevStyle:()=>k});var i=n(4942),l=n(885),a=n(7363),r=n.n(a),o=n(2611),u=n.n(o),d=n(3078),s=n(1821),c=n(5907),p=n(3379),A=n.n(p),m=n(3294);A()(m.Z,{insert:"head",singleton:!1}),m.Z.locals,n(8862);var v=n(4648),f=[{value:"0,0",label:"——"},{value:"2,2",label:"···"},{value:"5,5",label:"- -"},{value:"5,2,2,2",label:"- ·"},{value:"5,2,2,2,2,2",label:"- ··"}],g={border:"none",width:"100%",height:"24px",lineHeight:"24px",padding:0,boxShadow:"none",minWidth:"0px",color:"#5C6380"},b=function(e){var t=e.input,n=(e.label,e.field,r().useState(t.value)),i=(0,l.Z)(n,2),a=i[0],o=i[1];r().useEffect((function(){"NaN"!=t.value&&o(t.value)}),[t.value]);var u=function(e){o((t.value+e)%360),t.onChange((t.value+e)%360)};return r().createElement(s.Row,null,r().createElement(s.Col,{span:12,className:"svg_right_sider_l"},r().createElement(s.InputNumber,{onChange:function(e){t.onChange(e)},value:a,precision:0,formatter:function(e){return"".concat(e,"°")},parser:function(e){return e.replace("°","")}})),r().createElement(s.Col,{span:12,className:"svg_right_sider_r"},r().createElement(s.Row,{className:"input-number"},r().createElement(s.Col,{span:12},r().createElement(s.Tooltip,{title:"旋转90°",placement:"bottom"},r().createElement(s.Button,{style:g,size:"small",onClick:function(){return u(90)},className:"padding"},r().createElement("svg",{style:{marginTop:"4px"},t:"1616737186891",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2295",width:"16",height:"16"},r().createElement("path",{d:"M170.666667 140.515556v341.333333h682.666666v-39.253333L211.057778 140.515556H170.666667zM682.666667 599.04l-455.111111 213.902222v-213.902222h455.111111m170.666666-56.888889H170.666667v341.333333h40.391111L853.333333 581.404444v-39.253333z","p-id":"2296"}))))),r().createElement(s.Col,{span:12},r().createElement(s.Tooltip,{title:"旋转180°",placement:"bottom"},r().createElement(s.Button,{style:g,size:"small",className:"padding",onClick:function(){return u(180)}},r().createElement("svg",{style:{marginTop:"4px"},t:"1616737109568",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2053",width:"16",height:"16"},r().createElement("path",{d:"M140.515556 853.333333h341.333333V170.666667h-39.253333L140.515556 812.942222V853.333333zM599.04 341.333333l213.902222 455.111111h-213.902222V341.333333m-17.635556-170.666666h-39.253333v682.666666h341.333333v-40.391111L581.404444 170.666667z","p-id":"2054"}))))))))},h=function(e){var t=e.input,n=(e.label,e.field,r().useState(t.value||"0,0")),i=(0,l.Z)(n,2),a=i[0],o=(i[1],r().useState(!1)),u=(0,l.Z)(o,2),d=u[0],c=u[1];r().useEffect((function(){}),[t.value]);var p=function(e){t.onChange(e)};return r().createElement(s.Row,null,r().createElement(s.Col,{span:12,className:"svg_right_sider_l"},d?r().createElement(s.Input,{placeholder:"5,5,5",value:a,onChange:function(e){p(e.target.value)},allowClear:!0}):r().createElement(s.Select,{placeholder:"",value:t.value||"0,0",onChange:p},f.map((function(e){return r().createElement(Option,{value:e.value},e.label)})))),r().createElement(s.Col,{span:12,style:{paddingLeft:"3px"}},r().createElement(s.Row,{className:"input-number"},r().createElement(s.Col,{span:24},r().createElement(s.Tooltip,{title:d?_t1("使用列表"):_t1("使用自定义"),placement:"bottom"},r().createElement(s.Button,{style:{color:"#000"},size:"small",onClick:function(){return c(!d)}},d?r().createElement("i",{class:"iconfont"},'"'):r().createElement("i",{class:"iconfont"},"")))))))},y=function(e){if(Number(e)<0)return _t1("模糊度不能小于0")},x=function(e){var t=["attribute","lineType",{key:"blur",validate:function(e){return y(e)}},"opacity","speedSwitch","speed"];return e||(t.push("animate"),t.push("animateTrail")),t},_=["attribute","lineType",{key:"blur",validate:function(e){return y(e)}},"opacity","speed"],w=["attribute","lineType","width","height","blur","opacity","speed"],E=function(e){var t,n,i,a,o,d=e.mode,c=e.pathList,p=e.svg,A=e.cellKey,m=e.setParams,f=e.params,g=e.state,E=e.changeAnimate,C=(null===(t=g.selectList)||void 0===t?void 0:t.length)>1,S=null==p||null===(n=p.getSelectedElems())||void 0===n||null===(i=n[0])||void 0===i?void 0:i.getAttribute("data-type"),k=f;switch("select"==d&&S&&(d=S),d){case"select":a=_;case"path":a=x(C);break;case"line":o=["attribute","lineType",{key:"blur",validate:function(e){return y(e)}},"opacity","x1","y1","x2","y2","speedSwitch","speed"],C||(o.push("animate"),o.push("animateTrail")),a=o;break;case"rect":a=function(e){var t=["attribute","lineType",{key:"blur",validate:function(e){return y(e)}},"opacity","width","height","rx","ry","speedSwitch","speed"];return e||(t.push("animate"),t.push("animateTrail")),t}(C);break;case"ellipse":a=function(e){var t=["attribute","lineType",{key:"blur",validate:function(e){return y(e)}},"opacity","cx","cy","rx","ry","speedSwitch","speed"];return e||(t.push("animate"),t.push("animateTrail")),t}(C);break;case"star":a=function(e){var t=["attribute","starNumPoints",{key:"starRadiusMulitplier",validate:function(e){return function(e){if("0"==e)return _t1("钝度不能为0")}(e)}},"radialShift","lineType",{key:"blur",validate:function(e){return y(e)}},"opacity","cx","cy","speedSwitch","speed"];return e||(t.push("animate"),t.push("animateTrail")),t}(C);break;case"polygon":a=function(e){var t=["attribute",{key:"polySides",validate:function(e){return function(e){if(Number(e)<2)return _t1("边数不能小于2")}(e)}},"lineType",{key:"blur",validate:function(e){return y(e)}},"opacity","cx","cy","speedSwitch","speed"];return e||(t.push("animate"),t.push("animateTrail")),t}(C);break;case"image":a=function(e){var t=["attribute","width","height","opacity","img"];return e||(t.push("animate"),t.push("animateTrail")),t}(C);break;case"mulp":a=w;break;default:a=x(C)}var N=function(e){var t,n=e.value,i=e.name,l=(null===(t=i.split("."))||void 0===t?void 0:t[i.split(".").length-1])||i;!u().includes(["none","undefined","null","NaN"],n)&&(0,v.AO)({arg:n,type:l,svg:p,setParams:m,cellKey:A,cell:k})};return{type:"object",titile:"svgedit",properties:{attribute:{type:"object",title:_r("属性配置"),fieldType:"fieldset_card",properties:{name:{type:"string",title:_r("名称"),unbind:!0,field:{effect:function(e,t){var n,i,l,a=e.value,r=e.name;a!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i||null===(l=i.attribute)||void 0===l?void 0:l.name)&&N({value:a,name:r})}}},position:{type:"object",title:_r("位置"),fieldType:"fieldset_inline",properties:{x:{type:"number",title:_r("横向偏移"),field:{placeholder:"X",effect:function(e,t){var n,i,l,a,r=e.value,o=e.name;r!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i||null===(l=i.attribute)||void 0===l||null===(a=l.position)||void 0===a?void 0:a.x)&&N({value:r,name:o})}}},y:{type:"number",title:_r("纵向偏移"),field:{placeholder:"Y",effect:function(e,t){var n,i,l,a,r=e.value,o=e.name;r!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i||null===(l=i.attribute)||void 0===l||null===(a=l.position)||void 0===a?void 0:a.y)&&N({value:r,name:o})}}}},unbind:!0},rotation:{type:"number",title:_r("旋转"),unbind:!0,field:{effect:function(e,t){var n,i,l,a=e.value,r=e.name;a!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i||null===(l=i.attribute)||void 0===l?void 0:l.rotation)&&N({value:a,name:r})}}}},form:["ellipse","polygon","star"].includes(d)?["name",{key:"rotation",component:b}]:["name","position",{key:"rotation",component:b}]},lineType:{type:"object",title:_r("线段样式"),fieldType:"fieldset_card",properties:{stroke_dasharray:{type:"string",title:_r("样式"),description:"样式自定时数字请用半角“,”",field:{effect:function(e,t){var n,i,l,a=e.value,r=e.name;a!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i||null===(l=i.lineType)||void 0===l?void 0:l.stroke_dasharray)&&N({value:a,name:r})}}},stroke_width:{type:"number",title:_r("线宽"),minimum:0,field:{effect:function(e,t){var n,i,l,a=e.value,r=e.name;a!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i||null===(l=i.lineType)||void 0===l?void 0:l.stroke_width)&&N({value:a,name:r})}}},stroke:{type:"string",title:_r("边框"),fieldType:"color",field:{effect:function(e,t){var n,i,l,a=e.value,r=e.name;a!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i||null===(l=i.lineType)||void 0===l?void 0:l.stroke)&&N({value:a,name:r})}}},fill:{type:"string",title:_r("填充"),fieldType:"color",field:{effect:function(e,t){var n,i,l,a=e.value,r=e.name;a!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i||null===(l=i.lineType)||void 0===l?void 0:l.fill)&&N({value:a,name:r})}}}},form:[{key:"stroke_width"},{key:"stroke_dasharray",component:h},"stroke","fill"]},opacity:{type:"number",title:_r("透明度"),fieldType:"slider",description:_r("透明度生效范围是0到1之间的数，超出无效"),maximum:1,field:{effect:function(e,t){var n=e.value,i=e.name;N({value:n,name:i})},validate:function(e){if(e<0||e>1)return _r("透明度范围只能在0和1之间")}}},blur:{type:"number",title:_r("模糊度"),unbind:!0,fieldType:"slider",maximum:10,field:{effect:function(e,t){var n=e.value,i=e.name;N({value:n,name:i})},validate:function(e){if(e<0)return _r("模糊度不能小于0")}}},width:{type:"number",minimum:0,title:_r("宽"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.width)&&N({value:l,name:a})}}},height:{type:"number",minimum:0,title:_r("高"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.height)&&N({value:l,name:a})}}},cx:{type:"number",title:["star","polygon"].includes(d)?_r("中心X"):_r("圆心x"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.cx)&&N({value:l,name:a})}}},cy:{type:"number",title:["star","polygon"].includes(d)?_r("中心Y"):_r("圆心y"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.cy)&&N({value:l,name:a})}}},rx:{type:"number",minimum:0,title:"rect"==d?_r("X轴圆角"):_r("X半径"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.rx)&&N({value:l,name:a})}}},ry:{type:"number",minimum:0,title:"rect"==d?_r("Y轴圆角"):_r("Y半径"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.ry)&&N({value:l,name:a})}}},x1:{type:"number",title:_r("起始x"),description:_r("线段起始点的X坐标"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.x1)&&N({value:l,name:a})}}},y1:{type:"number",title:_r("起始y"),description:_r("线段起始点的Y坐标"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.y1)&&N({value:l,name:a})}}},x2:{type:"number",title:_r("结束x"),description:_r("线段结束点的X坐标"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.x2)&&N({value:l,name:a})}}},y2:{type:"number",title:_r("结束y"),description:_r("线段结束点的Y坐标"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.y2)&&N({value:l,name:a})}}},starNumPoints:{type:"number",title:_r("顶点"),unbind:!0,minimum:0,description:_r("需要在绘制前配置"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.starNumPoints)&&N({value:l,name:a})}}},starRadiusMulitplier:{type:"number",title:_r("钝度"),unbind:!0,description:_r("需要在绘制前配置"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.starRadiusMulitplier)&&N({value:l,name:a})}}},radialShift:{type:"number",title:_r("径向"),unbind:!0,description:_r("需要在绘制前配置"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.radialShift)&&N({value:l,name:a})}}},polySides:{type:"number",title:_r("边数"),minimum:0,unbind:!0,description:_r("需要在绘制前配置"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.polySides)&&N({value:l,name:a})}}},speedSwitch:{type:"boolean",title:_r("流速开关"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.speedSwitch)&&(null==p||p.getSelectedElems().map((function(e){e.setAttribute("data-isrun",l?1:0),e.setAttribute("style",l?"animation: 1000ms linear 0s infinite normal none running dash;":"animation: 0ms linear 0s infinite normal none running dash;")})),t.setFieldData("speed",{display:l}),N({value:l,name:a}))}}},speed:{type:"number",title:_r("流向/流速"),description:_r("当流速是负数时 流动方向相反"),field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.speed)&&(null==p||p.getSelectedElems().map((function(e){e.setAttribute("style","animation: 1000ms linear 0s infinite normal none running dash;"),e.setAttribute("stroke-dashoffset",l)})),N({value:l,name:a}))}}},img:{type:"string",title:_r("图片路径"),fieldType:"image",field:{effect:function(e,t){var n,i,l=e.value,a=e.name;l!=(null===(n=t.getState())||void 0===n||null===(i=n.initialValues)||void 0===i?void 0:i.img)&&N({value:l,name:a})}}},animateTrail:{type:"object",title:_r("轨迹动画配置"),fieldType:"fieldset_card",properties:{path:{type:"string",title:_r("路径"),unbind:!0},dur:{type:"number",title:_r("时间"),minimum:0,description:_r("时间单位为秒"),field:{effect:function(e,t){var n,i=e.value,l=e.name,a=t.getState().initialValues;i!=(null==a||null===(n=a.animateTrail)||void 0===n?void 0:n.dur)&&N({value:i,name:l})}}},repeatCount:{type:"number",title:_r("重复次数"),minimum:0,description:"重复次数为0或空时表示无限循环",field:{effect:function(e,t){var n,i=e.value,l=e.name,a=t.getState().initialValues;i!=(null==a||null===(n=a.animateTrail)||void 0===n?void 0:n.repeatCount)&&N({value:i,name:l})}}}},form:[{key:"path",component:function(e){return t={input:e.input,label:e.label,field:e.field},n=c,i=t.input,a=r().useState(),o=(0,l.Z)(a,2),u=o[0],d=o[1],p=r().useState(n),A=(0,l.Z)(p,2),m=A[0],A[1],r().useEffect((function(){d(i.value)}),[i.value]),r().createElement(s.Select,{allowClear:!0,onChange:function(e){i.onChange(e),d(e)},value:u||i.value},null==m?void 0:m.map((function(e){return r().createElement("option",{key:e},e)})));var t,n,i,a,o,u,d,p,A,m}},"dur","repeatCount"]},animate:{type:"array",title:_r("普通动画配置"),unbind:!0,items:{type:"object",properties:{attributeName:{type:"string",title:_r("变动属性"),unbind:!0,enum:["width","height","opacity","stroke-width","rx","ry","cx","cy","fill","stroke","x","y"],enum_title:[_t1("宽度"),_t1("高度"),_t1("透明度"),"线宽/边框宽度","X轴圆角/X轴半径","Y轴圆角/Y轴半径",_t1("X轴圆心"),_t1("Y轴圆心"),_t1("填充色"),_t1("边框色"),_t1("坐标x"),_t1("坐标y")],description:_r("属性选择只针对所选元素可变属性生效")},dur:{type:"number",title:_r("时间"),minimum:0,description:_r("时间单位为秒")},FT:{type:"object",title:_r("范围值"),fieldType:"fieldset_inline",properties:{from:{type:"string",title:_r("起始值"),field:{placeholder:_t1("起始值")}},to:{type:"string",title:_r("结束值"),field:{placeholder:_t1("结束值")}}},description:_r("当设置values值时该值无效"),unbind:!0},values:{type:"string",title:"values",field:{placeholder:_r("值1;值2;值3")},description:_r('values值为以";"分割的一组数值，最少一个')},repeatCount:{type:"number",title:_r("重复次数"),minimum:0,description:_r("重复次数为0或空时表示无限循环")}}},field:{effect:function(e,t){var n=e.value;e.name,E(n)}}}},form:a,formEffect:function(e){e.useField("speedSwitch",(function(t){var n=t.value;e.setFieldData("speed",{display:!!n})}))}}};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k,N=function(e){var t=parseFloat(e);if(!u().isNaN(t))return Math.round(100*t)/100},T=function(e,t){var n,i=new Object,a=null==t||null===(n=t.getSelectedElems()[0])||void 0===n?void 0:n.id;return(null==e?void 0:e.customVar)&&Object.keys((null==e?void 0:e.customVar)||{}).map((function(t){var n,r,o;if(t.includes("#")){var u=t.split("#");if(u[0]==a)switch(u.length){case 2:i[u[1]]=null==e||null===(n=e.customVar)||void 0===n?void 0:n[t];break;case 3:var d=(0,l.Z)(u,3),s=(d[0],d[1]),c=d[2];i[s]=i[s]?i[s]:[],i[s][c]||(i[s][c]={}),i[s][c]=null==e||null===(r=e.customVar)||void 0===r?void 0:r[t];break;case 4:var p=(0,l.Z)(u,4),A=(p[0],p[1]),m=p[2],v=p[3];i[A]=i[A]?i[A]:[],i[A][v]||(i[A][v]={}),i[A][v][m]=null==e||null===(o=e.customVar)||void 0===o?void 0:o[t]}}})),i},B=function(e){var t=[],n=1==e[0].childNodes.length&&"animate"==e[0].childNodes[0].tagName;if(e&&1==e.length&&e[0].childNodes.length>1||n){var i=Array.prototype.slice.call(e[0].childNodes).filter((function(e){return"animate"==e.tagName}));i.map((function(e,n){var l,a;t.push({attributeName:i[n].getAttribute("attributeName"),dur:parseFloat(i[n].getAttribute("dur")),FT:{from:null!==(l=i[n].getAttribute("from"))&&void 0!==l?l:null,to:null!==(a=i[n].getAttribute("to"))&&void 0!==a?a:null},values:i[n].getAttribute("values"),repeatCount:"indefinite"==i[n].getAttribute("repeatCount")?0:parseFloat(i[n].getAttribute("repeatCount"))})}))}return t},V=function(e,t){var n;return null!==(n=e[0].getAttribute(t))&&void 0!==n&&n.includes("#")?(0,v.a7)(e[0].getAttribute(t),N(null==e[0].getAttribute("opacity")?1:N(e[0].getAttribute("opacity")))):e[0].getAttribute(t)},O=function(e){var t,n,i,l={};if(e&&null!==(t=e[0])&&void 0!==t&&t.childNodes&&0!=(null===(n=e[0])||void 0===n||null===(i=n.childNodes)||void 0===i?void 0:i.length)){var a=Array.from(e[0].childNodes).filter((function(e){return"animateMotion"==e.tagName}))[0];l={path:a?a.getAttribute("data-path"):null,dur:a?parseFloat(a.getAttribute("dur")):null,repeatCount:a?parseFloat("animateMotion"==a.getAttribute("repeatCount")?0:a.getAttribute("repeatCount")):null}}return l},R=function(e,t,n){var i,l,a={},r=u().isEmpty(O(e))?null:O(e);if(e&&u().isArray(e)&&1==e.length&&e[0]){var o,d,s,c,p,A,m;if(u().isString(e[0])&&(e[0]=document.querySelector("#"+e[0])),0==e.length||!e[0])return;var v=t&&(null==t?void 0:t.getStrokedBBox(e));a={blur:e[0]?N(null==t?void 0:t.getBlur(e[0])):0,attribute:{name:e[0]&&"null"!=e[0].getAttribute("data-name")?e[0].getAttribute("data-name"):"",position:{x:N(null!=r&&r.path?0:(null===(o=e[0])||void 0===o?void 0:o.getAttribute("x"))||(null==v?void 0:v.x)||0),y:N(null!=r&&r.path?0:(null===(d=e[0])||void 0===d?void 0:d.getAttribute("y"))||(null==v?void 0:v.y)||0)},rotation:N((null===(s=e)||void 0===s?void 0:s.length)>0&&(null==t?void 0:t.getRotationAngle(e[0]))||0)},lineType:{stroke_width:N(e[0].getAttribute("stroke-width")&&"null"!=e[0].getAttribute("stroke-width")?e[0].getAttribute("stroke-width"):1),stroke_dasharray:e[0].getAttribute("stroke-dasharray")&&"null"!=e[0].getAttribute("stroke-dasharray")?e[0].getAttribute("stroke-dasharray"):"0,0",stroke:V(e,"stroke"),fill:V(e,"fill")},opacity:N(null==e[0].getAttribute("opacity")?1:N(e[0].getAttribute("opacity"))),width:N(e[0].getAttribute("width"))||0,height:N(e[0].getAttribute("height"))||0,cx:N("{}"!=JSON.stringify(r)?0:e[0].getAttribute("cx"))||null,cy:N("{}"!=JSON.stringify(r)?0:e[0].getAttribute("cy"))||null,rx:N(e[0].getAttribute("rx"))||0,ry:N(e[0].getAttribute("ry"))||0,r:N(e[0].getAttribute("r"))||null,x1:N(e[0].getAttribute("x1"))||null,x2:N(e[0].getAttribute("x2"))||null,y1:N(e[0].getAttribute("y1"))||null,y2:N(e[0].getAttribute("y2"))||null,speed:N(e[0].getAttribute("stroke-dashoffset"))||0,speedSwitch:(i=e[0],i.getAttribute("data-isrun")?!!Number(i.getAttribute("data-isrun")):i.getAttribute("style")?!i.getAttribute("style")||(null===(l=i.getAttribute("style"))||void 0===l?void 0:l.includes("1000ms")):void 0),img:"null"!=e[0].getAttribute("xlink:href")?e[0].getAttribute("xlink:href"):null,animate:B(e),animateTrail:r};var f,g=T(n,t);return Object.keys(g).map((function(e){var t=e.replace(/_/,"-");if(u().isNumber(a[t])||a[t]||"speedSwitch"==t){if("animate"==t)return void a[t].forEach((function(t,n){Object.keys(g[e][n]).map((function(i){t[i]=g[e][n][i]}))}));a[t]=g[e]}else"rotation"==e&&(a.attribute[e]=g[e]),["fill","stroke","stroke_dasharray","stroke_width"].includes(e)&&(a.lineType[e]=g[e]),["begin","dur","end","repeatCount"].includes(e)&&(a.animateTrail[e]=g[e]),["from","to"].includes(e)&&a.animate.map((function(t,n){a.animate[n].FT[e]=g[e][n]})),"values"==e&&a.animate.map((function(t,n){a.animate[n][e]=g[e][n]})),"opacity"==e&&(a[e]=g[e])})),f={starNumPoints:(null===(c=document.querySelector("[name~=starNumPoints]"))||void 0===c?void 0:c.value)||5,starRadiusMulitplier:(null===(p=document.querySelector("[name~=starRadiusMulitplier]"))||void 0===p?void 0:p.value)||2.5,radialShift:(null===(A=document.querySelector("[name~=radialShift]"))||void 0===A?void 0:A.value)||0,polySides:(null===(m=document.querySelector("[name~=polySides]"))||void 0===m?void 0:m.value)||5},S(S({},a),f)}if(e&&u().isArray(e)&&e.length>1){var b;u().isString(e[0])&&(e=e.map((function(e){return document.querySelector("#"+e)}))),function(e,t,n){var i=[];e.map((function(e){!i.includes(e.nodeName)&&i.push(e.nodeName)})),1==i.length&&i[0]}(e);var h=t&&(null==t?void 0:t.getStrokedBBox(e));a={blur:N(null==t?void 0:t.getBlur(e[0])),attribute:{name:e[0]&&"null"!=e[0].getAttribute("data-name")?e[0].getAttribute("data-name"):"",position:{x:N("{}"!=JSON.stringify(r)?0:e[0].getAttribute("x")||(null==h?void 0:h.x)||0),y:N("{}"!=JSON.stringify(r)?0:e[0].getAttribute("y")||(null==h?void 0:h.y)||0)},rotation:N((null===(b=e)||void 0===b?void 0:b.length)>0&&(null==t?void 0:t.getRotationAngle(e[0]))||0)},lineType:{stroke_width:N(e[0].getAttribute("stroke-width")&&"null"!=e[0].getAttribute("stroke-width")?e[0].getAttribute("stroke-width"):1),stroke_dasharray:e[0].getAttribute("stroke-dasharray")&&"null"!=e[0].getAttribute("stroke-dasharray")?e[0].getAttribute("stroke-dasharray"):"0,0",stroke:V(e,"stroke"),fill:V(e,"fill")},opacity:N(null==e[0].getAttribute("opacity")?1:N(e[0].getAttribute("opacity"))),width:N(e[0].getAttribute("width"))||0,height:N(e[0].getAttribute("height"))||0,cx:N("{}"!=JSON.stringify(r)?0:e[0].getAttribute("cx"))||null,cy:N("{}"!=JSON.stringify(r)?0:e[0].getAttribute("cy"))||null,rx:N(e[0].getAttribute("rx"))||0,ry:N(e[0].getAttribute("ry"))||0,r:N(e[0].getAttribute("r"))||null,x1:N(e[0].getAttribute("x1"))||null,x2:N(e[0].getAttribute("x2"))||null,y1:N(e[0].getAttribute("y1"))||null,y2:N(e[0].getAttribute("y2"))||null,speed:N(e[0].getAttribute("stroke-dashoffset"))||0,img:"null"!=e[0].getAttribute("xlink:href")?e[0].getAttribute("xlink:href"):null,animate:B(e),animateTrail:r};var y={},x=T(null==n?void 0:n.params,t);return Object.keys(x).map((function(e){var t=e.replace(/_/,"-");if(u().isNumber(a[t])||a[t]||"speedSwitch"==t){if("animate"==t)return void a[t].forEach((function(t,n){Object.keys(x[e][n]).map((function(i){t[i]=x[e][n][i]}))}));a[t]=x[e]}else"rotation"==e&&(a.attribute[e]=x[e]),["fill","stroke","stroke_dasharray","stroke_width"].includes(e)&&(a.lineType[e]=x[e]),["begin","dur","end","repeatCount"].includes(e)&&(a.animateTrail[e]=x[e]),["from","to"].includes(e)&&a.animate.map((function(t,n){a.animate[n].FT[e]=x[e][n]})),"values"==e&&a.animate.map((function(t,n){a.animate[n][e]=x[e][n]}))})),"star"==prevState.mode&&document.querySelector("[name~=starNumPoints]")&&document.querySelector("[name~=starRadiusMulitplier]")&&document.querySelector("[name~=radialShift]")&&(y={starNumPoints:document.querySelector("[name~=starNumPoints]").value||5,starRadiusMulitplier:document.querySelector("[name~=starRadiusMulitplier]").value||2.5,radialShift:document.querySelector("[name~=radialShift]").value||0}),"polygon"==prevState.mode&&document.querySelector("[name~=polySides]")&&(y={polySides:document.querySelector("[name~=polySides]").value||5}),S(S({},a),y)}return{}};const j=function(e){e.prevState;var t,n,i,o,s,p,A,m,f,g,b,h,y,x,_,w,C=e.cellKey,N=(0,d.use)("svg.store"),T=(0,l.Z)(N,2),B=T[0],V=(T[1],r().useState([])),O=(0,l.Z)(V,2),j=O[0],P=O[1],M=r().useState([""]),F=(0,l.Z)(M,2),Z=(F[0],F[1]),q=(0,a.useRef)(null),D=(0,d.use)("cell.params",C,"base"),Q=(0,l.Z)(D,2),Y=Q[0],G=Q[1],z=((0,d.use)("dashboard.from")||{}).mergeParams,I=Y,L=(0,a.useRef)(null),J=window.airiotSVG||{};L.current=null===(t=window.airiotSVG)||void 0===t?void 0:t[C];var X=null===(n=window.airiotSVG)||void 0===n||null===(i=n[C])||void 0===i||null===(o=i.getSelectedElems())||void 0===o||null===(s=o[0])||void 0===s?void 0:s.id;L.current&&(L.current.forRightToGetElements=function(e){P(u().isArray(e)?e:[e])}),(0,a.useEffect)((function(){Z(K())}),[null==B?void 0:B.data,null==B?void 0:B.mode,null==B?void 0:B.selected]);var K=function(){if(L.current){var e=(0,v.$S)(L.current),t=[];return e.map((function(e){var n,i;(!e.id||null!==(n=L.current)&&void 0!==n&&n.getElem(e.id))&&e.id&&["path","polyline"].includes(null===(i=L.current)||void 0===i?void 0:i.getElem(e.id).tagName)&&t.push(e.id)})),0==t.length?[]:t}},W=function(){var e;return 1==(null==j?void 0:j.length)?R(j||[],null===(e=window.airiotSVG)||void 0===e?void 0:e[C],I):null==J?void 0:J.data},H=function(e,t,n,i,l,a){if(u().isObject(e[t][a])){var r=l.getSelectedElems().map((function(e){return e.id})),o={};r.map((function(n){o[n+"#"+a+"#"+i]=e[t][a]})),G(S(S({},Y),o))}else n[i].setAttribute("from",e[t][a])},$=(null===(p=L.current)||void 0===p||null===(A=p.getSelectedElems()[0])||void 0===A?void 0:A.getAttribute("data-type"))||(null===(m=L.current)||void 0===m||null===(f=m.getSelectedElems()[0])||void 0===f?void 0:f.localName);q.current=J.selectList?W("select"==(null==J?void 0:J.mode)||null==J||J.mode):null==J?void 0:J.data,k=j[0]?W("select"==(null===(g=L.current)||void 0===g?void 0:g.getMode())||null===(b=L.current)||void 0===b||b.getMode()):null==J?void 0:J.data;var U=W("select"==(null===(h=window.airiotSVG)||void 0===h||null===(y=h[C])||void 0===y?void 0:y.getMode())||null===(x=window.airiotSVG)||void 0===x||null===(_=x[C])||void 0===_||_.getMode());return r().createElement(c.C,{is:"Dashboard.PropForm",schema:E({mode:$||(null==B?void 0:B.mode)||"select",pathList:K(),svg:(null===(w=window.airiotSVG)||void 0===w?void 0:w[C])||L.current,cellKey:C,setParams:G,params:Y,state:J,changeAnimate:function(e){var t,n,i=["attributeName","dur","repeatCount","values","FT"];if(e){var l=null===(t=L.current)||void 0===t?void 0:t.getSelectedElems()[0];if(l){var a,r=l.childNodes?Array.from(l.childNodes).filter((function(e){return"animate"==e.tagName})):[];r.length<e.length&&1==(a=L.current).getSelectedElems().length&&(a.getSelectedElems()[0].innerHTML+='\n        <animate attributeType="XML" repeatCount="indefinite" rotate="auto" calcMode="linear" fill="freeze" style="pointer-events:inherit"/>'),r.length>e.length&&function(e,t){var n=Array.from(t).filter((function(e){return"animate"==e.tagName})),i=u().map(e,"attributeName");n.map((function(e){return e.getAttribute("attributeName")})),n.map((function(e){!i.includes(e.getAttribute("attributeName"))&&e.remove()}))}(e,l.childNodes),(null===(n=L.current)||void 0===n?void 0:n.getSelectedElems().length)&&e&&e.map((function(e,t){var n,a=u().cloneDeep(e);a.repeatCount=null!==(n=a.repeatCount)&&void 0!==n?n:0,r[t]&&i.map((function(e){if(u().isObject(a[e])){if("FT"==e)return a[e]&&r[t].setAttribute("from",a[e].from),a[e]&&r[t].setAttribute("to",a[e].to),u().isObject(a[e].from)&&H(a,e,r,t,L.current,"from"),void(u().isObject(a[e].to)&&H(a,e,r,t,L.current,"to"));if("BE"==e)return r[t].setAttribute("begin",a[e].begin),void r[t].setAttribute("end",a[e].end);var n={};n["".concat(l.id,"#animate#").concat(e,"#").concat(t)]=a[e],z(C,{params:S({},n)})}else"repeatCount"==e?r[t].setAttribute(e,a[e]||"indefinite"):r[t].setAttribute(e,"dur"!=e?a[e]||"":a[e]+"s")}))}))}}}}),formKey:"svg-".concat(X),bindVar:!0,initialValues:U||(null==B?void 0:B._data),component:function(e){var t=e.children;return r().createElement("div",{className:"right-side"},t)},formValues:U||(null==B?void 0:B._data),onChange:function(e){var t,n,i,l,a,r;null!=e&&null!==(t=e.lineType)&&void 0!==t&&t.fill||(0,v.AO)({arg:"rgba(0,0,0,0)",type:"fill",svg:(null===(a=window.airiotSVG)||void 0===a?void 0:a[C])||L.current,setParams:G,cellKey:C,cell:I}),null!=e&&null!==(n=e.lineType)&&void 0!==n&&n.stroke||(0,v.AO)({arg:"rgba(0,0,0,0)",type:"stroke",svg:(null===(r=window.airiotSVG)||void 0===r?void 0:r[C])||L.current,setParams:G,cellKey:C,cell:I}),(0,v.AO)({arg:null==e||null===(i=e.animateTrail)||void 0===i?void 0:i.path,type:"path",svg:(null===(l=window.airiotSVG)||void 0===l?void 0:l[C])||L.current,setParams:G,cellKey:C,cell:I})}})}},3294:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(4015),l=n.n(i),a=n(3645),r=n.n(a)()(l());r.push([e.id,'.left-sider .sider-content,\n.right-sider .sider-content {\n  overflow-y: auto !important;\n}\n.right-side {\n  overflow-y: auto;\n  height: calc(100%);\n  padding: 5px 28px;\n}\n.right-side .wrap {\n  margin: 0;\n}\n.right-side .svg_button_color {\n  padding: 5px;\n  background: #ffffff;\n  border-radius: 1px;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 0px 1px;\n  display: inline-block;\n  cursor: pointer;\n  margin-top: 5px;\n}\n.right-side .svg_right_sider_r {\n  padding-left: 3px;\n  border-radius: 3px;\n  height: 24px;\n}\n.right-side .svg_right_sider_l {\n  padding-right: 3px !important;\n}\n.right-side .right-side .padding {\n  padding: 2px 10px;\n  line-height: 24px;\n  width: 100%;\n}\n.right-side .padding:hover {\n  background: "#E7ECFC" !important;\n}\n.right-side .ant-form-item-control-input-content .ant-input-number {\n  width: 100%;\n}\n.right-side #basic_position .ant-input-number {\n  width: 84px;\n}\n.right-side .svg_editor_title {\n  background: #4359C7;\n  line-height: 35px;\n  text-align: center;\n  color: #ffffff;\n  box-shadow: 0px 0px 3px #111111;\n}\n.right-side .color-RC {\n  left: -36px;\n}\n.right-side i {\n  line-height: 24px;\n}\n.right-side .shadow_box {\n  width: 200px;\n  display: grid;\n  grid-template-columns: 60px 60px 60px;\n  grid-gap: 0px 5px ;\n}\n.right-side .shadow_box div {\n  text-align: center;\n  margin-top: 5px;\n}\n.right-side .ant-collapse-content {\n  overflow: visible;\n}\n.right-side .ant-form-item-label {\n  text-align: left;\n}\n.svg_button_color {\n  padding: 5px;\n  background: #ffffff;\n  border-radius: 1px;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 0px 1px;\n  display: inline-block;\n  cursor: pointer;\n  margin-top: 5px;\n}\n.svg_button_color_context {\n  width: 36px;\n  height: 10px;\n  border-radius: 3px;\n  background-color: #9b9b9b;\n}\n.svg_shadow_box {\n  width: 200px;\n  display: grid;\n  grid-template-columns: 60px 60px 60px;\n  grid-gap: 0px 5px ;\n}\n.svg_shadow_box div {\n  text-align: center;\n  margin-top: 5px;\n}\n.shadow_attr .ant-popover-buttons {\n  display: none;\n}\n',"",{version:3,sources:["webpack://./src/styles/SvgEditor.less"],names:[],mappings:"AAAA;;EACI,2BAAA;AAEJ;AAAA;EACI,gBAAA;EACA,kBAAA;EACA,iBAAA;AAEJ;AALA;EAKQ,SAAA;AAGR;AARA;EAQQ,YAAA;EACA,mBAAA;EACA,kBAAA;EACA,8CAAA;EACA,qBAAA;EACA,eAAA;EACA,eAAA;AAGR;AAjBA;EAoBQ,iBAAA;EACA,kBAAA;EACA,YAAA;AAAR;AAtBA;EAyBQ,6BAAA;AAAR;AAzBA;EA4BQ,iBAAA;EACA,iBAAA;EACA,WAAA;AAAR;AA9BA;EAkCQ,gCAAA;AADR;AAjCA;EAsCQ,WAAA;AAFR;AApCA;EA0CQ,WAAA;AAHR;AAvCA;EA8CQ,mBAAA;EACA,iBAAA;EACA,kBAAA;EACA,cAAA;EACA,+BAAA;AAJR;AA9CA;EAsDQ,WAAA;AALR;AAjDA;EA0DQ,iBAAA;AANR;AApDA;EA8DQ,YAAA;EACA,aAAA;EACA,qCAAA;EACA,kBAAA;AAPR;AA1DA;EAmEY,kBAAA;EACA,eAAA;AANZ;AA9DA;EAwEQ,iBAAA;AAPR;AAjEA;EA2EQ,gBAAA;AAPR;AAWA;EACI,YAAA;EACA,mBAAA;EACA,kBAAA;EACA,8CAAA;EACA,qBAAA;EACA,eAAA;EACA,eAAA;AATJ;AAYA;EACI,WAAA;EACA,YAAA;EACA,kBAAA;EACA,yBAAA;AAVJ;AAaA;EACI,YAAA;EACA,aAAA;EACA,qCAAA;EACA,kBAAA;AAXJ;AAOA;EAMQ,kBAAA;EACA,eAAA;AAVR;AAcA;EAEQ,aAAA;AAbR",sourcesContent:['.left-sider .sider-content, .right-sider .sider-content {\n    overflow-y: auto !important;\n}\n.right-side {\n    overflow-y: auto;\n    height: calc(100%);\n    padding: 5px 28px;\n    .wrap {\n        margin: 0\n    }\n    .svg_button_color {\n        padding: 5px;\n        background: rgb(255, 255, 255);\n        border-radius: 1px;\n        box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 0px 1px;\n        display: inline-block;\n        cursor: pointer;\n        margin-top: 5px;\n    }\n    .right-sider-item {\n        // line-height: 14px !important;\n    }\n    .svg_right_sider_r {\n        padding-left: 3px;\n        border-radius: 3px;\n        height: 24px;\n    }\n    .svg_right_sider_l {\n        padding-right: 3px !important;\n    }\n    .right-side .padding {\n        padding: 2px 10px;\n        line-height: 24px;\n        width: 100%;\n    }\n\n    .padding:hover{\n        background: "#E7ECFC" !important;\n    }\n\n    .ant-form-item-control-input-content .ant-input-number {\n        width: 100%;\n    }\n\n    #basic_position .ant-input-number {\n        width: 84px;\n    }\n\n    .svg_editor_title {\n        background: #4359C7;\n        line-height: 35px;\n        text-align: center;\n        color: #ffffff;\n        box-shadow: 0px 0px 3px #111111;\n    }\n\n    .color-RC {\n        left: -36px;\n    }\n\n    i {\n        line-height: 24px;\n    }\n\n    .shadow_box {\n        width: 200px;\n        display: grid;\n        grid-template-columns: 60px 60px 60px;\n        grid-gap: 0px 5px ;\n        div {\n            text-align: center;\n            margin-top: 5px;\n        }\n    }\n    .ant-collapse-content {\n        overflow: visible;\n    }\n    .ant-form-item-label {\n        text-align: left;\n    }\n}\n\n.svg_button_color {\n    padding: 5px;\n    background: rgb(255, 255, 255);\n    border-radius: 1px;\n    box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 0px 1px;\n    display: inline-block;\n    cursor: pointer;\n    margin-top: 5px;\n}\n\n.svg_button_color_context {\n    width: 36px;\n    height: 10px;\n    border-radius: 3px;\n    background-color: rgb(155, 155, 155);\n}\n\n.svg_shadow_box {\n    width: 200px;\n    display: grid;\n    grid-template-columns: 60px 60px 60px;\n    grid-gap: 0px 5px ;\n    div {\n        text-align: center;\n        margin-top: 5px;\n    }\n}\n\n.shadow_attr {\n    .ant-popover-buttons {\n        display: none;\n    }\n}'],sourceRoot:""}]);const o=r},2:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(4015),l=n.n(i),a=n(3645),r=n.n(a)()(l());r.push([e.id,"@font-face {\n  font-family: 'iconfont';  /* Project id 2027269 */\n  src: url('//at.alicdn.com/t/font_2027269_2aalpyoymac.woff2?t=1620979090228') format('woff2'),\n       url('//at.alicdn.com/t/font_2027269_2aalpyoymac.woff?t=1620979090228') format('woff'),\n       url('//at.alicdn.com/t/font_2027269_2aalpyoymac.ttf?t=1620979090228') format('truetype');\n}\n\n.iconfont{\n    font-family:\"iconfont\" !important;\n    font-size:16px;font-style:normal;\n    -webkit-font-smoothing: antialiased;\n    -webkit-text-stroke-width: 0.2px;\n    -moz-osx-font-smoothing: grayscale;\n}","",{version:3,sources:["webpack://./src/styles/fontStyle.css"],names:[],mappings:"AAAA;EACE,uBAAuB,GAAG,uBAAuB;EACjD;;+FAE6F;AAC/F;;AAEA;IACI,iCAAiC;IACjC,cAAc,CAAC,iBAAiB;IAChC,mCAAmC;IACnC,gCAAgC;IAChC,kCAAkC;AACtC",sourcesContent:["@font-face {\n  font-family: 'iconfont';  /* Project id 2027269 */\n  src: url('//at.alicdn.com/t/font_2027269_2aalpyoymac.woff2?t=1620979090228') format('woff2'),\n       url('//at.alicdn.com/t/font_2027269_2aalpyoymac.woff?t=1620979090228') format('woff'),\n       url('//at.alicdn.com/t/font_2027269_2aalpyoymac.ttf?t=1620979090228') format('truetype');\n}\n\n.iconfont{\n    font-family:\"iconfont\" !important;\n    font-size:16px;font-style:normal;\n    -webkit-font-smoothing: antialiased;\n    -webkit-text-stroke-width: 0.2px;\n    -moz-osx-font-smoothing: grayscale;\n}"],sourceRoot:""}]);const o=r},8862:(e,t,n)=>{var i=n(3379),l=n.n(i),a=n(2);l()(a.Z,{insert:"head",singleton:!1}),a.Z.locals}}]);
//# sourceMappingURL=779.719ac43b6a516b5863ee.js.map
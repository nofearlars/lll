import { Dropdown, Button, Menu, Spin } from 'antd'
import { Icon } from 'xadmin-ui'

const TreeTypeDropdown = (props) => {

  const { value='分组', onChange, loading } = props

  const iconMap = {
    '平铺': <Icon className="tree-type-icon" svg={require('../../icons/展开.svg')} />,
    '分组': <Icon className="tree-type-icon" svg={require('../../icons/分组展开.svg')} />
  }

  const menu = (
    <Menu>
      <Menu.Item onClick={() => { onChange('平铺') }}>
        <Icon className="tree-type-item-icon" svg={require('../../icons/平铺.svg')} />
        平铺展示
      </Menu.Item>
      <Menu.Item onClick={() => { onChange('分组') }}>
        <Icon className="tree-type-item-icon" svg={require('../../icons/分组.svg')} />
        分组展示
      </Menu.Item>
    </Menu>
  );

  // const items = [
  //   {
  //     key: '1',
  //     label: '平铺展示'
  //   },
  //   {
  //     key: '2',
  //     label: '分组展示'
  //   }
  // ]

  // return <Button>bottomLeft</Button>

  return  <>
    {
      loading ? <Spin size="small" /> : <Dropdown overlay={menu} placement="bottomLeft">
        <div>
          { iconMap[value] }
        </div>
    </Dropdown>
    }
  </>
}

export default TreeTypeDropdown
import _ from 'lodash';

const useInitOptions = (value, mapper) => {

  const [ options, setOptions ] = React.useState([])

  React.useEffect(() => {
    if (!options.length && value) {
      const initOpts = _.isArray(value) ? value : [value]
      setOptions(initOpts.map(item => mapper(item)))
    }
  }, [ value, options ])

  return [ options, setOptions ]

}

export default useInitOptions

import React from 'react'
import { Button, Slider, Popover } from 'antd'
import { use } from 'xadmin'

const Component = (props) => {
  const [percent, setPercent] = use('editor.scale')

  const { t:_t1 } = useI18n()

  const content = (
    <Slider
      className="slider-progress"
      marks={{ 1: '1%', 100: '100%', 200: '200%' }}
      value={percent}
      max={200}
      min={1}
      tooltipVisible={false}
      onChange={setPercent} />
  )

  return (
    <Popover placement="bottom" content={content} trigger="click">
      <Button>{_t1('缩放')}</Button>
    </Popover>
  )
}

const ScaleButton = {
  title: _r('画面缩放按钮'),
  category: ['页面元素', '其他'],
  component: Component,
  icon: require('./../icons/画面缩放按钮.svg'),
  paramSchema: {},
  fieldWidget: true,
  initLayout: { width: 62, height: 32 }
}

export default ScaleButton
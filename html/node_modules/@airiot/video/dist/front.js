/*! For license information please see front.js.LICENSE.txt */
(()=>{var __webpack_modules__={8778:function(e){e.exports=function(){"use strict";function e(){return e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.apply(this,arguments)}function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}var i=e=>"string"==typeof e&&e.constructor===String,r="OueN4AU4CJ";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".WJ3NAvwFY9,.ZgIIHVSSYI,.kAA8SjbHe2,.tR2-0dd-e1{height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ZgIIHVSSYI{-ms-flex-pack:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:center;justify-content:center}.WJ3NAvwFY9,.tR2-0dd-e1{display:block}.tR2-0dd-e1.OueN4AU4CJ{display:none}.ZgIIHVSSYI,.kAA8SjbHe2{-webkit-tap-highlight-color:rgba(255,0,0,0);cursor:pointer;opacity:.7}.OueN4AU4CJ.ZgIIHVSSYI,.OueN4AU4CJ.kAA8SjbHe2{display:none}.ZgIIHVSSYI{z-index:10}.ZgIIHVSSYI>svg{fill:#fff;height:12vw;max-height:60px;max-width:60px;width:12vw}.kAA8SjbHe2{-ms-flex-pack:end;-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:flex-end;justify-content:flex-end;z-index:10}.kAA8SjbHe2>svg{fill:#fff;height:9vw;margin:0 15px 15px 0;max-height:40px;max-width:40px;width:9vw}");var o=function(){function t(t,n,r,o){var a=void 0===r?{}:r,s=a.canvas,l=void 0===s?"":s,c=a.poster,u=void 0===c?"":c,d=a.autoplay,A=void 0!==d&&d,h=a.autoSetWrapperSize,p=void 0!==h&&h,f=a.loop,m=void 0!==f&&f,g=a.control,v=void 0===g||g,y=a.decodeFirstFrame,b=void 0===y||y,C=a.picMode,_=void 0!==C&&C,E=a.progressive,w=void 0===E||E,T=a.chunkSize,S=void 0===T?1048576:T,k=a.hooks,I=void 0===k?{}:k;void 0===o&&(o={}),this.options=e({videoUrl:n,canvas:l,poster:u,picMode:_,autoplay:A,autoSetWrapperSize:p,loop:m,control:v,decodeFirstFrame:b,progressive:w,chunkSize:S,hooks:e({play:function(){},pause:function(){},stop:function(){},load:function(){}},I)},o),this.options.needPlayButton=this.options.control&&!this.options.picMode,this.player=null,this.els={wrapper:i(t)?document.querySelector(t):t,canvas:null,playButton:document.createElement("div"),unmuteButton:null,poster:null},"static"===window.getComputedStyle(this.els.wrapper).getPropertyValue("position")&&(this.els.wrapper.style.position="relative"),this.els.wrapper.clientRect=this.els.wrapper.getBoundingClientRect(),this.initCanvas(),this.initPlayButton(),this.initPlayer()}var n=t.prototype;return n.initCanvas=function(){this.options.canvas?this.els.canvas=i(this.options.canvas)?document.querySelector(this.options.canvas):this.options.canvas:(this.els.canvas=document.createElement("canvas"),this.els.canvas.classList.add("WJ3NAvwFY9"),this.els.wrapper.appendChild(this.els.canvas))},n.initPlayer=function(){var t=this;this.options=e(this.options,{canvas:this.els.canvas});var n=e({},this.options,{autoplay:!1});if(this.player=new w(this.options.videoUrl,n,{play:function(){t.options.needPlayButton&&t.els.playButton.classList.add(r),t.els.poster&&t.els.poster.classList.add(r),t.options.hooks.play()},pause:function(){t.options.needPlayButton&&t.els.playButton.classList.remove(r),t.options.hooks.pause()},stop:function(){t.els.poster&&t.els.poster.classList.remove(r),t.options.hooks.stop()},load:function(){t.options.autoplay&&t.play(),t._autoSetWrapperSize(),t.options.hooks.load()}}),this._copyPlayerFuncs(),this.els.wrapper.playerInstance=this.player,!this.options.poster||this.options.autoplay||this.player.options.streaming||(this.options.decodeFirstFrame=!1,this.els.poster=new Image,this.els.poster.src=this.options.poster,this.els.poster.classList.add("tR2-0dd-e1"),this.els.wrapper.appendChild(this.els.poster)),this.player.options.streaming||this.els.wrapper.addEventListener("click",this.onClick.bind(this)),(this.options.autoplay||this.player.options.streaming)&&this.els.playButton.classList.add(r),this.player.audioOut&&!this.player.audioOut.unlocked){var i=this.els.wrapper;(this.options.autoplay||this.player.options.streaming)&&(this.els.unmuteButton=document.createElement("div"),this.els.unmuteButton.innerHTML='\n<svg viewBox="0 0 64 64">\n  <path d="M58.3,45.5l-4.8-4.3c1.4-2.9,2.2-6.2,2.2-9.6c0-11.1-8.2-20.3-18.9-21.9V3.3C50.9,4.9,62,16.9,62,31.6 C62,36.6,60.6,41.4,58.3,45.5L58.3,45.5z M30.4,5.6v15.2l-8.3-7.3L30.4,5.6L30.4,5.6z M36.7,19.9c4.6,1.9,7.9,6.4,7.9,11.7 c0,0.6-0.1,1.1-0.1,1.7l-7.8-6.9V19.9L36.7,19.9z M57.5,60.7l-7.1-6.3c-3.9,2.9-8.6,4.8-13.7,5.4v-6.4c3.2-0.5,6.2-1.7,8.8-3.4 l-8.1-7.2c-0.2,0.1-0.5,0.3-0.7,0.4v-1l-6.3-5.6v20.2L15.4,42.6H2V20.5h10.2l-9.7-8.6l4.2-4.7L61.7,56L57.5,60.7L57.5,60.7z"/>\n</svg>\n',this.els.unmuteButton.classList.add("kAA8SjbHe2"),this.els.wrapper.appendChild(this.els.unmuteButton),i=this.els.unmuteButton),this.unlockAudioBound=this.onUnlockAudio.bind(this,i),i.addEventListener("touchstart",this.unlockAudioBound,!1),i.addEventListener("click",this.unlockAudioBound,!0)}},n.initPlayButton=function(){this.options.needPlayButton&&(this.els.playButton.classList.add("ZgIIHVSSYI"),this.els.playButton.innerHTML='\n<svg viewBox="0 0 64 64">\n  <path d="M26,45.5L44,32L26,18.6v27V45.5L26,45.5z M32,2C15.4,2,2,15.5,2,32c0,16.6,13.4,30,30,30c16.6,0,30-13.4,30-30 C62,15.4,48.5,2,32,2L32,2z M32,56c-9.7,0-18.5-5.9-22.2-14.8C6.1,32.2,8.1,21.9,15,15c6.9-6.9,17.2-8.9,26.2-5.2 C50.1,13.5,56,22.3,56,32C56,45.3,45.2,56,32,56L32,56z"/>\n</svg>\n',this.els.wrapper.appendChild(this.els.playButton))},n._autoSetWrapperSize=function(){var e=this;if(!this.options.autoSetWrapperSize)return Promise.resolve();var t=this.player.video.destination;return t?Promise.resolve().then((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=>"Promise"===Object.prototype.toString.call(e).slice(8,-1))(e)?e:new Promise((n=>{e(),setTimeout(n,t)}))}((function(){e.els.wrapper.style.width=t.width+"px",e.els.wrapper.style.height=t.height+"px"}))})):Promise.resolve()},n.onUnlockAudio=function(e,t){var n=this;this.els.unmuteButton&&(t.preventDefault(),t.stopPropagation()),this.player.audioOut.unlock((function(){n.els.unmuteButton&&n.els.unmuteButton.classList.add(r),e.removeEventListener("touchstart",n.unlockAudioBound),e.removeEventListener("click",n.unlockAudioBound)}))},n.onClick=function(){this.options.control&&(this.player.isPlaying?this.pause():this.play())},n._copyPlayerFuncs=function(){var e=this;this.play=function(){return e.player.play()},this.pause=function(){return e.player.pause()},this.stop=function(){return e.player.stop()},this.destroy=function(){e.player.destroy(),e.els.wrapper.innerHTML="",e.els.wrapper.playerInstance=null}},t}(),a=function(){return window.performance?window.performance.now()/1e3:Date.now()/1e3},s=function(e,t){if(e.fill)e.fill(t);else for(var n=0;n<e.length;n++)e[n]=t},l=function(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(n),r=0;r<n;r++)i[r]=t.charCodeAt(r);return i.buffer},c=function(){function e(e,t){this.url=e,this.destination=null,this.request=null,this.streaming=!1,this.completed=!1,this.established=!1,this.progress=0,this.onEstablishedCallback=t.onSourceEstablished,this.onCompletedCallback=t.onSourceCompleted,t.hookOnEstablished&&(this.hookOnEstablished=t.hookOnEstablished)}var t=e.prototype;return t.connect=function(e){this.destination=e},t.start=function(){this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&200===this.request.status&&this.onLoad(this.request.response)}.bind(this),this.request.onprogress=this.onProgress.bind(this),this.request.open("GET",this.url),this.request.responseType="arraybuffer",this.request.send()},t.resume=function(){},t.destroy=function(){this.request.abort()},t.onProgress=function(e){this.progress=e.loaded/e.total},t.onLoad=function(e){this.established=!0,this.completed=!0,this.progress=1,this.hookOnEstablished&&this.hookOnEstablished(),this.onEstablishedCallback&&this.onEstablishedCallback(this),this.onCompletedCallback&&this.onCompletedCallback(this),this.destination&&this.destination.write(e)},e}(),u=function(){function e(e,t){this.url=e,this.destination=null,this.request=null,this.streaming=!1,this.completed=!1,this.established=!1,this.progress=0,this.fileSize=0,this.loadedSize=0,this.chunkSize=t.chunkSize||1048576,this.isLoading=!1,this.loadStartTime=0,this.throttled=!1!==t.throttled,this.aborted=!1,this.onEstablishedCallback=t.onSourceEstablished,this.onCompletedCallback=t.onSourceCompleted,t.hookOnEstablished&&(this.hookOnEstablished=t.hookOnEstablished)}var t=e.prototype;return t.connect=function(e){this.destination=e},t.start=function(){var e=this;this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){e.request.readyState===e.request.DONE&&(e.fileSize=parseInt(e.request.getResponseHeader("Content-Length"),10),e.loadNextChunk())},this.request.onprogress=this.onProgress.bind(this),this.request.open("HEAD",this.url),this.request.send()},t.resume=function(e){!this.isLoading&&this.throttled&&8*this.loadTime+2>e&&this.loadNextChunk()},t.destroy=function(){this.request.abort(),this.aborted=!0},t.loadNextChunk=function(){var e=this,t=this.loadedSize,n=Math.min(this.loadedSize+this.chunkSize-1,this.fileSize-1);if(t>=this.fileSize||this.aborted)return this.completed=!0,void(this.onCompletedCallback&&this.onCompletedCallback(this));this.isLoading=!0,this.loadStartTime=a(),this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){e.request.readyState===e.request.DONE&&e.request.status>=200&&e.request.status<300?e.onChunkLoad(e.request.response):e.request.readyState===e.request.DONE&&e.loadFails++<3&&e.loadNextChunk()},0===t&&(this.request.onprogress=this.onProgress.bind(this)),this.request.open("GET",this.url+"?"+t+"-"+n),this.request.setRequestHeader("Range","bytes="+t+"-"+n),this.request.responseType="arraybuffer",this.request.send()},t.onProgress=function(e){this.progress=e.loaded/e.total},t.onChunkLoad=function(e){var t=!this.established;this.established=!0,this.progress=1,this.loadedSize+=e.byteLength,this.loadFails=0,this.isLoading=!1,t&&this.hookOnEstablished&&this.hookOnEstablished(),t&&this.onEstablishedCallback&&this.onEstablishedCallback(this),this.destination&&this.destination.write(e),this.loadTime=a()-this.loadStartTime,this.throttled||this.loadNextChunk()},e}(),d=function(){function e(e,t){this.url=e,this.options=t,this.socket=null,this.streaming=!0,this.callbacks={connect:[],data:[]},this.destination=null,this.reconnectInterval=void 0!==t.reconnectInterval?t.reconnectInterval:5,this.shouldAttemptReconnect=!!this.reconnectInterval,this.completed=!1,this.established=!1,this.progress=0,this.reconnectTimeoutId=0,this.onEstablishedCallback=t.onSourceEstablished,this.onCompletedCallback=t.onSourceCompleted,t.hookOnEstablished&&(this.hookOnEstablished=t.hookOnEstablished)}var t=e.prototype;return t.connect=function(e){this.destination=e},t.destroy=function(){clearTimeout(this.reconnectTimeoutId),this.shouldAttemptReconnect=!1,this.socket.close()},t.start=function(){this.shouldAttemptReconnect=!!this.reconnectInterval,this.progress=0,this.established=!1,this.socket=new WebSocket(this.url,this.options.protocols||null),this.socket.binaryType="arraybuffer",this.socket.onmessage=this.onMessage.bind(this),this.socket.onopen=this.onOpen.bind(this),this.socket.onerror=this.onClose.bind(this),this.socket.onclose=this.onClose.bind(this)},t.resume=function(){},t.onOpen=function(){this.progress=1},t.onClose=function(){var e=this;this.shouldAttemptReconnect&&(clearTimeout(this.reconnectTimeoutId),this.reconnectTimeoutId=setTimeout((function(){e.start()}),1e3*this.reconnectInterval))},t.onMessage=function(e){var t=!this.established;this.established=!0,t&&this.hookOnEstablished&&this.hookOnEstablished(),t&&this.onEstablishedCallback&&this.onEstablishedCallback(this),this.destination&&this.destination.write(e.data)},e}(),A=function(){function e(t,n){"object"==typeof t?(this.bytes=t instanceof Uint8Array?t:new Uint8Array(t),this.byteLength=this.bytes.length):(this.bytes=new Uint8Array(t||1048576),this.byteLength=0),this.mode=n||e.MODE.EXPAND,this.index=0}var t=e.prototype;return t.resize=function(e){var t=new Uint8Array(e);0!==this.byteLength&&(this.byteLength=Math.min(this.byteLength,e),t.set(this.bytes,0,this.byteLength)),this.bytes=t,this.index=Math.min(this.index,this.byteLength<<3)},t.evict=function(e){var t=this.index>>3,n=this.bytes.length-this.byteLength;if(this.index===this.byteLength<<3||e>n+t)return this.byteLength=0,void(this.index=0);0!==t&&(this.bytes.copyWithin?this.bytes.copyWithin(0,t,this.byteLength):this.bytes.set(this.bytes.subarray(t,this.byteLength)),this.byteLength-=t,this.index-=t<<3)},t.write=function(t){var n="object"==typeof t[0],i=0,r=this.bytes.length-this.byteLength;if(n){i=0;for(var o=0;o<t.length;o++)i+=t[o].byteLength}else i=t.byteLength;if(i>r)if(this.mode===e.MODE.EXPAND){var a=Math.max(2*this.bytes.length,i-r);this.resize(a)}else this.evict(i);if(n)for(var s=0;s<t.length;s++)this.appendSingleBuffer(t[s]);else this.appendSingleBuffer(t);return i},t.appendSingleBuffer=function(e){e=e instanceof Uint8Array?e:new Uint8Array(e),this.bytes.set(e,this.byteLength),this.byteLength+=e.length},t.findNextStartCode=function(){for(var e=this.index+7>>3;e<this.byteLength;e++)if(0===this.bytes[e]&&0===this.bytes[e+1]&&1===this.bytes[e+2])return this.index=e+4<<3,this.bytes[e+3];return this.index=this.byteLength<<3,-1},t.findStartCode=function(e){var t=this.findNextStartCode();return t===e||-1===t?t:-1},t.nextBytesAreStartCode=function(){var e=this.index+7>>3;return e>=this.byteLength||0===this.bytes[e]&&0===this.bytes[e+1]&&1===this.bytes[e+2]},t.peek=function(e){for(var t=this.index,n=0;e;){var i=8-(7&t),r=i<e?i:e,o=i-r;n=n<<r|(this.bytes[t>>3]&255>>8-r<<o)>>o,t+=r,e-=r}return n},t.read=function(e){var t=this.peek(e);return this.index+=e,t},t.skip=function(e){return this.index+=e},t.rewind=function(e){this.index=Math.max(this.index-e,0)},t.has=function(e){return(this.byteLength<<3)-this.index>=e},e}();A.MODE={EVICT:1,EXPAND:2};var h=function(){function e(){this.bits=null,this.leftoverBytes=null,this.guessVideoFrameEnd=!0,this.pidsToStreamIds={},this.pesPacketInfo={},this.startTime=0,this.currentTime=0}var t=e.prototype;return t.connect=function(e,t){this.pesPacketInfo[e]={destination:t,currentLength:0,totalLength:0,pts:0,buffers:[]}},t.write=function(e){if(this.leftoverBytes){var t=e.byteLength+this.leftoverBytes.byteLength;this.bits=new A(t),this.bits.write([this.leftoverBytes,e])}else this.bits=new A(e);for(;this.bits.has(1504)&&this.parsePacket(););var n=this.bits.byteLength-(this.bits.index>>3);this.leftoverBytes=n>0?this.bits.bytes.subarray(this.bits.index>>3):null},t.parsePacket=function(){if(71!==this.bits.read(8)&&!this.resync())return!1;var e=187+(this.bits.index>>3);this.bits.read(1);var t=this.bits.read(1);this.bits.read(1);var n=this.bits.read(13);this.bits.read(2);var i=this.bits.read(2);this.bits.read(4);var r=this.pidsToStreamIds[n];if(t&&r){var o=this.pesPacketInfo[r];o&&o.currentLength&&this.packetComplete(o)}if(1&i){if(2&i){var a=this.bits.read(8);this.bits.skip(a<<3)}if(t&&this.bits.nextBytesAreStartCode()){this.bits.skip(24),r=this.bits.read(8),this.pidsToStreamIds[n]=r;var s=this.bits.read(16);this.bits.skip(8);var l=this.bits.read(2);this.bits.skip(6);var c=this.bits.read(8),u=this.bits.index+(c<<3),d=this.pesPacketInfo[r];if(d){var A=0;if(2&l){this.bits.skip(4);var h=this.bits.read(3);this.bits.skip(1);var p=this.bits.read(15);this.bits.skip(1);var f=this.bits.read(15);this.bits.skip(1),A=(1073741824*h+32768*p+f)/9e4,this.currentTime=A,-1===this.startTime&&(this.startTime=A)}var m=s?s-c-3:0;this.packetStart(d,A,m)}this.bits.index=u}if(r){var g=this.pesPacketInfo[r];if(g){var v=this.bits.index>>3,y=!t&&2&i;(this.packetAddData(g,v,e)||this.guessVideoFrameEnd&&y)&&this.packetComplete(g)}}}return this.bits.index=e<<3,!0},t.resync=function(){if(!this.bits.has(9024))return!1;for(var e=this.bits.index>>3,t=0;t<187;t++)if(71===this.bits.bytes[e+t]){for(var n=!0,i=1;i<5;i++)if(71!==this.bits.bytes[e+t+188*i]){n=!1;break}if(n)return this.bits.index=e+t+1<<3,!0}return this.bits.skip(1496),!1},t.packetStart=function(e,t,n){e.totalLength=n,e.currentLength=0,e.pts=t},t.packetAddData=function(e,t,n){return e.buffers.push(this.bits.bytes.subarray(t,n)),e.currentLength+=n-t,0!==e.totalLength&&e.currentLength>=e.totalLength},t.packetComplete=function(e){e.destination.write(e.pts,e.buffers),e.totalLength=0,e.currentLength=0,e.buffers=[]},e}();h.STREAM={PACK_HEADER:186,SYSTEM_HEADER:187,PROGRAM_MAP:188,PRIVATE_1:189,PADDING:190,PRIVATE_2:191,AUDIO_1:192,VIDEO_1:224,DIRECTORY:255};var p=function(){function e(e){this.destination=null,this.canPlay=!1,this.collectTimestamps=!e.streaming,this.bytesWritten=0,this.timestamps=[],this.timestampIndex=0,this.startTime=0,this.decodedTime=0,Object.defineProperty(this,"currentTime",{get:this.getCurrentTime})}var t=e.prototype;return t.destroy=function(){},t.connect=function(e){this.destination=e},t.bufferGetIndex=function(){return this.bits.index},t.bufferSetIndex=function(e){this.bits.index=e},t.bufferWrite=function(e){return this.bits.write(e)},t.write=function(e,t){this.collectTimestamps&&(0===this.timestamps.length&&(this.startTime=e,this.decodedTime=e),this.timestamps.push({index:this.bytesWritten<<3,time:e})),this.bytesWritten+=this.bufferWrite(t),this.canPlay=!0},t.seek=function(e){if(this.collectTimestamps){this.timestampIndex=0;for(var t=0;t<this.timestamps.length&&!(this.timestamps[t].time>e);t++)this.timestampIndex=t;var n=this.timestamps[this.timestampIndex];n?(this.bufferSetIndex(n.index),this.decodedTime=n.time):(this.bits.index=0,this.decodedTime=this.startTime)}},t.decode=function(){this.advanceDecodedTime(0)},t.advanceDecodedTime=function(e){if(this.collectTimestamps){for(var t=-1,n=this.bufferGetIndex(),i=this.timestampIndex;i<this.timestamps.length&&!(this.timestamps[i].index>n);i++)t=i;if(-1!==t&&t!==this.timestampIndex)return this.timestampIndex=t,void(this.decodedTime=this.timestamps[this.timestampIndex].time)}this.decodedTime+=e},t.getCurrentTime=function(){return this.decodedTime},e}(),f=function(e){function n(t){var n;(n=e.call(this,t)||this).onDecodeCallback=t.onVideoDecode;var i=t.videoBufferSize||524288,r=t.streaming?A.MODE.EVICT:A.MODE.EXPAND;return n.bits=new A(i,r),n.customIntraQuantMatrix=new Uint8Array(64),n.customNonIntraQuantMatrix=new Uint8Array(64),n.blockData=new Int32Array(64),n.currentFrame=0,n.decodeFirstFrame=!1!==t.decodeFirstFrame,n}t(n,e);var i=n.prototype;return i.write=function(e,t){if(p.prototype.write.call(this,e,t),!this.hasSequenceHeader){if(-1===this.bits.findStartCode(n.START.SEQUENCE))return!1;this.decodeSequenceHeader(),this.decodeFirstFrame&&this.decode()}},i.decode=function(){var e=a();if(!this.hasSequenceHeader)return!1;if(-1===this.bits.findStartCode(n.START.PICTURE))return!1;this.decodePicture(),this.advanceDecodedTime(1/this.frameRate);var t=a()-e;return this.onDecodeCallback&&this.onDecodeCallback(this,t),!0},i.readHuffman=function(e){var t=0;do{t=e[t+this.bits.read(1)]}while(t>=0&&0!==e[t]);return e[t+2]},i.decodeSequenceHeader=function(){var e=this.bits.read(12),t=this.bits.read(12);if(this.bits.skip(4),this.frameRate=n.PICTURE_RATE[this.bits.read(4)],this.bits.skip(30),e===this.width&&t===this.height||(this.width=e,this.height=t,this.initBuffers(),this.destination&&this.destination.resize(e,t)),this.bits.read(1)){for(var i=0;i<64;i++)this.customIntraQuantMatrix[n.ZIG_ZAG[i]]=this.bits.read(8);this.intraQuantMatrix=this.customIntraQuantMatrix}if(this.bits.read(1)){for(var r=0;r<64;r++){var o=n.ZIG_ZAG[r];this.customNonIntraQuantMatrix[o]=this.bits.read(8)}this.nonIntraQuantMatrix=this.customNonIntraQuantMatrix}this.hasSequenceHeader=!0},i.initBuffers=function(){this.intraQuantMatrix=n.DEFAULT_INTRA_QUANT_MATRIX,this.nonIntraQuantMatrix=n.DEFAULT_NON_INTRA_QUANT_MATRIX,this.mbWidth=this.width+15>>4,this.mbHeight=this.height+15>>4,this.mbSize=this.mbWidth*this.mbHeight,this.codedWidth=this.mbWidth<<4,this.codedHeight=this.mbHeight<<4,this.codedSize=this.codedWidth*this.codedHeight,this.halfWidth=this.mbWidth<<3,this.halfHeight=this.mbHeight<<3,this.currentY=new Uint8ClampedArray(this.codedSize),this.currentY32=new Uint32Array(this.currentY.buffer),this.currentCr=new Uint8ClampedArray(this.codedSize>>2),this.currentCr32=new Uint32Array(this.currentCr.buffer),this.currentCb=new Uint8ClampedArray(this.codedSize>>2),this.currentCb32=new Uint32Array(this.currentCb.buffer),this.forwardY=new Uint8ClampedArray(this.codedSize),this.forwardY32=new Uint32Array(this.forwardY.buffer),this.forwardCr=new Uint8ClampedArray(this.codedSize>>2),this.forwardCr32=new Uint32Array(this.forwardCr.buffer),this.forwardCb=new Uint8ClampedArray(this.codedSize>>2),this.forwardCb32=new Uint32Array(this.forwardCb.buffer)},i.decodePicture=function(){if(this.currentFrame++,this.bits.skip(10),this.pictureType=this.bits.read(3),this.bits.skip(16),!(this.pictureType<=0||this.pictureType>=n.PICTURE_TYPE.B)){if(this.pictureType===n.PICTURE_TYPE.PREDICTIVE){if(this.fullPelForward=this.bits.read(1),this.forwardFCode=this.bits.read(3),0===this.forwardFCode)return;this.forwardRSize=this.forwardFCode-1,this.forwardF=1<<this.forwardRSize}var e=0;do{e=this.bits.findNextStartCode()}while(e===n.START.EXTENSION||e===n.START.USER_DATA);for(;e>=n.START.SLICE_FIRST&&e<=n.START.SLICE_LAST;)this.decodeSlice(255&e),e=this.bits.findNextStartCode();if(-1!==e&&this.bits.rewind(32),this.destination&&this.destination.render(this.currentY,this.currentCr,this.currentCb,!0),this.pictureType===n.PICTURE_TYPE.INTRA||this.pictureType===n.PICTURE_TYPE.PREDICTIVE){var t=this.forwardY,i=this.forwardY32,r=this.forwardCr,o=this.forwardCr32,a=this.forwardCb,s=this.forwardCb32;this.forwardY=this.currentY,this.forwardY32=this.currentY32,this.forwardCr=this.currentCr,this.forwardCr32=this.currentCr32,this.forwardCb=this.currentCb,this.forwardCb32=this.currentCb32,this.currentY=t,this.currentY32=i,this.currentCr=r,this.currentCr32=o,this.currentCb=a,this.currentCb32=s}}},i.decodeSlice=function(e){for(this.sliceBegin=!0,this.macroblockAddress=(e-1)*this.mbWidth-1,this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0,this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.quantizerScale=this.bits.read(5);this.bits.read(1);)this.bits.skip(8);do{this.decodeMacroblock()}while(!this.bits.nextBytesAreStartCode())},i.decodeMacroblock=function(){for(var e=0,t=this.readHuffman(n.MACROBLOCK_ADDRESS_INCREMENT);34===t;)t=this.readHuffman(n.MACROBLOCK_ADDRESS_INCREMENT);for(;35===t;)e+=33,t=this.readHuffman(n.MACROBLOCK_ADDRESS_INCREMENT);if(e+=t,this.sliceBegin)this.sliceBegin=!1,this.macroblockAddress+=e;else{if(this.macroblockAddress+e>=this.mbSize)return;for(e>1&&(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.pictureType===n.PICTURE_TYPE.PREDICTIVE&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0));e>1;)this.macroblockAddress++,this.mbRow=this.macroblockAddress/this.mbWidth|0,this.mbCol=this.macroblockAddress%this.mbWidth,this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb),e--;this.macroblockAddress++}this.mbRow=this.macroblockAddress/this.mbWidth|0,this.mbCol=this.macroblockAddress%this.mbWidth;var i=n.MACROBLOCK_TYPE[this.pictureType];this.macroblockType=this.readHuffman(i),this.macroblockIntra=1&this.macroblockType,this.macroblockMotFw=8&this.macroblockType,0!=(16&this.macroblockType)&&(this.quantizerScale=this.bits.read(5)),this.macroblockIntra?(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0):(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.decodeMotionVectors(),this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb));for(var r=0!=(2&this.macroblockType)?this.readHuffman(n.CODE_BLOCK_PATTERN):this.macroblockIntra?63:0,o=0,a=32;o<6;o++)0!=(r&a)&&this.decodeBlock(o),a>>=1},i.decodeMotionVectors=function(){var e,t,i=0;this.macroblockMotFw?(0!==(e=this.readHuffman(n.MOTION))&&1!==this.forwardF?(i=this.bits.read(this.forwardRSize),t=(Math.abs(e)-1<<this.forwardRSize)+i+1,e<0&&(t=-t)):t=e,this.motionFwHPrev+=t,this.motionFwHPrev>(this.forwardF<<4)-1?this.motionFwHPrev-=this.forwardF<<5:this.motionFwHPrev<-this.forwardF<<4&&(this.motionFwHPrev+=this.forwardF<<5),this.motionFwH=this.motionFwHPrev,this.fullPelForward&&(this.motionFwH<<=1),0!==(e=this.readHuffman(n.MOTION))&&1!==this.forwardF?(i=this.bits.read(this.forwardRSize),t=(Math.abs(e)-1<<this.forwardRSize)+i+1,e<0&&(t=-t)):t=e,this.motionFwVPrev+=t,this.motionFwVPrev>(this.forwardF<<4)-1?this.motionFwVPrev-=this.forwardF<<5:this.motionFwVPrev<-this.forwardF<<4&&(this.motionFwVPrev+=this.forwardF<<5),this.motionFwV=this.motionFwVPrev,this.fullPelForward&&(this.motionFwV<<=1)):this.pictureType===n.PICTURE_TYPE.PREDICTIVE&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0)},i.copyMacroblock=function(e,t,n,i,r){var o,a,s,l,c,u,d,A,h,p,f,m,g,v,y,b,C,_,E,w=this.currentY32,T=this.currentCb32,S=this.currentCr32;if(a=(o=this.codedWidth)-16,s=e>>1,l=t>>1,c=1==(1&e),u=1==(1&t),d=((this.mbRow<<4)+l)*o+(this.mbCol<<4)+s,h=(A=this.mbRow*o+this.mbCol<<2)+(o<<2),c)if(u)for(;A<h;){for(f=n[d]+n[d+o],d++,p=0;p<4;p++)g=f+(m=n[d]+n[d+o])+2>>2&255,g|=(f=n[++d]+n[d+o])+m+2<<6&65280,g|=f+(m=n[++d]+n[d+o])+2<<14&16711680,f=n[++d]+n[d+o],d++,g|=f+m+2<<22&4278190080,w[A++]=g;A+=a>>2,d+=a-1}else for(;A<h;){for(f=n[d++],p=0;p<4;p++)g=f+(m=n[d++])+1>>1&255,g|=(f=n[d++])+m+1<<7&65280,g|=f+(m=n[d++])+1<<15&16711680,g|=(f=n[d++])+m+1<<23&4278190080,w[A++]=g;A+=a>>2,d+=a-1}else if(u)for(;A<h;){for(p=0;p<4;p++)g=n[d]+n[d+o]+1>>1&255,g|=n[++d]+n[d+o]+1<<7&65280,g|=n[++d]+n[d+o]+1<<15&16711680,g|=n[++d]+n[d+o]+1<<23&4278190080,d++,w[A++]=g;A+=a>>2,d+=a}else for(;A<h;){for(p=0;p<4;p++)g=n[d],g|=n[++d]<<8,g|=n[++d]<<16,g|=n[++d]<<24,d++,w[A++]=g;A+=a>>2,d+=a}if(a=(o=this.halfWidth)-8,s=e/2>>1,l=t/2>>1,c=1==(e/2&1),u=1==(t/2&1),d=((this.mbRow<<3)+l)*o+(this.mbCol<<3)+s,h=(A=this.mbRow*o+this.mbCol<<1)+(o<<1),c)if(u)for(;A<h;){for(v=i[d]+i[d+o],C=r[d]+r[d+o],d++,p=0;p<2;p++)b=v+(y=i[d]+i[d+o])+2>>2&255,E=C+(_=r[d]+r[d+o])+2>>2&255,b|=(v=i[++d]+i[d+o])+y+2<<6&65280,E|=(C=r[d]+r[d+o])+_+2<<6&65280,b|=v+(y=i[++d]+i[d+o])+2<<14&16711680,E|=C+(_=r[d]+r[d+o])+2<<14&16711680,v=i[++d]+i[d+o],C=r[d]+r[d+o],d++,b|=v+y+2<<22&4278190080,E|=C+_+2<<22&4278190080,S[A]=b,T[A]=E,A++;A+=a>>2,d+=a-1}else for(;A<h;){for(v=i[d],C=r[d],d++,p=0;p<2;p++)b=v+(y=i[d])+1>>1&255,E=C+(_=r[d++])+1>>1&255,b|=(v=i[d])+y+1<<7&65280,E|=(C=r[d++])+_+1<<7&65280,b|=v+(y=i[d])+1<<15&16711680,E|=C+(_=r[d++])+1<<15&16711680,b|=(v=i[d])+y+1<<23&4278190080,E|=(C=r[d++])+_+1<<23&4278190080,S[A]=b,T[A]=E,A++;A+=a>>2,d+=a-1}else if(u)for(;A<h;){for(p=0;p<2;p++)b=i[d]+i[d+o]+1>>1&255,E=r[d]+r[d+o]+1>>1&255,b|=i[++d]+i[d+o]+1<<7&65280,E|=r[d]+r[d+o]+1<<7&65280,b|=i[++d]+i[d+o]+1<<15&16711680,E|=r[d]+r[d+o]+1<<15&16711680,b|=i[++d]+i[d+o]+1<<23&4278190080,E|=r[d]+r[d+o]+1<<23&4278190080,d++,S[A]=b,T[A]=E,A++;A+=a>>2,d+=a}else for(;A<h;){for(p=0;p<2;p++)b=i[d],E=r[d],b|=i[++d]<<8,E|=r[d]<<8,b|=i[++d]<<16,E|=r[d]<<16,b|=i[++d]<<24,E|=r[d]<<24,d++,S[A]=b,T[A]=E,A++;A+=a>>2,d+=a}},i.decodeBlock=function(e){var t,i=0;if(this.macroblockIntra){var r,o;if(e<4?(r=this.dcPredictorY,o=this.readHuffman(n.DCT_DC_SIZE_LUMINANCE)):(r=4===e?this.dcPredictorCr:this.dcPredictorCb,o=this.readHuffman(n.DCT_DC_SIZE_CHROMINANCE)),o>0){var a=this.bits.read(o);this.blockData[0]=0!=(a&1<<o-1)?r+a:r+(-1<<o|a+1)}else this.blockData[0]=r;e<4?this.dcPredictorY=this.blockData[0]:4===e?this.dcPredictorCr=this.blockData[0]:this.dcPredictorCb=this.blockData[0],this.blockData[0]<<=8,t=this.intraQuantMatrix,i=1}else t=this.nonIntraQuantMatrix;for(var l,c,u,d=0;;){var A=0,h=this.readHuffman(n.DCT_COEFF);if(1===h&&i>0&&0===this.bits.read(1))break;65535===h?(A=this.bits.read(6),0===(d=this.bits.read(8))?d=this.bits.read(8):128===d?d=this.bits.read(8)-256:d>128&&(d-=256)):(A=h>>8,d=255&h,this.bits.read(1)&&(d=-d)),i+=A;var p=n.ZIG_ZAG[i];i++,d<<=1,this.macroblockIntra||(d+=d<0?-1:1),0==(1&(d=d*this.quantizerScale*t[p]>>4))&&(d-=d>0?1:-1),d>2047?d=2047:d<-2048&&(d=-2048),this.blockData[p]=d*n.PREMULTIPLIER_MATRIX[p]}e<4?(l=this.currentY,u=this.codedWidth-8,c=this.mbRow*this.codedWidth+this.mbCol<<4,0!=(1&e)&&(c+=8),0!=(2&e)&&(c+=this.codedWidth<<3)):(l=4===e?this.currentCb:this.currentCr,u=(this.codedWidth>>1)-8,c=(this.mbRow*this.codedWidth<<2)+(this.mbCol<<3)),this.macroblockIntra?1===i?(n.CopyValueToDestination(this.blockData[0]+128>>8,l,c,u),this.blockData[0]=0):(n.IDCT(this.blockData),n.CopyBlockToDestination(this.blockData,l,c,u),s(this.blockData,0)):1===i?(n.AddValueToDestination(this.blockData[0]+128>>8,l,c,u),this.blockData[0]=0):(n.IDCT(this.blockData),n.AddBlockToDestination(this.blockData,l,c,u),s(this.blockData,0)),i=0},n.CopyBlockToDestination=function(e,t,n,i){for(var r=0;r<64;r+=8,n+=i+8)t[n+0]=e[r+0],t[n+1]=e[r+1],t[n+2]=e[r+2],t[n+3]=e[r+3],t[n+4]=e[r+4],t[n+5]=e[r+5],t[n+6]=e[r+6],t[n+7]=e[r+7]},n.AddBlockToDestination=function(e,t,n,i){for(var r=0;r<64;r+=8,n+=i+8)t[n+0]+=e[r+0],t[n+1]+=e[r+1],t[n+2]+=e[r+2],t[n+3]+=e[r+3],t[n+4]+=e[r+4],t[n+5]+=e[r+5],t[n+6]+=e[r+6],t[n+7]+=e[r+7]},n.CopyValueToDestination=function(e,t,n,i){for(var r=0;r<64;r+=8,n+=i+8)t[n+0]=e,t[n+1]=e,t[n+2]=e,t[n+3]=e,t[n+4]=e,t[n+5]=e,t[n+6]=e,t[n+7]=e},n.AddValueToDestination=function(e,t,n,i){for(var r=0;r<64;r+=8,n+=i+8)t[n+0]+=e,t[n+1]+=e,t[n+2]+=e,t[n+3]+=e,t[n+4]+=e,t[n+5]+=e,t[n+6]+=e,t[n+7]+=e},n.IDCT=function(e){for(var t,n,i,r,o,a,s,l,c,u,d,A,h,p,f,m,g,v,y=0;y<8;++y)t=e[32+y],n=e[16+y]+e[48+y],i=e[40+y]-e[24+y],a=e[8+y]+e[56+y],s=e[24+y]+e[40+y],c=(h=(473*(r=e[8+y]-e[56+y])-196*i+128>>8)-(o=a+s))-(362*(a-s)+128>>8),p=(u=(l=e[0+y])-t)+(d=(362*(e[16+y]-e[48+y])+128>>8)-n),f=(A=l+t)+n,m=u-d,g=A-n,v=-c-(473*i+196*r+128>>8),e[0+y]=o+f,e[8+y]=h+p,e[16+y]=m-c,e[24+y]=g-v,e[32+y]=g+v,e[40+y]=c+m,e[48+y]=p-h,e[56+y]=f-o;for(var b=0;b<64;b+=8)t=e[4+b],n=e[2+b]+e[6+b],i=e[5+b]-e[3+b],a=e[1+b]+e[7+b],s=e[3+b]+e[5+b],c=(h=(473*(r=e[1+b]-e[7+b])-196*i+128>>8)-(o=a+s))-(362*(a-s)+128>>8),p=(u=(l=e[0+b])-t)+(d=(362*(e[2+b]-e[6+b])+128>>8)-n),f=(A=l+t)+n,m=u-d,g=A-n,v=-c-(473*i+196*r+128>>8),e[0+b]=o+f+128>>8,e[1+b]=h+p+128>>8,e[2+b]=m-c+128>>8,e[3+b]=g-v+128>>8,e[4+b]=g+v+128>>8,e[5+b]=c+m+128>>8,e[6+b]=p-h+128>>8,e[7+b]=f-o+128>>8},n}(p);f.prototype.frameRate=30,f.prototype.currentY=null,f.prototype.currentCr=null,f.prototype.currentCb=null,f.prototype.pictureType=0,f.prototype.forwardY=null,f.prototype.forwardCr=null,f.prototype.forwardCb=null,f.prototype.fullPelForward=!1,f.prototype.forwardFCode=0,f.prototype.forwardRSize=0,f.prototype.forwardF=0,f.prototype.quantizerScale=0,f.prototype.sliceBegin=!1,f.prototype.macroblockAddress=0,f.prototype.mbRow=0,f.prototype.mbCol=0,f.prototype.macroblockType=0,f.prototype.macroblockIntra=!1,f.prototype.macroblockMotFw=!1,f.prototype.motionFwH=0,f.prototype.motionFwV=0,f.prototype.motionFwHPrev=0,f.prototype.motionFwVPrev=0,f.prototype.dcPredictorY=0,f.prototype.dcPredictorCr=0,f.prototype.dcPredictorCb=0,f.prototype.blockData=null,f.PICTURE_RATE=[0,23.976,24,25,29.97,30,50,59.94,60,0,0,0,0,0,0,0],f.ZIG_ZAG=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),f.DEFAULT_INTRA_QUANT_MATRIX=new Uint8Array([8,16,19,22,26,27,29,34,16,16,22,24,27,29,34,37,19,22,26,27,29,34,34,38,22,22,26,27,29,34,37,40,22,26,27,29,32,35,40,48,26,27,29,32,35,40,48,58,26,27,29,34,38,46,56,69,27,29,35,38,46,56,69,83]),f.DEFAULT_NON_INTRA_QUANT_MATRIX=new Uint8Array([16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16]),f.PREMULTIPLIER_MATRIX=new Uint8Array([32,44,42,38,32,25,17,9,44,62,58,52,44,35,24,12,42,58,55,49,42,33,23,12,38,52,49,44,38,30,20,10,32,44,42,38,32,25,17,9,25,35,33,30,25,20,14,7,17,24,23,20,17,14,9,5,9,12,12,10,9,7,5,2]),f.MACROBLOCK_ADDRESS_INCREMENT=new Int16Array([3,6,0,9,12,0,0,0,1,15,18,0,21,24,0,27,30,0,33,36,0,0,0,3,0,0,2,39,42,0,45,48,0,0,0,5,0,0,4,51,54,0,57,60,0,0,0,7,0,0,6,63,66,0,69,72,0,75,78,0,81,84,0,-1,87,0,-1,90,0,93,96,0,99,102,0,105,108,0,111,114,0,0,0,9,0,0,8,117,120,0,123,126,0,129,132,0,135,138,0,0,0,15,0,0,14,0,0,13,0,0,12,0,0,11,0,0,10,141,-1,0,-1,144,0,147,150,0,153,156,0,159,162,0,165,168,0,171,174,0,177,180,0,183,-1,0,-1,186,0,189,192,0,195,198,0,201,204,0,207,210,0,213,216,0,219,222,0,0,0,21,0,0,20,0,0,19,0,0,18,0,0,17,0,0,16,0,0,35,0,0,34,0,0,33,0,0,32,0,0,31,0,0,30,0,0,29,0,0,28,0,0,27,0,0,26,0,0,25,0,0,24,0,0,23,0,0,22]),f.MACROBLOCK_TYPE_INTRA=new Int8Array([3,6,0,-1,9,0,0,0,1,0,0,17]),f.MACROBLOCK_TYPE_PREDICTIVE=new Int8Array([3,6,0,9,12,0,0,0,10,15,18,0,0,0,2,21,24,0,0,0,8,27,30,0,33,36,0,-1,39,0,0,0,18,0,0,26,0,0,1,0,0,17]),f.MACROBLOCK_TYPE_B=new Int8Array([3,6,0,9,15,0,12,18,0,24,21,0,0,0,12,27,30,0,0,0,14,39,42,0,36,33,0,0,0,4,0,0,6,54,48,0,45,51,0,0,0,8,0,0,10,-1,57,0,0,0,1,60,63,0,0,0,30,0,0,17,0,0,22,0,0,26]),f.MACROBLOCK_TYPE=[null,f.MACROBLOCK_TYPE_INTRA,f.MACROBLOCK_TYPE_PREDICTIVE,f.MACROBLOCK_TYPE_B],f.CODE_BLOCK_PATTERN=new Int16Array([6,3,0,9,18,0,12,15,0,24,33,0,36,39,0,27,21,0,30,42,0,60,57,0,54,48,0,69,51,0,81,75,0,63,84,0,45,66,0,72,78,0,0,0,60,105,120,0,132,144,0,114,108,0,126,141,0,87,93,0,117,96,0,0,0,32,135,138,0,99,123,0,129,102,0,0,0,4,90,111,0,0,0,8,0,0,16,0,0,44,150,168,0,0,0,28,0,0,52,0,0,62,183,177,0,156,180,0,0,0,1,165,162,0,0,0,61,0,0,56,171,174,0,0,0,2,0,0,40,153,186,0,0,0,48,192,189,0,147,159,0,0,0,20,0,0,12,240,249,0,0,0,63,231,225,0,195,219,0,252,198,0,0,0,24,0,0,36,0,0,3,207,261,0,243,237,0,204,213,0,210,234,0,201,228,0,216,222,0,258,255,0,264,246,0,-1,282,0,285,291,0,0,0,33,0,0,9,318,330,0,306,348,0,0,0,5,0,0,10,279,267,0,0,0,6,0,0,18,0,0,17,0,0,34,339,357,0,309,312,0,270,276,0,327,321,0,351,354,0,303,297,0,294,288,0,300,273,0,342,345,0,315,324,0,336,333,0,363,375,0,0,0,41,0,0,14,0,0,21,372,366,0,360,369,0,0,0,11,0,0,19,0,0,7,0,0,35,0,0,13,0,0,50,0,0,49,0,0,58,0,0,37,0,0,25,0,0,45,0,0,57,0,0,26,0,0,29,0,0,38,0,0,53,0,0,23,0,0,43,0,0,46,0,0,42,0,0,22,0,0,54,0,0,51,0,0,15,0,0,30,0,0,39,0,0,47,0,0,55,0,0,27,0,0,59,0,0,31]),f.MOTION=new Int16Array([3,6,0,12,9,0,0,0,0,18,15,0,24,21,0,0,0,-1,0,0,1,27,30,0,36,33,0,0,0,2,0,0,-2,42,45,0,48,39,0,60,54,0,0,0,3,0,0,-3,51,57,0,-1,69,0,81,75,0,78,63,0,72,66,0,96,84,0,87,93,0,-1,99,0,108,105,0,0,0,-4,90,102,0,0,0,4,0,0,-7,0,0,5,111,123,0,0,0,-5,0,0,7,114,120,0,126,117,0,0,0,-6,0,0,6,153,162,0,150,147,0,135,138,0,156,141,0,129,159,0,132,144,0,0,0,10,0,0,9,0,0,8,0,0,-8,171,198,0,0,0,-9,180,192,0,168,183,0,165,186,0,174,189,0,0,0,-10,177,195,0,0,0,12,0,0,16,0,0,13,0,0,14,0,0,11,0,0,15,0,0,-16,0,0,-12,0,0,-14,0,0,-15,0,0,-11,0,0,-13]),f.DCT_DC_SIZE_LUMINANCE=new Int8Array([6,3,0,18,15,0,9,12,0,0,0,1,0,0,2,27,24,0,21,30,0,0,0,0,36,33,0,0,0,4,0,0,3,39,42,0,0,0,5,0,0,6,48,45,0,51,-1,0,0,0,7,0,0,8]),f.DCT_DC_SIZE_CHROMINANCE=new Int8Array([6,3,0,12,9,0,18,15,0,24,21,0,0,0,2,0,0,1,0,0,0,30,27,0,0,0,3,36,33,0,0,0,4,42,39,0,0,0,5,48,45,0,0,0,6,51,-1,0,0,0,7,0,0,8]),f.DCT_COEFF=new Int32Array([3,6,0,12,9,0,0,0,1,21,24,0,18,15,0,39,27,0,33,30,0,42,36,0,0,0,257,60,66,0,54,63,0,48,57,0,0,0,513,51,45,0,0,0,2,0,0,3,81,75,0,87,93,0,72,78,0,96,90,0,0,0,1025,69,84,0,0,0,769,0,0,258,0,0,1793,0,0,65535,0,0,1537,111,108,0,0,0,1281,105,102,0,117,114,0,99,126,0,120,123,0,156,150,0,162,159,0,144,147,0,129,135,0,138,132,0,0,0,2049,0,0,4,0,0,514,0,0,2305,153,141,0,165,171,0,180,168,0,177,174,0,183,186,0,0,0,2561,0,0,3329,0,0,6,0,0,259,0,0,5,0,0,770,0,0,2817,0,0,3073,228,225,0,201,210,0,219,213,0,234,222,0,216,231,0,207,192,0,204,189,0,198,195,0,243,261,0,273,240,0,246,237,0,249,258,0,279,276,0,252,255,0,270,282,0,264,267,0,0,0,515,0,0,260,0,0,7,0,0,1026,0,0,1282,0,0,4097,0,0,3841,0,0,3585,315,321,0,333,342,0,312,291,0,375,357,0,288,294,0,-1,369,0,285,303,0,318,363,0,297,306,0,339,309,0,336,348,0,330,300,0,372,345,0,351,366,0,327,354,0,360,324,0,381,408,0,417,420,0,390,378,0,435,438,0,384,387,0,0,0,2050,396,402,0,465,462,0,0,0,8,411,399,0,429,432,0,453,414,0,426,423,0,0,0,10,0,0,9,0,0,11,0,0,5377,0,0,1538,0,0,771,0,0,5121,0,0,1794,0,0,4353,0,0,4609,0,0,4865,444,456,0,0,0,1027,459,450,0,0,0,261,393,405,0,0,0,516,447,441,0,516,519,0,486,474,0,510,483,0,504,498,0,471,537,0,507,501,0,522,513,0,534,531,0,468,477,0,492,495,0,549,546,0,525,528,0,0,0,263,0,0,2562,0,0,2306,0,0,5633,0,0,5889,0,0,6401,0,0,6145,0,0,1283,0,0,772,0,0,13,0,0,12,0,0,14,0,0,15,0,0,517,0,0,6657,0,0,262,540,543,0,480,489,0,588,597,0,0,0,27,609,555,0,606,603,0,0,0,19,0,0,22,591,621,0,0,0,18,573,576,0,564,570,0,0,0,20,552,582,0,0,0,21,558,579,0,0,0,23,612,594,0,0,0,25,0,0,24,600,615,0,0,0,31,0,0,30,0,0,28,0,0,29,0,0,26,0,0,17,0,0,16,567,618,0,561,585,0,654,633,0,0,0,37,645,648,0,0,0,36,630,636,0,0,0,34,639,627,0,663,666,0,657,624,0,651,642,0,669,660,0,0,0,35,0,0,267,0,0,40,0,0,268,0,0,266,0,0,32,0,0,264,0,0,265,0,0,38,0,0,269,0,0,270,0,0,33,0,0,39,0,0,7937,0,0,6913,0,0,7681,0,0,4098,0,0,7425,0,0,7169,0,0,271,0,0,274,0,0,273,0,0,272,0,0,1539,0,0,2818,0,0,3586,0,0,3330,0,0,3074,0,0,3842]),f.PICTURE_TYPE={INTRA:1,PREDICTIVE:2,B:3},f.START={SEQUENCE:179,SLICE_FIRST:1,SLICE_LAST:175,PICTURE:0,EXTENSION:181,USER_DATA:178};var m=function(e){function n(t){var n;return(n=e.call(this,t)||this).onDecodeCallback=t.onVideoDecode,n.module=t.wasmModule,n.bufferSize=t.videoBufferSize||524288,n.bufferMode=t.streaming?A.MODE.EVICT:A.MODE.EXPAND,n.decodeFirstFrame=!1!==t.decodeFirstFrame,n.hasSequenceHeader=!1,n}t(n,e);var i=n.prototype;return i.initializeWasmDecoder=function(){this.module.instance&&(this.instance=this.module.instance,this.functions=this.module.instance.exports,this.decoder=this.functions._mpeg1_decoder_create(this.bufferSize,this.bufferMode))},i.destroy=function(){this.decoder&&this.functions._mpeg1_decoder_destroy(this.decoder)},i.bufferGetIndex=function(){if(this.decoder)return this.functions._mpeg1_decoder_get_index(this.decoder)},i.bufferSetIndex=function(e){this.decoder&&this.functions._mpeg1_decoder_set_index(this.decoder,e)},i.bufferWrite=function(e){this.decoder||this.initializeWasmDecoder();for(var t=0,n=0;n<e.length;n++)t+=e[n].length;for(var i=this.functions._mpeg1_decoder_get_write_ptr(this.decoder,t),r=0;r<e.length;r++)this.instance.heapU8.set(e[r],i),i+=e[r].length;return this.functions._mpeg1_decoder_did_write(this.decoder,t),t},i.write=function(e,t){p.prototype.write.call(this,e,t),!this.hasSequenceHeader&&this.functions._mpeg1_decoder_has_sequence_header(this.decoder)&&this.loadSequenceHeader()},i.loadSequenceHeader=function(){if(this.hasSequenceHeader=!0,this.frameRate=this.functions._mpeg1_decoder_get_frame_rate(this.decoder),this.codedSize=this.functions._mpeg1_decoder_get_coded_size(this.decoder),this.destination){var e=this.functions._mpeg1_decoder_get_width(this.decoder),t=this.functions._mpeg1_decoder_get_height(this.decoder);this.destination.resize(e,t)}this.decodeFirstFrame&&this.decode()},i.decode=function(){var e=a();if(!this.decoder)return!1;if(!this.functions._mpeg1_decoder_decode(this.decoder))return!1;if(this.destination){var t=this.functions._mpeg1_decoder_get_y_ptr(this.decoder),n=this.functions._mpeg1_decoder_get_cr_ptr(this.decoder),i=this.functions._mpeg1_decoder_get_cb_ptr(this.decoder),r=this.instance.heapU8.subarray(t,t+this.codedSize),o=this.instance.heapU8.subarray(n,n+(this.codedSize>>2)),s=this.instance.heapU8.subarray(i,i+(this.codedSize>>2));this.destination.render(r,o,s,!1)}this.advanceDecodedTime(1/this.frameRate);var l=a()-e;return this.onDecodeCallback&&this.onDecodeCallback(this,l),!0},n}(p),g=function(e){function n(t){var i;(i=e.call(this,t)||this).onDecodeCallback=t.onAudioDecode;var r=t.audioBufferSize||131072,o=t.streaming?A.MODE.EVICT:A.MODE.EXPAND;i.bits=new A(r,o),i.left=new Float32Array(1152),i.right=new Float32Array(1152),i.sampleRate=44100,i.D=new Float32Array(1024),i.D.set(n.SYNTHESIS_WINDOW,0),i.D.set(n.SYNTHESIS_WINDOW,512),i.V=[new Float32Array(1024),new Float32Array(1024)],i.U=new Int32Array(32),i.VPos=0,i.allocation=[new Array(32),new Array(32)],i.scaleFactorInfo=[new Uint8Array(32),new Uint8Array(32)],i.scaleFactor=[new Array(32),new Array(32)],i.sample=[new Array(32),new Array(32)];for(var a=0;a<2;a++)for(var s=0;s<32;s++)i.scaleFactor[a][s]=[0,0,0],i.sample[a][s]=[0,0,0];return i}t(n,e);var i=n.prototype;return i.decode=function(){var e=a(),t=this.bits.index>>3;if(t>=this.bits.byteLength)return!1;var n=this.decodeFrame(this.left,this.right);if(this.bits.index=t+n<<3,!n)return!1;this.destination&&this.destination.play(this.sampleRate,this.left,this.right),this.advanceDecodedTime(this.left.length/this.sampleRate);var i=a()-e;return this.onDecodeCallback&&this.onDecodeCallback(this,i),!0},i.getCurrentTime=function(){var e=this.destination?this.destination.enqueuedTime:0;return this.decodedTime-e},i.decodeFrame=function(e,t){var i=this.bits.read(11),r=this.bits.read(2),o=this.bits.read(2),a=!this.bits.read(1);if(i!==n.FRAME_SYNC||r!==n.VERSION.MPEG_1||o!==n.LAYER.II)return 0;var l=this.bits.read(4)-1;if(l>13)return 0;var c=this.bits.read(2),u=n.SAMPLE_RATE[c];if(3===c)return 0;r===n.VERSION.MPEG_2&&(c+=4,l+=14);var d=this.bits.read(1);this.bits.read(1);var A=this.bits.read(2),h=0;A===n.MODE.JOINT_STEREO?h=this.bits.read(2)+1<<2:(this.bits.skip(2),h=A===n.MODE.MONO?0:32),this.bits.skip(4),a&&this.bits.skip(16);var p=144e3*n.BIT_RATE[l]/(u=n.SAMPLE_RATE[c])+d|0,f=0,m=0;if(r===n.VERSION.MPEG_2)f=2,m=30;else{var g=A===n.MODE.MONO?0:1,v=n.QUANT_LUT_STEP_1[g][l];m=63&(f=n.QUANT_LUT_STEP_2[v][c]),f>>=6}h>m&&(h=m);for(var y=0;y<h;y++)this.allocation[0][y]=this.readAllocation(y,f),this.allocation[1][y]=this.readAllocation(y,f);for(var b=h;b<m;b++)this.allocation[0][b]=this.allocation[1][b]=this.readAllocation(b,f);for(var C=A===n.MODE.MONO?1:2,_=0;_<m;_++){for(var E=0;E<C;E++)this.allocation[E][_]&&(this.scaleFactorInfo[E][_]=this.bits.read(2));A===n.MODE.MONO&&(this.scaleFactorInfo[1][_]=this.scaleFactorInfo[0][_])}for(var w=0;w<m;w++){for(var T=0;T<C;T++)if(this.allocation[T][w]){var S=this.scaleFactor[T][w];switch(this.scaleFactorInfo[T][w]){case 0:S[0]=this.bits.read(6),S[1]=this.bits.read(6),S[2]=this.bits.read(6);break;case 1:S[0]=S[1]=this.bits.read(6),S[2]=this.bits.read(6);break;case 2:S[0]=S[1]=S[2]=this.bits.read(6);break;case 3:S[0]=this.bits.read(6),S[1]=S[2]=this.bits.read(6)}}A===n.MODE.MONO&&(this.scaleFactor[1][w][0]=this.scaleFactor[0][w][0],this.scaleFactor[1][w][1]=this.scaleFactor[0][w][1],this.scaleFactor[1][w][2]=this.scaleFactor[0][w][2])}for(var k=0,I=0;I<3;I++)for(var B=0;B<4;B++){for(var x=0;x<h;x++)this.readSamples(0,x,I),this.readSamples(1,x,I);for(var D=h;D<m;D++)this.readSamples(0,D,I),this.sample[1][D][0]=this.sample[0][D][0],this.sample[1][D][1]=this.sample[0][D][1],this.sample[1][D][2]=this.sample[0][D][2];for(var P=m;P<32;P++)this.sample[0][P][0]=0,this.sample[0][P][1]=0,this.sample[0][P][2]=0,this.sample[1][P][0]=0,this.sample[1][P][1]=0,this.sample[1][P][2]=0;for(var R=0;R<3;R++){this.VPos=this.VPos-64&1023;for(var j=0;j<2;j++){n.MatrixTransform(this.sample[j],R,this.V[j],this.VPos),s(this.U,0);for(var L=512-(this.VPos>>1),M=this.VPos%128>>1;M<1024;){for(var O=0;O<32;++O)this.U[O]+=this.D[L++]*this.V[j][M++];M+=96,L+=32}for(M=1120-M,L-=480;M<1024;){for(var F=0;F<32;++F)this.U[F]+=this.D[L++]*this.V[j][M++];M+=96,L+=32}for(var U=0===j?e:t,Q=0;Q<32;Q++)U[k+Q]=this.U[Q]/2147418112}k+=32}}return this.sampleRate=u,p},i.readAllocation=function(e,t){var i=n.QUANT_LUT_STEP_3[t][e],r=n.QUANT_LUT_STEP4[15&i][this.bits.read(i>>4)];return r?n.QUANT_TAB[r-1]:0},i.readSamples=function(e,t,i){var r=this.allocation[e][t],o=this.scaleFactor[e][t][i],a=this.sample[e][t],s=0;if(r){if(63===o)o=0;else{var l=o/3|0;o=n.SCALEFACTOR_BASE[o%3]+(1<<l>>1)>>l}var c=r.levels;r.group?(s=this.bits.read(r.bits),a[0]=s%c,s=s/c|0,a[1]=s%c,a[2]=s/c|0):(a[0]=this.bits.read(r.bits),a[1]=this.bits.read(r.bits),a[2]=this.bits.read(r.bits));var u=65536/(c+1)|0;s=((c=(c+1>>1)-1)-a[0])*u,a[0]=s*(o>>12)+(s*(4095&o)+2048>>12)>>12,s=(c-a[1])*u,a[1]=s*(o>>12)+(s*(4095&o)+2048>>12)>>12,s=(c-a[2])*u,a[2]=s*(o>>12)+(s*(4095&o)+2048>>12)>>12}else a[0]=a[1]=a[2]=0},n.MatrixTransform=function(e,t,n,i){var r,o,a,s,l,c,u,d,A,h,p,f,m,g,v,y,b,C,_,E,w,T,S,k,I,B,x,D,P,R,j,L,M;r=e[0][t]+e[31][t],o=.500602998235*(e[0][t]-e[31][t]),a=e[1][t]+e[30][t],s=.505470959898*(e[1][t]-e[30][t]),l=e[2][t]+e[29][t],c=.515447309923*(e[2][t]-e[29][t]),u=e[3][t]+e[28][t],d=.53104259109*(e[3][t]-e[28][t]),A=e[4][t]+e[27][t],h=.553103896034*(e[4][t]-e[27][t]),p=e[5][t]+e[26][t],f=.582934968206*(e[5][t]-e[26][t]),m=e[6][t]+e[25][t],g=.622504123036*(e[6][t]-e[25][t]),v=e[7][t]+e[24][t],y=.674808341455*(e[7][t]-e[24][t]),b=e[8][t]+e[23][t],C=.744536271002*(e[8][t]-e[23][t]),_=e[9][t]+e[22][t],E=.839349645416*(e[9][t]-e[22][t]),w=e[10][t]+e[21][t],T=.972568237862*(e[10][t]-e[21][t]),S=e[11][t]+e[20][t],k=1.16943993343*(e[11][t]-e[20][t]),I=e[12][t]+e[19][t],B=1.48416461631*(e[12][t]-e[19][t]),x=e[13][t]+e[18][t],D=2.05778100995*(e[13][t]-e[18][t]),P=e[14][t]+e[17][t],R=3.40760841847*(e[14][t]-e[17][t]),M=r+(j=e[15][t]+e[16][t]),j=.502419286188*(r-j),r=a+P,P=.52249861494*(a-P),a=l+x,x=.566944034816*(l-x),l=u+I,I=.64682178336*(u-I),u=A+S,S=.788154623451*(A-S),A=p+w,w=1.06067768599*(p-w),p=m+_,_=1.72244709824*(m-_),m=v+b,b=5.10114861869*(v-b),v=M+m,m=.509795579104*(M-m),M=r+p,r=.601344886935*(r-p),p=a+A,A=.899976223136*(a-A),a=l+u,u=2.56291544774*(l-u),l=v+a,v=.541196100146*(v-a),a=M+p,p=1.30656296488*(M-p),M=l+a,l=.707106781187*(l-a),a=v+p,a+=v=.707106781187*(v-p),p=m+u,m=.541196100146*(m-u),u=r+A,A=1.30656296488*(r-A),r=p+u,u=.707106781187*(p-u),p=m+A,r+=p+=m=.707106781187*(m-A),p+=u,u+=m,A=j+b,j=.509795579104*(j-b),b=P+_,P=.601344886935*(P-_),_=x+w,w=.899976223136*(x-w),x=I+S,S=2.56291544774*(I-S),I=A+x,A=.541196100146*(A-x),x=b+_,_=1.30656296488*(b-_),b=I+x,x=.707106781187*(I-x),I=A+_,_=.707106781187*(A-_),A=j+S,j=.541196100146*(j-S),S=P+w,w=1.30656296488*(P-w),P=A+S,S=.707106781187*(A-S),A=j+w,b+=P+=A+=j=.707106781187*(j-w),P+=I+=_,I+=A+=S,A+=x,x+=S+=j,S+=_,_+=j,w=o+(L=10.1900081235*(e[15][t]-e[16][t])),o=.502419286188*(o-L),L=s+R,s=.52249861494*(s-R),R=c+D,D=.566944034816*(c-D),c=d+B,d=.64682178336*(d-B),B=h+k,h=.788154623451*(h-k),k=f+T,T=1.06067768599*(f-T),f=g+E,E=1.72244709824*(g-E),g=y+C,y=5.10114861869*(y-C),C=w+g,g=.509795579104*(w-g),w=L+f,L=.601344886935*(L-f),f=R+k,k=.899976223136*(R-k),R=c+B,B=2.56291544774*(c-B),c=C+R,C=.541196100146*(C-R),R=w+f,f=1.30656296488*(w-f),w=c+R,R=.707106781187*(c-R),c=C+f,f=.707106781187*(C-f),C=g+B,B=.541196100146*(g-B),g=L+k,k=1.30656296488*(L-k),L=C+g,g=.707106781187*(C-g),C=B+k,L+=C+=k=.707106781187*(B-k),C+=g,B=g+k,g=o+y,o=.509795579104*(o-y),y=s+E,s=.601344886935*(s-E),E=D+T,T=.899976223136*(D-T),D=d+h,h=2.56291544774*(d-h),d=g+D,g=.541196100146*(g-D),D=y+E,E=1.30656296488*(y-E),y=d+D,D=.707106781187*(d-D),d=g+E,E=.707106781187*(g-E),g=o+h,o=.541196100146*(o-h),h=s+T,T=1.30656296488*(s-T),s=g+h,h=.707106781187*(g-h),g=o+T,w+=y+=s+=g+=o=.707106781187*(o-T),y+=L,L+=s+=d+=E,s+=c+=f,c+=d+=g+=h,d+=C,C+=g+=D,g+=R,R+=D+=h+=o,D+=B,B+=h+=E,h+=f,f+=E+=o,E+=k,k+=o,n[i+48]=-M,n[i+49]=n[i+47]=-w,n[i+50]=n[i+46]=-b,n[i+51]=n[i+45]=-y,n[i+52]=n[i+44]=-r,n[i+53]=n[i+43]=-L,n[i+54]=n[i+42]=-P,n[i+55]=n[i+41]=-s,n[i+56]=n[i+40]=-a,n[i+57]=n[i+39]=-c,n[i+58]=n[i+38]=-I,n[i+59]=n[i+37]=-d,n[i+60]=n[i+36]=-p,n[i+61]=n[i+35]=-C,n[i+62]=n[i+34]=-A,n[i+63]=n[i+33]=-g,n[i+32]=-l,n[i+0]=l,n[i+31]=-R,n[i+1]=R,n[i+30]=-x,n[i+2]=x,n[i+29]=-D,n[i+3]=D,n[i+28]=-u,n[i+4]=u,n[i+27]=-B,n[i+5]=B,n[i+26]=-S,n[i+6]=S,n[i+25]=-h,n[i+7]=h,n[i+24]=-v,n[i+8]=v,n[i+23]=-f,n[i+9]=f,n[i+22]=-_,n[i+10]=_,n[i+21]=-E,n[i+11]=E,n[i+20]=-m,n[i+12]=m,n[i+19]=-k,n[i+13]=k,n[i+18]=-j,n[i+14]=j,n[i+17]=-o,n[i+15]=o,n[i+16]=0},n}(p);g.FRAME_SYNC=2047,g.VERSION={MPEG_2_5:0,MPEG_2:2,MPEG_1:3},g.LAYER={III:1,II:2,I:3},g.MODE={STEREO:0,JOINT_STEREO:1,DUAL_CHANNEL:2,MONO:3},g.SAMPLE_RATE=new Uint16Array([44100,48e3,32e3,0,22050,24e3,16e3,0]),g.BIT_RATE=new Uint16Array([32,48,56,64,80,96,112,128,160,192,224,256,320,384,8,16,24,32,40,48,56,64,80,96,112,128,144,160]),g.SCALEFACTOR_BASE=new Uint32Array([33554432,26632170,21137968]),g.SYNTHESIS_WINDOW=new Float32Array([0,-.5,-.5,-.5,-.5,-.5,-.5,-1,-1,-1,-1,-1.5,-1.5,-2,-2,-2.5,-2.5,-3,-3.5,-3.5,-4,-4.5,-5,-5.5,-6.5,-7,-8,-8.5,-9.5,-10.5,-12,-13,-14.5,-15.5,-17.5,-19,-20.5,-22.5,-24.5,-26.5,-29,-31.5,-34,-36.5,-39.5,-42.5,-45.5,-48.5,-52,-55.5,-58.5,-62.5,-66,-69.5,-73.5,-77,-80.5,-84.5,-88,-91.5,-95,-98,-101,-104,106.5,109,111,112.5,113.5,114,114,113.5,112,110.5,107.5,104,100,94.5,88.5,81.5,73,63.5,53,41.5,28.5,14.5,-1,-18,-36,-55.5,-76.5,-98.5,-122,-147,-173.5,-200.5,-229.5,-259.5,-290.5,-322.5,-355.5,-389.5,-424,-459.5,-495.5,-532,-568.5,-605,-641.5,-678,-714,-749,-783.5,-817,-849,-879.5,-908.5,-935,-959.5,-981,-1000.5,-1016,-1028.5,-1037.5,-1042.5,-1043.5,-1040,-1031.5,1018.5,1e3,976,946.5,911,869.5,822,767.5,707,640,565.5,485,397,302.5,201,92.5,-22.5,-144,-272.5,-407,-547.5,-694,-846,-1003,-1165,-1331.5,-1502,-1675.5,-1852.5,-2031.5,-2212.5,-2394,-2576.5,-2758.5,-2939.5,-3118.5,-3294.5,-3467.5,-3635.5,-3798.5,-3955,-4104.5,-4245.5,-4377.5,-4499,-4609.5,-4708,-4792.5,-4863.5,-4919,-4958,-4979.5,-4983,-4967.5,-4931.5,-4875,-4796,-4694.5,-4569.5,-4420,-4246,-4046,-3820,-3567,3287,2979.5,2644,2280.5,1888,1467.5,1018.5,541,35,-499,-1061,-1650,-2266.5,-2909,-3577,-4270,-4987.5,-5727.5,-6490,-7274,-8077.5,-8899.5,-9739,-10594.5,-11464.5,-12347,-13241,-14144.5,-15056,-15973.5,-16895.5,-17820,-18744.5,-19668,-20588,-21503,-22410.5,-23308.5,-24195,-25068.5,-25926.5,-26767,-27589,-28389,-29166.5,-29919,-30644.5,-31342,-32009.5,-32645,-33247,-33814.5,-34346,-34839.5,-35295,-35710,-36084.5,-36417.5,-36707.5,-36954,-37156.5,-37315,-37428,-37496,37519,37496,37428,37315,37156.5,36954,36707.5,36417.5,36084.5,35710,35295,34839.5,34346,33814.5,33247,32645,32009.5,31342,30644.5,29919,29166.5,28389,27589,26767,25926.5,25068.5,24195,23308.5,22410.5,21503,20588,19668,18744.5,17820,16895.5,15973.5,15056,14144.5,13241,12347,11464.5,10594.5,9739,8899.5,8077.5,7274,6490,5727.5,4987.5,4270,3577,2909,2266.5,1650,1061,499,-35,-541,-1018.5,-1467.5,-1888,-2280.5,-2644,-2979.5,3287,3567,3820,4046,4246,4420,4569.5,4694.5,4796,4875,4931.5,4967.5,4983,4979.5,4958,4919,4863.5,4792.5,4708,4609.5,4499,4377.5,4245.5,4104.5,3955,3798.5,3635.5,3467.5,3294.5,3118.5,2939.5,2758.5,2576.5,2394,2212.5,2031.5,1852.5,1675.5,1502,1331.5,1165,1003,846,694,547.5,407,272.5,144,22.5,-92.5,-201,-302.5,-397,-485,-565.5,-640,-707,-767.5,-822,-869.5,-911,-946.5,-976,-1e3,1018.5,1031.5,1040,1043.5,1042.5,1037.5,1028.5,1016,1000.5,981,959.5,935,908.5,879.5,849,817,783.5,749,714,678,641.5,605,568.5,532,495.5,459.5,424,389.5,355.5,322.5,290.5,259.5,229.5,200.5,173.5,147,122,98.5,76.5,55.5,36,18,1,-14.5,-28.5,-41.5,-53,-63.5,-73,-81.5,-88.5,-94.5,-100,-104,-107.5,-110.5,-112,-113.5,-114,-114,-113.5,-112.5,-111,-109,106.5,104,101,98,95,91.5,88,84.5,80.5,77,73.5,69.5,66,62.5,58.5,55.5,52,48.5,45.5,42.5,39.5,36.5,34,31.5,29,26.5,24.5,22.5,20.5,19,17.5,15.5,14.5,13,12,10.5,9.5,8.5,8,7,6.5,5.5,5,4.5,4,3.5,3.5,3,2.5,2.5,2,2,1.5,1.5,1,1,1,1,.5,.5,.5,.5,.5,.5]),g.QUANT_LUT_STEP_1=[[0,0,1,1,1,2,2,2,2,2,2,2,2,2],[0,0,0,0,0,0,1,1,1,2,2,2,2,2]],g.QUANT_TAB={A:91,B:94,C:8,D:12},g.QUANT_LUT_STEP_2=[[g.QUANT_TAB.C,g.QUANT_TAB.C,g.QUANT_TAB.D],[g.QUANT_TAB.A,g.QUANT_TAB.A,g.QUANT_TAB.A],[g.QUANT_TAB.B,g.QUANT_TAB.A,g.QUANT_TAB.B]],g.QUANT_LUT_STEP_3=[[68,68,52,52,52,52,52,52,52,52,52,52],[67,67,67,66,66,66,66,66,66,66,66,49,49,49,49,49,49,49,49,49,49,49,49,32,32,32,32,32,32,32],[69,69,69,69,52,52,52,52,52,52,52,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36]],g.QUANT_LUT_STEP4=[[0,1,2,17],[0,1,2,3,4,5,6,17],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17],[0,1,3,5,6,7,8,9,10,11,12,13,14,15,16,17],[0,1,2,4,5,6,7,8,9,10,11,12,13,14,15,17],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]],g.QUANT_TAB=[{levels:3,group:1,bits:5},{levels:5,group:1,bits:7},{levels:7,group:0,bits:3},{levels:9,group:1,bits:10},{levels:15,group:0,bits:4},{levels:31,group:0,bits:5},{levels:63,group:0,bits:6},{levels:127,group:0,bits:7},{levels:255,group:0,bits:8},{levels:511,group:0,bits:9},{levels:1023,group:0,bits:10},{levels:2047,group:0,bits:11},{levels:4095,group:0,bits:12},{levels:8191,group:0,bits:13},{levels:16383,group:0,bits:14},{levels:32767,group:0,bits:15},{levels:65535,group:0,bits:16}];var v=function(e){function n(t){var n;return(n=e.call(this,t)||this).onDecodeCallback=t.onAudioDecode,n.module=t.wasmModule,n.bufferSize=t.audioBufferSize||131072,n.bufferMode=t.streaming?A.MODE.EVICT:A.MODE.EXPAND,n.sampleRate=0,n}t(n,e);var i=n.prototype;return i.initializeWasmDecoder=function(){this.module.instance&&(this.instance=this.module.instance,this.functions=this.module.instance.exports,this.decoder=this.functions._mp2_decoder_create(this.bufferSize,this.bufferMode))},i.destroy=function(){this.decoder&&this.functions._mp2_decoder_destroy(this.decoder)},i.bufferGetIndex=function(){if(this.decoder)return this.functions._mp2_decoder_get_index(this.decoder)},i.bufferSetIndex=function(e){this.decoder&&this.functions._mp2_decoder_set_index(this.decoder,e)},i.bufferWrite=function(e){this.decoder||this.initializeWasmDecoder();for(var t=0,n=0;n<e.length;n++)t+=e[n].length;for(var i=this.functions._mp2_decoder_get_write_ptr(this.decoder,t),r=0;r<e.length;r++)this.instance.heapU8.set(e[r],i),i+=e[r].length;return this.functions._mp2_decoder_did_write(this.decoder,t),t},i.decode=function(){var e=a();if(!this.decoder)return!1;if(0===this.functions._mp2_decoder_decode(this.decoder))return!1;if(this.sampleRate||(this.sampleRate=this.functions._mp2_decoder_get_sample_rate(this.decoder)),this.destination){var t=this.functions._mp2_decoder_get_left_channel_ptr(this.decoder),i=this.functions._mp2_decoder_get_right_channel_ptr(this.decoder),r=t/Float32Array.BYTES_PER_ELEMENT,o=i/Float32Array.BYTES_PER_ELEMENT,s=this.instance.heapF32.subarray(r,r+n.SAMPLES_PER_FRAME),l=this.instance.heapF32.subarray(o,o+n.SAMPLES_PER_FRAME);this.destination.play(this.sampleRate,s,l)}this.advanceDecodedTime(n.SAMPLES_PER_FRAME/this.sampleRate);var c=a()-e;return this.onDecodeCallback&&this.onDecodeCallback(this,c),!0},i.getCurrentTime=function(){var e=this.destination?this.destination.enqueuedTime:0;return this.decodedTime-e},n}(p);v.SAMPLES_PER_FRAME=1152;var y=function(){function e(e){this.canvas=e.canvas||document.createElement("canvas"),this.width=this.canvas.width,this.height=this.canvas.height,this.enabled=!0,this.contextLost=!1,this.hasTextureData={};var t={preserveDrawingBuffer:!!e.preserveDrawingBuffer,alpha:!1,depth:!1,stencil:!1,antialias:!1,premultipliedAlpha:!1};if(this.gl=this.canvas.getContext("webgl",t)||this.canvas.getContext("experimental-webgl",t),!this.gl)throw new Error("Failed to get WebGL Context");this.canvas.addEventListener("webglcontextlost",this.handleContextLost.bind(this),!1),this.canvas.addEventListener("webglcontextrestored",this.handleContextRestored.bind(this),!1),this.initGL()}var t=e.prototype;return t.initGL=function(){this.hasTextureData={};var t=this.gl,n=null;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.vertexBuffer=t.createBuffer();var i=new Float32Array([0,0,0,1,1,0,1,1]);t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW),this.program=this.createProgram(e.SHADER.VERTEX_IDENTITY,e.SHADER.FRAGMENT_YCRCB_TO_RGBA),n=t.getAttribLocation(this.program,"vertex"),t.enableVertexAttribArray(n),t.vertexAttribPointer(n,2,t.FLOAT,!1,0,0),this.textureY=this.createTexture(0,"textureY"),this.textureCb=this.createTexture(1,"textureCb"),this.textureCr=this.createTexture(2,"textureCr"),this.loadingProgram=this.createProgram(e.SHADER.VERTEX_IDENTITY,e.SHADER.FRAGMENT_LOADING),n=t.getAttribLocation(this.loadingProgram,"vertex"),t.enableVertexAttribArray(n),t.vertexAttribPointer(n,2,t.FLOAT,!1,0,0),this.shouldCreateUnclampedViews=!this.allowsClampedTextureData()},t.handleContextLost=function(e){e.preventDefault(),this.contextLost=!0},t.handleContextRestored=function(){this.initGL(),this.contextLost=!1},t.destroy=function(){if(!this.contextLost){var e=this.gl;this.deleteTexture(e.TEXTURE0,this.textureY),this.deleteTexture(e.TEXTURE1,this.textureCb),this.deleteTexture(e.TEXTURE2,this.textureCr),e.useProgram(null),e.deleteProgram(this.program),e.deleteProgram(this.loadingProgram),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.vertexBuffer),e.getExtension("WEBGL_lose_context").loseContext(),this.canvas.remove(),this.contextLost=!0}},t.resize=function(e,t){this.width=0|e,this.height=0|t,this.canvas.width=this.width,this.canvas.height=this.height,this.gl.useProgram(this.program);var n=this.width+15>>4<<4;this.gl.viewport(0,0,n,this.height)},t.createTexture=function(e,t){var n=this.gl,i=n.createTexture();return n.bindTexture(n.TEXTURE_2D,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.uniform1i(n.getUniformLocation(this.program,t),e),i},t.createProgram=function(e,t){var n=this.gl,i=n.createProgram();return n.attachShader(i,this.compileShader(n.VERTEX_SHADER,e)),n.attachShader(i,this.compileShader(n.FRAGMENT_SHADER,t)),n.linkProgram(i),n.useProgram(i),i},t.compileShader=function(e,t){var n=this.gl,i=n.createShader(e);if(n.shaderSource(i,t),n.compileShader(i),!n.getShaderParameter(i,n.COMPILE_STATUS))throw new Error(n.getShaderInfoLog(i));return i},t.allowsClampedTextureData=function(){var e=this.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,1,1,0,e.LUMINANCE,e.UNSIGNED_BYTE,new Uint8ClampedArray([0])),0===e.getError()},t.renderProgress=function(e){var t=this.gl;t.useProgram(this.loadingProgram);var n=t.getUniformLocation(this.loadingProgram,"progress");t.uniform1f(n,e),t.drawArrays(t.TRIANGLE_STRIP,0,4)},t.render=function(e,t,n,i){if(this.enabled){var r=this.gl,o=this.width+15>>4<<4,a=this.height,s=o>>1,l=a>>1;i&&this.shouldCreateUnclampedViews&&(e=new Uint8Array(e.buffer),t=new Uint8Array(t.buffer),n=new Uint8Array(n.buffer)),r.useProgram(this.program),this.updateTexture(r.TEXTURE0,this.textureY,o,a,e),this.updateTexture(r.TEXTURE1,this.textureCb,s,l,t),this.updateTexture(r.TEXTURE2,this.textureCr,s,l,n),r.drawArrays(r.TRIANGLE_STRIP,0,4)}},t.updateTexture=function(e,t,n,i,r){var o=this.gl;o.activeTexture(e),o.bindTexture(o.TEXTURE_2D,t),this.hasTextureData[e]?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n,i,o.LUMINANCE,o.UNSIGNED_BYTE,r):(this.hasTextureData[e]=!0,o.texImage2D(o.TEXTURE_2D,0,o.LUMINANCE,n,i,0,o.LUMINANCE,o.UNSIGNED_BYTE,r))},t.deleteTexture=function(e,t){var n=this.gl;n.activeTexture(e),n.bindTexture(n.TEXTURE_2D,null),n.deleteTexture(t)},e.IsSupported=function(){try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas");return!(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}},e}();y.SHADER={FRAGMENT_YCRCB_TO_RGBA:["precision mediump float;","uniform sampler2D textureY;","uniform sampler2D textureCb;","uniform sampler2D textureCr;","varying vec2 texCoord;","mat4 rec601 = mat4(","1.16438,  0.00000,  1.59603, -0.87079,","1.16438, -0.39176, -0.81297,  0.52959,","1.16438,  2.01723,  0.00000, -1.08139,","0, 0, 0, 1",");","void main() {","float y = texture2D(textureY, texCoord).r;","float cb = texture2D(textureCb, texCoord).r;","float cr = texture2D(textureCr, texCoord).r;","gl_FragColor = vec4(y, cr, cb, 1.0) * rec601;","}"].join("\n"),FRAGMENT_LOADING:["precision mediump float;","uniform float progress;","varying vec2 texCoord;","void main() {","float c = ceil(progress-(1.0-texCoord.y));","gl_FragColor = vec4(c,c,c,1);","}"].join("\n"),VERTEX_IDENTITY:["attribute vec2 vertex;","varying vec2 texCoord;","void main() {","texCoord = vertex;","gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);","}"].join("\n")};var b=function(){function e(e){this.canvas=e.canvas||document.createElement("canvas"),this.width=this.canvas.width,this.height=this.canvas.height,this.enabled=!0,this.context=this.canvas.getContext("2d")}var t=e.prototype;return t.destroy=function(){},t.resize=function(e,t){this.width=0|e,this.height=0|t,this.canvas.width=this.width,this.canvas.height=this.height,this.imageData=this.context.getImageData(0,0,this.width,this.height),s(this.imageData.data,255)},t.renderProgress=function(e){var t=this.canvas.width,n=this.canvas.height,i=this.context;i.fillStyle="#222",i.fillRect(0,0,t,n),i.fillStyle="#fff",i.fillRect(0,n-n*e,t,n*e)},t.render=function(e,t,n){this.YCbCrToRGBA(e,t,n,this.imageData.data),this.context.putImageData(this.imageData,0,0)},t.YCbCrToRGBA=function(e,t,n,i){if(this.enabled)for(var r,o,a,s,l,c=this.width+15>>4<<4,u=c>>1,d=0,A=c,h=c+(c-this.width),p=0,f=u-(this.width>>1),m=0,g=4*this.width,v=4*this.width,y=this.width>>1,b=this.height>>1,C=0;C<b;C++){for(var _=0;_<y;_++){r=t[p],o=n[p],p++,a=r+(103*r>>8)-179,s=(88*o>>8)-44+(183*r>>8)-91,l=o+(198*o>>8)-227;var E=e[d++],w=e[d++];i[m]=E+a,i[m+1]=E-s,i[m+2]=E+l,i[m+4]=w+a,i[m+5]=w-s,i[m+6]=w+l,m+=8;var T=e[A++],S=e[A++];i[g]=T+a,i[g+1]=T-s,i[g+2]=T+l,i[g+4]=S+a,i[g+5]=S-s,i[g+6]=S+l,g+=8}d+=h,A+=h,m+=v,g+=v,p+=f}},e}(),C=function(){function e(){this.context=e.CachedContext=e.CachedContext||new(window.AudioContext||window.webkitAudioContext),this.gain=this.context.createGain(),this.destination=this.gain,this.gain.connect(this.context.destination),this.context._connections=(this.context._connections||0)+1,this.startTime=0,this.buffer=null,this.wallclockStartTime=0,this.volume=1,this.enabled=!0,this.unlocked=!e.NeedsUnlocking(),Object.defineProperty(this,"enqueuedTime",{get:this.getEnqueuedTime})}var t=e.prototype;return t.destroy=function(){this.gain.disconnect(),this.context._connections--,0===this.context._connections&&(this.context.close(),e.CachedContext=null)},t.play=function(e,t,n){if(this.enabled){if(!this.unlocked){var i=a();return this.wallclockStartTime<i&&(this.wallclockStartTime=i),void(this.wallclockStartTime+=t.length/e)}this.gain.gain.value=this.volume;var r=this.context.createBuffer(2,t.length,e);r.getChannelData(0).set(t),r.getChannelData(1).set(n);var o=this.context.createBufferSource();o.buffer=r,o.connect(this.destination);var s=this.context.currentTime,l=r.duration;this.startTime<s&&(this.startTime=s,this.wallclockStartTime=a()),o.start(this.startTime),this.startTime+=l,this.wallclockStartTime+=l}},t.stop=function(){this.gain.gain.value=0},t.getEnqueuedTime=function(){return Math.max(this.wallclockStartTime-a(),0)},t.resetEnqueuedTime=function(){this.startTime=this.context.currentTime,this.wallclockStartTime=a()},t.unlock=function(e){if(this.unlocked)e&&e();else{this.unlockCallback=e;var t=this.context.createBuffer(1,1,22050),n=this.context.createBufferSource();n.buffer=t,n.connect(this.destination),n.start?n.start(0):n.noteOn(0),setTimeout(this.checkIfUnlocked.bind(this,n,0),0)}},t.checkIfUnlocked=function(e,t){e.playbackState===e.PLAYING_STATE||e.playbackState===e.FINISHED_STATE?(this.unlocked=!0,this.unlockCallback&&(this.unlockCallback(),this.unlockCallback=null)):t<10&&setTimeout(this.checkIfUnlocked.bind(this,e,t+1),100)},e.NeedsUnlocking=function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},e.IsSupported=function(){return window.AudioContext||window.webkitAudioContext},e}();C.CachedContext=null;var _=function(){function e(){this.stackSize=5242880,this.pageSize=65536,this.onInitCallbacks=[],this.ready=!1,this.loadingFromFileStarted=!1,this.loadingFromBufferStarted=!1}var t=e.prototype;return t.write=function(e){this.loadFromBuffer(e)},t.loadFromFile=function(e,t){if(t&&this.onInitCallbacks.push(t),!this.loadingFromFileStarted){this.loadingFromFileStarted=!0,this.onInitCallback=t;var n=new c(e,{});n.connect(this),n.start()}},t.loadFromBuffer=function(e,t){var n=this;if(t&&this.onInitCallbacks.push(t),!this.loadingFromBufferStarted)if(this.loadingFromBufferStarted=!0,this.moduleInfo=this.readDylinkSection(e),this.moduleInfo){this.memory=new WebAssembly.Memory({initial:256});var i={memory:this.memory,memoryBase:0,__memory_base:0,table:new WebAssembly.Table({initial:this.moduleInfo.tableSize,element:"anyfunc"}),tableBase:0,__table_base:0,abort:this.c_abort.bind(this),___assert_fail:this.c_assertFail.bind(this),_sbrk:this.c_sbrk.bind(this)};this.brk=this.align(this.moduleInfo.memorySize+this.stackSize),WebAssembly.instantiate(e,{env:i}).then((function(e){n.instance=e.instance,n.instance.exports.__post_instantiate&&n.instance.exports.__post_instantiate(),n.createHeapViews(),n.ready=!0;for(var t=0;t<n.onInitCallbacks.length;t++)n.onInitCallbacks[t](n)}))}else for(var r=0;r<this.onInitCallbacks.length;r++)this.onInitCallbacks[r](null)},t.createHeapViews=function(){this.instance.heapU8=new Uint8Array(this.memory.buffer),this.instance.heapU32=new Uint32Array(this.memory.buffer),this.instance.heapF32=new Float32Array(this.memory.buffer)},t.align=function(e){var t=Math.pow(2,this.moduleInfo.memoryAlignment);return Math.ceil(e/t)*t},t.c_sbrk=function(e){var t=this.brk;if(this.brk+=e,this.brk>this.memory.buffer.byteLength){var n=this.brk-this.memory.buffer.byteLength,i=Math.ceil(n/this.pageSize);this.memory.grow(i),this.createHeapViews()}return t},t.c_abort=function(e){},t.c_assertFail=function(e){},t.readDylinkSection=function(e){var t=new Uint8Array(e),n=0,i=function(){for(var e=0,i=1;;){var r=t[n++];if(e+=(127&r)*i,i*=128,!(128&r))return e}},r=function(e){for(var i=0;i<e.length;i++){var r="string"==typeof e[i]?e[i].charCodeAt(0):e[i];if(t[n++]!==r)return!1}return!0};return r([0,"a","s","m"])?(n=9,i(),r([6,"d","y","l","i","n","k"])?{memorySize:i(),memoryAlignment:i(),tableSize:i(),tableAlignment:i()}:null):null},e.IsSupported=function(){return!!window.WebAssembly},e.GetModule=function(){return e.CACHED_MODULE=e.CACHED_MODULE||new e,e.CACHED_MODULE},e}(),E="AGFzbQEAAAAADwZkeWxpbmuA0MACBAAAAAE0CWAEf39/fwBgAX8Bf2ACf38Bf2ABfwBgAn9/AGABfwF9YAZ/f39/f38AYAN/f38Bf2AAAAJGBANlbnYOX19fYXNzZXJ0X2ZhaWwAAANlbnYFX3NicmsAAQNlbnYNX19tZW1vcnlfYmFzZQN/AANlbnYGbWVtb3J5AgCAAgM9PAIDAgEEBAMBBQEBAQEBAQEDBAMGAwQAAwAAAAIDAgEEBAEBAQEBAAACAwIBAgECAQEBAQMEAwMCBwcHCAYLAn8BQQALfwFBAAsHggYfEl9fcG9zdF9pbnN0YW50aWF0ZQA9BV9mcmVlADgHX21hbGxvYwAxB19tZW1jcHkAOghfbWVtbW92ZQA7B19tZW1zZXQAPBNfbXAyX2RlY29kZXJfY3JlYXRlAB0TX21wMl9kZWNvZGVyX2RlY29kZQAmFF9tcDJfZGVjb2Rlcl9kZXN0cm95AB4WX21wMl9kZWNvZGVyX2RpZF93cml0ZQAiFl9tcDJfZGVjb2Rlcl9nZXRfaW5kZXgAICFfbXAyX2RlY29kZXJfZ2V0X2xlZnRfY2hhbm5lbF9wdHIAJCJfbXAyX2RlY29kZXJfZ2V0X3JpZ2h0X2NoYW5uZWxfcHRyACUcX21wMl9kZWNvZGVyX2dldF9zYW1wbGVfcmF0ZQAjGl9tcDJfZGVjb2Rlcl9nZXRfd3JpdGVfcHRyAB8WX21wMl9kZWNvZGVyX3NldF9pbmRleAAhFV9tcGVnMV9kZWNvZGVyX2NyZWF0ZQACFV9tcGVnMV9kZWNvZGVyX2RlY29kZQARFl9tcGVnMV9kZWNvZGVyX2Rlc3Ryb3kAAxhfbXBlZzFfZGVjb2Rlcl9kaWRfd3JpdGUABxlfbXBlZzFfZGVjb2Rlcl9nZXRfY2JfcHRyABAdX21wZWcxX2RlY29kZXJfZ2V0X2NvZGVkX3NpemUACxlfbXBlZzFfZGVjb2Rlcl9nZXRfY3JfcHRyAA8dX21wZWcxX2RlY29kZXJfZ2V0X2ZyYW1lX3JhdGUAChlfbXBlZzFfZGVjb2Rlcl9nZXRfaGVpZ2h0AA0YX21wZWcxX2RlY29kZXJfZ2V0X2luZGV4AAUYX21wZWcxX2RlY29kZXJfZ2V0X3dpZHRoAAwcX21wZWcxX2RlY29kZXJfZ2V0X3dyaXRlX3B0cgAEGF9tcGVnMV9kZWNvZGVyX2dldF95X3B0cgAOIl9tcGVnMV9kZWNvZGVyX2hhc19zZXF1ZW5jZV9oZWFkZXIACRhfbXBlZzFfZGVjb2Rlcl9zZXRfaW5kZXgABgql2AE8IQEBf0GcBBAxIgJBAEGcBBA8GiACIAAgARAqNgKAASACC08AIAAoAoABECsgAEFAaygCAEUEQCAAEDgPCyAAKAKEARA4IAAoAogBEDggACgCjAEQOCAAKAKQARA4IAAoApQBEDggACgCmAEQOCAAEDgLDAAgACgCgAEgARAsCwsAIAAoAoABKAIECw0AIAAoAoABIAE2AgQLOQEBfyAAKAKAASICIAEgAigCDGo2AgwgAEFAaygCAARADwsgACgCgAFBswEQLkF/RgRADwsgABAIC6sGAQt/IAAoAgQhAiAAKAIIIQMgACAAKAKAAUEMEDA2AgQgACAAKAKAAUEMEDA2AgggACgCgAEiASABKAIEQQRqNgIEIAAoAoABQQQQMCEBIAAjACABQQJ0aigCADYCACAAKAKAASIBIAEoAgRBHmo2AgQgACgCgAFBARAwBEBBACEBA0AgACgCgAFBCBAwQf8BcSEEIAEjAEFAa2otAAAgAEGcA2pqIAQ6AAAgAUEBaiIBQcAARw0ACwUgACMAKQKAATcCnAMgACMAKQKIATcCpAMgACMAKQKQATcCrAMgACMAKQKYATcCtAMgACMAKQKgATcCvAMgACMAKQKoATcCxAMgACMAKQKwATcCzAMgACMAKQK4ATcC1AMLIAAoAoABQQEQMARAQQAhAQNAIAEjAEFAa2otAAAgAEHcA2pqIAAoAoABQQgQMDoAACABQQFqIgFBwABHDQALBSAAQpCgwICBgoSIEDcC3AMgAEKQoMCAgYKEiBA3AuQDIABCkKDAgIGChIgQNwLsAyAAQpCgwICBgoSIEDcC9AMgAEKQoMCAgYKEiBA3AvwDIABCkKDAgIGChIgQNwKEBCAAQpCgwICBgoSIEDcCjAQgAEKQoMCAgYKEiBA3ApQECyAAQUBrIgsoAgAEQCACIAAoAgRGBEAgAyAAKAIIRgRADwsLIABBhAFqIgMoAgAQOCAAQYgBaiIEKAIAEDggAEGMAWoiBigCABA4IABBkAFqIgcoAgAQOCAAQZQBaiIIKAIAEDggAEGYAWoiASgCABA4BSAAQZgBaiEBIABBjAFqIQYgAEGIAWohBCAAQZQBaiEIIABBhAFqIQMgAEGQAWohBwsgACAAKAIEQQ9qIgJBBHUiCTYCDCAAIAAoAghBD2oiBUEEdSIKNgIQIAAgCSAKbDYCFCAAIAJBcHEiAjYCGCAAIAVBcHEiBTYCHCAAIAIgBWwiAjYCICAAIAlBA3Q2AiQgACAKQQN0NgIoIAMgAhAxNgIAIAQgAkECdSIAEDE2AgAgBiAAEDE2AgAgByACEDE2AgAgCCAAEDE2AgAgASAAEDE2AgAgC0EBNgIACwoAIABBQGsoAgALBwAgACoCAAsHACAAKAIgCwcAIAAoAgQLBwAgACgCCAsIACAAKAKQAQsIACAAKAKUAQsIACAAKAKYAQsqACAAQUBrKAIARQRAQQAPCyAAKAKAAUEAEC5Bf0YEQEEADwsgABASQQEL3wIBAn8jASECIwFBEGokASAAKAKAASIBIAEoAgRBCmo2AgQgACAAKAKAAUEDEDA2AiwgACgCgAEiASABKAIEQRBqNgIEIAAoAiwiAUF/akEBSwRAIAIkAQ8LIAFBAkYEQCAAIAAoAoABQQEQMDYCMCAAIAAoAoABQQMQMCIBNgI0IAEEQCAAIAFBf2oiATYCOCAAQQEgAXQ2AjwFIAIkAQ8LCwNAAkAgACgCgAEQLSIBQbIBaw4EAQAAAQALCyABQX9qQa8BSQRAA0AgACABQf8BcRATIAAoAoABEC0iAUF/akGvAUkNAAsLIAFBf0cEQCAAKAKAASIBIAEoAgRBIGs2AgQLIAAoAixBf2pBAk8EQCACJAEPCyACIAApApABNwIAIAIgACgCmAE2AgggACAAKQKEATcCkAEgACAAKAKMATYCmAEgACACKQIANwKEASAAIAIoAgg2AowBIAIkAQuSAQAgAEEBNgJIIAAgACgCDCABQX9qbEF/ajYCTCAAQgA3AmQgAEIANwJsIABBgAE2AnQgAEGAATYCeCAAQYABNgJ8IAAgACgCgAFBBRAwNgJEIAAoAoABQQEQMARAA0AgACgCgAEiASABKAIEQQhqNgIEIAAoAoABQQEQMA0ACwsDQCAAEBQgACgCgAEQL0UNAAsLngkBBH8gACgCgAEhAgJAAkADQAJAIAJBARAwIAFqIQEjAEHAAWogAUECdGooAgAiAUF/TA0AIwBBwAFqIAFBAnRqKAIADQEMAgsLIAFBAmohAkEAIQEMAQsgAUECaiIBQbwBRgRAAkADQAJAIAAoAoABIQJBACEBA0AgAkEBEDAgAWohASMAQcABaiABQQJ0aigCACIBQX9MDQEjAEHAAWogAUECdGooAgANAAsgAUECaiIBQbwBRg0BDAILCyABQQJqIQJBACEBDAILCyABQbkBRgRAQQAhAQNAAkAgAUEhaiEBIAAoAoABIQNBACECA0AgA0EBEDAgAmohAiMAQcABaiACQQJ0aigCACICQX9MDQEjAEHAAWogAkECdGooAgANAAsgAkECaiICQbkBRg0BDAMLCyACQQJqIQIFIAEhAkEAIQELCyABIwBBwAFqIAJBAnRqKAIAaiECIAAoAkgEQCAAQQA2AkggACAAKAJMIAJqIgE2AkwFAkAgACgCTCIBIAJqIAAoAhROBEAPCyACQQFMBEAgACABQQFqIgE2AkwMAQsgAEGAATYCdCAAQYABNgJ4IABBgAE2AnwgACgCLEECRgRAIABCADcCZCAAQgA3AmwLIAAgAUEBaiIBNgJMA0AgACABIAAoAgwiBG0iAzYCUCAAIAEgAyAEbGs2AlQgACAAKAJkIAAoAmggACgCkAEgACgClAEgACgCmAEQFSACQX9qIQMgACAAKAJMQQFqIgE2AkwgAkECSgRAIAMhAgwBCwsLCyAAIAEgACgCDCIDbSICNgJQIAAgASACIANsazYCVAJAAkACQAJAIAAoAixBAWsOAgABAgsgACgCgAEhAkEAIQEDQAJAIAJBARAwIAFqIQMjAEHQCGogA0ECdGooAgAhASADQQNGDQBB5A0gAXZBAXFFDQELCyAAQdgAaiIDIwAgAUECdGpB2AhqKAIAIgI2AgAgAyEBDAILIAAoAoABIQJBACEBA0ACQCACQQEQMCABaiEDIwBBgAlqIANBAnRqKAIAIQEgA0EbRg0AIwBBgAlqIAFBAnRqKAIADQELCyAAQdgAaiIDIwAgAUECdGpBiAlqKAIAIgI2AgAgAyEBDAELIABB2ABqIgEoAgAhAgsgACACQQFxIgM2AlwgACACQQhxNgJgIAJBEHEEQCAAIAAoAoABQQUQMDYCRCAAKAJcIQMLIAMEQCAAQgA3AmQgAEIANwJsBSAAQYABNgJ0IABBgAE2AnggAEGAATYCfCAAEBYgACAAKAJkIAAoAmggACgCkAEgACgClAEgACgCmAEQFQsgASgCAEECcQR/IAAoAoABIQJBACEBA0ACQCACQQEQMCABaiEDIwBBsApqIANBAnRqKAIAIQEgA0HDAUYNACMAQbAKaiABQQJ0aigCAA0BCwsjACABQQJ0akG4CmooAgAFQT9BACAAKAJcGwsiAUEgcQRAIABBABAXCyABQRBxBEAgAEEBEBcLIAFBCHEEQCAAQQIQFwsgAUEEcQRAIABBAxAXCyABQQJxBEAgAEEEEBcLIAFBAXFFBEAPCyAAQQUQFwuEJwEPfyAAKAKEASEKIAAoAowBIRAgACgCiAEhESAAKAIYIghBcGohCyACQQFxQQBHIQwgACgCVCIJQQR0IAFBAXVqIAggACgCUCINQQR0IAJBAXVqbGohByAJIAggDWxqQQJ0IgkgCEECdCIGaiENIAZBAEohBgJAIAFBAXEEQCAMBEAgBkUNAiALQQJ1IQsDQCAJQQJ0IApqIAMgB0EDaiIGai0AACADIAYgCGpqLQAAaiIGIAMgB0EEaiIMai0AACADIAggDGpqLQAAaiIMakEWdEGAgIAEakGAgIB4cSADIAdBAmoiDmotAAAgAyAIIA5qai0AAGoiDiAGakEOdEGAgAJqQYCA/AdxIAMgB0EBaiIGai0AACADIAYgCGpqLQAAaiIGIAMgB2otAAAgAyAHIAhqai0AAGpBAmpqQQJ2Qf8BcSAGIA5qQQZ0QYABakGA/gNxcnJyNgIAIAlBAWpBAnQgCmogAyAHQQdqIgZqLQAAIAMgBiAIamotAABqIgYgAyAHQQhqIg5qLQAAIAMgCCAOamotAABqIg5qQRZ0QYCAgARqQYCAgHhxIAMgB0EGaiIPai0AACADIAggD2pqLQAAaiIPIAZqQQ50QYCAAmpBgID8B3EgAyAHQQVqIgZqLQAAIAMgBiAIamotAABqIgYgDEECampBAnZB/wFxIAYgD2pBBnRBgAFqQYD+A3FycnI2AgAgCUECakECdCAKaiADIAdBC2oiBmotAAAgAyAGIAhqai0AAGoiBiADIAdBDGoiDGotAAAgAyAIIAxqai0AAGoiDGpBFnRBgICABGpBgICAeHEgAyAHQQpqIg9qLQAAIAMgCCAPamotAABqIg8gBmpBDnRBgIACakGAgPwHcSADIAdBCWoiBmotAAAgAyAGIAhqai0AAGoiBiAOQQJqakECdkH/AXEgBiAPakEGdEGAAWpBgP4DcXJycjYCACAJQQNqQQJ0IApqIAMgB0EPaiIGai0AACADIAYgCGpqLQAAaiIGIAMgB0EQaiIOai0AACADIAggDmpqLQAAampBFnRBgICABGpBgICAeHEgAyAHQQ5qIg5qLQAAIAMgCCAOamotAABqIg4gBmpBDnRBgIACakGAgPwHcSADIAdBDWoiBmotAAAgAyAGIAhqai0AAGoiBiAMQQJqakECdkH/AXEgBiAOakEGdEGAAWpBgP4DcXJycjYCACAHIAhqIQcgCUEEaiALaiIJIA1IDQALBSAGRQ0CIAtBAnUhCwNAIAlBAnQgCmogAyAHQQNqai0AACIGIAMgB0EEamotAAAiDGpBF3RBgICABGpBgICAeHEgAyAHQQJqai0AACIOIAZqQQ90QYCAAmpBgID8B3EgDiADIAdBAWpqLQAAIgZqQQd0QYABakGA/gNxIAMgB2otAABBAWogBmpBAXZB/wFxcnJyNgIAIAlBAWpBAnQgCmogAyAHQQdqai0AACIGIAMgB0EIamotAAAiDmpBF3RBgICABGpBgICAeHEgAyAHQQZqai0AACIPIAZqQQ90QYCAAmpBgID8B3EgDyADIAdBBWpqLQAAIgZqQQd0QYABakGA/gNxIAxBAWogBmpBAXZB/wFxcnJyNgIAIAlBAmpBAnQgCmogAyAHQQtqai0AACIGIAMgB0EMamotAAAiDGpBF3RBgICABGpBgICAeHEgAyAHQQpqai0AACIPIAZqQQ90QYCAAmpBgID8B3EgDyADIAdBCWpqLQAAIgZqQQd0QYABakGA/gNxIA5BAWogBmpBAXZB/wFxcnJyNgIAIAlBA2pBAnQgCmogAyAHQQ9qai0AACIGIAMgB0EQamotAABqQRd0QYCAgARqQYCAgHhxIAMgB0EOamotAAAiDiAGakEPdEGAgAJqQYCA/AdxIA4gAyAHQQ1qai0AACIGakEHdEGAAWpBgP4DcSAMQQFqIAZqQQF2Qf8BcXJycjYCACAHIAhqIQcgCUEEaiALaiIJIA1IDQALCwUgDARAIAZFDQIgC0ECdSELA0AgCUECdCAKaiADIAdBA2oiBmotAAAgAyAGIAhqai0AAGpBF3RBgICABGpBgICAeHEgAyAHQQJqIgZqLQAAIAMgBiAIamotAABqQQ90QYCAAmpBgID8B3EgAyAHIAhqai0AACADIAdqLQAAQQFqakEBdkH/AXEgAyAHQQFqIgZqLQAAIAMgBiAIamotAABqQQd0QYABakGA/gNxcnJyNgIAIAlBAWpBAnQgCmogAyAHQQdqIgZqLQAAIAMgBiAIamotAABqQRd0QYCAgARqQYCAgHhxIAMgB0EGaiIGai0AACADIAYgCGpqLQAAakEPdEGAgAJqQYCA/AdxIAMgB0EEaiIGai0AAEEBaiADIAYgCGpqLQAAakEBdkH/AXEgAyAHQQVqIgZqLQAAIAMgBiAIamotAABqQQd0QYABakGA/gNxcnJyNgIAIAlBAmpBAnQgCmogAyAHQQtqIgZqLQAAIAMgBiAIamotAABqQRd0QYCAgARqQYCAgHhxIAMgB0EKaiIGai0AACADIAYgCGpqLQAAakEPdEGAgAJqQYCA/AdxIAMgB0EIaiIGai0AAEEBaiADIAYgCGpqLQAAakEBdkH/AXEgAyAHQQlqIgZqLQAAIAMgBiAIamotAABqQQd0QYABakGA/gNxcnJyNgIAIAlBA2pBAnQgCmogAyAHQQ9qIgZqLQAAIAMgBiAIamotAABqQRd0QYCAgARqQYCAgHhxIAMgB0EOaiIGai0AACADIAYgCGpqLQAAakEPdEGAgAJqQYCA/AdxIAMgB0EMaiIGai0AAEEBaiADIAYgCGpqLQAAakEBdkH/AXEgAyAHQQ1qIgZqLQAAIAMgBiAIamotAABqQQd0QYABakGA/gNxcnJyNgIAIAcgCGohByAJQQRqIAtqIgkgDUgNAAsFIAZFDQIgC0ECdSELA0AgCUECdCAKaiADIAdqLQAAIAMgB0EBamotAABBCHRyIAMgB0ECamotAABBEHRyIAMgB0EDamotAABBGHRyNgIAIAlBAWpBAnQgCmogAyAHQQRqai0AACADIAdBBWpqLQAAQQh0ciADIAdBBmpqLQAAQRB0ciADIAdBB2pqLQAAQRh0cjYCACAJQQJqQQJ0IApqIAMgB0EIamotAAAgAyAHQQlqai0AAEEIdHIgAyAHQQpqai0AAEEQdHIgAyAHQQtqai0AAEEYdHI2AgAgCUEDakECdCAKaiADIAdBDGpqLQAAIAMgB0ENamotAABBCHRyIAMgB0EOamotAABBEHRyIAMgB0EPamotAABBGHRyNgIAIAcgCGohByAJQQRqIAtqIgkgDUgNAAsLCwsgACgCJCIDQXhqIQcgAkECbSICQQFxQQBHIQggACgCVCIJQQN0IAFBAm0iCkEBdWogAyAAKAJQIgFBA3QgAkEBdWpsaiEAIAkgASADbGpBAXQiASADQQF0IglqIQIgCUEASiEJIApBAXEEQCAIBEAgCUUEQA8LIAdBAnUhDgNAIAMgAEEBaiIHaiEJIAMgAEECaiIIaiEKIAMgAEEDaiILaiENIAMgAEEEaiIGaiEMIAUgC2otAAAgBSANai0AAGoiDyAFIAZqLQAAIAUgDGotAABqIhJqQRZ0QYCAgARqQYCAgHhxIAUgCGotAAAgBSAKai0AAGoiEyAPakEOdEGAgAJqQYCA/AdxIAUgB2otAAAgBSAJai0AAGoiDyAAIAVqLQAAIAUgACADaiIUai0AAGpBAmpqQQJ2Qf8BcSAPIBNqQQZ0QYABakGA/gNxcnJyIQ8gAUECdCARaiAEIAtqLQAAIAQgDWotAABqIgsgBCAGai0AACAEIAxqLQAAaiITakEWdEGAgIAEakGAgIB4cSAEIAhqLQAAIAQgCmotAABqIgggC2pBDnRBgIACakGAgPwHcSAEIAdqLQAAIAQgCWotAABqIgcgACAEai0AACAEIBRqLQAAakECampBAnZB/wFxIAcgCGpBBnRBgAFqQYD+A3FycnI2AgAgAUECdCAQaiAPNgIAIAMgAEEFaiIHaiEJIAMgAEEGaiIIaiEKIAMgAEEHaiILaiENIAMgAEEIaiIGaiEMIAUgC2otAAAgBSANai0AAGoiDyAFIAZqLQAAIAUgDGotAABqakEWdEGAgIAEakGAgIB4cSAFIAhqLQAAIAUgCmotAABqIhQgD2pBDnRBgIACakGAgPwHcSAFIAdqLQAAIAUgCWotAABqIg8gEkECampBAnZB/wFxIA8gFGpBBnRBgAFqQYD+A3FycnIhDyABQQFqIhJBAnQgEWogBCALai0AACAEIA1qLQAAaiILIAQgBmotAAAgBCAMai0AAGpqQRZ0QYCAgARqQYCAgHhxIAQgCGotAAAgBCAKai0AAGoiCCALakEOdEGAgAJqQYCA/AdxIAQgB2otAAAgBCAJai0AAGoiByATQQJqakECdkH/AXEgByAIakEGdEGAAWpBgP4DcXJycjYCACASQQJ0IBBqIA82AgAgACADaiEAIAFBAmogDmoiASACSA0ACwUgCUUEQA8LIAdBAnUhCwNAIAQgAEEBaiINai0AACEHIAQgAEECaiIGai0AACEJIAQgAEEDaiIMai0AACEIIAQgAEEEaiIOai0AACEKIAUgDGotAAAiDCAFIA5qLQAAIg5qQRd0QYCAgARqQYCAgHhxIAUgBmotAAAiBiAMakEPdEGAgAJqQYCA/AdxIAUgDWotAAAiDSAAIAVqLQAAQQFqakEBdkH/AXEgBiANakEHdEGAAWpBgP4DcXJyciENIAFBAnQgEWogCCAKakEXdEGAgIAEakGAgIB4cSAIIAlqQQ90QYCAAmpBgID8B3EgACAEai0AAEEBaiAHakEBdkH/AXEgByAJakEHdEGAAWpBgP4DcXJycjYCACABQQJ0IBBqIA02AgAgBCAAQQVqIg1qLQAAIQcgBCAAQQZqIgZqLQAAIQkgBCAAQQdqIgxqLQAAIQggBSAMai0AACIMIAUgAEEIaiIPai0AAGpBF3RBgICABGpBgICAeHEgBSAGai0AACIGIAxqQQ90QYCAAmpBgID8B3EgBSANai0AACINIA5BAWpqQQF2Qf8BcSAGIA1qQQd0QYABakGA/gNxcnJyIQ0gAUEBaiIGQQJ0IBFqIAggBCAPai0AAGpBF3RBgICABGpBgICAeHEgCCAJakEPdEGAgAJqQYCA/AdxIApBAWogB2pBAXZB/wFxIAcgCWpBB3RBgAFqQYD+A3FycnI2AgAgBkECdCAQaiANNgIAIAAgA2ohACABQQJqIAtqIgEgAkgNAAsLBSAIBEAgCUUEQA8LIAdBAnUhDgNAIAMgAEEBaiIHaiEJIAMgAEECaiIIaiEKIAMgAEEDaiILaiENIAUgC2otAAAgBSANai0AAGpBF3RBgICABGpBgICAeHEgBSAIai0AACAFIApqLQAAakEPdEGAgAJqQYCA/AdxIAUgACADaiIGai0AACAAIAVqLQAAQQFqakEBdkH/AXEgBSAHai0AACAFIAlqLQAAakEHdEGAAWpBgP4DcXJyciEMIAFBAnQgEWogBCALai0AACAEIA1qLQAAakEXdEGAgIAEakGAgIB4cSAEIAhqLQAAIAQgCmotAABqQQ90QYCAAmpBgID8B3EgBCAGai0AACAAIARqLQAAQQFqakEBdkH/AXEgBCAHai0AACAEIAlqLQAAakEHdEGAAWpBgP4DcXJycjYCACABQQJ0IBBqIAw2AgAgAyAAQQRqIgdqIQkgAyAAQQVqIghqIQogAyAAQQZqIgtqIQ0gAyAAQQdqIgZqIQwgBSAGai0AACAFIAxqLQAAakEXdEGAgIAEakGAgIB4cSAFIAtqLQAAIAUgDWotAABqQQ90QYCAAmpBgID8B3EgBSAJai0AACAFIAdqLQAAQQFqakEBdkH/AXEgBSAIai0AACAFIApqLQAAakEHdEGAAWpBgP4DcXJyciEPIAFBAWoiEkECdCARaiAEIAZqLQAAIAQgDGotAABqQRd0QYCAgARqQYCAgHhxIAQgC2otAAAgBCANai0AAGpBD3RBgIACakGAgPwHcSAEIAlqLQAAIAQgB2otAABBAWpqQQF2Qf8BcSAEIAhqLQAAIAQgCmotAABqQQd0QYABakGA/gNxcnJyNgIAIBJBAnQgEGogDzYCACAAIANqIQAgAUECaiAOaiIBIAJIDQALBSAJRQRADwsgB0ECdSEHA0AgACAFai0AACAFIABBAWoiCWotAABBCHRyIAUgAEECaiIIai0AAEEQdHIgBSAAQQNqIgpqLQAAQRh0ciELIAFBAnQgEWogACAEai0AACAEIAlqLQAAQQh0ciAEIAhqLQAAQRB0ciAEIApqLQAAQRh0cjYCACABQQJ0IBBqIAs2AgAgBSAAQQRqIglqLQAAIAUgAEEFaiIIai0AAEEIdHIgBSAAQQZqIgpqLQAAQRB0ciAFIABBB2oiC2otAABBGHRyIQ0gAUEBaiIGQQJ0IBFqIAQgCWotAAAgBCAIai0AAEEIdHIgBCAKai0AAEEQdHIgBCALai0AAEEYdHI2AgAgBkECdCAQaiANNgIAIAAgA2ohACABQQJqIAdqIgEgAkgNAAsLCwu8BAEDfyAAKAJgRQRAIAAoAixBAkcEQA8LIABCADcCZCAAQgA3AmwPCyAAKAKAASECA0ACQCACQQEQMCABaiEBIwBBoBZqIAFBAnRqKAIAIgFBf0wNACMAQaAWaiABQQJ0aigCAA0BCwsjACABQQJ0akGoFmooAgAiAQRAIAAoAjxBAUcEQCAAKAKAASAAKAI4EDAgAUEAIAFrIAFBf0obQX9qIAAoAjh0aiICQX9zIAJBAWogAUEASBshAQsFQQAhAQsgACAAKAJsIAFqIgE2AmwCQAJAIAEgACgCPCICQQR0IgNIBEAgAUEAIANrSARAIAEgAkEFdGohAQwCCwUgASACQQV0ayEBDAELDAELIAAgATYCbAsgACABNgJkIAAoAjAEQCAAIAFBAXQ2AmQLIAAoAoABIQJBACEBA0ACQCACQQEQMCABaiEBIwBBoBZqIAFBAnRqKAIAIgFBf0wNACMAQaAWaiABQQJ0aigCAA0BCwsjACABQQJ0akGoFmooAgAiAQRAIAAoAjxBAUcEQCAAKAKAASAAKAI4EDAgAUEAIAFrIAFBf0obQX9qIAAoAjh0aiICQX9zIAJBAWogAUEASBshAQsFQQAhAQsgACAAKAJwIAFqIgE2AnACQAJAIAEgACgCPCICQQR0IgNIBEAgAUEAIANrSARAIAEgAkEFdGohAQwCCwUgASACQQV0ayEBDAELDAELIAAgATYCcAsgACABNgJoIAAoAjBFBEAPCyAAIAFBAXQ2AmgLpAgBBX8gACgCXAR/An8gAUEESCIFBH8gACgCdCEDIAAoAoABIQYDfyAGQQEQMCACaiEEIwBB0BxqIARBAnRqKAIAIQIjAEHQHGogBEEuRg0CGiMAQdAcaiACQQJ0aigCAA0AIwBB0BxqCwUgAEH4AGogAEH8AGogAUEERhsoAgAhAyAAKAKAASEGA38gBkEBEDAgAmohBCMAQbAeaiAEQQJ0aigCACECIwBBsB5qIARBLkYNAhojAEGwHmogAkECdGooAgANACMAQbAeagsLCyEEIAAgAkECakECdCAEaigCACICQQBKBH8gACgCgAEgAhAwIgRBASACQX9qdHEEfyADIARqBSAEQQFqQX8gAnRyIANqCwUgAwsiAjYCnAEgBQR/IABBnAFqIQMgAEH0AGoFIABBnAFqIQMgAEH4AGogAEH8AGogAUEERhsLIAI2AgAgAyACQQh0NgIAIABBnANqIQVBAQUgAEHcA2ohBUEACyECA0ACQCAAKAKAASEGQQAhAwNAAkAgBkEBEDAgA2ohBCMAQZAgaiAEQQJ0aigCACEDIARB/AFGDQAjAEGQIGogA0ECdGooAgANAQsLIwBBkCBqIANBAmoiA0ECdGooAgAhBgJAAkAgA0EIRiACQQBKcQR/IAAoAoABQQEQMEUNAwwBBQJ/IANBzQBHDQIgACgCgAFBBhAwIQMCQAJAIAAoAoABQQgQMCIEIgYEQCAGQYABRgRADAIFDAMLAAsgACgCgAFBCBAwDAILIAAoAoABQQgQMEGAfmoMAQsgBEGAfmogBCAEQYABShsLCyEEDAELIAZB/wFxIgNBACADayAAKAKAAUEBEDBFGyEEIAZBCHUhAwsgAiADaiIGIwBBQGtqLQAAIgMgBWotAAAgACgCREEAIARBAXQiAkEfdUEBciAAKAJcGyACamxsIgJBBHVBAEEBQX8gAkEPShsgAkEQcRtrIgJBgHAgAkGAcEobIQIgAEGcAWogA0ECdGogAyMAQZA1amotAAAgAkH/DyACQf8PSBtsNgIAIAZBAWohAgwBCwsgAUEESARAIABBhAFqIQUgAUEDdEEIcSAAKAJUIAAoAhgiAyAAKAJQbGpBBHRyIANBA3RBACABQQJxG2ohBAUgAEGMAWogAEGIAWogAUEERhshBSAAKAJQIAAoAhgiAUECdGwgACgCVEEDdGohBCABQQF1IQMLIANBeGohAyAFKAIAIQUgAkEBRiECIABBnAFqIQEgACgCXARAIAIEQCABKAIAQYABakEIdSAFIAQgAxAYIAFBADYCAAUgARAZIAEgBSAEIAMQGiABQQBBgAIQPBoLBSACBEAgASgCAEGAAWpBCHUgBSAEIAMQGyABQQA2AgAFIAEQGSABIAUgBCADEBwgAUEAQYACEDwaCwsL7AYAIAEgAmogAEEAIABBAEobIgBB/wEgAEH/AUgbQf8BcSIAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAACABIAIgA0EIaiIDaiICaiAAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAACABIAIgA2oiAmogADoAACABIAJBAWpqIAA6AAAgASACQQJqaiAAOgAAIAEgAkEDamogADoAACABIAJBBGpqIAA6AAAgASACQQVqaiAAOgAAIAEgAkEGamogADoAACABIAJBB2pqIAA6AAAgASACIANqIgJqIAA6AAAgASACQQFqaiAAOgAAIAEgAkECamogADoAACABIAJBA2pqIAA6AAAgASACQQRqaiAAOgAAIAEgAkEFamogADoAACABIAJBBmpqIAA6AAAgASACQQdqaiAAOgAAIAEgAiADaiICaiAAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAACABIAIgA2oiAmogADoAACABIAJBAWpqIAA6AAAgASACQQJqaiAAOgAAIAEgAkEDamogADoAACABIAJBBGpqIAA6AAAgASACQQVqaiAAOgAAIAEgAkEGamogADoAACABIAJBB2pqIAA6AAAgASACIANqIgJqIAA6AAAgASACQQFqaiAAOgAAIAEgAkECamogADoAACABIAJBA2pqIAA6AAAgASACQQRqaiAAOgAAIAEgAkEFamogADoAACABIAJBBmpqIAA6AAAgASACQQdqaiAAOgAAIAEgAiADaiICaiAAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAAAubBgEUfwNAIAFBEGpBAnQgAGoiBygCACIGIAFBMGpBAnQgAGoiDSgCACIJaiEFIAFBCGpBAnQgAGoiDigCACICIAFBOGpBAnQgAGoiDygCACIDaiEEIAIgA2siEEHZA2wgAUEoakECdCAAaiIKKAIAIgIgAUEYakECdCAAaiIRKAIAIgNrIgtBvH5sQYABampBCHUgBCACIANqIghqIgJrIgMgBCAIa0HqAmxBgAFqQQh1ayEEIAFBAnQgAGoiCCgCACIMIAFBIGpBAnQgAGoiEigCACITayIUIAYgCWtB6gJsQYABakEIdSAFayIJaiEGIAggAiAMIBNqIgggBWoiDGo2AgAgDiADIAZqNgIAIAcgFCAJayIHIARrNgIAIBEgC0HZA2xBgAFqIBBBxAFsakEIdSAEaiIJIAggBWsiBWo2AgAgEiAFIAlrNgIAIAogBCAHajYCACANIAYgA2s2AgAgDyAMIAJrNgIAIAFBAWoiAUEIRw0AC0EAIQEDQCABQQFyQQJ0IABqIgcoAgAiBCABQQdyQQJ0IABqIg0oAgAiAmohBSAEIAJrIglB2QNsIAFBBXJBAnQgAGoiDigCACIEIAFBA3JBAnQgAGoiDygCACICayIQQbx+bEGAAWpqQQh1IAUgAiAEaiIDaiIEayICIAUgA2tB6gJsQYABakEIdWshBSABQQJ0IABqIgYoAgAiCiABQQRyQQJ0IABqIhEoAgAiC2shAyAGIAogC2oiCiABQQJyQQJ0IABqIgsoAgAiCCABQQZyQQJ0IABqIgwoAgAiEmoiBmoiEyAEQYABampBCHU2AgAgByADIAggEmtB6gJsQYABakEIdSAGayIHakGAAWoiCCACakEIdTYCACALIAMgB2tBgAFqIgMgBWtBCHU2AgAgDyAQQdkDbEGAAWogCUHEAWxqQQh1IAVqIgcgCiAGa0GAAWoiBmpBCHU2AgAgESAGIAdrQQh1NgIAIA4gAyAFakEIdTYCACAMIAggAmtBCHU2AgAgDSATQYABIARrakEIdTYCACABQQhqIgFBwABJDQALC5gDAQJ/IANBCGohBUEAIQMDQCABIAJqIANBAnQgAGooAgAiBEEAIARBAEobIgRB/wEgBEH/AUgbOgAAIAEgAkEBamogA0EBckECdCAAaigCACIEQQAgBEEAShsiBEH/ASAEQf8BSBs6AAAgASACQQJqaiADQQJyQQJ0IABqKAIAIgRBACAEQQBKGyIEQf8BIARB/wFIGzoAACABIAJBA2pqIANBA3JBAnQgAGooAgAiBEEAIARBAEobIgRB/wEgBEH/AUgbOgAAIAEgAkEEamogA0EEckECdCAAaigCACIEQQAgBEEAShsiBEH/ASAEQf8BSBs6AAAgASACQQVqaiADQQVyQQJ0IABqKAIAIgRBACAEQQBKGyIEQf8BIARB/wFIGzoAACABIAJBBmpqIANBBnJBAnQgAGooAgAiBEEAIARBAEobIgRB/wEgBEH/AUgbOgAAIAEgAkEHamogA0EHckECdCAAaigCACIEQQAgBEEAShsiBEH/ASAEQf8BSBs6AAAgAiAFaiECIANBCGoiA0HAAEkNAAsLiwMBA38gA0EIaiEGQQAhAwNAIAAgASACaiIFLQAAaiIEQQAgBEEAShshBCAFIARB/wEgBEH/AUgbOgAAIAAgASACQQFqaiIFLQAAaiIEQQAgBEEAShshBCAFIARB/wEgBEH/AUgbOgAAIAAgASACQQJqaiIFLQAAaiIEQQAgBEEAShshBCAFIARB/wEgBEH/AUgbOgAAIAAgASACQQNqaiIFLQAAaiIEQQAgBEEAShshBCAFIARB/wEgBEH/AUgbOgAAIAAgASACQQRqaiIFLQAAaiIEQQAgBEEAShshBCAFIARB/wEgBEH/AUgbOgAAIAAgASACQQVqaiIFLQAAaiIEQQAgBEEAShshBCAFIARB/wEgBEH/AUgbOgAAIAAgASACQQZqaiIFLQAAaiIEQQAgBEEAShshBCAFIARB/wEgBEH/AUgbOgAAIAAgASACQQdqaiIFLQAAaiIEQQAgBEEAShshBCAFIARB/wEgBEH/AUgbOgAAIAIgBmohAiADQQhqIgNBwABJDQALC+gDAQN/IANBCGohBkEAIQMDQCADQQJ0IABqKAIAIAEgAmoiBS0AAGoiBEEAIARBAEobIQQgBSAEQf8BIARB/wFIGzoAACADQQFyQQJ0IABqKAIAIAEgAkEBamoiBS0AAGoiBEEAIARBAEobIQQgBSAEQf8BIARB/wFIGzoAACADQQJyQQJ0IABqKAIAIAEgAkECamoiBS0AAGoiBEEAIARBAEobIQQgBSAEQf8BIARB/wFIGzoAACADQQNyQQJ0IABqKAIAIAEgAkEDamoiBS0AAGoiBEEAIARBAEobIQQgBSAEQf8BIARB/wFIGzoAACADQQRyQQJ0IABqKAIAIAEgAkEEamoiBS0AAGoiBEEAIARBAEobIQQgBSAEQf8BIARB/wFIGzoAACADQQVyQQJ0IABqKAIAIAEgAkEFamoiBS0AAGoiBEEAIARBAEobIQQgBSAEQf8BIARB/wFIGzoAACADQQZyQQJ0IABqKAIAIAEgAkEGamoiBS0AAGoiBEEAIARBAEobIQQgBSAEQf8BIARB/wFIGzoAACADQQdyQQJ0IABqKAIAIAEgAkEHamoiBS0AAGoiBEEAIARBAEobIQQgBSAEQf8BIARB/wFIGzoAACACIAZqIQIgA0EIaiIDQcAASQ0ACwtUAQF/Qcy3ARAxIgJBBGpBAEHItwEQPBogAiAAIAEQKjYCCCACQcTYAjYCACACQczWAGojAEHQNWpBgBAQOhogAkHM5gBqIwBB0DVqQYAQEDoaIAILDQAgACgCCBArIAAQOAsLACAAKAIIIAEQLAsKACAAKAIIKAIECwwAIAAoAgggATYCBAsUACAAKAIIIgAgASAAKAIMajYCDAsHACAAKAIACwgAIABBzA5qCwgAIABBzDJqC0UBAn8gACgCCCgCBCECIAAoAggiASgCDEEDdCABKAIEa0EQSQRAQQAPCyAAECchASAAKAIIIAFBA3QgAmpBeHE2AgQgAQuVGgEffyAAKAIIQQsQMCAAKAIIQQIQMCECIAAoAghBAhAwIQEgACgCCEEBEDAhB0H/D0cgAkEDR3IgAUECR3IEQEEADwsgACgCCEEEEDAiAkEOSgRAQQAPCyAAKAIIQQIQMCINQQNGBEBBAA8LIAAoAghBARAwIAAoAghBARAwGiAAKAIIQQIQMCEKIAAoAgghASAKQQFGBH8gAUECEDBBAnRBBGoFIAEgASgCBEECajYCBEEAQSAgCkEDRhsLIQwgACgCCCIBIAEoAgRBBGo2AgQgB0UEQCAAKAIIIgEgASgCBEEQajYCBAsjAEHQxQBqIAJBf2oiAUEBdGouAQBBgOUIbCMAQZDGAGogDUEBdGovAQAiF20gDSMAQdzIAGogASMAQaDGAGogCkEDR0EEdGpqLQAAQQNsamotAAAiAUE/cSELIAFBBnYhCCALIAwgDCALShsiDUEASiIYBEBBACEBA0AgASMAQcDGAGogCEEFdGpqLQAAIgJBD3EhBSAAKAIIIAJBBHYiAhAwIwBBoMcAaiAFQQR0amosAAAhAyAAQQxqIAFBAnRqIwAgA0H/AXFBAnRqQfzHAGpBACADGzYCACAAKAIIIAIQMCMAQaDHAGogBUEEdGpqLAAAIQIgAEGMAWogAUECdGojACACQf8BcUECdGpB/McAakEAIAIbNgIAIAFBAWoiASANSA0ACwsgCyAMSiIZBEAgDSEBA0AgACgCCCABIwBBwMYAaiAIQQV0amotAAAiAkEEdhAwIwBBoMcAaiACQQ9xQQR0amosAAAhAiAAQYwBaiABQQJ0aiMAIAJB/wFxQQJ0akH8xwBqQQAgAhsiAjYCACAAQQxqIAFBAnRqIAI2AgAgAUEBaiIBIAtIDQALC0EBQQIgCkEDRiIFGyEIIAtFIgJFBEAgBQRAQQAhAQNAQQAhAwNAIABBDGogA0EHdGogAUECdGooAgAEQCABIABBjAJqIANBBXRqaiAAKAIIQQIQMDoAAAsgA0EBaiIDIAhJDQALIAEgAEGsAmpqIAEgAEGMAmpqLAAAOgAAIAFBAWoiASALRw0ACwVBACEBA0BBACEDA0AgAEEMaiADQQd0aiABQQJ0aigCAARAIAEgAEGMAmogA0EFdGpqIAAoAghBAhAwOgAACyADQQFqIgMgCEkNAAsgAUEBaiIBIAtHDQALCyACRQRAIAUEQEEAIQEDQEEAIQMDQCAAQQxqIANBB3RqIAFBAnRqKAIABEACQCAAQcwCaiADQYADbGogAUEMbGohBQJAAkACQAJAAkAgASAAQYwCaiADQQV0amosAAAOBAABAgMECyAFIAAoAghBBhAwNgIAIAAgA0GAA2xqIAFBDGxqIAAoAghBBhAwNgLQAiAAIANBgANsaiABQQxsaiAAKAIIQQYQMDYC1AIMBAsgACADQYADbGogAUEMbGogACgCCEEGEDAiAjYC0AIgBSACNgIAIAAgA0GAA2xqIAFBDGxqIAAoAghBBhAwNgLUAgwDCyAAIANBgANsaiABQQxsaiAAKAIIQQYQMCICNgLUAiAAIANBgANsaiABQQxsaiACNgLQAiAFIAI2AgAMAgsgBSAAKAIIQQYQMDYCACAAIANBgANsaiABQQxsaiAAKAIIQQYQMCICNgLUAiAAIANBgANsaiABQQxsaiACNgLQAgsLCyADQQFqIgMgCEkNAAsgAEHMBWogAUEMbGogAEHMAmogAUEMbGooAgA2AgAgACABQQxsaiAAIAFBDGxqKALQAjYC0AUgACABQQxsaiAAIAFBDGxqKALUAjYC1AUgAUEBaiIBIAtHDQALBUEAIQEDQEEAIQMDQCAAQQxqIANBB3RqIAFBAnRqKAIABEACQCAAQcwCaiADQYADbGogAUEMbGohBQJAAkACQAJAAkAgASAAQYwCaiADQQV0amosAAAOBAABAgMECyAFIAAoAghBBhAwNgIAIAAgA0GAA2xqIAFBDGxqIAAoAghBBhAwNgLQAiAAIANBgANsaiABQQxsaiAAKAIIQQYQMDYC1AIMBAsgACADQYADbGogAUEMbGogACgCCEEGEDAiAjYC0AIgBSACNgIAIAAgA0GAA2xqIAFBDGxqIAAoAghBBhAwNgLUAgwDCyAAIANBgANsaiABQQxsaiAAKAIIQQYQMCICNgLUAiAAIANBgANsaiABQQxsaiACNgLQAiAFIAI2AgAMAgsgBSAAKAIIQQYQMDYCACAAIANBgANsaiABQQxsaiAAKAIIQQYQMCICNgLUAiAAIANBgANsaiABQQxsaiACNgLQAgsLCyADQQFqIgMgCEkNAAsgAUEBaiIBIAtHDQALCwsLaiALQSBJIRsgAEHMtgFqIQQgAEHMCGohHCAAQcz2AGohHSAAQcwLaiEeIABBzJYBaiEfA0BBACEWIBQhAwNAIBgEQEEAIQEDQCAAQQAgASAOECggAEEBIAEgDhAoIAFBAWoiASANSA0ACwsgGQRAIA0hAQNAIABBACABIA4QKCAAQcwLaiABQQxsaiAAQcwIaiABQQxsaigCADYCACAAIAFBDGxqQdALaiAAIAFBDGxqQdAIaigCADYCACAAIAFBDGxqQdQLaiAAIAFBDGxqQdQIaigCADYCACABQQFqIgEgC0gNAAsLIBsEQCALIQEDQCAAQcwIaiABQQxsakEANgIAIAAgAUEMbGpB0AhqQQA2AgAgACABQQxsakHUCGpBADYCACAAQcwLaiABQQxsakEANgIAIAAgAUEMbGpB0AtqQQA2AgAgACABQQxsakHUC2pBADYCACABQQFqIgFBIEcNAAsLIAAoAgQhASADIRFBACESA0AgACABQcAHakH/B3EiATYCBCAcIBIgHSABECkgBEIANwIAIARCADcCCCAEQgA3AhAgBEIANwIYIARCADcCICAEQgA3AiggBEIANwIwIARCADcCOCAEQUBrQgA3AgAgBEIANwJIIARCADcCUCAEQgA3AlggBEIANwJgIARCADcCaCAEQgA3AnAgBEIANwJ4IAAoAgQiD0EBdSETQf8HIA9BgAFvQQF1IgxrIgFBgH9xIRUgAUEHdkEGdEHABGohEEGABCATayEGIAwhAQNAIAYhB0EAIQkgASECA0AgB0EBaiEIIAJBAWohBSAAQcy2AWogCUECdGoiCiAAQczWAGogB0ECdGoqAgAgAEHM9gBqIAJBAnRqKgIAlCAKKAIAspKoNgIAIAlBAWoiCUEgRwRAIAghByAFIQIMAQsLIAFBgAFqIQIgBkFAayEGIAFBgAdIBEAgAiEBDAELC0HgByAMIBVqayIBQYAISARAIBAgE2tBoHxqIQYDQCABQR9qIAYhB0EAIQkgASECA0AgB0EBaiEIIAJBAWohBSAAQcy2AWogCUECdGoiDCAAQczWAGogB0ECdGoqAgAgAEHM9gBqIAJBAnRqKgIAlCAMKAIAspKoNgIAIAlBAWoiCUEgRwRAIAghByAFIQIMAQsLIAFBgAFqIQEgBkFAayEGQZ8HSA0ACwtBACEBA0AgAEHMDmogASARakECdGogAEHMtgFqIAFBAnRqKAIAskMA/v9OlTgCACABQQFqIgFBIEcNAAsgHiASIB8gDxApIARCADcCACAEQgA3AgggBEIANwIQIARCADcCGCAEQgA3AiAgBEIANwIoIARCADcCMCAEQgA3AjggBEFAa0IANwIAIARCADcCSCAEQgA3AlAgBEIANwJYIARCADcCYCAEQgA3AmggBEIANwJwIARCADcCeCAAKAIEIgxBAXUhD0H/ByAMQYABb0EBdSIKayIBQYB/cSETIAFBB3ZBBnRBwARqIRVBgAQgD2shBiAKIQEDQCAGIQdBACEJIAEhAgNAIAdBAWohCCACQQFqIQUgAEHMtgFqIAlBAnRqIhAgAEHM1gBqIAdBAnRqKgIAIABBzJYBaiACQQJ0aioCAJQgECgCALKSqDYCACAJQQFqIglBIEcEQCAIIQcgBSECDAELCyABQYABaiECIAZBQGshBiABQYAHSARAIAIhAQwBCwtB4AcgCiATamsiAUGACEgEQCAVIA9rQaB8aiEGA0AgAUEfaiAGIQdBACEJIAEhAgNAIAdBAWohCCACQQFqIQUgAEHMtgFqIAlBAnRqIgogAEHM1gBqIAdBAnRqKgIAIABBzJYBaiACQQJ0aioCAJQgCigCALKSqDYCACAJQQFqIglBIEcEQCAIIQcgBSECDAELCyABQYABaiEBIAZBQGshBkGfB0gNAAsLQQAhAQNAIABBzDJqIAEgEWpBAnRqIABBzLYBaiABQQJ0aigCALJDAP7/TpU4AgAgAUEBaiIBQSBHDQALIBFBIGohESASQQFqIhJBA0cEQCAMIQEMAQsLIANB4ABqIQMgFkEBaiIWQQRHDQALIBRBgANqIRQgDkEBaiIOQQNHDQALIAAgFzYCAAv0AwEHfyAAQcwCaiABQYADbGogAkEMbGogA0ECdGooAgAhAyAAQcwIaiABQYADbGogAkEMbGohBiAAQQxqIAFBB3RqIAJBAnRqKAIAIgRFBEAgACABQYADbGogAkEMbGpB1AhqQQA2AgAgACABQYADbGogAkEMbGpB0AhqQQA2AgAgBkEANgIADwsgA0E/RgR/QQAFIwBB0MgAaiADIANBA20iA0EDbGtBAnRqKAIAQQEgA3RBAXVqIAN1CyEIIAQvAQAhBSAELAACRSAAKAIIIAQtAAMQMCEDBEAgBiADNgIAIAAgAUGAA2xqIAJBDGxqQdAIaiIDIAAoAgggBC0AAxAwNgIAIAAoAgggBC0AAxAwIQQgBigCACEHIAMoAgAhCQUgBiADIAUgAyAFbSIEbGsiBzYCACAAIAFBgANsaiACQQxsakHQCGoiAyAEIAUgBCAFbSIEbGsiCTYCAAsgBkGAgAQgBUEBaiIFbiIGIAVBAXZBf2oiBSAHa2wiCiAIQQx1IgdsIAhB/x9xIgggCmxBgBBqQQx1akEMdTYCACADIAYgBSAJa2wiAyAHbCADIAhsQYAQakEMdWpBDHU2AgAgACABQYADbGogAkEMbGpB1AhqIAYgBSAEa2wiACAHbCAAIAhsQYAQakEMdWpBDHU2AgALgBwCH382fSAAQTBqIAFBAnRqKAIAIgQgAEHEAmogAUECdGooAgAiBWqyIiUgAEGEAWogAUECdGooAgAiBiAAQfABaiABQQJ0aigCACIHarIiLpIiJiAAQSRqIAFBAnRqKAIAIgggAEHQAmogAUECdGooAgAiCWqyIjsgAEGQAWogAUECdGooAgAiCiAAQeQBaiABQQJ0aigCACILarIiI5IiNZIiMSAAQdQAaiABQQJ0aigCACIMIABBoAJqIAFBAnRqKAIAIg1qsiInIABB4ABqIAFBAnRqKAIAIg4gAEGUAmogAUECdGooAgAiD2qyIjmSIi8gAUECdCAAaigCACIQIABB9AJqIAFBAnRqKAIAIhFqsiIoIABBtAFqIAFBAnRqKAIAIhIgAEHAAWogAUECdGooAgAiE2qyIimSIi2SIjCSIjwgAEE8aiABQQJ0aigCACIUIABBuAJqIAFBAnRqKAIAIhVqsiIyIABB+ABqIAFBAnRqKAIAIhYgAEH8AWogAUECdGooAgAiF2qyIiuSIiwgAEEYaiABQQJ0aigCACIYIABB3AJqIAFBAnRqKAIAIhlqsiIkIABBnAFqIAFBAnRqKAIAIhogAEHYAWogAUECdGooAgAiG2qyIjOSIjqSIiogAEHIAGogAUECdGooAgAiHCAAQawCaiABQQJ0aigCACIdarIiPSAAQewAaiABQQJ0aigCACIeIABBiAJqIAFBAnRqKAIAIh9qsiJEkiI2IABBDGogAUECdGooAgAiICAAQegCaiABQQJ0aigCACIharIiRSAAQagBaiABQQJ0aigCACIiIABBzAFqIAFBAnRqKAIAIgBqsiJGkiJHkiJIkiJNk7tEuEt/Zp6g5j+itiE0IDAgMZO7RKYx23t6UeE/orYiTiBIICqTu0S6MEWRruf0P6K2IkiTu0S4S39mnqDmP6K2ITEgNSAmk7tE6KZz0NmABECitiImIC0gL5O7RLm0fNE+UOA/orYiNZIiTyA6ICyTu0S4frHvmszsP6K2Ii8gRyA2k7tEphXgoTc+4z+itiItkiI2k7tEuEt/Zp6g5j+itiJHIDUgJpO7RKYx23t6UeE/orYiUCAtIC+Tu0S6MEWRruf0P6K2IlGTu0S4S39mnqDmP6K2IjWSIS8gJyA5k7tEizzlgJNnFECitiImICggKZO7RPfTYZzRE+A/orYiJ5IiOSAlIC6Tu0RCOX0LkDjpP6K2IiUgOyAjk7tEH+S7mMOy5D+itiIukiIok7tEpjHbe3pR4T+itiJSID0gRJO7RJB+QLAkj/s/orYiIyBFIEaTu0RR7OsDT7jgP6K2IimSIi0gMiArk7tEvMhOKon48D+itiIwICQgM5O7RN5NBtFnJOI/orYiMpIiK5O7RLowRZGu5/Q/orYiPZO7RLhLf2aeoOY/orYhOyAuICWTu0TopnPQ2YAEQKK2Ii4gJyAmk7tEubR80T5Q4D+itiInkiElIDIgMJO7RLh+se+azOw/orYiMCApICOTu0SmFeChNz7jP6K2IiOSISYgJyAuk7tEpjHbe3pR4T+itiInICMgMJO7RLowRZGu5/Q/orYiI5O7RLhLf2aeoOY/orYhLiAmICWSICMgJ5IgLpIiJ5IhIyAnICUgJpO7RLhLf2aeoOY/orYiJZIhJyAlIC6SIkQgKCA5kiJFICsgLZIiRpO7RLhLf2aeoOY/orYiU5IhOSAEIAVrsrtE6DIY8Qaz4T+itiIlIAYgB2uyu0QGfsulBrbyP6K2IjKSIiYgCCAJa7K7RAV4MAhN/uA/orYiKyAKIAtrsrtEz+iOZSO/9z+itiIskiItkiI6IAwgDWuyu0RRwLOpB5jlP6K2IiQgDiAPa7K7RNR11Lo90+c/orYiM5IiMCAQIBFrsrtEJl02lPAE4D+itiIqIBIgE2uyu0RM0Ki+SGEkQKK2IkmSIj6SIkqSISggFCAVa7K7RFt3BDxnp+I/orYiNyAWIBdrsrtERtzXbEcf7z+itiI/kiJAIBggGWuyu0RXxl1bi37gP6K2IkEgGiAba7K7RFOF4ONVdgBAorYiQpIiOJIiSyAcIB1rsrtErhJCxI3r4z+itiJDIB4gH2uyu0S/EZ/J89vqP6K2IkySIlQgICAha7K7RE/eOm/RLOA/orYiVSAiIABrsrtENTnXM8hCC0CitiJWkiJXkiJYkiEpIC0gJpO7ROimc9DZgARAorYiJiA+IDCTu0S5tHzRPlDgP6K2Ij6SIS0gOCBAk7tEuH6x75rM7D+itiJAIFcgVJO7RKYV4KE3PuM/orYiOJIhMCA+ICaTu0SmMdt7elHhP6K2Ij4gOCBAk7tEujBFka7n9D+itiJAk7tEuEt/Zp6g5j+itiEmICUgMpO7REI5fQuQOOk/orYiJSArICyTu0Qf5LuYw7LkP6K2IiuSIjggJCAzk7tEizzlgJNnFECitiIsICogSZO7RPfTYZzRE+A/orYiJJIiM5IiSSA3ID+Tu0S8yE4qifjwP6K2IiogQSBCk7tE3k0G0Wck4j+itiI3kiI/IEMgTJO7RJB+QLAkj/s/orYiQSBVIFaTu0RR7OsDT7jgP6K2IkKSIkOSIkyTu0S4S39mnqDmP6K2ITIgKyAlk7tE6KZz0NmABECitiIlICQgLJO7RLm0fNE+UOA/orYiJJIhKyA3ICqTu0S4frHvmszsP6K2IiogQiBBk7tEphXgoTc+4z+itiI3kiEsICQgJZO7RKYx23t6UeE/orYiJCA3ICqTu0S6MEWRruf0P6K2IiqTu0S4S39mnqDmP6K2ISUgLCArkiAqICSSICWSIiqSISQgKiArICyTu0S4S39mnqDmP6K2IiySISsgLCAlkiI3IDKSIkEgKCApk7tEuEt/Zp6g5j+itiJCkiEsIDMgOJO7RKYx23t6UeE/orYiOCBDID+Tu0S6MEWRruf0P6K2Ij+Tu0S4S39mnqDmP6K2IjMgJZIiQyBKIDqTu0SmMdt7elHhP6K2IkogWCBLk7tEujBFka7n9D+itiJLk7tEuEt/Zp6g5j+itiI6kiEqIANBMGpBAnQgAmogTSA8kow4AgAgA0EvakECdCACaiApICiSIEwgSZIgJJIiKJKMIik4AgAgA0ExakECdCACaiApOAIAIANBLmpBAnQgAmogRiBFkiAjkowiKTgCACADQTJqQQJ0IAJqICk4AgAgA0EtakECdCACaiAwIC2SIEAgPpIgJpIiKZIiPCAokowiKDgCACADQTNqQQJ0IAJqICg4AgAgA0EsakECdCACaiA2IE+SIFEgUJIgNZIiKJKMIjY4AgAgA0E0akECdCACaiA2OAIAIANBK2pBAnQgAmogPCA/IDiSIDOSIjwgJJIiJJKMIjY4AgAgA0E1akECdCACaiA2OAIAIANBKmpBAnQgAmogPSBSkiA7kiI9ICOSjCIjOAIAIANBNmpBAnQgAmogIzgCACADQSlqQQJ0IAJqIEsgSpIgOpIiIyAkkowiJDgCACADQTdqQQJ0IAJqICQ4AgAgA0EoakECdCACaiBIIE6SIDGSjCIkOAIAIANBOGpBAnQgAmogJDgCACADQSdqQQJ0IAJqICMgPCArkiIjkowiJDgCACADQTlqQQJ0IAJqICQ4AgAgA0EmakECdCACaiA9ICeSjCIkOAIAIANBOmpBAnQgAmogJDgCACADQSVqQQJ0IAJqICkgLSAwk7tEuEt/Zp6g5j+itiIpkiItICOSjCIjOAIAIANBO2pBAnQgAmogIzgCACADQSRqQQJ0IAJqICggR5KMIiM4AgAgA0E8akECdCACaiAjOAIAIANBI2pBAnQgAmogLSArIDKSIiOSjCIoOAIAIANBPWpBAnQgAmogKDgCACADQSJqQQJ0IAJqICcgU5KMIic4AgAgA0E+akECdCACaiAnOAIAIANBIWpBAnQgAmogIyBCkowiIzgCACADQT9qQQJ0IAJqICM4AgAgA0EgakECdCACaiA0jDgCACADQQJ0IAJqIDQ4AgAgA0EfakECdCACaiAsjDgCACADQQFqQQJ0IAJqICw4AgAgA0EeakECdCACaiA5jDgCACADQQJqQQJ0IAJqIDk4AgAgA0EdakECdCACaiApICaSIjQgQZIiI4w4AgAgA0EDakECdCACaiAjOAIAIANBHGpBAnQgAmogL4w4AgAgA0EEakECdCACaiAvOAIAIANBG2pBAnQgAmogNCA3IDOSIjSSIi+MOAIAIANBBWpBAnQgAmogLzgCACADQRpqQQJ0IAJqIEQgO5IiL4w4AgAgA0EGakECdCACaiAvOAIAIANBGWpBAnQgAmogNCA6kiI0jDgCACADQQdqQQJ0IAJqIDQ4AgAgA0EYakECdCACaiAxjDgCACADQQhqQQJ0IAJqIDE4AgAgA0EXakECdCACaiAqjDgCACADQQlqQQJ0IAJqICo4AgAgA0EWakECdCACaiA7IC6SIjGMOAIAIANBCmpBAnQgAmogMTgCACADQRVqQQJ0IAJqIEMgJpIiMYw4AgAgA0ELakECdCACaiAxOAIAIANBFGpBAnQgAmogNYw4AgAgA0EMakECdCACaiA1OAIAIANBE2pBAnQgAmogJiAlkiImjDgCACADQQ1qQQJ0IAJqICY4AgAgA0ESakECdCACaiAujDgCACADQQ5qQQJ0IAJqIC44AgAgA0ERakECdCACaiAljDgCACADQQ9qQQJ0IAJqICU4AgAgA0EQakECdCACakMAAAAAOAIACy8BAX9BFBAxIgIgATYCECACIAAQMTYCACACIAA2AgggAkEANgIMIAJBADYCBCACCw0AIAAoAgAQOCAAEDgL6QEBBH8gACgCCCIDIAAoAgwiAmsiBCABSQRAAkAgACgCEEECRgRAIAAgACgCACABIARrIANBAXQiAiACIARqIAFJGyIBEDk2AgAgACABNgIIIAAoAgQgACgCDCIBQQN0IgJNDQEgACACNgIEDAELIAIgACgCBCIFQQN2IgNGIAMgBGogAUlyBEAgAEEANgIMIABBADYCBEEAIQEMAQsgAwRAIAAoAgAiASABIANqIAIgA2sQOxogACAAKAIMIANrIgE2AgwgACAAKAIEIAVBeHFrNgIEBSACIQELCwUgAiEBCyAAKAIAIAFqC40BAQR/IAAoAgRBB2pBA3YiASAAKAIMIgRJBEACQCAAKAIAIQIDQAJAIAFBAWohAyABIAJqLAAARQRAIAIgA2osAABFBEAgAiABQQJqaiwAAEEBRg0CCwsgAyAETw0CIAMhAQwBCwsgACABQQN0QSBqNgIEIAIgAUEDamotAAAPCwsgACAEQQN0NgIEQX8LqQEBBH8gACgCBEEHakEDdiICIAAoAgwiBUkEQAJAIAAoAgAhBANAAkAgAkEBaiEDAkACQCACIARqLAAADQAgAyAEaiwAAA0AIAQgAkECamosAABBAUcNACAAIAJBA3QiA0EgajYCBCABIAQgAkEDamotAABGDQIgA0EnakEDdiICIAVPDQQMAQsgAyAFTw0DIAMhAgsMAQsLIAEPCwsgACAFQQN0NgIEQX8LTwEBfyAAKAIEQQdqQQN2IgEgACgCDE8EQEEBDwsgACgCACIAIAFqLAAABEBBAA8LIAAgAUEBamosAAAEQEEADwsgACABQQJqaiwAAEEBRguGAQEGfyAAKAIEIQYgAUUEQCAAIAEgBmo2AgRBAA8LIAAoAgAhByABIQMgBiEEA0AgAkEIIARBB3FrIgIgAyACIANJGyIFdCAHIARBA3VqLQAAQf8BQQggBWt2IAIgBWsiAnRxIAJ2ciECIAQgBWohBCADIAVrIgMNAAsgACABIAZqNgIEIAILgAMBA38gAEEBIAAbIgIQMiIARQRAAkACQCMAQbTOwAJqKAIAIgBFDQAgACgCACIBQQFxDQAgACABQQFyNgIAIAFBAXZBeGoiAUUEQCMAQeXIAGojAEHuyABqQfoBIwBBt8kAahAAC0EfIAFBCCABQQhLGyIBZ2tBASABGyIBQX1qQR1PBEAjAEHIyQBqIwBB7sgAakGAAiMAQbfJAGoQAAsjAEGwzQBqIAFBAnRqIgMoAgAgAEEIaiIBRgRAIAMgACgCDDYCAAsgASgCACIDBEAgAyAAKAIMNgIECyAAKAIMIgAEQCAAIAEoAgA2AgALIAIQM0UjAEG0zsACaigCACEABEAgACAAKAIAQX5xNgIAQQAPCwwBCyACEDQhAAsgAEUEQEEADwsLIAAoAgBBAXYgAGpBABABSwRAIwBBgsoAaiMAQe7IAGpBswYjAEGeygBqEAALIAAoAgBBAXFFBEAjAEGuygBqIwBB7sgAakHOASMAQcDKAGoQAAsgAEEIaguJBQEFfyAARQRAIwBB5cgAaiMAQe7IAGpBiwIjAEHjywBqEAALQR8gAEEIIABBCEsbIgFna0EBIAEbIgFBfWpBHU8EQCMAQcjJAGojAEHuyABqQYACIwBBt8kAahAACyAAaUEBRyABaiIDQQNLQQEgA3QgAEtxBEAjACADQQJ0akGszQBqKAIAIgEEQAJAA0AgAUF4aiIEKAIAQQF2QXhqIgUgAEkEQCABKAIEIgFBAEcgAkEBaiICQSBJcUUNAgwBCwsgBUUEQCMAQeXIAGojAEHuyABqQfoBIwBBt8kAahAAC0EfIAVBCCAFQQhLGyICZ2tBASACGyICQX1qQR1PBEAjAEHIyQBqIwBB7sgAakGAAiMAQbfJAGoQAAsjAEGwzQBqIAJBAnRqIgIoAgAgAUYEQCACIAEoAgQ2AgALIAEoAgAiAgRAIAIgASgCBDYCBAsgASgCBCICBEAgAiABKAIANgIACyAEIAQoAgBBAXI2AgAgBCAAEDYgBA8LCwsgA0EgTwRAQQAPCyADIQECQAJAA0AjAEGwzQBqIAFBAnRqKAIAIgJFBEAgAUEBaiIBQSBPDQIMAQsLDAELQQAPCyACQXhqIgEoAgBBAXZBeGoiA0UEQCMAQeXIAGojAEHuyABqQfoBIwBBt8kAahAAC0EfIANBCCADQQhLGyIDZ2tBASADGyIDQX1qQR1PBEAjAEHIyQBqIwBB7sgAakGAAiMAQbfJAGoQAAsgAiMAQbDNAGogA0ECdGoiAygCAEYEQCADIAIoAgQ2AgALIAIoAgAiAwRAIAMgAigCBDYCBAsgAigCBCIDBEAgAyACKAIANgIACyABIAEoAgBBAXI2AgAgASAAEDYgAQvDAgEEfyAAQQ9qQXhxIwBBtM7AAmooAgAoAgBBAXZrIgMQASICQX9GBEBBAA8LIwBBtM7AAmooAgAiACgCACIEQQF2IQEgAiAAIAFqRwRAIwBBqMsAaiMAQe7IAGpBoQMjAEHEywBqEAALIARBAXFFBEAgAUF4aiIBRQRAIwBB5cgAaiMAQe7IAGpB+gEjAEG3yQBqEAALQR8gAUEIIAFBCEsbIgFna0EBIAEbIgFBfWpBHU8EQCMAQcjJAGojAEHuyABqQYACIwBBt8kAahAACyMAQbDNAGogAUECdGoiAigCACAAQQhqIgFGBEAgAiAAKAIMNgIACyABKAIAIgIEQCACIAAoAgw2AgQLIAAoAgwiAgRAIAIgASgCADYCAAsLIAAgACgCACADQQF0aiIBNgIAIAFBAXEEQEEBDwsgABA1QQEL1QIBBX8gAEEPakF4cSIEEAEiAUF/RgRAQQAPCwJAAkAgAUEHakF4cSIAIgUgAUYEQCMAQbDOwAJqKAIAQQBHIQIjAEG0zsACaigCACIBRQRAIAJFDQIjAEGPywBqIwBB7sgAakHwBSMAQfTKAGoQAAsgAgRAIAAgATYCBCAAIQMFIwBBnMsAaiMAQe7IAGpB9AUjAEH0ygBqEAALBSAAIAFrEAEiAkF/RgRAQQAPCyACIAEgBGpHBEAjAEHLygBqIwBB7sgAakHlBSMAQfTKAGoQAAsjAEG0zsACaigCAARAIwBBg8sAaiMAQe7IAGpB5wUjAEH0ygBqEAALIwBBsM7AAmooAgBFDQEjAEGPywBqIwBB7sgAakHwBSMAQfTKAGoQAAsMAQsjAEGwzsACaiAFNgIAIAAhAwsjAEG0zsACaiAFNgIAIAMgBEEBdEEBcjYCACADC9IBAQJ/IAAgACgCAEEBdmpBABABSwRAIwBBgsoAaiMAQe7IAGpBsgIjAEHVywBqEAALIAAoAgBBAXZBeGoiAUUEQCMAQeXIAGojAEHuyABqQfoBIwBBt8kAahAAC0EfIAFBCCABQQhLGyIBZ2tBASABGyIBQX1qQR1PBEAjAEHIyQBqIwBB7sgAakGAAiMAQbfJAGoQAAsjAEGwzQBqIAFBAnRqIgIoAgAhASACIABBCGoiAjYCACAAQQA2AgggACABNgIMIAFFBEAPCyABIAI2AgALzwIBBH8gACgCACIEQQF2IgVBeGoiAyABSQRAIwBB/csAaiMAQe7IAGpBrAMjAEGRzABqEAALIAMgAWsiA0F4cUEIRiAAIwBBtM7AAmooAgBGcQRAIAUQM0UEQA8LIANBCGpBD0sEQCAAKAIAIQIFIwBBqMwAaiMAQe7IAGpBvQMjAEGRzABqEAALBSADQQ9LBH8gBAUPCyECCyACQQFxIgRFBEAjAEGuygBqIwBB7sgAakHOASMAQcDKAGoQAAsgACAEIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgACACQQF2aiABayICQQ9NBEAjAEHBzABqIwBB7sgAakHMAyMAQZHMAGoQAAsgASABKAIAQQFxIAJBAXRyNgIAIAEgADYCBCMAQbTOwAJqIAEgAkH/////B3FqQQRqIAAjAEG0zsACaigCAEYbIAE2AgAgARA3C6gHAQd/IAAgACgCACIDQX5xNgIAIAAgA0EBdmpBABABSwRAIwBBgsoAaiMAQe7IAGpBxAIjAEHjzABqEAALIAAoAgQhASAAIwBBtM7AAmooAgAiBUYiBwR/QQAhA0EABSAAIAAoAgBBAXZqIgMLIQYgAQRAIAEoAgAiAkEBcUUEQCACQQF2QXhqIgJFBEAjAEHlyABqIwBB7sgAakH6ASMAQbfJAGoQAAtBHyACQQggAkEISxsiAmdrQQEgAhsiAkF9akEdTwRAIwBByMkAaiMAQe7IAGpBgAIjAEG3yQBqEAALIwBBsM0AaiACQQJ0aiIEKAIAIAFBCGoiAkYEQCAEIAEoAgw2AgALIAIoAgAiBARAIAQgASgCDDYCBAsgASgCDCIEBEAgBCACKAIANgIACyABIAEoAgAgACgCAEF+cWo2AgACQAJAIAMEQCADIAE2AgQgAygCACIAQQFxRQRAIABBAXZBeGoiAEUEQCMAQeXIAGojAEHuyABqQfoBIwBBt8kAahAAC0EfIABBCCAAQQhLGyIAZ2tBASAAGyIAQX1qQR1PBEAjAEHIyQBqIwBB7sgAakGAAiMAQbfJAGoQAAsjAEGwzQBqIABBAnRqIgIoAgAgA0EIaiIARgRAIAIgAygCDDYCAAsgACgCACICBEAgAiADKAIMNgIECyADKAIMIgIEQCACIAAoAgA2AgAjAEG0zsACaigCACEFCyABIAEoAgAgAygCAEF+cWo2AgAgAyAFRgRAIwBBtM7AAmohAAUgBiADKAIAQQF2akEEaiEACwwCCwUgBwRAIwBBtM7AAmohAAwCBSMAQf/MAGojAEHuyABqQdICIwBB48wAahAACwsMAQsgACABNgIACyABEDUPCwsgAwRAIAMoAgAiAUEBcUUEQCABQQF2QXhqIgFFBEAjAEHlyABqIwBB7sgAakH6ASMAQbfJAGoQAAtBHyABQQggAUEISxsiAWdrQQEgARsiAUF9akEdTwRAIwBByMkAaiMAQe7IAGpBgAIjAEG3yQBqEAALIwBBsM0AaiABQQJ0aiICKAIAIANBCGoiAUYEQCACIAMoAgw2AgALIAEoAgAiAgRAIAIgAygCDDYCBAsgAygCDCICBEAgAiABKAIANgIAIwBBtM7AAmooAgAhBQsgACAAKAIAIAMoAgBBfnFqNgIAIAMgBUYEfyMAQbTOwAJqBSAGIAMoAgBBAXZqQQRqCyAANgIAIAAQNQ8LCyAAEDULEAAgAEUEQA8LIABBeGoQNwvtCQEFfyABRSECIABFBEBBASABIAIbIgEQMiIARQRAAkACQCMAQbTOwAJqKAIAIgBFDQAgACgCACICQQFxDQAgACACQQFyNgIAIAJBAXZBeGoiAkUEQCMAQeXIAGojAEHuyABqQfoBIwBBt8kAahAAC0EfIAJBCCACQQhLGyICZ2tBASACGyICQX1qQR1PBEAjAEHIyQBqIwBB7sgAakGAAiMAQbfJAGoQAAsjAEGwzQBqIAJBAnRqIgQoAgAgAEEIaiICRgRAIAQgACgCDDYCAAsgAigCACIEBEAgBCAAKAIMNgIECyAAKAIMIgAEQCAAIAIoAgA2AgALIAEQM0UjAEG0zsACaigCACEABEAgACAAKAIAQX5xNgIAQQAPCwwBCyABEDQhAAsgAEUEQEEADwsLIAAoAgBBAXYgAGpBABABSwRAIwBBgsoAaiMAQe7IAGpBswYjAEGeygBqEAALIAAoAgBBAXFFBEAjAEGuygBqIwBB7sgAakHOASMAQcDKAGoQAAsgAEEIag8LIABBeGohBCACBEAgBBA3QQAPCyAEKAIAIgJBAXFFBEAjAEGuygBqIwBB7sgAakHPBiMAQZTNAGoQAAsCQCACQQF2IgNBeGogAU8NACADIARqIQMgBCMAQbTOwAJqKAIAIgVHBEAgAygCACIGQQFxRQRAIAZBAXZBeGoiAkUEQCMAQeXIAGojAEHuyABqQfoBIwBBt8kAahAAC0EfIAJBCCACQQhLGyICZ2tBASACGyICQX1qQR1PBEAjAEHIyQBqIwBB7sgAakGAAiMAQbfJAGoQAAsjAEGwzQBqIAJBAnRqIgYoAgAgA0EIaiICRgRAIAYgAygCDDYCAAsgAigCACIGBEAgBiADKAIMNgIECyADKAIMIgYEQCAGIAIoAgA2AgALIAQgBCgCACADKAIAQX5xaiICNgIAIAMgBUYEQCMAQbTOwAJqIAQ2AgAFIAMgAygCAEEBdmogBDYCBAsLCyACQQF2QXhqIAFPDQAgARAyIgJBAEchAyADQQFzIwBBtM7AAmooAgAgBEZxBEAgARAzBEAgAA8LCyADRQRAAkACQCMAQbTOwAJqKAIAIgJFDQAgAigCACIDQQFxDQAgAiADQQFyNgIAIANBAXZBeGoiA0UEQCMAQeXIAGojAEHuyABqQfoBIwBBt8kAahAAC0EfIANBCCADQQhLGyIDZ2tBASADGyIDQX1qQR1PBEAjAEHIyQBqIwBB7sgAakGAAiMAQbfJAGoQAAsjAEGwzQBqIANBAnRqIgUoAgAgAkEIaiIDRgRAIAUgAigCDDYCAAsgAygCACIFBEAgBSACKAIMNgIECyACKAIMIgIEQCACIAMoAgA2AgALIAEQM0UjAEG0zsACaigCACECBEAgAiACKAIAQX5xNgIAQQAPCwwBCyABEDQhAgsgAkUEQEEADwsLIAIoAgBBAXFFBEAjAEGuygBqIwBB7sgAakHOASMAQcDKAGoQAAsgBCgCACIDQQFxRQRAIwBBrsoAaiMAQe7IAGpBzgEjAEHAygBqEAALIAJBCGoiBSAAIAEgA0EBdkF4aiIAIAAgAUsbEDoaIAQQNyACKAIAQQFxBEAgBQ8FIwBBrsoAaiMAQe7IAGpBzgEjAEHAygBqEAALQQAPCyAEIAJBAXI2AgAgBCABEDYgAAv7CgEIfyACQQBHIAFBA3FBAEdxBH8gACEDA38gA0EBaiEEIAMgASwAADoAACABQQFqIgFBA3FBAEcgAkF/aiICQQBHcQR/IAQhAwwBBSAECwsFIAALIgNBA3FFBEAgAkEPSwR/IAJBcGoiBUFwcSIHQRBqIgggA2ogAiEEIAEhAgNAIAMgAigCADYCACADIAIoAgQ2AgQgAyACKAIINgIIIAMgAigCDDYCDCACQRBqIQIgA0EQaiEDIARBcGoiBEEPSw0ACyEDIAEgCGohASAFIAdrBSACCyIEQQhxBH8gAyABKAIANgIAIAMgASgCBDYCBCADQQhqIQMgAUEIagUgAQshAiAEQQRxBH8gAyACKAIANgIAIAJBBGohAiADQQRqBSADCyEBIARBAnEEQCABIAIsAAA6AAAgASACLAABOgABIAFBAmohASACQQJqIQILIARBAXFFBEAgAA8LIAEgAiwAADoAACAADwsgAkEfSwRAAkACQAJAAkAgA0EDcUEBaw4DAAECAwsgAyABKAIAIgU6AAAgAyABLAABOgABIAMgASwAAjoAAiACQWxqQXBxIghBE2oiCSABaiACQW1qIANBA2ohBCACQX1qIQYgAUEDaiECIAUhAQNAIAQgAigCASIFQQh0IAFBGHZyNgIAIAQgAigCBSIBQQh0IAVBGHZyNgIEIAQgAigCCSIFQQh0IAFBGHZyNgIIIAQgAigCDSIBQQh0IAVBGHZyNgIMIAJBEGohAiAEQRBqIQQgBkFwaiIGQRBLDQALIAMgCWohAyAIayECIQEMAgsgAyABKAIAIgU6AAAgAyABLAABOgABIAJBbGpBcHEiCEESaiIJIAFqIAJBbmogA0ECaiEEIAJBfmohBiABQQJqIQIgBSEBA0AgBCACKAICIgVBEHQgAUEQdnI2AgAgBCACKAIGIgFBEHQgBUEQdnI2AgQgBCACKAIKIgVBEHQgAUEQdnI2AgggBCACKAIOIgFBEHQgBUEQdnI2AgwgAkEQaiECIARBEGohBCAGQXBqIgZBEUsNAAsgAyAJaiEDIAhrIQIhAQwBCyADIAEoAgAiBToAACACQWxqQXBxIghBEWoiCSABaiACQW9qIANBAWohBCACQX9qIQYgAUEBaiECIAUhAQNAIAQgAigCAyIFQRh0IAFBCHZyNgIAIAQgAigCByIBQRh0IAVBCHZyNgIEIAQgAigCCyIFQRh0IAFBCHZyNgIIIAQgAigCDyIBQRh0IAVBCHZyNgIMIAJBEGohAiAEQRBqIQQgBkFwaiIGQRJLDQALIAMgCWohAyAIayECIQELCyACQRBxBEAgAyABLAAAOgAAIAMgASwAAToAASADIAEsAAI6AAIgAyABLAADOgADIAMgASwABDoABCADIAEsAAU6AAUgAyABLAAGOgAGIAMgASwABzoAByADIAEsAAg6AAggAyABLAAJOgAJIAMgASwACjoACiADIAEsAAs6AAsgAyABLAAMOgAMIAMgASwADToADSADIAEsAA46AA4gAyABLAAPOgAPIANBEGohAyABQRBqIQELIAJBCHEEQCADIAEsAAA6AAAgAyABLAABOgABIAMgASwAAjoAAiADIAEsAAM6AAMgAyABLAAEOgAEIAMgASwABToABSADIAEsAAY6AAYgAyABLAAHOgAHIANBCGohAyABQQhqIQELIAJBBHEEQCADIAEsAAA6AAAgAyABLAABOgABIAMgASwAAjoAAiADIAEsAAM6AAMgA0EEaiEDIAFBBGohAQsgAkECcQRAIAMgASwAADoAACADIAEsAAE6AAEgA0ECaiEDIAFBAmohAQsgAkEBcUUEQCAADwsgAyABLAAAOgAAIAALwAMBBn8gACABRgRAIAAPCyABIAJqIABLIAAgAmoiBSABS3FFBEAgACABIAIQOhogAA8LIAEgACIDc0EDcUUhBCADIAFJBH8gBARAIANBA3EEQAJAA0AgAgRAIAJBf2ohAiABQQFqIQQgAyABLAAAOgAAIANBAWoiA0EDcQRAIAQhAQwCBSAEIQEMAwsACwsgAA8LCyACQQNLBEAgAkF8aiIGQXxxIgdBBGoiCCADaiACIQQgASECA0AgAyACKAIANgIAIANBBGohAyACQQRqIQIgBEF8aiIEQQNLDQALIQMgBiAHayECIAEgCGohAQsLIAJFBEAgAA8LA0AgAUEBaiEEIANBAWohBSADIAEsAAA6AAAgAkF/aiICBEAgBSEDIAQhAQwBCwsgAAUgBARAIAVBA3EEQAJAA0AgAgRAIAMgAkF/aiICaiIAIAEgAmosAAA6AAAgAEEDcUUNAgwBCwsgAw8LCyACQQNLBEAgAiEAA0AgAyAAQXxqIgBqIAAgAWooAgA2AgAgAEEDSw0ACyACQQNxIQILCyACRQRAIAMPCwNAIAMgAkF/aiICaiABIAJqLAAAOgAAIAINAAsgAwsLgwMCA38BfgJAIAJFDQAgACACQX9qaiABQf8BcSIDOgAAIAAgAzoAACACQQNJDQAgACACQX5qaiADOgAAIAAgAzoAASAAIAJBfWpqIAM6AAAgACADOgACIAJBB0kNACAAIAJBfGpqIAM6AAAgACADOgADIAJBCUkNACAAQQAgAGtBA3EiBWoiBCABQf8BcUGBgoQIbCIDNgIAIAQgAiAFa0F8cSICaiIBQXxqIAM2AgAgAkEJSQ0AIAQgAzYCBCAEIAM2AgggAUF0aiADNgIAIAFBeGogAzYCACACQRlJDQAgBCADNgIMIAQgAzYCECAEIAM2AhQgBCADNgIYIAFBZGogAzYCACABQWhqIAM2AgAgAUFsaiADNgIAIAFBcGogAzYCACACIARBBHFBGHIiAmsiAUEfTQ0AIAOtIgYgBkIghoQhBiACIARqIQIDQCACIAY3AwAgAiAGNwMIIAIgBjcDECACIAY3AxggAkEgaiECIAFBYGoiAUEfSw0ACyAADwsgAAsVACMAQbDOAGokASMBQYCAwAJqJAILC6tNAQAjAAukTQAAAADZzr9BAADAQQAAyEGPwu9BAADwQQAASEKPwm9CAABwQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQgQCQIDChEYIBkSCwQFDBMaISgwKSIbFA0GBw4VHCMqMTg5MiskHRYPFx4lLDM6OzQtJh8nLjU8PTYvNz4/CBATFhobHSIQEBYYGx0iJRMWGhsdIiImFhYaGx0iJSgWGhsdICMoMBobHSAjKDA6GhsdIiYuOEUbHSMmLjhFUwMAAAAGAAAAAAAAAAkAAAAMAAAAAAAAAAAAAAAAAAAAAQAAAA8AAAASAAAAAAAAABUAAAAYAAAAAAAAABsAAAAeAAAAAAAAACEAAAAkAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAgAAACcAAAAqAAAAAAAAAC0AAAAwAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAABAAAADMAAAA2AAAAAAAAADkAAAA8AAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAABgAAAD8AAABCAAAAAAAAAEUAAABIAAAAAAAAAEsAAABOAAAAAAAAAFEAAABUAAAAAAAAAP////9XAAAAAAAAAP////9aAAAAAAAAAF0AAABgAAAAAAAAAGMAAABmAAAAAAAAAGkAAABsAAAAAAAAAG8AAAByAAAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAAAACAAAAHUAAAB4AAAAAAAAAHsAAAB+AAAAAAAAAIEAAACEAAAAAAAAAIcAAACKAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAADgAAAAAAAAAAAAAADQAAAAAAAAAAAAAADAAAAAAAAAAAAAAACwAAAAAAAAAAAAAACgAAAI0AAAD/////AAAAAP////+QAAAAAAAAAJMAAACWAAAAAAAAAJkAAACcAAAAAAAAAJ8AAACiAAAAAAAAAKUAAACoAAAAAAAAAKsAAACuAAAAAAAAALEAAAC0AAAAAAAAALcAAAD/////AAAAAP////+6AAAAAAAAAL0AAADAAAAAAAAAAMMAAADGAAAAAAAAAMkAAADMAAAAAAAAAM8AAADSAAAAAAAAANUAAADYAAAAAAAAANsAAADeAAAAAAAAAAAAAAAAAAAAFQAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAEgAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIwAAAAAAAAAAAAAAIgAAAAAAAAAAAAAAIQAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAHwAAAAAAAAAAAAAAHgAAAAAAAAAAAAAAHQAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAGgAAAAAAAAAAAAAAGQAAAAAAAAAAAAAAGAAAAAAAAAAAAAAAFwAAAAAAAAAAAAAAFgAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAAAAAP////8JAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEQAAAAMAAAAGAAAAAAAAAAkAAAAMAAAAAAAAAAAAAAAAAAAACgAAAA8AAAASAAAAAAAAAAAAAAAAAAAAAgAAABUAAAAYAAAAAAAAAAAAAAAAAAAACAAAABsAAAAeAAAAAAAAACEAAAAkAAAAAAAAAP////8nAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAAAAAAAGgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEQAAAAAAAAAAAAAABgAAAAMAAAAAAAAACQAAABIAAAAAAAAADAAAAA8AAAAAAAAAGAAAACEAAAAAAAAAJAAAACcAAAAAAAAAGwAAABUAAAAAAAAAHgAAACoAAAAAAAAAPAAAADkAAAAAAAAANgAAADAAAAAAAAAARQAAADMAAAAAAAAAUQAAAEsAAAAAAAAAPwAAAFQAAAAAAAAALQAAAEIAAAAAAAAASAAAAE4AAAAAAAAAAAAAAAAAAAA8AAAAaQAAAHgAAAAAAAAAhAAAAJAAAAAAAAAAcgAAAGwAAAAAAAAAfgAAAI0AAAAAAAAAVwAAAF0AAAAAAAAAdQAAAGAAAAAAAAAAAAAAAAAAAAAgAAAAhwAAAIoAAAAAAAAAYwAAAHsAAAAAAAAAgQAAAGYAAAAAAAAAAAAAAAAAAAAEAAAAWgAAAG8AAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAsAAAAlgAAAKgAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAA+AAAAtwAAALEAAAAAAAAAnAAAALQAAAAAAAAAAAAAAAAAAAABAAAApQAAAKIAAAAAAAAAAAAAAAAAAAA9AAAAAAAAAAAAAAA4AAAAqwAAAK4AAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAoAAAAmQAAALoAAAAAAAAAAAAAAAAAAAAwAAAAwAAAAL0AAAAAAAAAkwAAAJ8AAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAA8AAAAPkAAAAAAAAAAAAAAAAAAAA/AAAA5wAAAOEAAAAAAAAAwwAAANsAAAAAAAAA/AAAAMYAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAADAAAAzwAAAAUBAAAAAAAA8wAAAO0AAAAAAAAAzAAAANUAAAAAAAAA0gAAAOoAAAAAAAAAyQAAAOQAAAAAAAAA2AAAAN4AAAAAAAAAAgEAAP8AAAAAAAAACAEAAPYAAAAAAAAA/////xoBAAAAAAAAHQEAACMBAAAAAAAAAAAAAAAAAAAhAAAAAAAAAAAAAAAJAAAAPgEAAEoBAAAAAAAAMgEAAFwBAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAKAAAAFwEAAAsBAAAAAAAAAAAAAAAAAAAGAAAAAAAAAAAAAAASAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAiAAAAUwEAAGUBAAAAAAAANQEAADgBAAAAAAAADgEAABQBAAAAAAAARwEAAEEBAAAAAAAAXwEAAGIBAAAAAAAALwEAACkBAAAAAAAAJgEAACABAAAAAAAALAEAABEBAAAAAAAAVgEAAFkBAAAAAAAAOwEAAEQBAAAAAAAAUAEAAE0BAAAAAAAAawEAAHcBAAAAAAAAAAAAAAAAAAApAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAVAAAAdAEAAG4BAAAAAAAAaAEAAHEBAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAjAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAxAAAAAAAAAAAAAAA6AAAAAAAAAAAAAAAlAAAAAAAAAAAAAAAZAAAAAAAAAAAAAAAtAAAAAAAAAAAAAAA5AAAAAAAAAAAAAAAaAAAAAAAAAAAAAAAdAAAAAAAAAAAAAAAmAAAAAAAAAAAAAAA1AAAAAAAAAAAAAAAXAAAAAAAAAAAAAAArAAAAAAAAAAAAAAAuAAAAAAAAAAAAAAAqAAAAAAAAAAAAAAAWAAAAAAAAAAAAAAA2AAAAAAAAAAAAAAAzAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAeAAAAAAAAAAAAAAAnAAAAAAAAAAAAAAAvAAAAAAAAAAAAAAA3AAAAAAAAAAAAAAAbAAAAAAAAAAAAAAA7AAAAAAAAAAAAAAAfAAAAAAAAAAAAAAADAAAABgAAAAAAAAAMAAAACQAAAAAAAAAAAAAAAAAAAAAAAAASAAAADwAAAAAAAAAYAAAAFQAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAEAAAAbAAAAHgAAAAAAAAAkAAAAIQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAP7///8qAAAALQAAAAAAAAAwAAAAJwAAAAAAAAA8AAAANgAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAP3///8zAAAAOQAAAAAAAAD/////RQAAAAAAAABRAAAASwAAAAAAAABOAAAAPwAAAAAAAABIAAAAQgAAAAAAAABgAAAAVAAAAAAAAABXAAAAXQAAAAAAAAD/////YwAAAAAAAABsAAAAaQAAAAAAAAAAAAAAAAAAAPz///9aAAAAZgAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAPn///8AAAAAAAAAAAUAAABvAAAAewAAAAAAAAAAAAAAAAAAAPv///8AAAAAAAAAAAcAAAByAAAAeAAAAAAAAAB+AAAAdQAAAAAAAAAAAAAAAAAAAPr///8AAAAAAAAAAAYAAACZAAAAogAAAAAAAACWAAAAkwAAAAAAAACHAAAAigAAAAAAAACcAAAAjQAAAAAAAACBAAAAnwAAAAAAAACEAAAAkAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAPj///+rAAAAxgAAAAAAAAAAAAAAAAAAAPf///+0AAAAwAAAAAAAAACoAAAAtwAAAAAAAAClAAAAugAAAAAAAACuAAAAvQAAAAAAAAAAAAAAAAAAAPb///+xAAAAwwAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAABAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAsAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAPD///8AAAAAAAAAAPT///8AAAAAAAAAAPL///8AAAAAAAAAAPH///8AAAAAAAAAAPX///8AAAAAAAAAAPP///8AAAAAAAAAAAAAAAAGAAAAAwAAAAAAAAASAAAADwAAAAAAAAAJAAAADAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAbAAAAGAAAAAAAAAAVAAAAHgAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAIQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAMAAAAnAAAAKgAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAYAAAAwAAAALQAAAAAAAAAzAAAA/////wAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAYAAAADAAAAAAAAAAwAAAAJAAAAAAAAABIAAAAPAAAAAAAAABgAAAAVAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAB4AAAAbAAAAAAAAAAAAAAAAAAAAAwAAACQAAAAhAAAAAAAAAAAAAAAAAAAABAAAACoAAAAnAAAAAAAAAAAAAAAAAAAABQAAADAAAAAtAAAAAAAAAAAAAAAAAAAABgAAADMAAAD/////AAAAAAAAAAAAAAAABwAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAwAAAAYAAAAAAAAADAAAAAkAAAAAAAAAAAAAAAAAAAABAAAAFQAAABgAAAAAAAAAEgAAAA8AAAAAAAAAJwAAABsAAAAAAAAAIQAAAB4AAAAAAAAAKgAAACQAAAAAAAAAAAAAAAAAAAABAQAAPAAAAEIAAAAAAAAANgAAAD8AAAAAAAAAMAAAADkAAAAAAAAAAAAAAAAAAAABAgAAMwAAAC0AAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAADAAAAUQAAAEsAAAAAAAAAVwAAAF0AAAAAAAAASAAAAE4AAAAAAAAAYAAAAFoAAAAAAAAAAAAAAAAAAAABBAAARQAAAFQAAAAAAAAAAAAAAAAAAAABAwAAAAAAAAAAAAACAQAAAAAAAAAAAAABBwAAAAAAAAAAAAD//wAAAAAAAAAAAAABBgAAbwAAAGwAAAAAAAAAAAAAAAAAAAABBQAAaQAAAGYAAAAAAAAAdQAAAHIAAAAAAAAAYwAAAH4AAAAAAAAAeAAAAHsAAAAAAAAAnAAAAJYAAAAAAAAAogAAAJ8AAAAAAAAAkAAAAJMAAAAAAAAAgQAAAIcAAAAAAAAAigAAAIQAAAAAAAAAAAAAAAAAAAABCAAAAAAAAAAAAAAEAAAAAAAAAAAAAAACAgAAAAAAAAAAAAABCQAAmQAAAI0AAAAAAAAApQAAAKsAAAAAAAAAtAAAAKgAAAAAAAAAsQAAAK4AAAAAAAAAtwAAALoAAAAAAAAAAAAAAAAAAAABCgAAAAAAAAAAAAABDQAAAAAAAAAAAAAGAAAAAAAAAAAAAAADAQAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAwAAAAAAAAAAAAABCwAAAAAAAAAAAAABDAAA5AAAAOEAAAAAAAAAyQAAANIAAAAAAAAA2wAAANUAAAAAAAAA6gAAAN4AAAAAAAAA2AAAAOcAAAAAAAAAzwAAAMAAAAAAAAAAzAAAAL0AAAAAAAAAxgAAAMMAAAAAAAAA8wAAAAUBAAAAAAAAEQEAAPAAAAAAAAAA9gAAAO0AAAAAAAAA+QAAAAIBAAAAAAAAFwEAABQBAAAAAAAA/AAAAP8AAAAAAAAADgEAABoBAAAAAAAACAEAAAsBAAAAAAAAAAAAAAAAAAADAgAAAAAAAAAAAAAEAQAAAAAAAAAAAAAHAAAAAAAAAAAAAAACBAAAAAAAAAAAAAACBQAAAAAAAAAAAAABEAAAAAAAAAAAAAABDwAAAAAAAAAAAAABDgAAOwEAAEEBAAAAAAAATQEAAFYBAAAAAAAAOAEAACMBAAAAAAAAdwEAAGUBAAAAAAAAIAEAACYBAAAAAAAA/////3EBAAAAAAAAHQEAAC8BAAAAAAAAPgEAAGsBAAAAAAAAKQEAADIBAAAAAAAAUwEAADUBAAAAAAAAUAEAAFwBAAAAAAAASgEAACwBAAAAAAAAdAEAAFkBAAAAAAAAXwEAAG4BAAAAAAAARwEAAGIBAAAAAAAAaAEAAEQBAAAAAAAAfQEAAJgBAAAAAAAAoQEAAKQBAAAAAAAAhgEAAHoBAAAAAAAAswEAALYBAAAAAAAAgAEAAIMBAAAAAAAAAAAAAAAAAAACCAAAjAEAAJIBAAAAAAAA0QEAAM4BAAAAAAAAAAAAAAAAAAAIAAAAmwEAAI8BAAAAAAAArQEAALABAAAAAAAAxQEAAJ4BAAAAAAAAqgEAAKcBAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABFQAAAAAAAAAAAAACBgAAAAAAAAAAAAADAwAAAAAAAAAAAAABFAAAAAAAAAAAAAACBwAAAAAAAAAAAAABEQAAAAAAAAAAAAABEgAAAAAAAAAAAAABEwAAvAEAAMgBAAAAAAAAAAAAAAAAAAADBAAAywEAAMIBAAAAAAAAAAAAAAAAAAAFAQAAiQEAAJUBAAAAAAAAAAAAAAAAAAAEAgAAvwEAALkBAAAAAAAABAIAAAcCAAAAAAAA5gEAANoBAAAAAAAA/gEAAOMBAAAAAAAA+AEAAPIBAAAAAAAA1wEAABkCAAAAAAAA+wEAAPUBAAAAAAAACgIAAAECAAAAAAAAFgIAABMCAAAAAAAA1AEAAN0BAAAAAAAA7AEAAO8BAAAAAAAAJQIAACICAAAAAAAADQIAABACAAAAAAAAAAAAAAAAAAAHAQAAAAAAAAAAAAACCgAAAAAAAAAAAAACCQAAAAAAAAAAAAABFgAAAAAAAAAAAAABFwAAAAAAAAAAAAABGQAAAAAAAAAAAAABGAAAAAAAAAAAAAADBQAAAAAAAAAAAAAEAwAAAAAAAAAAAAANAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAFAgAAAAAAAAAAAAABGgAAAAAAAAAAAAAGAQAAHAIAAB8CAAAAAAAA4AEAAOkBAAAAAAAATAIAAFUCAAAAAAAAAAAAAAAAAAAbAAAAYQIAACsCAAAAAAAAXgIAAFsCAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAWAAAATwIAAG0CAAAAAAAAAAAAAAAAAAASAAAAPQIAAEACAAAAAAAANAIAADoCAAAAAAAAAAAAAAAAAAAUAAAAKAIAAEYCAAAAAAAAAAAAAAAAAAAVAAAALgIAAEMCAAAAAAAAAAAAAAAAAAAXAAAAZAIAAFICAAAAAAAAAAAAAAAAAAAZAAAAAAAAAAAAAAAYAAAAWAIAAGcCAAAAAAAAAAAAAAAAAAAfAAAAAAAAAAAAAAAeAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAdAAAAAAAAAAAAAAAaAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAQAAAANwIAAGoCAAAAAAAAMQIAAEkCAAAAAAAAjgIAAHkCAAAAAAAAAAAAAAAAAAAlAAAAhQIAAIgCAAAAAAAAAAAAAAAAAAAkAAAAdgIAAHwCAAAAAAAAAAAAAAAAAAAiAAAAfwIAAHMCAAAAAAAAlwIAAJoCAAAAAAAAkQIAAHACAAAAAAAAiwIAAIICAAAAAAAAnQIAAJQCAAAAAAAAAAAAAAAAAAAjAAAAAAAAAAAAAAALAQAAAAAAAAAAAAAoAAAAAAAAAAAAAAAMAQAAAAAAAAAAAAAKAQAAAAAAAAAAAAAgAAAAAAAAAAAAAAAIAQAAAAAAAAAAAAAJAQAAAAAAAAAAAAAmAAAAAAAAAAAAAAANAQAAAAAAAAAAAAAOAQAAAAAAAAAAAAAhAAAAAAAAAAAAAAAnAAAAAAAAAAAAAAABHwAAAAAAAAAAAAABGwAAAAAAAAAAAAABHgAAAAAAAAAAAAACEAAAAAAAAAAAAAABHQAAAAAAAAAAAAABHAAAAAAAAAAAAAAPAQAAAAAAAAAAAAASAQAAAAAAAAAAAAARAQAAAAAAAAAAAAAQAQAAAAAAAAAAAAADBgAAAAAAAAAAAAACCwAAAAAAAAAAAAACDgAAAAAAAAAAAAACDQAAAAAAAAAAAAACDAAAAAAAAAAAAAACDwAAICwqJiAZEQksPjo0LCMYDCo6NzEqIRcMJjQxLCYeFAogLComIBkRCRkjIR4ZFA4HERgXFBEOCQUJDAwKCQcFAgAAAAAAAAC/AAAAvwAAAL8AAAC/AAAAvwAAAL8AAIC/AACAvwAAgL8AAIC/AADAvwAAwL8AAADAAAAAwAAAIMAAACDAAABAwAAAYMAAAGDAAACAwAAAkMAAAKDAAACwwAAA0MAAAODAAAAAwQAACMEAABjBAAAowQAAQMEAAFDBAABowQAAeMEAAIzBAACYwQAApMEAALTBAADEwQAA1MEAAOjBAAD8wQAACMIAABLCAAAewgAAKsIAADbCAABCwgAAUMIAAF7CAABqwgAAesIAAITCAACLwgAAk8IAAJrCAAChwgAAqcIAALDCAAC3wgAAvsIAAMTCAADKwgAA0MIAANVCAADaQgAA3kIAAOFCAADjQgAA5EIAAORCAADjQgAA4EIAAN1CAADXQgAA0EIAAMhCAAC9QgAAsUIAAKNCAACSQgAAfkIAAFRCAAAmQgAA5EEAAGhBAACAvwAAkMEAABDCAABewgAAmcIAAMXCAAD0wgAAE8MAgC3DAIBIwwCAZcMAwIHDAECRwwBAocMAwLHDAMDCwwAA1MMAwOXDAMD3wwAABcQAIA7EAEAXxABgIMQAgCnEAIAyxABAO8QA4EPEAEBMxABAVMQA4FvEACBjxADAacQA4G/EAEB1xAAgesQAAH7EAJCAxACwgcQAUILEAHCCxAAAgsQA8IDEAKB+RAAAekQAAHREAKBsRADAY0QAYFlEAIBNRADgP0QAwDBEAAAgRABgDUQAgPJDAIDGQwBAl0MAAElDAAC5QgAAtMEAABDDAECIwwCAy8MA4AjEAIAtxACAU8QAwHrEAKCRxABwpsQAwLvEAHDRxACQ58QA8P3EAEgKxQCgFcUACCHFAGgsxQC4N8UA6ELFAOhNxQC4WMUAOGPFAGhtxQAwd8UARIDFAKyExQDMiMUAmIzFAAyQxQAgk8UAxJXFAPyXxQC4mcUA8JrFAJybxQC4m8UAPJvFAByaxQBYmMUA4JXFALSSxQDMjsUAIIrFALCExQDgfMUAwG7FAPBexQBwTUUAODpFAEAlRQCIDkUAAOxEAHC3RACgfkQAQAdEAAAMQgCA+cMAoITEAEDOxACoDcUA0DXFAJBfxQBwhcUA3JvFAPyyxQDQysUAUOPFAGz8xQAOC8YALBjGAIolxgAiM8YA7EDGAOROxgACXcYAQGvGAJZ5xgD/g8YAOIvGAHGSxgComcYA2KDGAP6nxgAVr8YAGbbGAAa9xgDZw8YAjcrGAB7RxgCK18YAyt3GAN3jxgC+6cYAae/GANz0xgAT+sYACv/GAN8Bx4AWBMcAKgbHgBcIxwDfCccAfgvHgPQMx4BBDseAYw/HAFoQx4AkEccAwxHHADQSxwB4EscAjxJHAHgSRwA0EkcAwxFHgCQRRwBaEEeAYw9HgEEOR4D0DEcAfgtHAN8JR4AXCEcAKgZHgBYERwDfAUcACv9GABP6RgDc9EYAae9GAL7pRgDd40YAyt1GAIrXRgAe0UYAjcpGANnDRgAGvUYAGbZGABWvRgD+p0YA2KBGAKiZRgBxkkYAOItGAP+DRgCWeUYAQGtGAAJdRgDkTkYA7EBGACIzRgCKJUYALBhGAA4LRgBs/EUAUONFANDKRQD8skUA3JtFAHCFRQCQX0UA0DVFAKgNRQBAzkQAoIREAID5QwAADMIAQAfEAKB+xABwt8QAAOzEAIgOxQBAJcUAODrFAHBNRQDwXkUAwG5FAOB8RQCwhEUAIIpFAMyORQC0kkUA4JVFAFiYRQAcmkUAPJtFALibRQCcm0UA8JpFALiZRQD8l0UAxJVFACCTRQAMkEUAmIxFAMyIRQCshEUARIBFADB3RQBobUUAOGNFALhYRQDoTUUA6EJFALg3RQBoLEUACCFFAKAVRQBICkUA8P1EAJDnRABw0UQAwLtEAHCmRACgkUQAwHpEAIBTRACALUQA4AhEAIDLQwBAiEMAABBDAAC0QQAAucIAAEnDAECXwwCAxsMAgPLDAGANxAAAIMQAwDDEAOA/xACATcQAYFnEAMBjxACgbMQAAHTEAAB6xACgfkQA8IBEAACCRABwgkQAUIJEALCBRACQgEQAAH5EACB6RABAdUQA4G9EAMBpRAAgY0QA4FtEAEBURABATEQA4ENEAEA7RACAMkQAgClEAGAgRABAF0QAIA5EAAAFRADA90MAwOVDAADUQwDAwkMAwLFDAEChQwBAkUMAwIFDAIBlQwCASEMAgC1DAAATQwAA9EIAAMVCAACZQgAAXkIAABBCAACQQQAAgD8AAGjBAADkwQAAJsIAAFTCAAB+wgAAksIAAKPCAACxwgAAvcIAAMjCAADQwgAA18IAAN3CAADgwgAA48IAAOTCAADkwgAA48IAAOHCAADewgAA2sIAANVCAADQQgAAykIAAMRCAAC+QgAAt0IAALBCAACpQgAAoUIAAJpCAACTQgAAi0IAAIRCAAB6QgAAakIAAF5CAABQQgAAQkIAADZCAAAqQgAAHkIAABJCAAAIQgAA/EEAAOhBAADUQQAAxEEAALRBAACkQQAAmEEAAIxBAAB4QQAAaEEAAFBBAABAQQAAKEEAABhBAAAIQQAAAEEAAOBAAADQQAAAsEAAAKBAAACQQAAAgEAAAGBAAABgQAAAQEAAACBAAAAgQAAAAEAAAABAAADAPwAAwD8AAIA/AACAPwAAgD8AAIA/AAAAPwAAAD8AAAA/AAAAPwAAAD8AAAA/IAAwADgAQABQAGAAcACAAKAAwADgAAABQAGAAQgAEAAYACAAKAAwADgAQABQAGAAcACAAJAAoAAAAAAAAAAAAESsgLsAfQAAIlbAXYA+AAAAAAEBAQICAgICAgICAgAAAAAAAAAAAQEBAgICAgIAAERENDQ0NDQ0NDQ0NAAAAAAAAAAAAAAAAAAAAAAAAAAAQ0NDQkJCQkJCQkIxMTExMTExMTExMTEgICAgICAgAABFRUVFNDQ0NDQ0NCQkJCQkJCQkJCQkJCQkJCQkJCQAAAABAhEAAAAAAAAAAAAAAAAAAQIDBAUGEQAAAAAAAAAAAAECAwQFBgcICQoLDA0OEQABAwUGBwgJCgsMDQ4PEBEAAQIEBQYHCAkKCwwNDg8RAAECAwQFBgcICQoLDA0ODwMAAQUFAAEHBwAAAwkAAQoPAAAEHwAABT8AAAZ/AAAH/wAACP8BAAn/AwAK/wcAC/8PAAz/HwAN/z8ADv9/AA///wAQAAAAAAAAAAAAAAAAAAAAAupflgEwikIBCAgMW1tbXltec2l6ZSA+IDAAL2hvbWUvZG9taW5pYy9wcm9qZWN0cy9lbXNkay9mYXN0Y29tcC9lbXNjcmlwdGVuL3N5c3RlbS9saWIvZW1tYWxsb2MuY3BwAGdldEZyZWVMaXN0SW5kZXgATUlOX0ZSRUVMSVNUX0lOREVYIDw9IGluZGV4ICYmIGluZGV4IDwgTUFYX0ZSRUVMSVNUX0lOREVYAGdldEFmdGVyKHJlZ2lvbikgPD0gc2JyaygwKQBlbW1hbGxvY19tYWxsb2MAcmVnaW9uLT5nZXRVc2VkKCkAZ2V0UGF5bG9hZAAoY2hhciopZXh0cmFQdHIgPT0gKGNoYXIqKXB0ciArIHNicmtTaXplAGFsbG9jYXRlUmVnaW9uACFsYXN0UmVnaW9uACFmaXJzdFJlZ2lvbgBmaXJzdFJlZ2lvbgBwdHIgPT0gZ2V0QWZ0ZXIobGFzdFJlZ2lvbikAZXh0ZW5kTGFzdFJlZ2lvbgBhZGRUb0ZyZWVMaXN0AGdldEJpZ0Vub3VnaEZyZWVMaXN0SW5kZXgAcGF5bG9hZFNpemUgPj0gc2l6ZQBwb3NzaWJseVNwbGl0UmVtYWluZGVyAGV4dHJhID49IE1JTl9SRUdJT05fU0laRQB0b3RhbFNwbGl0U2l6ZSA+PSBNSU5fUkVHSU9OX1NJWkUAbWVyZ2VJbnRvRXhpc3RpbmdGcmVlUmVnaW9uAHJlZ2lvbiA9PSBsYXN0UmVnaW9uAGVtbWFsbG9jX3JlYWxsb2M=",w=function(){function e(e,t,n){var i=this;if(void 0===t&&(t={}),void 0===n&&(n={}),this.options=t,this.hooks=n,this.options.hookOnEstablished=function(){i.hooks.load&&i.hooks.load()},t.source?(this.source=new t.source(e,this.options),t.streaming=!!this.source.streaming):e.match(/^wss?:\/\//)?(this.source=new d(e,this.options),t.streaming=!0):t.progressive?(this.source=new u(e,this.options),t.streaming=!1):(this.source=new c(e,this.options),t.streaming=!1),this.maxAudioLag=t.maxAudioLag||.25,this.loop=!1!==t.loop,this.autoplay=!!t.autoplay||t.streaming,this.demuxer=new h(t),this.source.connect(this.demuxer),!t.disableWebAssembly&&_.IsSupported()&&(this.wasmModule=_.GetModule(),t.wasmModule=this.wasmModule),!1!==t.video&&(this.video=t.wasmModule?new m(t):new f(t),this.renderer=!t.disableGl&&y.IsSupported()?new y(t):new b(t),this.demuxer.connect(h.STREAM.VIDEO_1,this.video),this.video.connect(this.renderer)),!1!==t.audio&&C.IsSupported()&&(this.audio=t.wasmModule?new v(t):new g(t),this.audioOut=new C(t),this.demuxer.connect(h.STREAM.AUDIO_1,this.audio),this.audio.connect(this.audioOut)),Object.defineProperty(this,"currentTime",{get:this.getCurrentTime,set:this.setCurrentTime}),Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this.paused=!0,this.unpauseOnShow=!1,!1!==t.pauseWhenHidden&&document.addEventListener("visibilitychange",this.showHide.bind(this)),this.wasmModule)if(this.wasmModule.ready)this.startLoading();else{var r=l(E);this.wasmModule.loadFromBuffer(r,this.startLoading.bind(this))}else this.startLoading()}var t=e.prototype;return t.startLoading=function(){this.source.start(),this.autoplay&&this.play()},t.showHide=function(){"hidden"===document.visibilityState?(this.unpauseOnShow=this.wantsToPlay,this.pause()):this.unpauseOnShow&&this.play()},t.play=function(){this.animationId||(this.animationId=requestAnimationFrame(this.update.bind(this)),this.wantsToPlay=!0,this.paused=!1)},t.pause=function(){this.paused||(cancelAnimationFrame(this.animationId),this.animationId=null,this.wantsToPlay=!1,this.isPlaying=!1,this.paused=!0,this.audio&&this.audio.canPlay&&(this.audioOut.stop(),this.seek(this.currentTime)),this.hooks.pause&&this.hooks.pause(),this.options.onPause&&this.options.onPause(this))},t.getVolume=function(){return this.audioOut?this.audioOut.volume:0},t.setVolume=function(e){this.audioOut&&(this.audioOut.volume=e)},t.stop=function(){this.pause(),this.seek(0),this.video&&!1!==this.options.decodeFirstFrame&&this.video.decode(),this.hooks.stop&&this.hooks.stop()},t.destroy=function(){this.pause(),this.source.destroy(),this.video&&this.video.destroy(),this.renderer&&this.renderer.destroy(),this.audio&&this.audio.destroy(),this.audioOut&&this.audioOut.destroy()},t.seek=function(e){var t=this.audio&&this.audio.canPlay?this.audio.startTime:this.video.startTime;this.video&&this.video.seek(e+t),this.audio&&this.audio.seek(e+t),this.startTime=a()-e},t.getCurrentTime=function(){return this.audio&&this.audio.canPlay?this.audio.currentTime-this.audio.startTime:this.video.currentTime-this.video.startTime},t.setCurrentTime=function(e){this.seek(e)},t.update=function(){this.animationId=requestAnimationFrame(this.update.bind(this)),this.source.established?(this.isPlaying||(this.isPlaying=!0,this.startTime=a()-this.currentTime,this.hooks.play&&this.hooks.play(),this.options.onPlay&&this.options.onPlay(this)),this.options.streaming?this.updateForStreaming():this.updateForStaticFile()):this.renderer&&this.renderer.renderProgress(this.source.progress)},t.nextFrame=function(){return!(!this.source.established||!this.video)&&this.video.decode()},t.updateForStreaming=function(){if(this.video&&this.video.decode(),this.audio){var e=!1;do{this.audioOut.enqueuedTime>this.maxAudioLag&&(this.audioOut.resetEnqueuedTime(),this.audioOut.enabled=!1),e=this.audio.decode()}while(e);this.audioOut.enabled=!0}},t.updateForStaticFile=function(){var e=!1,t=0;if(this.audio&&this.audio.canPlay){for(;!e&&this.audio.decodedTime-this.audio.currentTime<.25;)e=!this.audio.decode();this.video&&this.video.currentTime<this.audio.currentTime&&(e=!this.video.decode()),t=this.demuxer.currentTime-this.audio.currentTime}else if(this.video){var n=a()-this.startTime+this.video.startTime,i=n-this.video.currentTime,r=1/this.video.frameRate;this.video&&i>0&&(i>2*r&&(this.startTime+=i),e=!this.video.decode()),t=this.demuxer.currentTime-n}this.source.resume(t),e&&this.source.completed?this.loop?this.seek(0):(this.stop(),this.options.onEnded&&this.options.onEnded(this)):e&&this.options.onStalled&&this.options.onStalled(this)},e}();return{Player:w,VideoElement:o,BitBuffer:A,Source:{Ajax:c,AjaxProgressive:u,WebSocket:d,Fetch:function(){function e(e,t){this.url=e,this.destination=null,this.request=null,this.streaming=!0,this.completed=!1,this.established=!1,this.progress=0,this.aborted=!1,this.onEstablishedCallback=t.onSourceEstablished,this.onCompletedCallback=t.onSourceCompleted,t.hookOnEstablished&&(this.hookOnEstablished=t.hookOnEstablished)}var t=e.prototype;return t.connect=function(e){this.destination=e},t.start=function(){var e=this,t={method:"GET",headers:new Headers,cache:"default"};self.fetch(this.url,t).then((function(t){if(t.ok&&t.status>=200&&t.status<=299)return e.progress=1,e.established=!0,e.pump(t.body.getReader())})).catch((function(e){throw e}))},t.pump=function(e){var t=this;return e.read().then((function(n){if(!n.done)return t.aborted?e.cancel():(t.destination&&t.destination.write(n.value.buffer),t.pump(e));t.completed=!0})).catch((function(e){throw e}))},t.resume=function(){},t.abort=function(){this.aborted=!0},e}()},Demuxer:{TS:h},Decoder:{Base:p,MPEG1Video:f,MPEG1VideoWASM:m,MP2Audio:g,MP2AudioWASM:v},Renderer:{WebGL:y,Canvas2D:b},AudioOutput:{WebAudio:C},WASMModule:_,Now:a,CreateVideoElements:function(){for(var e=document.querySelectorAll(".jsmpeg"),t=0;t<e.length;t++)new o(e[t])},Fill:s,Base64ToArrayBuffer:l,WASM_BINARY_INLINED:E}}()},3490:(e,t,n)=>{"use strict";var i=n(8908);e.exports=function(e,t){return void 0===t&&(t=!1),function(n,r,o){if(n)e(n);else if(r.statusCode>=400&&r.statusCode<=599){var a=o;if(t)if(i.TextDecoder){var s=(void 0===(l=r.headers&&r.headers["content-type"])&&(l=""),l.toLowerCase().split(";").reduce((function(e,t){var n=t.split("="),i=n[0],r=n[1];return"charset"===i.trim()?r.trim():e}),"utf-8"));try{a=new TextDecoder(s).decode(o)}catch(e){}}else a=String.fromCharCode.apply(null,new Uint8Array(o));e({cause:a})}else e(null,o);var l}}},9603:(e,t,n)=>{"use strict";var i=n(8908),r=n(434),o=n(7376);l.httpHandler=n(3490);var a=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var n=e.indexOf(":"),i=e.slice(0,n).trim().toLowerCase(),r=e.slice(n+1).trim();void 0===t[i]?t[i]=r:Array.isArray(t[i])?t[i].push(r):t[i]=[t[i],r]})),t):t};function s(e,t,n){var i=e;return o(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=r({},t,{uri:e}),i.callback=n,i}function l(e,t,n){return c(t=s(e,t,n))}function c(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,i,r){t||(t=!0,e.callback(n,i,r))};function i(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(u),g)try{e=JSON.parse(e)}catch(e){}return e}function r(e){return clearTimeout(d),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,v)}function o(){if(!c){var t;clearTimeout(d),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var r=v,o=null;return 0!==t?(r={body:i(),statusCode:t,method:h,headers:{},url:A,rawRequest:u},u.getAllResponseHeaders&&(r.headers=a(u.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,r,r.body)}}var s,c,u=e.xhr||null;u||(u=e.cors||e.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var d,A=u.url=e.uri||e.url,h=u.method=e.method||"GET",p=e.body||e.data,f=u.headers=e.headers||{},m=!!e.sync,g=!1,v={body:void 0,headers:{},statusCode:0,method:h,url:A,rawRequest:u};if("json"in e&&!1!==e.json&&(g=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==h&&"HEAD"!==h&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(o,0)},u.onload=o,u.onerror=r,u.onprogress=function(){},u.onabort=function(){c=!0},u.ontimeout=r,u.open(h,A,!m,e.username,e.password),m||(u.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(d=setTimeout((function(){if(!c){c=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}}),e.timeout)),u.setRequestHeader)for(s in f)f.hasOwnProperty(s)&&u.setRequestHeader(s,f[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(p||null),u}e.exports=l,e.exports.default=l,l.XMLHttpRequest=i.XMLHttpRequest||function(){},l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:i.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){l["delete"===e?"del":e]=function(t,n,i){return(n=s(t,n,i)).method=e.toUpperCase(),c(n)}}))},2167:(e,t)=>{"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var i=n({HTML:"text/html",isHTML:function(e){return e===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var i=0;i<e.length;i++)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];if(t.call(void 0,r,i,e))return r}},t.freeze=n,t.MIME_TYPE=i,t.NAMESPACE=r},6129:(e,t,n)=>{var i=n(2167),r=n(1146),o=n(1045),a=n(6925),s=r.DOMImplementation,l=i.NAMESPACE,c=a.ParseError,u=a.XMLReader;function d(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function A(e){this.options=e||{locator:{}}}function h(){this.cdata=!1}function p(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function f(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function m(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function g(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}A.prototype.parseFromString=function(e,t){var n=this.options,i=new u,r=n.domBuilder||new h,a=n.errorHandler,s=n.locator,c=n.xmlns||{},A=/\/x?html?$/.test(t),p=A?o.HTML_ENTITIES:o.XML_ENTITIES;s&&r.setDocumentLocator(s),i.errorHandler=function(e,t,n){if(!e){if(t instanceof h)return t;e=t}var i={},r=e instanceof Function;function o(t){var o=e[t];!o&&r&&(o=2==e.length?function(n){e(t,n)}:e),i[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+f(n))}||function(){}}return n=n||{},o("warning"),o("error"),o("fatalError"),i}(a,r,s),i.domBuilder=n.domBuilder||r,A&&(c[""]=l.HTML),c.xml=c.xml||l.XML;var m=n.normalizeLineEndings||d;return e&&"string"==typeof e?i.parse(m(e),c,p):i.errorHandler.error("invalid doc source"),r.doc},h.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var r=this.doc,o=r.createElementNS(e,n||t),a=i.length;g(this,o),this.currentElement=o,this.locator&&p(this.locator,o);for(var s=0;s<a;s++){e=i.getURI(s);var l=i.getValue(s),c=(n=i.getQName(s),r.createAttributeNS(e,n));this.locator&&p(i.getLocator(s),c),c.value=c.nodeValue=l,o.setAttributeNode(c)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&p(this.locator,n),g(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=m.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&p(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=m.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&p(this.locator,i),g(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(e,t,n);this.locator&&p(this.locator,r),g(this,r),this.doc.doctype=r}},warning:function(e){console.warn("[xmldom warning]\t"+e,f(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,f(this.locator))},fatalError:function(e){throw new c(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){h.prototype[e]=function(){return null}})),t.DOMParser=A},1146:(e,t,n)=>{var i=n(2167),r=i.find,o=i.NAMESPACE;function a(e){return""!==e}function s(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function l(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(a):[]}(e);return Object.keys(t.reduce(s,{}))}function c(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function u(e,t){var n=e.prototype;if(!(n instanceof t)){function i(){}i.prototype=t.prototype,c(n,i=new i),e.prototype=n=i}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var d={},A=d.ELEMENT_NODE=1,h=d.ATTRIBUTE_NODE=2,p=d.TEXT_NODE=3,f=d.CDATA_SECTION_NODE=4,m=d.ENTITY_REFERENCE_NODE=5,g=d.ENTITY_NODE=6,v=d.PROCESSING_INSTRUCTION_NODE=7,y=d.COMMENT_NODE=8,b=d.DOCUMENT_NODE=9,C=d.DOCUMENT_TYPE_NODE=10,_=d.DOCUMENT_FRAGMENT_NODE=11,E=d.NOTATION_NODE=12,w={},T={},S=(w.INDEX_SIZE_ERR=(T[1]="Index size error",1),w.DOMSTRING_SIZE_ERR=(T[2]="DOMString size error",2),w.HIERARCHY_REQUEST_ERR=(T[3]="Hierarchy request error",3)),k=(w.WRONG_DOCUMENT_ERR=(T[4]="Wrong document",4),w.INVALID_CHARACTER_ERR=(T[5]="Invalid character",5),w.NO_DATA_ALLOWED_ERR=(T[6]="No data allowed",6),w.NO_MODIFICATION_ALLOWED_ERR=(T[7]="No modification allowed",7),w.NOT_FOUND_ERR=(T[8]="Not found",8)),I=(w.NOT_SUPPORTED_ERR=(T[9]="Not supported",9),w.INUSE_ATTRIBUTE_ERR=(T[10]="Attribute in use",10));function B(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,T[e]),this.message=T[e],Error.captureStackTrace&&Error.captureStackTrace(this,B);return n.code=e,t&&(this.message=this.message+": "+t),n}function x(){}function D(e,t){this._node=e,this._refresh=t,P(this)}function P(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);ve(e,"length",n.length),c(n,e),e._inc=t}}function R(){}function j(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function L(e,t,n,i){if(i?t[j(t,i)]=n:t[t.length++]=n,e){n.ownerElement=e;var r=e.ownerDocument;r&&(i&&q(r,e,i),function(e,t,n){e&&e._inc++,n.namespaceURI===o.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(r,e,n))}}function M(e,t,n){var i=j(t,n);if(!(i>=0))throw new B(k,new Error(e.tagName+"@"+n));for(var r=t.length-1;i<r;)t[i]=t[++i];if(t.length=r,e){var o=e.ownerDocument;o&&(q(o,e,n),n.ownerElement=null)}}function O(){}function F(){}function U(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function Q(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(Q(e,t))return!0}while(e=e.nextSibling)}function N(){this.ownerDocument=this}function q(e,t,n,i){e&&e._inc++,n.namespaceURI===o.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function z(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var r=t.firstChild,o=0;r;)i[o++]=r,r=r.nextSibling;i.length=o,delete i[i.length]}}}function G(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,z(e.ownerDocument,e),t}function H(e){return e&&e.nodeType===F.DOCUMENT_TYPE_NODE}function W(e){return e&&e.nodeType===F.ELEMENT_NODE}function V(e){return e&&e.nodeType===F.TEXT_NODE}function Y(e,t){var n=e.childNodes||[];if(r(n,W)||H(t))return!1;var i=r(n,H);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function J(e,t){var n=e.childNodes||[];if(r(n,(function(e){return W(e)&&e!==t})))return!1;var i=r(n,H);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function K(e,t,n){var i=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===F.DOCUMENT_FRAGMENT_NODE){var a=o.filter(W);if(a.length>1||r(o,V))throw new B(S,"More than one element or text in fragment");if(1===a.length&&!Y(e,n))throw new B(S,"Element in fragment can not be inserted before doctype")}if(W(t)&&!Y(e,n))throw new B(S,"Only one element can be added and only after doctype");if(H(t)){if(r(i,H))throw new B(S,"Only one doctype is allowed");var s=r(i,W);if(n&&i.indexOf(s)<i.indexOf(n))throw new B(S,"Doctype can only be inserted before an element");if(!n&&s)throw new B(S,"Doctype can not be appended since element is present")}}function Z(e,t,n){var i=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===F.DOCUMENT_FRAGMENT_NODE){var a=o.filter(W);if(a.length>1||r(o,V))throw new B(S,"More than one element or text in fragment");if(1===a.length&&!J(e,n))throw new B(S,"Element in fragment can not be inserted before doctype")}if(W(t)&&!J(e,n))throw new B(S,"Only one element can be added and only after doctype");if(H(t)){if(r(i,(function(e){return H(e)&&e!==n})))throw new B(S,"Only one doctype is allowed");var s=r(i,W);if(n&&i.indexOf(s)<i.indexOf(n))throw new B(S,"Doctype can only be inserted before an element")}}function X(e,t,n,i){(function(e,t,n){if(!function(e){return e&&(e.nodeType===F.DOCUMENT_NODE||e.nodeType===F.DOCUMENT_FRAGMENT_NODE||e.nodeType===F.ELEMENT_NODE)}(e))throw new B(S,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new B(k,"child not in parent");if(!function(e){return e&&(W(e)||V(e)||H(e)||e.nodeType===F.DOCUMENT_FRAGMENT_NODE||e.nodeType===F.COMMENT_NODE||e.nodeType===F.PROCESSING_INSTRUCTION_NODE)}(t)||H(t)&&e.nodeType!==F.DOCUMENT_NODE)throw new B(S,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)})(e,t,n),e.nodeType===F.DOCUMENT_NODE&&(i||K)(e,t,n);var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===_){var o=t.firstChild;if(null==o)return t;var a=t.lastChild}else o=a=t;var s=n?n.previousSibling:e.lastChild;o.previousSibling=s,a.nextSibling=n,s?s.nextSibling=o:e.firstChild=o,null==n?e.lastChild=a:n.previousSibling=a;do{o.parentNode=e}while(o!==a&&(o=o.nextSibling));return z(e.ownerDocument||e,e),t.nodeType==_&&(t.firstChild=t.lastChild=null),t}function $(){this._nsMap={}}function ee(){}function te(){}function ne(){}function ie(){}function re(){}function oe(){}function ae(){}function se(){}function le(){}function ce(){}function ue(){}function de(){}function Ae(e,t){var n=[],i=9==this.nodeType&&this.documentElement||this,r=i.prefix,o=i.namespaceURI;if(o&&null==r&&null==(r=i.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return fe(this,n,e,t,a),n.join("")}function he(e,t,n){var i=e.prefix||"",r=e.namespaceURI;if(!r)return!1;if("xml"===i&&r===o.XML||r===o.XMLNS)return!1;for(var a=n.length;a--;){var s=n[a];if(s.prefix===i)return s.namespace!==r}return!0}function pe(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,U),'"')}function fe(e,t,n,i,r){if(r||(r=[]),i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case A:var a=e.attributes,s=a.length,l=e.firstChild,c=e.tagName,u=c;if(!(n=o.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var d,g=0;g<a.length;g++)if("xmlns"===a.item(g).name){d=a.item(g).value;break}if(!d)for(var E=r.length-1;E>=0;E--)if(""===(w=r[E]).prefix&&w.namespace===e.namespaceURI){d=w.namespace;break}if(d!==e.namespaceURI)for(E=r.length-1;E>=0;E--){var w;if((w=r[E]).namespace===e.namespaceURI){w.prefix&&(u=w.prefix+":"+c);break}}}t.push("<",u);for(var T=0;T<s;T++)"xmlns"==(S=a.item(T)).prefix?r.push({prefix:S.localName,namespace:S.value}):"xmlns"==S.nodeName&&r.push({prefix:"",namespace:S.value});for(T=0;T<s;T++){var S,k,I;he(S=a.item(T),0,r)&&(pe(t,(k=S.prefix||"")?"xmlns:"+k:"xmlns",I=S.namespaceURI),r.push({prefix:k,namespace:I})),fe(S,t,n,i,r)}if(c===u&&he(e,0,r)&&(pe(t,(k=e.prefix||"")?"xmlns:"+k:"xmlns",I=e.namespaceURI),r.push({prefix:k,namespace:I})),l||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;l;)l.data?t.push(l.data):fe(l,t,n,i,r.slice()),l=l.nextSibling;else for(;l;)fe(l,t,n,i,r.slice()),l=l.nextSibling;t.push("</",u,">")}else t.push("/>");return;case b:case _:for(l=e.firstChild;l;)fe(l,t,n,i,r.slice()),l=l.nextSibling;return;case h:return pe(t,e.name,e.value);case p:return t.push(e.data.replace(/[<&>]/g,U));case f:return t.push("<![CDATA[",e.data,"]]>");case y:return t.push("\x3c!--",e.data,"--\x3e");case C:var B=e.publicId,x=e.systemId;if(t.push("<!DOCTYPE ",e.name),B)t.push(" PUBLIC ",B),x&&"."!=x&&t.push(" ",x),t.push(">");else if(x&&"."!=x)t.push(" SYSTEM ",x,">");else{var D=e.internalSubset;D&&t.push(" [",D,"]"),t.push(">")}return;case v:return t.push("<?",e.target," ",e.data,"?>");case m:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function me(e,t,n){var i;switch(t.nodeType){case A:(i=t.cloneNode(!1)).ownerDocument=e;case _:break;case h:n=!0}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,n)for(var r=t.firstChild;r;)i.appendChild(me(e,r,n)),r=r.nextSibling;return i}function ge(e,t,n){var i=new t.constructor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r];"object"!=typeof o&&o!=i[r]&&(i[r]=o)}switch(t.childNodes&&(i.childNodes=new x),i.ownerDocument=e,i.nodeType){case A:var a=t.attributes,s=i.attributes=new R,l=a.length;s._ownerElement=i;for(var c=0;c<l;c++)i.setAttributeNode(ge(e,a.item(c),!0));break;case h:n=!0}if(n)for(var u=t.firstChild;u;)i.appendChild(ge(e,u,n)),u=u.nextSibling;return i}function ve(e,t,n){e[t]=n}w.INVALID_STATE_ERR=(T[11]="Invalid state",11),w.SYNTAX_ERR=(T[12]="Syntax error",12),w.INVALID_MODIFICATION_ERR=(T[13]="Invalid modification",13),w.NAMESPACE_ERR=(T[14]="Invalid namespace",14),w.INVALID_ACCESS_ERR=(T[15]="Invalid access",15),B.prototype=Error.prototype,c(w,B),x.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)fe(this[i],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},D.prototype.item=function(e){return P(this),this[e]},u(D,x),R.prototype={length:0,item:x.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new B(I);var n=this.getNamedItem(e.nodeName);return L(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new B(I);return t=this.getNamedItemNS(e.namespaceURI,e.localName),L(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return M(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return M(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},O.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var i=new N;if(i.implementation=this,i.childNodes=new x,i.doctype=n||null,n&&i.appendChild(n),t){var r=i.createElementNS(e,t);i.appendChild(r)}return i},createDocumentType:function(e,t,n){var i=new oe;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=n||"",i}},F.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return X(this,e,t)},replaceChild:function(e,t){X(this,e,t,Z),t&&this.removeChild(t)},removeChild:function(e){return G(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ge(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==p&&e.nodeType==p?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===e)return i;t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},c(d,F),c(d,F.prototype),N.prototype={nodeName:"#document",nodeType:b,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==_){for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return X(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===A&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),G(this,e)},replaceChild:function(e,t){X(this,e,t,Z),e.ownerDocument=this,t&&this.removeChild(t),W(e)&&(this.documentElement=e)},importNode:function(e,t){return me(this,e,t)},getElementById:function(e){var t=null;return Q(this.documentElement,(function(n){if(n.nodeType==A&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=l(e);return new D(this,(function(n){var i=[];return t.length>0&&Q(n.documentElement,(function(r){if(r!==n&&r.nodeType===A){var o=r.getAttribute("class");if(o){var a=e===o;if(!a){var s=l(o);a=t.every((c=s,function(e){return c&&-1!==c.indexOf(e)}))}a&&i.push(r)}}var c})),i}))},createElement:function(e){var t=new $;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new x,(t.attributes=new R)._ownerElement=t,t},createDocumentFragment:function(){var e=new ce;return e.ownerDocument=this,e.childNodes=new x,e},createTextNode:function(e){var t=new ne;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new re;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new ue;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new ee;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new le;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new $,i=t.split(":"),r=n.attributes=new R;return n.childNodes=new x,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,r._ownerElement=n,n},createAttributeNS:function(e,t){var n=new ee,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},u(N,F),$.prototype={nodeType:A,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===_?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,z(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new D(this,(function(t){var n=[];return Q(t,(function(i){i===t||i.nodeType!=A||"*"!==e&&i.tagName!=e||n.push(i)})),n}))},getElementsByTagNameNS:function(e,t){return new D(this,(function(n){var i=[];return Q(n,(function(r){r===n||r.nodeType!==A||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||i.push(r)})),i}))}},N.prototype.getElementsByTagName=$.prototype.getElementsByTagName,N.prototype.getElementsByTagNameNS=$.prototype.getElementsByTagNameNS,u($,F),ee.prototype.nodeType=h,u(ee,F),te.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(T[S])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},u(te,F),ne.prototype={nodeName:"#text",nodeType:p,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},u(ne,te),ie.prototype={nodeName:"#comment",nodeType:y},u(ie,te),re.prototype={nodeName:"#cdata-section",nodeType:f},u(re,te),oe.prototype.nodeType=C,u(oe,F),ae.prototype.nodeType=E,u(ae,F),se.prototype.nodeType=g,u(se,F),le.prototype.nodeType=m,u(le,F),ce.prototype.nodeName="#document-fragment",ce.prototype.nodeType=_,u(ce,F),ue.prototype.nodeType=v,u(ue,F),de.prototype.serializeToString=function(e,t,n){return Ae.call(e,t,n)},F.prototype.toString=Ae;try{if(Object.defineProperty){function ye(e){switch(e.nodeType){case A:case _:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ye(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(D.prototype,"length",{get:function(){return P(this),this.$$length}}),Object.defineProperty(F.prototype,"textContent",{get:function(){return ye(this)},set:function(e){switch(this.nodeType){case A:case _:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ve=function(e,t,n){e["$$"+t]=n}}}catch(be){}t.DocumentType=oe,t.DOMException=B,t.DOMImplementation=O,t.Element=$,t.Node=F,t.NodeList=x,t.XMLSerializer=de},1045:(e,t,n)=>{"use strict";var i=n(2167).freeze;t.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=i({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES},3969:(e,t,n)=>{var i=n(1146);i.DOMImplementation,i.XMLSerializer,t.DOMParser=n(6129).DOMParser},6925:(e,t,n)=>{var i=n(2167).NAMESPACE,r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+r.source+o.source+"*(?::"+r.source+o.source+"*)?$");function s(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function l(){}function c(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function u(e,t,n,r,o,a){function s(e,t,i){n.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,o),i)}for(var l,c=++t,u=0;;){var d=e.charAt(c);switch(d){case"=":if(1===u)l=e.slice(t,c),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(a.warning('attribute value must after "="'),l=e.slice(t,c)),t=c+1,!((c=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");s(l,A=e.slice(t,c),t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');s(l,A=e.slice(t,c),t),a.warning('attribute "'+l+'" missed start quot('+d+")!!"),t=c+1,u=5}break;case"/":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:u=7,n.closed=!0;case 4:case 1:break;case 2:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==u&&n.setTagName(e.slice(t,c)),c;case">":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(A=e.slice(t,c)).slice(-1)&&(n.closed=!0,A=A.slice(0,-1));case 2:2===u&&(A=l),4==u?(a.warning('attribute "'+A+'" missed quot(")!'),s(l,A,t)):(i.isHTML(r[""])&&A.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+A+'" missed value!! "'+A+'" instead!!'),s(A,A,t));break;case 3:throw new Error("attribute value missed!!")}return c;case"":d=" ";default:if(d<=" ")switch(u){case 0:n.setTagName(e.slice(t,c)),u=6;break;case 1:l=e.slice(t,c),u=2;break;case 4:var A=e.slice(t,c);a.warning('attribute "'+A+'" missed quot(")!!'),s(l,A,t);case 5:u=6}else switch(u){case 2:n.tagName,i.isHTML(r[""])&&l.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),s(l,l,t),t=c,u=1;break;case 5:a.warning('attribute space is required"'+l+'"!!');case 6:u=1,t=c;break;case 3:u=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function d(e,t,n){for(var r=e.tagName,o=null,a=e.length;a--;){var s=e[a],l=s.qName,c=s.value;if((h=l.indexOf(":"))>0)var u=s.prefix=l.slice(0,h),d=l.slice(h+1),A="xmlns"===u&&d;else d=l,u=null,A="xmlns"===l&&"";s.localName=d,!1!==A&&(null==o&&(o={},p(n,n={})),n[A]=o[A]=c,s.uri=i.XMLNS,t.startPrefixMapping(A,c))}for(a=e.length;a--;)(u=(s=e[a]).prefix)&&("xml"===u&&(s.uri=i.XML),"xmlns"!==u&&(s.uri=n[u||""]));var h;(h=r.indexOf(":"))>0?(u=e.prefix=r.slice(0,h),d=e.localName=r.slice(h+1)):(u=null,d=e.localName=r);var f=e.uri=n[u||""];if(t.startElement(f,d,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,!0;if(t.endElement(f,d,r),o)for(u in o)Object.prototype.hasOwnProperty.call(o,u)&&t.endPrefixMapping(u)}function A(e,t,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(r.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,i),r.characters(a,0,a.length),o)}return t+1}function h(e,t,n,i){var r=i[n];return null==r&&((r=e.lastIndexOf("</"+n+">"))<t&&(r=e.lastIndexOf("</"+n)),i[n]=r),r<t}function p(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function f(e,t,n,i){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(r=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,r-t-4),r+3):(i.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var r=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,r-t-9),n.endCDATA(),r+3}var o=function(e,t){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=t,r.exec(e);n=r.exec(e);)if(i.push(n),n[1])return i}(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],l=!1,c=!1;a>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],c=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(c=o[3][0]));var u=o[a-1];return n.startDTD(s,l,c),n.endDTD(),u.index+u[0].length}return-1}function m(e,t,n){var i=e.indexOf("?>",t);if(i){var r=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function g(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,l.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),p(t,t={}),function(e,t,n,r,o){function a(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(n,t)?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function l(t){if(t>w){var n=e.substring(w,t).replace(/&#?\w+;/g,a);C&&p(w),r.characters(n,0,t-w),w=t}}function p(t,n){for(;t>=y&&(n=b.exec(e));)v=n.index,y=v+n[0].length,C.lineNumber++;C.columnNumber=t-v+1}for(var v=0,y=0,b=/.*(?:\r\n?|\n)|.*$/g,C=r.locator,_=[{currentNSMap:t}],E={},w=0;;){try{var T=e.indexOf("<",w);if(T<0){if(!e.substr(w).match(/^\s*$/)){var S=r.doc,k=S.createTextNode(e.substr(w));S.appendChild(k),r.currentElement=k}return}switch(T>w&&l(T),e.charAt(T+1)){case"/":var I=e.indexOf(">",T+3),B=e.substring(T+2,I).replace(/[ \t\n\r]+$/g,""),x=_.pop();I<0?(B=e.substring(T+2).replace(/[\s<].*/,""),o.error("end tag name: "+B+" is not complete:"+x.tagName),I=T+1+B.length):B.match(/\s</)&&(B=B.replace(/[\s<].*/,""),o.error("end tag name: "+B+" maybe not complete"),I=T+1+B.length);var D=x.localNSMap,P=x.tagName==B;if(P||x.tagName&&x.tagName.toLowerCase()==B.toLowerCase()){if(r.endElement(x.uri,x.localName,B),D)for(var R in D)Object.prototype.hasOwnProperty.call(D,R)&&r.endPrefixMapping(R);P||o.fatalError("end tag name: "+B+" is not match the current start tagName:"+x.tagName)}else _.push(x);I++;break;case"?":C&&p(T),I=m(e,T,r);break;case"!":C&&p(T),I=f(e,T,r,o);break;default:C&&p(T);var j=new g,L=_[_.length-1].currentNSMap,M=(I=u(e,T,j,L,a,o),j.length);if(!j.closed&&h(e,I,j.tagName,E)&&(j.closed=!0,n.nbsp||o.warning("unclosed xml attribute")),C&&M){for(var O=c(C,{}),F=0;F<M;F++){var U=j[F];p(U.offset),U.locator=c(C,{})}r.locator=O,d(j,r,L)&&_.push(j),r.locator=C}else d(j,r,L)&&_.push(j);i.isHTML(j.uri)&&!j.closed?I=A(e,I,j.tagName,a,r):I++}}catch(e){if(e instanceof s)throw e;o.error("element parse error: "+e),I=-1}I>w?w=I:l(Math.max(T,w)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},g.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!a.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=l,t.ParseError=s},5195:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(885),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5861),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4942),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4687),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7363),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2611),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),xadmin_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5907),xadmin_ui__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(xadmin_ui__WEBPACK_IMPORTED_MODULE_4__),moment__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8488),moment__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__),_web_control_esm_min_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2035);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oWebControl=null,getInitArgument=function(e){return _objectSpread({appkey:"",ip:"",port:443,secret:"",enableHTTPS:1,language:"zh_CN",layout:"2x2",playMode:0,reconnectDuration:5,reconnectTimes:5,showSmart:0,showToolbar:1,toolBarButtonIDs:"2048,2049,2050,2304,2306,2305,2307,2308,2309,4096,4608,4097,4099,4098,4609,4100",snapDir:"D:/snap",videoDir:"D:/video"},e)},update=function(){var _ref2=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee(_ref){var nodes,initConfig,playConfig,playBackConfig,initArgument;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(nodes=_ref.nodes,initConfig=_ref.initConfig,playConfig=_ref.playConfig,playBackConfig=_ref.playBackConfig,initArgument=getInitArgument(initConfig),0!==(null==initArgument?void 0:initArgument.playMode)){_context.next=10;break}return _context.next=5,oWebControl.JS_RequestInterface({argument:{},funcName:"stopAllPreview"});case 5:return _context.next=7,oWebControl.JS_RequestInterface({argument:{list:nodes.filter((function(node,index){return index<eval(null==initArgument?void 0:initArgument.layout.replace("x","*"))})).map((function(e,t){return{authUuid:"",cameraIndexCode:null==e?void 0:e.id,ezvizDirect:0,gpuMode:0,streamMode:parseInt(null==playConfig?void 0:playConfig.streamMode),transMode:1,wndId:t+1}}))},funcName:"startMultiPreviewByCameraIndexCode"});case 7:console.log("批量播放"),_context.next=16;break;case 10:if(1!==(null==initArgument?void 0:initArgument.playMode)){_context.next=16;break}return _context.next=13,oWebControl.JS_RequestInterface({argument:{},funcName:"stopAllPlayback"});case 13:return _context.next=15,oWebControl.JS_RequestInterface({argument:{list:nodes.filter((function(node,index){return index<eval(null==initArgument?void 0:initArgument.layout.replace("x","*"))})).map((function(e,t){return{authUuid:"",cameraIndexCode:null==e?void 0:e.id,endTimeStamp:Math.floor(moment__WEBPACK_IMPORTED_MODULE_5___default()(playBackConfig.endTimeStamp).valueOf()/1e3),ezvizDirect:0,gpuMode:0,playTimeStamp:Math.floor(moment__WEBPACK_IMPORTED_MODULE_5___default()(playBackConfig.playTimeStamp).valueOf()/1e3),recordLocation:parseInt(playBackConfig.recordLocation),startTimeStamp:Math.floor(moment__WEBPACK_IMPORTED_MODULE_5___default()(playBackConfig.startTimeStamp).valueOf()/1e3),transMode:1,wndId:t+1}}))},funcName:"startMultiPlaybackByCameraIndexCode"});case 15:console.log("批量回放");case 16:case"end":return _context.stop()}}),_callee)})));return function(e){return _ref2.apply(this,arguments)}}();function delay(e){return new Promise((function(t){setTimeout(t,e)}))}var start=function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(t){var n,i,r,o,a,s;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nodes,i=void 0===n?[]:n,r=t.initConfig,o=t.playConfig,a=t.playBackConfig,s=t.setInit,e.next=3,delay(500);case 3:oWebControl=new _web_control_esm_min_js__WEBPACK_IMPORTED_MODULE_6__.p({szPluginContainer:"iscPlayWnd",iServicePortStart:15900,iServicePortEnd:15900,szClassId:"23BF3B0A-2C56-4D97-9C03-0CB103AA8F11",cbConnectSuccess:function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(){var t,n,l,c;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("cbConnectSuccess"),e.next=3,oWebControl.JS_StartService("window",{dllPath:"./VideoPluginConnect.dll"});case 3:return console.log("启动服务"),t=document.querySelector("#iscPlayWnd"),n=t.clientWidth,l=t.clientHeight,console.log(n,l,"clientWidth, clientHeight"),e.next=8,oWebControl.JS_CreateWnd("iscPlayWnd",n,l);case 8:return console.log("创建窗口"),e.next=11,oWebControl.JS_RequestInterface({funcName:"getRSAPubKey",argument:JSON.stringify({keyLength:1024})});case 11:return console.log("获取公钥"),c=getInitArgument(r),e.next=15,oWebControl.JS_RequestInterface({argument:c,funcName:"init"});case 15:s(!0),console.log("初始化"),update({nodes:i,initConfig:r,playConfig:o,playBackConfig:a}),oWebControl.JS_Resize(n,l);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cbConnectError:function(){console.log("cbConnectError")},cbConnectClose:function(e){console.log("cbConnectClose")}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),stop=function(){var e=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(t){var n,i,r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.setInit,!oWebControl){e.next=13;break}return e.next=4,oWebControl.JS_RequestInterface({funcName:"uninit"});case 4:return i=e.sent,console.log(i,"uninit"),oWebControl.JS_HideWnd(),e.next=9,oWebControl.JS_DestroyWnd();case 9:r=e.sent,console.log(r,"JS_DestroyWnd"),console.log("销毁成功"),n(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),paramSchema={type:"object",properties:{model:{title:"模型",type:"object",fieldType:"table",field:{func:"device"}},nodes:{title:"资产",type:"array",items:{},fieldType:"tableData",field:{func:"device",depend:"model"}},initConfig:{title:"初始化参数",type:"object",fieldType:"fieldset_card",properties:{appkey:{title:"APPKey",type:"string"},secret:{title:"APPSecret",type:"string"},ip:{title:"IP地址",type:"string"},port:{title:"端口",type:"number"},layout:{title:"布局",type:"string",description:"如未指定则使用默认为预览2x2",enum:["1x1","2x2","3x3","4x4","5x5","1x2","1+2","1+5","1+7","1+8","1+9","1+12","1+16","4+9","1+1+12","3+4","1x4","4x6"]},playMode:{title:"播放模式",type:"number",description:"如未指定则使用默认为预览",enum:[0,1],enum_title:["预览","回放"]},reconnectDuration:{title:"重连间隔时间",type:"number",description:"不填默认重连间隔时间5秒"},reconnectTimes:{title:"重连次数",type:"number",description:"0-无限重连 >0-重连次数 <0-不重连，不填默认无限重连"},snapDir:{title:"抓图存储路径",type:"string",description:"不填默认为D:/snap"},videoDir:{title:"紧急录像或录像剪辑存储",type:"string",description:"不填默认为D:/video"}}},playConfig:{title:"预览参数",type:"object",fieldType:"fieldset_card",properties:{streamMode:{title:"主子码流标识",type:"string",description:"不填默认为主码流",enum:["0","1"],enum_title:["主码流","子码流"]}}},playBackConfig:{title:"回放参数",type:"object",fieldType:"fieldset_card",properties:{startTimeStamp:{title:"开始时间",type:"string",format:"datetime"},endTimeStamp:{title:"结束时间",type:"string",format:"datetime"},playTimeStamp:{title:"播放时间",type:"string",format:"datetime"},recordLocation:{title:"录像存储位置",type:"string",description:"不填默认为中心存储",enum:["0","1"],enum_title:["中心存储","设备存储"]}}}}},ISC=function(e){var t=e.dashboardMode,n=e.nodes,i=e.initConfig,r=e.playConfig,o=e.playBackConfig,a=react__WEBPACK_IMPORTED_MODULE_2___default().useState(!1),s=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__.Z)(a,2),l=s[0],c=s[1];return react__WEBPACK_IMPORTED_MODULE_2___default().useEffect((function(){return t||start({nodes:n,initConfig:i,playConfig:r,playBackConfig:o,setInit:c}),function(){stop({setInit:c})}}),[]),react__WEBPACK_IMPORTED_MODULE_2___default().useEffect((function(){!t&&l&&(console.log(n,"nodes"),update({nodes:n,initConfig:i,playConfig:r,playBackConfig:o}))}),[JSON.stringify(n)]),t?react__WEBPACK_IMPORTED_MODULE_2___default().createElement("div",{id:"iscPlayWnd",style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},react__WEBPACK_IMPORTED_MODULE_2___default().createElement(xadmin_ui__WEBPACK_IMPORTED_MODULE_4__.C,{is:"NoData",description:"请预览查看视频显示效果"})):react__WEBPACK_IMPORTED_MODULE_2___default().createElement("div",{id:"iscPlayWnd",style:{width:"100%",height:"100%"}})};const __WEBPACK_DEFAULT_EXPORT__={title:_r("ISC视频组件"),category:[_r("视频组件"),_r("其他")],icon:"",component:ISC,initLayout:{width:800,height:400},paramSchema}},2035:(e,t,n)=>{"use strict";n.d(t,{p:()=>oi});var i,r=n(1002),o=n(5671),a=n(3144),s=new Uint8Array(16);function l(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(s)}var c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function u(e){return"string"==typeof e&&c.test(e)}for(var d=[],A=0;A<256;++A)d.push((A+256).toString(16).substr(1));function h(e,t,n){var i=(e=e||{}).random||(e.rng||l)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase();if(!u(n))throw TypeError("Stringified UUID is invalid");return n}(i)}var p="function"==typeof atob,f="function"==typeof btoa,m="function"==typeof Buffer,g="function"==typeof TextDecoder?new TextDecoder:void 0,v="function"==typeof TextEncoder?new TextEncoder:void 0,y=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),b=function(e){var t={};return y.forEach((function(e,n){return t[e]=n})),t}(),C=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_=String.fromCharCode.bind(String),E="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return new Uint8Array(Array.prototype.slice.call(e,0).map(t))},w=function(e){return e.replace(/=/g,"").replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"}))},T=function(e){return e.replace(/[^A-Za-z0-9\+\/]/g,"")},S=function(e){for(var t,n,i,r,o="",a=e.length%3,s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");o+=y[(t=n<<16|i<<8|r)>>18&63]+y[t>>12&63]+y[t>>6&63]+y[63&t]}return a?o.slice(0,a-3)+"===".substring(a):o},k=f?function(e){return btoa(e)}:m?function(e){return Buffer.from(e,"binary").toString("base64")}:S,I=m?function(e){return Buffer.from(e).toString("base64")}:function(e){for(var t=[],n=0,i=e.length;n<i;n+=4096)t.push(_.apply(null,e.subarray(n,n+4096)));return k(t.join(""))},B=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?w(I(e)):I(e)},x=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?_(192|t>>>6)+_(128|63&t):_(224|t>>>12&15)+_(128|t>>>6&63)+_(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return _(240|t>>>18&7)+_(128|t>>>12&63)+_(128|t>>>6&63)+_(128|63&t)},D=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,P=function(e){return e.replace(D,x)},R=m?function(e){return Buffer.from(e,"utf8").toString("base64")}:v?function(e){return I(v.encode(e))}:function(e){return k(P(e))},j=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?w(R(e)):R(e)},L=function(e){return j(e,!0)},M=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,O=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return _(55296+(t>>>10))+_(56320+(1023&t));case 3:return _((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return _((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},F=function(e){return e.replace(M,O)},U=function(e){if(e=e.replace(/\s+/g,""),!C.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));for(var t,n,i,r="",o=0;o<e.length;)t=b[e.charAt(o++)]<<18|b[e.charAt(o++)]<<12|(n=b[e.charAt(o++)])<<6|(i=b[e.charAt(o++)]),r+=64===n?_(t>>16&255):64===i?_(t>>16&255,t>>8&255):_(t>>16&255,t>>8&255,255&t);return r},Q=p?function(e){return atob(T(e))}:m?function(e){return Buffer.from(e,"base64").toString("binary")}:U,N=m?function(e){return E(Buffer.from(e,"base64"))}:function(e){return E(Q(e),(function(e){return e.charCodeAt(0)}))},q=function(e){return N(G(e))},z=m?function(e){return Buffer.from(e,"base64").toString("utf8")}:g?function(e){return g.decode(N(e))}:function(e){return F(Q(e))},G=function(e){return T(e.replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})))},H=function(e){return z(G(e))},W=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}},V=function(){var e=function(e,t){return Object.defineProperty(String.prototype,e,W(t))};e("fromBase64",(function(){return H(this)})),e("toBase64",(function(e){return j(this,e)})),e("toBase64URI",(function(){return j(this,!0)})),e("toBase64URL",(function(){return j(this,!0)})),e("toUint8Array",(function(){return q(this)}))},Y=function(){var e=function(e,t){return Object.defineProperty(Uint8Array.prototype,e,W(t))};e("toBase64",(function(e){return B(this,e)})),e("toBase64URI",(function(){return B(this,!0)})),e("toBase64URL",(function(){return B(this,!0)}))},J={version:"3.7.2",VERSION:"3.7.2",atob:Q,atobPolyfill:U,btoa:k,btoaPolyfill:S,fromBase64:H,toBase64:j,encode:j,encodeURI:L,encodeURL:L,utob:P,btou:F,decode:H,isValid:function(e){if("string"!=typeof e)return!1;var t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:B,toUint8Array:q,extendString:V,extendUint8Array:Y,extendBuiltins:function(){V(),Y()}},K=new(function(){function e(){(0,o.Z)(this,e),this.oBase64=J}return(0,a.Z)(e,[{key:"browser",value:function(){var e=navigator.userAgent.toLowerCase(),t=/(edge)[/]([\w.]+)/.exec(e)||/(chrome)[/]([\w.]+)/.exec(e)||/(safari)[/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[/]([\w.]+)/.exec(e)||/(trident.*rv:)([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(e)||["unknow","0"];t.length>0&&t[1].indexOf("trident")>-1&&(t[1]="msie");var n={};return n[t[1]]=!0,n.version=t[2],n}},{key:"getCreateWndMode",value:function(){var e=navigator.userAgent,t=navigator.platform,n="Win64"===t||"Win32"===t||"Windows"===t,i=this.browser(),r=!0;return window.top!==window?r=!1:n?(e.indexOf("Windows NT 10.0")>-1&&i.mozilla&&(r=!1),i.edge&&(r=!1)):r=!1,r}},{key:"getWndPostion",value:function(e,t,n,i){var r=0,o=0,a=e.ownerDocument.defaultView,s=e.getBoundingClientRect(),l=window.getComputedStyle(e),c={top:s.top+parseInt(l["border-top-width"].slice(0,-2),10),left:s.left+parseInt(l["border-left-width"].slice(0,-2),10)},u=this.getDevicePixelRatio();if(t)if(this.browser().msie){var d=a.outerWidth-a.innerWidth-(a.screenLeft-a.screenX);r=c.left+(a.screenLeft-a.screenX)-d,o=c.top+(a.screenTop-a.screenY)}else{var A=0,h=0,p=this.browser().chrome?a.outerWidth/u:a.outerWidth,f=this.browser().chrome?a.outerHeight/u:a.outerHeight,m=Math.round((p-a.innerWidth)/2);this.isWindows()&&this.browser().chrome&&(-8===m||a.screen.height-a.outerHeight==0?-8===m&&(A=8,h=8):8===m?A=-5:0===m&&(h=8)),this.browser().mozilla&&(7===m||6===m?A=-6:8===m&&(A=-8)),r=c.left+m+A,o=c.top+(f-a.innerHeight-m)+h}else{var g=window.top,v=0,y=0,b=0,C=0;try{v=g.outerWidth-g.innerWidth,y=g.outerHeight-g.innerHeight,b=g.screenLeft-g.screenX,C=g.screenTop-g.screenY}catch(e){v=n.outerWidth-n.innerWidth,y=n.outerHeight-n.innerHeight,b=n.screenLeft-n.screenX,C=n.screenTop-n.screenY}if(this.browser().msie)r=c.left+b-0,o=c.top+C;else{var _=v/2;r=c.left+_,o=c.top+(y-_),this.isWindows()&&this.browser().chrome&&0===_&&(r+=8,o+=8)}r+=i.left,o+=i.top}return this.isWindows()&&(this.browser().chrome||this.browser().safari)&&(r=c.left,o=c.top,r+=i.left,o+=i.top),this.browser().msie&&"10.0"===this.browser().version&&(r+=a.pageXOffset,o+=a.pageYOffset),{left:r=Math.round(r*u),top:o=Math.round(o*u)}}},{key:"detectPort",value:function(e,t,n){if(e!==t){var i="HikCentralWebControlPort:".concat(e,"-").concat(t),r=this,o=0,a=!1,s=null;sessionStorage&&null!==(s=sessionStorage.getItem(i))&&(s=parseInt(s,10));for(var l=[],c=e;c<=t;c++)c!==s&&l.push(c);null!==s&&l.unshift(s);for(var u=[],d=function(){o>0&&clearTimeout(o)},A=function(){for(var e=0,t=u.length;e<t;e++)delete u[e]},h=0,p=(new Date).getTime(),f=function(e){setTimeout((function(){u.push(r.createImageHttp(l[e],{timeStamp:p+e,success:function(e){!function(e){sessionStorage&&sessionStorage.setItem(i,e),!a&&n.success&&(d(),A(),n.success(e))}(e)},error:function(){h++,l.length===h&&!a&&n.error&&(d(),A(),n.error())}}))}),100)},m=0,g=l.length;m<g;m++)f(m);o=setTimeout((function(){a=!0,n.error&&(A(),n.error())}),6e4)}else n.success(e)}},{key:"createImageHttp",value:function(e,t){var n=new Image;return n.crossOrigin="anonymous",n.onload=function(){t.success&&t.success(e)},n.onerror=function(){t.error&&t.error()},n.onabort=function(){t.abort&&t.abort()},n.src="http://127.0.0.1:".concat(e,"/imghttp/local?update=").concat(t.timeStamp),n}},{key:"utf8to16",value:function(e){for(var t,n,i,r="",o=0,a=e.length;o<a;)switch(t=e.charCodeAt(o++),t>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:r+=e.charAt(o-1);break;case 12:case 13:n=e.charCodeAt(o++),r+=String.fromCharCode((31&t)<<6|63&n);break;case 14:n=e.charCodeAt(o++),i=e.charCodeAt(o++),r+=String.fromCharCode((15&t)<<12|(63&n)<<6|(63&i)<<0)}return r}},{key:"createEventScript",value:function(e,t,n){var i=document.createElement("script");i.htmlFor=e,i.event=t,i.innerHTML=n,document.getElementById(e).appendChild(i)}},{key:"isMacOS",value:function(){return"MacIntel"===navigator.platform}},{key:"isWindows",value:function(){return navigator.platform.indexOf("Win")>-1}},{key:"getDevicePixelRatio",value:function(){var e=1;return this.isMacOS()||(e=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),e}},{key:"Base64",value:function(){return this.oBase64||{}}}]),e}()),Z="　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　";function X(e){window.top.document.title=window.top.document.title+Z+e}function $(e){window.top.document.title=window.top.document.title.replace(Z+e,"")}function ee(e,t){(t||X)(e)}function te(e,t){(t||$)(e)}var ne=function(){function e(t){(0,o.Z)(this,e),this.oOptions=Object.assign({iPort:-1,cbConnectSuccess:null,cbConnectError:null,cbConnectClose:null},t),this.oWebSocket=null,this.szUUID="",this.szVersion="",this.oRequestList={},this.bNormalClose=!1,this.oWindowControlCallback={},this.oSadpCallback={},this.oSliceCallback={},this.oSerialCallback={},this.oUIControlCallback={},this.oUpgradeCallback={},this.init()}return(0,a.Z)(e,[{key:"init",value:function(){var e=this,t=function(){e.oOptions.cbConnectClose&&e.oOptions.cbConnectClose(e.bNormalClose),e.bNormalClose=!1};e.oWebSocket=new WebSocket("ws://127.0.0.1:".concat(e.oOptions.iPort)),e.oWebSocket.onerror=function(){},e.oWebSocket.onopen=function(){var t={sequence:h(),cmd:"system.connect"},n=JSON.stringify(t);e.oWebSocket.send(n)},e.oWebSocket.onmessage=function(t){var n=t.data,i=JSON.parse(n),r=i.sequence;void 0===r&&void 0===i.cmd?(e.szUUID=i.uuid,e.szVersion=i.version,e.oOptions.cbConnectSuccess&&e.oOptions.cbConnectSuccess()):void 0!==i.cmd?e.parseCmd(i):void 0!==e.oRequestList[r]&&(0===i.errorModule&&0===i.errorCode?e.oRequestList[r].resolve(i):e.oRequestList[r].reject(i),delete e.oRequestList[r])},e.oWebSocket.onclose=function(){e.oWebSocket=null,K.browser().mozilla?setTimeout((function(){t()}),100):t()}}},{key:"setWindowControlCallback",value:function(e){this.oWindowControlCallback=e}},{key:"setSadpCallback",value:function(e){this.oSadpCallback=e}},{key:"setSliceCallback",value:function(e){this.oSliceCallback=e}},{key:"setSerialCallback",value:function(e){this.oSerialCallback=e}},{key:"setUIControlCallback",value:function(e){this.oUIControlCallback=e}},{key:"setUpgradeCallback",value:function(e){this.oUpgradeCallback=e}},{key:"getServiceVersion",value:function(){return this.szVersion}},{key:"getRequestUUID",value:function(){return this.szUUID}},{key:"disconnect",value:function(){this.bNormalClose=!0,this.oWebSocket&&WebSocket.OPEN===this.oWebSocket.readyState&&(this.oWebSocket.close(),delete this.oWebSocket)}},{key:"sendRequest",value:function(e){var t=this;return new Promise((function(n,i){var r=h();e.sequence=r,t.oRequestList[r]={resolve:n,reject:i},e.uuid=t.szUUID,e.timestamp="".concat((new Date).getTime());var o=JSON.stringify(e);t.oWebSocket&&WebSocket.OPEN===t.oWebSocket.readyState?t.oWebSocket.send(o):i()}))}},{key:"parseCmd",value:function(e){var t=e.cmd.split("."),n=t[1].replace(/^[a-z]{1}/g,(function(e){return e.toUpperCase()}));"window"===t[0]||"play"===t[0]?this.oWindowControlCallback["cb".concat(n)]&&this.oWindowControlCallback["cb".concat(n)](e):"sadp"===t[0]?this.oSadpCallback["cb".concat(n)]&&this.oSadpCallback["cb".concat(n)](e):"serial"===t[0]?this.oSerialCallback["cb".concat(n)]&&this.oSerialCallback["cb".concat(n)](e):"slice"===t[0]?this.oSliceCallback["cb".concat(n)]&&this.oSliceCallback["cb".concat(n)](e):"ui"===t[0]?this.oUIControlCallback["cb".concat(n)]&&this.oUIControlCallback["cb".concat(n)](e):"upgrade"===t[0]&&this.oUpgradeCallback["cb".concat(n)]&&this.oUpgradeCallback["cb".concat(n)](e)}}]),e}();function ie(e){for(var t=e.length;--t>=0;)e[t]=0}var re=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),oe=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ae=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),se=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),le=new Array(576);ie(le);var ce=new Array(60);ie(ce);var ue=new Array(512);ie(ue);var de=new Array(256);ie(de);var Ae=new Array(29);ie(Ae);var he,pe,fe,me=new Array(30);function ge(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function ve(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}ie(me);var ye=function(e){return e<256?ue[e]:ue[256+(e>>>7)]},be=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},Ce=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,be(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},_e=function(e,t,n){Ce(e,n[2*t],n[2*t+1])},Ee=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},we=function(e,t,n){var i,r,o=new Array(16),a=0;for(i=1;i<=15;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=Ee(o[s]++,s))}},Te=function(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},Se=function(e){e.bi_valid>8?be(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},ke=function(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]},Ie=function(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&ke(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!ke(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},Be=function(e,t,n){var i,r,o,a,s=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?_e(e,r,t):(o=de[r],_e(e,o+256+1,t),0!==(a=re[o])&&(r-=Ae[o],Ce(e,r,a)),i--,o=ye(i),_e(e,o,n),0!==(a=oe[o])&&(i-=me[o],Ce(e,i,a)))}while(s<e.last_lit);_e(e,256,t)},xe=function(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)Ie(e,o,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ie(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,Ie(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,A=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,f=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=l[2*l[2*(i=e.heap[n])+1]+1]+1)>p&&(o=p,f++),l[2*i+1]=o,i>c||(e.bl_count[o]++,a=0,i>=h&&(a=A[i-h]),s=l[2*i],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(u[2*i+1]+a)));if(0!==f){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,f-=2}while(f>0);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(e,t),we(o,c,e.bl_count)},De=function(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<l&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))},Pe=function(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<l&&r===a)){if(s<c)do{_e(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(_e(e,r,e.bl_tree),s--),_e(e,16,e.bl_tree),Ce(e,s-3,2)):s<=10?(_e(e,17,e.bl_tree),Ce(e,s-3,3)):(_e(e,18,e.bl_tree),Ce(e,s-11,7));s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4)}},Re=!1,je=function(e,t,n,i){Ce(e,0+(i?1:0),3),function(e,t,n,i){Se(e),be(e,n),be(e,~n),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n}(e,t,n)},Le=je,Me=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0},Oe=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),Fe=function(e,t,n,i){var r=Oe,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^r[255&(e^t[a])];return-1^e},Ue={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Qe=0,Ne=2,qe=3,ze=4,Ge=5,He=6,We=0,Ve=1,Ye=2,Je=-2,Ke=-3,Ze=-4,Xe=-5,$e=-1,et=0,tt=8,nt=function(e){Re||(function(){var e,t,n,i,r,o=new Array(16);for(n=0,i=0;i<28;i++)for(Ae[i]=n,e=0;e<1<<re[i];e++)de[n++]=i;for(de[n-1]=i,r=0,i=0;i<16;i++)for(me[i]=r,e=0;e<1<<oe[i];e++)ue[r++]=i;for(r>>=7;i<30;i++)for(me[i]=r<<7,e=0;e<1<<oe[i]-7;e++)ue[256+r++]=i;for(t=0;t<=15;t++)o[t]=0;for(e=0;e<=143;)le[2*e+1]=8,e++,o[8]++;for(;e<=255;)le[2*e+1]=9,e++,o[9]++;for(;e<=279;)le[2*e+1]=7,e++,o[7]++;for(;e<=287;)le[2*e+1]=8,e++,o[8]++;for(we(le,287,o),e=0;e<30;e++)ce[2*e+1]=5,ce[2*e]=Ee(e,5);he=new ge(le,re,257,286,15),pe=new ge(ce,oe,0,30,15),fe=new ge(new Array(0),ae,0,19,7)}(),Re=!0),e.l_desc=new ve(e.dyn_ltree,he),e.d_desc=new ve(e.dyn_dtree,pe),e.bl_desc=new ve(e.bl_tree,fe),e.bi_buf=0,e.bi_valid=0,Te(e)},it=Le,rt=function(e,t,n,i){var r,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),xe(e,e.l_desc),xe(e,e.d_desc),a=function(e){var t;for(De(e,e.dyn_ltree,e.l_desc.max_code),De(e,e.dyn_dtree,e.d_desc.max_code),xe(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*se[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?je(e,t,n,i):4===e.strategy||o===r?(Ce(e,2+(i?1:0),3),Be(e,le,ce)):(Ce(e,4+(i?1:0),3),function(e,t,n,i){var r;for(Ce(e,t-257,5),Ce(e,n-1,5),Ce(e,i-4,4),r=0;r<i;r++)Ce(e,e.bl_tree[2*se[r]+1],3);Pe(e,e.dyn_ltree,t-1),Pe(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Be(e,e.dyn_ltree,e.dyn_dtree)),Te(e),i&&Se(e)},ot=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(de[n]+256+1)]++,e.dyn_dtree[2*ye(t)]++),e.last_lit===e.lit_bufsize-1},at=function(e){Ce(e,2,3),_e(e,256,le),function(e){16===e.bi_valid?(be(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)},st=Qe,lt=1,ct=qe,ut=ze,dt=Ge,At=We,ht=Ve,pt=Je,ft=Ke,mt=Xe,gt=$e,vt=1,yt=2,bt=3,Ct=4,_t=et,Et=2,wt=tt,Tt=function(e,t){return e.msg=Ue[t],t},St=function(e){return(e<<1)-(e>4?9:0)},kt=function(e){for(var t=e.length;--t>=0;)e[t]=0},It=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},Bt=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},xt=function(e,t){rt(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Bt(e.strm)},Dt=function(e,t){e.pending_buf[e.pending++]=t},Pt=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Rt=function(e,t,n,i){var r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),n),1===e.state.wrap?e.adler=Me(e.adler,t,r,n):2===e.state.wrap&&(e.adler=Fe(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)},jt=function(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,u=e.w_mask,d=e.prev,A=e.strstart+258,h=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===p&&c[n+a-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<A);if(i=258-(A-o),o=A-258,i>a){if(e.match_start=t,a=i,i>=s)break;h=c[o+a-1],p=c[o+a]}}}while((t=d[t&u])>l&&0!=--r);return a<=e.lookahead?a:e.lookahead},Lt=function(e){var t,n,i,r,o,a=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-262)){e.window.set(e.window.subarray(a,a+a),0),e.match_start-=a,e.strstart-=a,e.block_start-=a,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=a?i-a:0}while(--n);t=n=a;do{i=e.prev[--t],e.prev[t]=i>=a?i-a:0}while(--n);r+=a}if(0===e.strm.avail_in)break;if(n=Rt(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=It(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=It(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},Mt=function(e,t){for(var n,i;;){if(e.lookahead<262){if(Lt(e),e.lookahead<262&&t===st)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=It(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=jt(e,n)),e.match_length>=3)if(i=ot(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=It(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=It(e,e.ins_h,e.window[e.strstart+1]);else i=ot(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(xt(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ut?(xt(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(xt(e,!1),0===e.strm.avail_out)?1:2},Ot=function(e,t){for(var n,i,r;;){if(e.lookahead<262){if(Lt(e),e.lookahead<262&&t===st)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=It(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=jt(e,n),e.match_length<=5&&(e.strategy===vt||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=ot(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=It(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(xt(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=ot(e,0,e.window[e.strstart-1]))&&xt(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=ot(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ut?(xt(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(xt(e,!1),0===e.strm.avail_out)?1:2};function Ft(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}var Ut=[new Ft(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Lt(e),0===e.lookahead&&t===st)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,xt(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(xt(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ut?(xt(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(xt(e,!1),e.strm.avail_out),1)})),new Ft(4,4,8,4,Mt),new Ft(4,5,16,8,Mt),new Ft(4,6,32,32,Mt),new Ft(4,4,16,16,Ot),new Ft(8,16,32,32,Ot),new Ft(8,16,128,128,Ot),new Ft(8,32,128,256,Ot),new Ft(32,128,258,1024,Ot),new Ft(32,258,258,4096,Ot)];function Qt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=wt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),kt(this.dyn_ltree),kt(this.dyn_dtree),kt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),kt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),kt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Nt=function(e){if(!e||!e.state)return Tt(e,pt);e.total_in=e.total_out=0,e.data_type=Et;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=st,nt(t),At},qt=function(e){var t,n=Nt(e);return n===At&&((t=e.state).window_size=2*t.w_size,kt(t.head),t.max_lazy_match=Ut[t.level].max_lazy,t.good_match=Ut[t.level].good_length,t.nice_match=Ut[t.level].nice_length,t.max_chain_length=Ut[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},zt=function(e,t,n,i,r,o){if(!e)return pt;var a=1;if(t===gt&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>9||n!==wt||i<8||i>15||t<0||t>9||o<0||o>Ct)return Tt(e,pt);8===i&&(i=9);var s=new Qt;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,qt(e)},Gt={deflateInit:function(e,t){return zt(e,t,wt,15,8,_t)},deflateInit2:zt,deflateReset:qt,deflateResetKeep:Nt,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?pt:(e.state.gzhead=t,At):pt},deflate:function(e,t){var n,i;if(!e||!e.state||t>dt||t<0)return e?Tt(e,pt):pt;var r=e.state;if(!e.output||!e.input&&0!==e.avail_in||666===r.status&&t!==ut)return Tt(e,0===e.avail_out?mt:pt);r.strm=e;var o=r.last_flush;if(r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,Dt(r,31),Dt(r,139),Dt(r,8),r.gzhead?(Dt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Dt(r,255&r.gzhead.time),Dt(r,r.gzhead.time>>8&255),Dt(r,r.gzhead.time>>16&255),Dt(r,r.gzhead.time>>24&255),Dt(r,9===r.level?2:r.strategy>=yt||r.level<2?4:0),Dt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Dt(r,255&r.gzhead.extra.length),Dt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Fe(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Dt(r,0),Dt(r,0),Dt(r,0),Dt(r,0),Dt(r,0),Dt(r,9===r.level?2:r.strategy>=yt||r.level<2?4:0),Dt(r,3),r.status=113);else{var a=wt+(r.w_bits-8<<4)<<8;a|=(r.strategy>=yt||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=32),a+=31-a%31,r.status=113,Pt(r,a),0!==r.strstart&&(Pt(r,e.adler>>>16),Pt(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>n&&(e.adler=Fe(e.adler,r.pending_buf,r.pending-n,n)),Bt(e),n=r.pending,r.pending!==r.pending_buf_size));)Dt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(e.adler=Fe(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=Fe(e.adler,r.pending_buf,r.pending-n,n)),Bt(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Dt(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=Fe(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=Fe(e.adler,r.pending_buf,r.pending-n,n)),Bt(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Dt(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=Fe(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Bt(e),r.pending+2<=r.pending_buf_size&&(Dt(r,255&e.adler),Dt(r,e.adler>>8&255),e.adler=0,r.status=113)):r.status=113),0!==r.pending){if(Bt(e),0===e.avail_out)return r.last_flush=-1,At}else if(0===e.avail_in&&St(t)<=St(o)&&t!==ut)return Tt(e,mt);if(666===r.status&&0!==e.avail_in)return Tt(e,mt);if(0!==e.avail_in||0!==r.lookahead||t!==st&&666!==r.status){var s=r.strategy===yt?function(e,t){for(var n;;){if(0===e.lookahead&&(Lt(e),0===e.lookahead)){if(t===st)return 1;break}if(e.match_length=0,n=ot(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(xt(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ut?(xt(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(xt(e,!1),0===e.strm.avail_out)?1:2}(r,t):r.strategy===bt?function(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=258){if(Lt(e),e.lookahead<=258&&t===st)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){o=e.strstart+258;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);e.match_length=258-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=ot(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=ot(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(xt(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ut?(xt(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(xt(e,!1),0===e.strm.avail_out)?1:2}(r,t):Ut[r.level].func(r,t);if(3!==s&&4!==s||(r.status=666),1===s||3===s)return 0===e.avail_out&&(r.last_flush=-1),At;if(2===s&&(t===lt?at(r):t!==dt&&(it(r,0,0,!1),t===ct&&(kt(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Bt(e),0===e.avail_out))return r.last_flush=-1,At}return t!==ut?At:r.wrap<=0?ht:(2===r.wrap?(Dt(r,255&e.adler),Dt(r,e.adler>>8&255),Dt(r,e.adler>>16&255),Dt(r,e.adler>>24&255),Dt(r,255&e.total_in),Dt(r,e.total_in>>8&255),Dt(r,e.total_in>>16&255),Dt(r,e.total_in>>24&255)):(Pt(r,e.adler>>>16),Pt(r,65535&e.adler)),Bt(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?At:ht)},deflateEnd:function(e){if(!e||!e.state)return pt;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?Tt(e,pt):(e.state=null,113===t?Tt(e,ft):At)},deflateSetDictionary:function(e,t){var n=t.length;if(!e||!e.state)return pt;var i=e.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return pt;if(1===r&&(e.adler=Me(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(kt(i.head),i.strstart=0,i.block_start=0,i.insert=0);var o=new Uint8Array(i.w_size);o.set(t.subarray(n-i.w_size,n),0),t=o,n=i.w_size}var a=e.avail_in,s=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Lt(i);i.lookahead>=3;){var c=i.strstart,u=i.lookahead-2;do{i.ins_h=It(i,i.ins_h,i.window[c+3-1]),i.prev[c&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=c,c++}while(--u);i.strstart=c,i.lookahead=2,Lt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=s,e.input=l,e.avail_in=a,i.wrap=r,At},deflateInfo:"pako deflate (from Nodeca project)"},Ht=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Wt=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=(0,r.Z)(n))throw new TypeError(n+"must be non-object");for(var i in n)Ht(n,i)&&(e[i]=n[i])}}return e},Vt=function(e){for(var t=0,n=0,i=e.length;n<i;n++)t+=e[n].length;for(var r=new Uint8Array(t),o=0,a=0,s=e.length;o<s;o++){var l=e[o];r.set(l,a),a+=l.length}return r},Yt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(i){Yt=!1}for(var Jt=new Uint8Array(256),Kt=0;Kt<256;Kt++)Jt[Kt]=Kt>=252?6:Kt>=248?5:Kt>=240?4:Kt>=224?3:Kt>=192?2:1;Jt[254]=Jt[254]=1;var Zt=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,i,r,o,a=e.length,s=0;for(r=0;r<a;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,r=0;o<s;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},Xt=function(e,t){var n,i,r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var o=new Array(2*r);for(i=0,n=0;n<r;){var a=e[n++];if(a<128)o[i++]=a;else{var s=Jt[a];if(s>4)o[i++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&n<r;)a=a<<6|63&e[n++],s--;s>1?o[i++]=65533:a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|1023&a)}}}return function(e,t){if(t<65534&&e.subarray&&Yt)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}(o,i)},$t=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+Jt[e[n]]>t?n:t},en=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},tn=Object.prototype.toString,nn=Qe,rn=Ne,on=qe,an=ze,sn=We,ln=Ve,cn=$e,un=et,dn=tt;function An(e){this.options=Wt({level:cn,method:dn,chunkSize:16384,windowBits:15,memLevel:8,strategy:un},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new en,this.strm.avail_out=0;var n=Gt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==sn)throw new Error(Ue[n]);if(t.header&&Gt.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?Zt(t.dictionary):"[object ArrayBuffer]"===tn.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=Gt.deflateSetDictionary(this.strm,i))!==sn)throw new Error(Ue[n]);this._dict_set=!0}}An.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(i=t===~~t?t:!0===t?an:nn,"string"==typeof e?r.input=Zt(e):"[object ArrayBuffer]"===tn.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(o),r.next_out=0,r.avail_out=o),(i===rn||i===on)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((n=Gt.deflate(r,i))===ln)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=Gt.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===sn;if(0!==r.avail_out){if(i>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},An.prototype.onData=function(e){this.chunks.push(e)},An.prototype.onEnd=function(e){e===sn&&(this.result=Vt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var hn=function(e,t){var n=new An(t);if(n.push(e,!0),n.err)throw n.msg||Ue[n.err];return n.result},pn=function(e,t){var n,i,r,o,a,s,l,c,u,d,A,h,p,f,m,g,v,y,b,C,_,E,w,T,S=e.state;n=e.next_in,w=e.input,i=n+(e.avail_in-5),r=e.next_out,T=e.output,o=r-(t-e.avail_out),a=r+(e.avail_out-257),s=S.dmax,l=S.wsize,c=S.whave,u=S.wnext,d=S.window,A=S.hold,h=S.bits,p=S.lencode,f=S.distcode,m=(1<<S.lenbits)-1,g=(1<<S.distbits)-1;e:do{h<15&&(A+=w[n++]<<h,h+=8,A+=w[n++]<<h,h+=8),v=p[A&m];t:for(;;){if(A>>>=y=v>>>24,h-=y,0==(y=v>>>16&255))T[r++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=p[(65535&v)+(A&(1<<y)-1)];continue t}if(32&y){S.mode=12;break e}e.msg="invalid literal/length code",S.mode=30;break e}b=65535&v,(y&=15)&&(h<y&&(A+=w[n++]<<h,h+=8),b+=A&(1<<y)-1,A>>>=y,h-=y),h<15&&(A+=w[n++]<<h,h+=8,A+=w[n++]<<h,h+=8),v=f[A&g];n:for(;;){if(A>>>=y=v>>>24,h-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=f[(65535&v)+(A&(1<<y)-1)];continue n}e.msg="invalid distance code",S.mode=30;break e}if(C=65535&v,h<(y&=15)&&(A+=w[n++]<<h,(h+=8)<y&&(A+=w[n++]<<h,h+=8)),(C+=A&(1<<y)-1)>s){e.msg="invalid distance too far back",S.mode=30;break e}if(A>>>=y,h-=y,C>(y=r-o)){if((y=C-y)>c&&S.sane){e.msg="invalid distance too far back",S.mode=30;break e}if(_=0,E=d,0===u){if(_+=l-y,y<b){b-=y;do{T[r++]=d[_++]}while(--y);_=r-C,E=T}}else if(u<y){if(_+=l+u-y,(y-=u)<b){b-=y;do{T[r++]=d[_++]}while(--y);if(_=0,u<b){b-=y=u;do{T[r++]=d[_++]}while(--y);_=r-C,E=T}}}else if(_+=u-y,y<b){b-=y;do{T[r++]=d[_++]}while(--y);_=r-C,E=T}for(;b>2;)T[r++]=E[_++],T[r++]=E[_++],T[r++]=E[_++],b-=3;b&&(T[r++]=E[_++],b>1&&(T[r++]=E[_++]))}else{_=r-C;do{T[r++]=T[_++],T[r++]=T[_++],T[r++]=T[_++],b-=3}while(b>2);b&&(T[r++]=T[_++],b>1&&(T[r++]=T[_++]))}break}}break}}while(n<i&&r<a);n-=b=h>>3,A&=(1<<(h-=b<<3))-1,e.next_in=n,e.next_out=r,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=r<a?a-r+257:257-(r-a),S.hold=A,S.bits=h},fn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),mn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),gn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),yn=function(e,t,n,i,r,o,a,s){var l,c,u,d,A,h,p,f,m,g=s.bits,v=0,y=0,b=0,C=0,_=0,E=0,w=0,T=0,S=0,k=0,I=null,B=0,x=new Uint16Array(16),D=new Uint16Array(16),P=null,R=0;for(v=0;v<=15;v++)x[v]=0;for(y=0;y<i;y++)x[t[n+y]]++;for(_=g,C=15;C>=1&&0===x[C];C--);if(_>C&&(_=C),0===C)return r[o++]=20971520,r[o++]=20971520,s.bits=1,0;for(b=1;b<C&&0===x[b];b++);for(_<b&&(_=b),T=1,v=1;v<=15;v++)if(T<<=1,(T-=x[v])<0)return-1;if(T>0&&(0===e||1!==C))return-1;for(D[1]=0,v=1;v<15;v++)D[v+1]=D[v]+x[v];for(y=0;y<i;y++)0!==t[n+y]&&(a[D[t[n+y]]++]=y);if(0===e?(I=P=a,h=19):1===e?(I=fn,B-=257,P=mn,R-=257,h=256):(I=gn,P=vn,h=-1),k=0,y=0,v=b,A=o,E=_,w=0,u=-1,d=(S=1<<_)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){p=v-w,a[y]<h?(f=0,m=a[y]):a[y]>h?(f=P[R+a[y]],m=I[B+a[y]]):(f=96,m=0),l=1<<v-w,b=c=1<<E;do{r[A+(k>>w)+(c-=l)]=p<<24|f<<16|m|0}while(0!==c);for(l=1<<v-1;k&l;)l>>=1;if(0!==l?(k&=l-1,k+=l):k=0,y++,0==--x[v]){if(v===C)break;v=t[n+a[y]]}if(v>_&&(k&d)!==u){for(0===w&&(w=_),A+=b,T=1<<(E=v-w);E+w<C&&!((T-=x[E+w])<=0);)E++,T<<=1;if(S+=1<<E,1===e&&S>852||2===e&&S>592)return 1;r[u=k&d]=_<<24|E<<16|A-o|0}}return 0!==k&&(r[A+k]=v-w<<24|64<<16|0),s.bits=_,0},bn=ze,Cn=Ge,_n=He,En=We,wn=Ve,Tn=Ye,Sn=Je,kn=Ke,In=Ze,Bn=Xe,xn=tt,Dn=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function Pn(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Rn,jn,Ln=function(e){if(!e||!e.state)return Sn;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,function(e){if(!e||!e.state)return Sn;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,En}(e)},Mn=!0,On=function(e){if(Mn){Rn=new Int32Array(512),jn=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(yn(1,e.lens,0,288,Rn,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;yn(2,e.lens,0,32,jn,0,e.work,{bits:5}),Mn=!1}e.lencode=Rn,e.lenbits=9,e.distcode=jn,e.distbits=5},Fn=function(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>i&&(r=i),o.window.set(t.subarray(n-i,n-i+r),o.wnext),(i-=r)?(o.window.set(t.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},Un=Ln,Qn=function(e,t){if(!e)return Sn;var n=new Pn;e.state=n,n.window=null;var i=function(e,t){var n;if(!e||!e.state)return Sn;var i=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Sn:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Ln(e))}(e,t);return i!==En&&(e.state=null),i},Nn=function(e,t){var n,i,r,o,a,s,l,c,u,d,A,h,p,f,m,g,v,y,b,C,_,E,w,T,S=0,k=new Uint8Array(4),I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Sn;12===(n=e.state).mode&&(n.mode=13),a=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,u=n.bits,d=s,A=l,E=En;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;u<16;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(2&n.wrap&&35615===c){n.check=0,k[0]=255&c,k[1]=c>>>8&255,n.check=Fe(n.check,k,2,0),c=0,u=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=30;break}if((15&c)!==xn){e.msg="unknown compression method",n.mode=30;break}if(u-=4,_=8+(15&(c>>>=4)),0===n.wbits)n.wbits=_;else if(_>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:12,c=0,u=0;break;case 2:for(;u<16;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(n.flags=c,(255&n.flags)!==xn){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(k[0]=255&c,k[1]=c>>>8&255,n.check=Fe(n.check,k,2,0)),c=0,u=0,n.mode=3;case 3:for(;u<32;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&(k[0]=255&c,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,n.check=Fe(n.check,k,4,0)),c=0,u=0,n.mode=4;case 4:for(;u<16;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(k[0]=255&c,k[1]=c>>>8&255,n.check=Fe(n.check,k,2,0)),c=0,u=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(k[0]=255&c,k[1]=c>>>8&255,n.check=Fe(n.check,k,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((h=n.length)>s&&(h=s),h&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+h),_)),512&n.flags&&(n.check=Fe(n.check,i,h,o)),s-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;h=0;do{_=i[o+h++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_))}while(_&&h<s);if(512&n.flags&&(n.check=Fe(n.check,i,h,o)),s-=h,o+=h,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;h=0;do{_=i[o+h++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_))}while(_&&h<s);if(512&n.flags&&(n.check=Fe(n.check,i,h,o)),s-=h,o+=h,_)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;u<32;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}e.adler=n.check=Dn(c),c=0,u=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,Tn;e.adler=n.check=1,n.mode=12;case 12:if(t===Cn||t===_n)break e;case 13:if(n.last){c>>>=7&u,u-=7&u,n.mode=27;break}for(;u<3;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}switch(n.last=1&c,u-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(On(n),n.mode=20,t===_n){c>>>=2,u-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}c>>>=2,u-=2;break;case 14:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&c,c=0,u=0,n.mode=15,t===_n)break e;case 15:n.mode=16;case 16:if(h=n.length){if(h>s&&(h=s),h>l&&(h=l),0===h)break e;r.set(i.subarray(o,o+h),a),s-=h,o+=h,l-=h,a+=h,n.length-=h;break}n.mode=12;break;case 17:for(;u<14;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}n.lens[I[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,w={bits:n.lenbits},E=yn(0,n.lens,0,19,n.lencode,0,n.work,w),n.lenbits=w.bits,E){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;g=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,v=65535&S,!((m=S>>>24)<=u);){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(v<16)c>>>=m,u-=m,n.lens[n.have++]=v;else{if(16===v){for(T=m+2;u<T;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(c>>>=m,u-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}_=n.lens[n.have-1],h=3+(3&c),c>>>=2,u-=2}else if(17===v){for(T=m+3;u<T;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}u-=m,_=0,h=3+(7&(c>>>=m)),c>>>=3,u-=3}else{for(T=m+7;u<T;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}u-=m,_=0,h=11+(127&(c>>>=m)),c>>>=7,u-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;h--;)n.lens[n.have++]=_}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,w={bits:n.lenbits},E=yn(1,n.lens,0,n.nlen,n.lencode,0,n.work,w),n.lenbits=w.bits,E){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,w={bits:n.distbits},E=yn(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,w),n.distbits=w.bits,E){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,t===_n)break e;case 20:n.mode=21;case 21:if(s>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,pn(e,A),a=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,u=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;g=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,v=65535&S,!((m=S>>>24)<=u);){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(g&&0==(240&g)){for(y=m,b=g,C=v;g=(S=n.lencode[C+((c&(1<<y+b)-1)>>y)])>>>16&255,v=65535&S,!(y+(m=S>>>24)<=u);){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=m,u-=m,n.back+=m,n.length=v,0===g){n.mode=26;break}if(32&g){n.back=-1,n.mode=12;break}if(64&g){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&g,n.mode=22;case 22:if(n.extra){for(T=n.extra;u<T;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;g=(S=n.distcode[c&(1<<n.distbits)-1])>>>16&255,v=65535&S,!((m=S>>>24)<=u);){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(0==(240&g)){for(y=m,b=g,C=v;g=(S=n.distcode[C+((c&(1<<y+b)-1)>>y)])>>>16&255,v=65535&S,!(y+(m=S>>>24)<=u);){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=m,u-=m,n.back+=m,64&g){e.msg="invalid distance code",n.mode=30;break}n.offset=v,n.extra=15&g,n.mode=24;case 24:if(n.extra){for(T=n.extra;u<T;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===l)break e;if(h=A-l,n.offset>h){if((h=n.offset-h)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),f=n.window}else f=r,p=a-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do{r[a++]=f[p++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===l)break e;r[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(0===s)break e;s--,c|=i[o++]<<u,u+=8}if(A-=l,e.total_out+=A,n.total+=A,A&&(e.adler=n.check=n.flags?Fe(n.check,r,A,a-A):Me(n.check,r,A,a-A)),A=l,(n.flags?c:Dn(c))!==n.check){e.msg="incorrect data check",n.mode=30;break}c=0,u=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break e;s--,c+=i[o++]<<u,u+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}c=0,u=0}n.mode=29;case 29:E=wn;break e;case 30:E=kn;break e;case 31:return In;default:return Sn}return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,(n.wsize||A!==e.avail_out&&n.mode<30&&(n.mode<27||t!==bn))&&Fn(e,e.output,e.next_out,A-e.avail_out),d-=e.avail_in,A-=e.avail_out,e.total_in+=d,e.total_out+=A,n.total+=A,n.wrap&&A&&(e.adler=n.check=n.flags?Fe(n.check,r,A,e.next_out-A):Me(n.check,r,A,e.next_out-A)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===d&&0===A||t===bn)&&E===En&&(E=Bn),E},qn=function(e){if(!e||!e.state)return Sn;var t=e.state;return t.window&&(t.window=null),e.state=null,En},zn=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?Sn:11===n.mode&&Me(1,t,i,0)!==n.check?kn:Fn(e,t,i,i)?(n.mode=31,In):(n.havedict=1,En):Sn},Gn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Hn=Object.prototype.toString,Wn=Qe,Vn=ze,Yn=We,Jn=Ve,Kn=Ye,Zn=Je,Xn=Ke,$n=Ze;function ei(e){this.options=Wt({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new en,this.strm.avail_out=0;var n=Qn(this.strm,t.windowBits);if(n!==Yn)throw new Error(Ue[n]);if(this.header=new Gn,function(e,t){if(!e||!e.state)return Sn;var n=e.state;0==(2&n.wrap)||(n.head=t,t.done=!1)}(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Zt(t.dictionary):"[object ArrayBuffer]"===Hn.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=zn(this.strm,t.dictionary))!==Yn))throw new Error(Ue[n])}ei.prototype.push=function(e,t){var n,i,r,o=this.strm,a=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(i=t===~~t?t:!0===t?Vn:Wn,"[object ArrayBuffer]"===Hn.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(n=Nn(o,i))===Kn&&s&&((n=zn(o,s))===Yn?n=Nn(o,i):n===Xn&&(n=Kn));o.avail_in>0&&n===Jn&&o.state.wrap>0&&0!==e[o.next_in];)Un(o),n=Nn(o,i);switch(n){case Zn:case Xn:case Kn:case $n:return this.onEnd(n),this.ended=!0,!1}if(r=o.avail_out,o.next_out&&(0===o.avail_out||n===Jn))if("string"===this.options.to){var l=$t(o.output,o.next_out),c=o.next_out-l,u=Xt(o.output,l);o.next_out=c,o.avail_out=a-c,c&&o.output.set(o.output.subarray(l,l+c),0),this.onData(u)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(n!==Yn||0!==r){if(n===Jn)return n=qn(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},ei.prototype.onData=function(e){this.chunks.push(e)},ei.prototype.onEnd=function(e){e===Yn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Vt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ti=hn,ni=function(){function e(t){(0,o.Z)(this,e),this.oOptions=Object.assign({iPort:-1,cbConnectSuccess:null,cbConnectError:null,cbConnectClose:null},t),this.szHost="http://127.0.0.1",this.szUUID="",this.szVersion="",this.bNormalClose=!1,this.bConnected=!1,this.bInitConnect=!0,this.iGetErrorCount=0,this.oWindowControlCallback={},this.oSadpCallback={},this.oSliceCallback={},this.oSerialCallback={},this.oUIControlCallback={},this.oUpgradeCallback={},this.init()}return(0,a.Z)(e,[{key:"init",value:function(){var e=this,t=h(),n={sequence:t,cmd:"system.connect"},i=JSON.stringify(n);e.sendImageHttp("".concat(e.szHost,":").concat(e.oOptions.iPort,"/imghttp/local"),i,t,{success:function(t){var n=JSON.parse(t);e.szUUID=n.uuid,e.szVersion=n.version,e.bConnected=!0,e.bInitConnect=!1,setTimeout((function(){e.imageHttpPolling()}),100),e.oOptions.cbConnectSuccess&&e.oOptions.cbConnectSuccess()},error:function(){}})}},{key:"sendImageHttp",value:function(e,t,n,i){var r=this;i=Object.assign({success:null,error:null,abort:null},i);var o=ti(t);""!==(new Uint8Array).toString()&&(K.isMacOS()||K.browser().msie)&&(o=Array.prototype.slice.call(o));for(var a=encodeURIComponent(btoa(o)),s=this.splitStr(a),l=[],c="",u=0,d=s.length;u<d;u++)c=u===d-1?"update=".concat((new Date).getTime(),"&isLast=true&data=").concat(s[u],"&sequence=").concat(n):"update=".concat((new Date).getTime(),"&isLast=false&data=").concat(s[u],"&sequence=").concat(n),l.push(c);l.length>0&&function t(){r.imageHttp("".concat(e,"?").concat(l[0]),{success:function(e){l.shift(),l.length>0?(r.bInitConnect||r.bConnected)&&t():i.success&&i.success(e)},error:function(){i.error&&i.error()},abort:function(){i.abort&&i.abort()}})}()}},{key:"splitStr",value:function(e){for(var t=this.getByteLen(e),n=[],i=1500,r=0,o=Math.ceil(t/i);r<o;r++)n[r]=e.slice(i*r,i*(r+1));return n}},{key:"getByteLen",value:function(e){for(var t=0,n="",i=0,r=e.length;i<r;i++)n=e.charAt(i),/[^\x00-\xff]/.test(n)?t+=2:t+=1;return t}},{key:"imageHttp",value:function(e,t){t=Object.assign({success:null,error:null,abort:null},t);var n=new Image;n.onload=function(){if(t.success){var e=document.createElement("canvas"),i=e.getContext("2d"),r=n.width,o=n.height;e.width=r,e.height=o;try{i.drawImage(n,0,0);for(var a=i.getImageData(0,0,r,o).data,s="",l=-1,c=o-1;c>=0;c--)for(var u=0;u<4*r&&0!==a[l=c*r*4+u];u++)255!==a[l]&&(s+=String.fromCharCode(a[l]));t.success(K.utf8to16(s))}catch(e){t.error&&t.error()}}},n.onerror=function(){t.error&&t.error()},n.onabort=function(){t.abort&&t.abort()},n.crossOrigin="anonymous",n.src=e}},{key:"setWindowControlCallback",value:function(e){this.oWindowControlCallback=e}},{key:"setSadpCallback",value:function(e){this.oSadpCallback=e}},{key:"setSliceCallback",value:function(e){this.oSliceCallback=e}},{key:"setSerialCallback",value:function(e){this.oSerialCallback=e}},{key:"setUIControlCallback",value:function(e){this.oUIControlCallback=e}},{key:"setUpgradeCallback",value:function(e){this.oUpgradeCallback=e}},{key:"getServiceVersion",value:function(){return this.szVersion}},{key:"getRequestUUID",value:function(){return this.szUUID}},{key:"disconnect",value:function(){var e=this,t=h(),n={sequence:t,uuid:e.szUUID,cmd:"system.disconnect"},i=JSON.stringify(n);e.bConnected&&e.sendImageHttp("".concat(e.szHost,":").concat(e.oOptions.iPort,"/imghttp/local"),i,t,{success:function(){e.bNormalClose=!0,e.bConnected=!1,e.oOptions.cbConnectClose&&e.oOptions.cbConnectClose(e.bNormalClose)},error:function(){e.bConnected=!1}})}},{key:"imageHttpPolling",value:function(){var e=this,t=h(),n={sequence:t,uuid:e.szUUID,cmd:"system.get"},i=JSON.stringify(n);e.bConnected&&e.sendImageHttp("".concat(e.szHost,":").concat(e.oOptions.iPort,"/imghttp/local"),i,t,{success:function(t){if(e.iGetErrorCount=0,"timeout"===t)setTimeout((function(){e.imageHttpPolling()}),100);else if("invalid"===t)e.bConnected=!1,e.oOptions.cbConnectError&&e.oOptions.cbConnectError();else if("closed"===t)console.log("connected is disconnected");else{var n=JSON.parse(t);void 0!==n.cmd?e.parseCmd(n):console.log("[jsWebControl]imgHttpPolling push message error:".concat(t)),setTimeout((function(){e.imageHttpPolling()}),100)}},error:function(){5===e.iGetErrorCount?(console.log("[jsWebControl]imageHttpPolling get polling finished"),e.bNormalClose=!1,e.bConnected=!1,e.oOptions.cbConnectClose&&e.oOptions.cbConnectClose(e.bNormalClose)):setTimeout((function(){console.log("[jsWebControl]imgHttpPolling get polling failed"),e.iGetErrorCount++,e.imageHttpPolling()}),100)}})}},{key:"sendRequest",value:function(e){var t=this;return new Promise((function(n,i){var r=e.cmd.split("."),o="";r.length>1?o="laputa"===r[0]?"laputa":"local":i();var a=h();e.sequence=a,e.uuid=t.szUUID,e.timestamp="".concat((new Date).getTime());var s=JSON.stringify(e);t.bConnected?t.sendImageHttp("".concat(t.szHost,":").concat(t.oOptions.iPort,"/imghttp/").concat(o),s,a,{success:function(e){var t=JSON.parse(e);0===t.errorModule&&0===t.errorCode?n(t):i(t)},error:function(){i()}}):i()}))}},{key:"parseCmd",value:function(e){var t=e.cmd.split("."),n=t[1].replace(/^[a-z]{1}/g,(function(e){return e.toUpperCase()}));"window"===t[0]||"play"===t[0]?this.oWindowControlCallback["cb".concat(n)]&&this.oWindowControlCallback["cb".concat(n)](e):"sadp"===t[0]?this.oSadpCallback["cb".concat(n)]&&this.oSadpCallback["cb".concat(n)](e):"serial"===t[0]?this.oSerialCallback["cb".concat(n)]&&this.oSerialCallback["cb".concat(n)](e):"slice"===t[0]?this.oSliceCallback["cb".concat(n)]&&this.oSliceCallback["cb".concat(n)](e):"ui"===t[0]?this.oUIControlCallback["cb".concat(n)]&&this.oUIControlCallback["cb".concat(n)](e):"upgrade"===t[0]&&this.oUpgradeCallback["cb".concat(n)]&&this.oUpgradeCallback["cb".concat(n)](e)}}]),e}(),ii=function(){function e(t){(0,o.Z)(this,e),this.oOptions=Object.assign({szPluginContainer:"",iPort:-1,cbConnectSuccess:null,cbConnectError:null,cbConnectClose:null,szClassId:""},t),this.oPlugin=null,this.szPluginId="",this.szUUID="",this.szVersion="",this.oRequestList={},this.bNormalClose=!1,this.aMessage=[],this.oWindowControlCallback={},this.oSadpCallback={},this.oSliceCallback={},this.oSerialCallback={},this.oUIControlCallback={},this.oUpgradeCallback={},this.init()}return(0,a.Z)(e,[{key:"init",value:function(){var e=this;e.initPlugin(),e.oPlugin.object&&e.oPlugin.createSocket("ws://127.0.0.1:".concat(e.oOptions.iPort))}},{key:"initPlugin",value:function(){var e=this;this.szPluginId="webActiveX_".concat((new Date).getTime());var t="<object id='".concat(this.szPluginId,"' classid='clsid:").concat(e.oOptions.szClassId,"' codebase='' standby='Waiting...' width='100%' height='100%' align='center' ></object>"),n=e.oOptions.szPluginContainer;if(""===n){n="".concat(this.szPluginId,"_div");var i=document.createElement("div");i.id=n,document.body.parentNode.appendChild(i)}document.getElementById(n).innerHTML=t,e.oPlugin=document.getElementById(this.szPluginId),window.onConnectMessage=function(t,n){n?(e.aMessage.push(t),e.onConnectMessage(e.aMessage.join("")),e.aMessage.length=0):e.aMessage.push(t)},window.onConnectClose=function(){e.onConnectClose()},window.onConnectError=function(){e.onConnectError()},window.onConnectCloseException=function(){e.onConnectCloseException()},window.onConnectOpen=function(){e.onConnectOpen()},K.createEventScript(this.szPluginId,"onConnectMessage(szData, bLast)","onConnectMessage(szData, bLast);"),K.createEventScript(this.szPluginId,"onConnectClose()","onConnectClose();"),K.createEventScript(this.szPluginId,"onConnectError()","onConnectError();"),K.createEventScript(this.szPluginId,"onConnectCloseException()","onConnectCloseException();"),K.createEventScript(this.szPluginId,"onConnectOpen()","onConnectOpen();")}},{key:"onConnectMessage",value:function(e){var t=this;if(e){var n=JSON.parse(e),i=n.sequence;void 0===i&&void 0===n.cmd?(t.szUUID=n.uuid,t.szVersion=n.version,t.oOptions.cbConnectSuccess&&t.oOptions.cbConnectSuccess()):void 0!==n.cmd?t.parseCmd(n):void 0!==t.oRequestList[i]&&(0===n.errorModule&&0===n.errorCode?t.oRequestList[i].resolve(n):t.oRequestList[i].reject(n),delete t.oRequestList[i])}}},{key:"onConnectClose",value:function(){if(this.oPlugin=null,""!==this.szPluginId){var e=document.getElementById(this.szPluginId);e.parentNode.removeChild(e);var t=document.getElementById("".concat(this.szPluginId,"_div"));null!==t&&t.parentNode.removeChild(t)}this.oOptions.cbConnectClose&&this.oOptions.cbConnectClose(this.bNormalClose)}},{key:"onConnectCloseException",value:function(){var e=this;setTimeout((function(){e.oPlugin.object&&e.oPlugin.closeSocket()}),1e3)}},{key:"onConnectOpen",value:function(){var e={sequence:h(),cmd:"system.connect"},t=JSON.stringify(e);this.oPlugin.object&&this.oPlugin.sendRequest(t)}},{key:"onConnectError",value:function(){}},{key:"setWindowControlCallback",value:function(e){this.oWindowControlCallback=e}},{key:"setSadpCallback",value:function(e){this.oSadpCallback=e}},{key:"setSliceCallback",value:function(e){this.oSliceCallback=e}},{key:"setSerialCallback",value:function(e){this.oSerialCallback=e}},{key:"setUIControlCallback",value:function(e){this.oUIControlCallback=e}},{key:"setUpgradeCallback",value:function(e){this.oUpgradeCallback=e}},{key:"getServiceVersion",value:function(){return this.szVersion}},{key:"getRequestUUID",value:function(){return this.szUUID}},{key:"disconnect",value:function(){this.bNormalClose=!0,this.oPlugin&&this.oPlugin.object&&this.oPlugin.closeSocket()}},{key:"sendRequest",value:function(e){var t=this;return"window.hideWnd"===e.cmd?t.oPlugin&&t.oPlugin.object&&(t.oPlugin.style.visibility="hidden"):"window.showWnd"===e.cmd&&t.oPlugin&&t.oPlugin.object&&(t.oPlugin.style.visibility="visible"),new Promise((function(n,i){var r=h();e.sequence=r,t.oRequestList[r]={resolve:n,reject:i},e.uuid=t.szUUID,e.timestamp="".concat((new Date).getTime());var o=JSON.stringify(e);t.oPlugin&&t.oPlugin.object?t.oPlugin.sendRequest(o):i()}))}},{key:"parseCmd",value:function(e){var t=e.cmd.split("."),n=t[1].replace(/^[a-z]{1}/g,(function(e){return e.toUpperCase()}));"window"===t[0]||"play"===t[0]?this.oWindowControlCallback["cb".concat(n)]&&this.oWindowControlCallback["cb".concat(n)](e):"sadp"===t[0]?this.oSadpCallback["cb".concat(n)]&&this.oSadpCallback["cb".concat(n)](e):"serial"===t[0]?this.oSerialCallback["cb".concat(n)]&&this.oSerialCallback["cb".concat(n)](e):"slice"===t[0]?this.oSliceCallback["cb".concat(n)]&&this.oSliceCallback["cb".concat(n)](e):"ui"===t[0]?this.oUIControlCallback["cb".concat(n)]&&this.oUIControlCallback["cb".concat(n)](e):"upgrade"===t[0]&&this.oUpgradeCallback["cb".concat(n)]&&this.oUpgradeCallback["cb".concat(n)](e)}}]),e}(),ri=function(){function e(t){(0,o.Z)(this,e),this.oOptions=Object.assign({szPluginContainer:"",cbConnectSuccess:null,cbConnectError:null,cbConnectClose:null,iServicePortStart:-1,iServicePortEnd:-1,szClassId:""},t),this.iPort=-1,this.oRequest=null,this.bInit=!1,this.oCallbacks={},this.init()}return(0,a.Z)(e,[{key:"init",value:function(){var e=this;K.detectPort(e.oOptions.iServicePortStart,e.oOptions.iServicePortEnd,{success:function(t){if(e.iPort=t,K.browser().msie)"11.0"===K.browser().version?"https:"===window.location.protocol?e.oRequest=new ni({iPort:e.iPort,cbConnectSuccess:e.oOptions.cbConnectSuccess,cbConnectError:e.oOptions.cbConnectError,cbConnectClose:e.oOptions.cbConnectClose}):e.oRequest=new ne({iPort:e.iPort,cbConnectSuccess:e.oOptions.cbConnectSuccess,cbConnectError:e.oOptions.cbConnectError,cbConnectClose:e.oOptions.cbConnectClose}):e.oRequest=new ii({szPluginContainer:e.oOptions.szPluginContainer,iPort:e.iPort,cbConnectSuccess:e.oOptions.cbConnectSuccess,cbConnectError:e.oOptions.cbConnectError,cbConnectClose:e.oOptions.cbConnectClose,szClassId:e.oOptions.szClassId});else if("https:"===window.location.protocol)if(K.browser().chrome)try{e.oRequest=new ne({iPort:e.iPort,cbConnectSuccess:e.oOptions.cbConnectSuccess,cbConnectError:e.oOptions.cbConnectError,cbConnectClose:e.oOptions.cbConnectClose})}catch(t){e.oRequest=new ni({iPort:e.iPort,cbConnectSuccess:e.oOptions.cbConnectSuccess,cbConnectError:e.oOptions.cbConnectError,cbConnectClose:e.oOptions.cbConnectClose})}else e.oRequest=new ni({iPort:e.iPort,cbConnectSuccess:e.oOptions.cbConnectSuccess,cbConnectError:e.oOptions.cbConnectError,cbConnectClose:e.oOptions.cbConnectClose});else"WebSocket"in window&&(e.oRequest=new ne({iPort:e.iPort,cbConnectSuccess:e.oOptions.cbConnectSuccess,cbConnectError:e.oOptions.cbConnectError,cbConnectClose:e.oOptions.cbConnectClose}));for(var n in e.bInit=!0,e.oCallbacks)e.oRequest[n](e.oCallbacks[n])},error:function(){e.oOptions.cbConnectError&&e.oOptions.cbConnectError()}})}},{key:"setWindowControlCallback",value:function(e){this.bInit?this.oRequest.setWindowControlCallback(e):this.oCallbacks.setWindowControlCallback=e}},{key:"setSadpCallback",value:function(e){this.bInit?this.oRequest.setSadpCallback(e):this.oCallbacks.setSadpCallback=e}},{key:"setSliceCallback",value:function(e){this.bInit?this.oRequest.setSliceCallback(e):this.oCallbacks.setSliceCallback=e}},{key:"setSerialCallback",value:function(e){this.bInit?this.oRequest.setSerialCallback(e):this.oCallbacks.setSerialCallback=e}},{key:"setUIControlCallback",value:function(e){this.bInit?this.oRequest.setUIControlCallback(e):this.oCallbacks.setUIControlCallback=e}},{key:"setUpgradeCallback",value:function(e){this.bInit?this.oRequest.setUpgradeCallback(e):this.oCallbacks.setUpgradeCallback=e}},{key:"getServiceVersion",value:function(){return this.oRequest.getServiceVersion()}},{key:"getRequestUUID",value:function(){return this.oRequest.getRequestUUID()}},{key:"startService",value:function(e,t){var n={cmd:"system.startService",type:e};return void 0!==t&&(n.options=t),this.oRequest.sendRequest(n)}},{key:"stopService",value:function(e){var t=this;return new Promise((function(n,i){null!==t.oRequest?t.oRequest.sendRequest({cmd:"system.stopService",type:e}).then((function(e){n(e)}),(function(e){i(e)})):i()}))}},{key:"disconnect",value:function(){var e=this;return new Promise((function(t,n){null!==e.oRequest?(e.oRequest.disconnect(),t("cbConnectClose callback is really success")):n()}))}},{key:"openDirectory",value:function(e){return this.oRequest.sendRequest({cmd:"system.openDirectory",path:e})}},{key:"openFile",value:function(e,t,n){return this.oRequest.sendRequest({cmd:"system.openFile",path:e,relative:t,version:n})}},{key:"selectDirectory",value:function(e,t){var n=this;return new Promise((function(i,r){null!==n.oRequest?n.oRequest.sendRequest({cmd:"system.selectDirectory",caption:void 0!==e&&""!==e?K.Base64().encode(e):"",dir:void 0!==t&&""!==t?K.Base64().encode(t):""}).then((function(e){""!==e.path&&(e.path=K.Base64().decode(e.path)),i(e)}),(function(e){r(e)})):r()}))}},{key:"selectFile",value:function(e,t,n){var i=this;return new Promise((function(r,o){null!==i.oRequest?i.oRequest.sendRequest({cmd:"system.selectFile",caption:""!==e?K.Base64().encode(e):"",dir:""!==t?K.Base64().encode(t):"",filter:n}).then((function(e){""!==e.path&&(e.path=K.Base64().decode(e.path)),r(e)}),(function(e){o(e)})):o()}))}},{key:"getLocalConfig",value:function(e){return this.oRequest.sendRequest({cmd:"system.getLocalConfig",default:e})}},{key:"setLocalConfig",value:function(e){return e.cmd="system.setLocalConfig",this.oRequest.sendRequest(e)}},{key:"createWnd",value:function(e,t,n,i,r,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";return this.oRequest.sendRequest({cmd:"window.createWnd",rect:{left:e,top:t,width:n,height:i},className:r,embed:o,activeXParentWnd:a,HWND:s})}},{key:"showWnd",value:function(){return this.oRequest.sendRequest({cmd:"window.showWnd"})}},{key:"hideWnd",value:function(){return this.oRequest.sendRequest({cmd:"window.hideWnd"})}},{key:"destroyWnd",value:function(){var e=this;return new Promise((function(t,n){null!==e.oRequest?e.oRequest.sendRequest({cmd:"window.destroyWnd"}).then((function(e){t(e)}),(function(e){n(e)})):n()}))}},{key:"setWndGeometry",value:function(e,t,n,i){return this.oRequest.sendRequest({cmd:"window.setWndGeometry",rect:{left:e,top:t,width:n,height:i}})}},{key:"setWndCover",value:function(e,t){var n=this;return new Promise((function(i,r){null!==n.oRequest?n.oRequest.sendRequest({cmd:"window.setWndCover",position:e,size:t}).then((function(e){i(e)}),(function(e){r(e)})):r()}))}},{key:"cuttingPartWindow",value:function(e,t,n,i,r){var o=this;return new Promise((function(a,s){null!==o.oRequest?o.oRequest.sendRequest({cmd:"window.cuttingPartWindow",rect:{left:e,top:t,width:n,height:i},round:r}).then((function(e){a(e)}),(function(e){s(e)})):s()}))}},{key:"repairPartWindow",value:function(e,t,n,i,r){var o=this;return new Promise((function(a,s){null!==o.oRequest?o.oRequest.sendRequest({cmd:"window.repairPartWindow",rect:{left:e,top:t,width:n,height:i},round:r}).then((function(e){a(e)}),(function(e){s(e)})):s()}))}},{key:"setWndZOrder",value:function(e){return this.oRequest.sendRequest({cmd:"window.setWndZOrder",flag:e})}},{key:"changePlayMode",value:function(e){return this.oRequest.sendRequest({cmd:"window.changePlayMode",type:e})}},{key:"setLanguageType",value:function(e){return this.oRequest.sendRequest({cmd:"window.setLanguageType",type:e})}},{key:"initLoginInfo",value:function(e){return this.oRequest.sendRequest({cmd:"window.initLoginInfo",vsmAddress:e.vsmAddress,vsmPort:e.vsmPort,sessionID:e.sessionID,loginModel:e.loginModel,userType:e.userType,networkType:e.networkType})}},{key:"setTranslateFile",value:function(e){return this.oRequest.sendRequest({cmd:"window.setTranslateFile",url:e})}},{key:"switchToSimple",value:function(e){return this.oRequest.sendRequest({cmd:"window.switchToSimple",simple:e})}},{key:"setVsmToken",value:function(e){return this.oRequest.sendRequest({cmd:"play.setVsmToken",token:e})}},{key:"startPlay",value:function(e,t,n,i,r,o,a,s,l){var c={cmd:"play.startPlay",url:e,username:t,password:n,siteID:i,areaName:K.Base64().encode(r),cameraName:K.Base64().encode(o),permission:a,wndIndex:s};return void 0!==l&&(c.options=l,void 0!==c.options.siteName&&(c.options.siteName=K.Base64().encode(c.options.siteName))),this.oRequest.sendRequest(c)}},{key:"setPreview3DPosition",value:function(e){return this.oRequest.sendRequest({cmd:"play.setPreview3DPosition",open:e})}},{key:"stopTotal",value:function(){var e=this;return new Promise((function(t,n){null!==e.oRequest?e.oRequest.sendRequest({cmd:"play.stopTotal"}).then((function(e){t(e)}),(function(e){n(e)})):n()}))}},{key:"setDragMode",value:function(e){return this.oRequest.sendRequest({cmd:"play.setDragMode",drag:e})}},{key:"showErrorInfoInFullScreen",value:function(e){return this.oRequest.sendRequest({cmd:"play.showErrorInfoInFullScreen",error:K.Base64().encode(e)})}},{key:"setNumberOfWindows",value:function(e){return this.oRequest.sendRequest({cmd:"play.setNumberOfWindows",number:e})}},{key:"initCardReader",value:function(e){return this.oRequest.sendRequest({cmd:"serial.ACSInitCardReader",param:e})}},{key:"unInitCardReader",value:function(){return this.oRequest.sendRequest({cmd:"serial.ACSUnInitCardReader"})}},{key:"startAutoMode",value:function(){return this.oRequest.sendRequest({cmd:"serial.ACSStartAutoMode"})}},{key:"stopAutoMode",value:function(){return this.oRequest.sendRequest({cmd:"serial.ACSStopAutoMode"})}},{key:"initFingerprint",value:function(e){return this.oRequest.sendRequest({cmd:"serial.ACSInitFingerprint",param:e})}},{key:"unInitFingerprint",value:function(){return this.oRequest.sendRequest({cmd:"serial.ACSUnInitFingerprint"})}},{key:"startCollectFingerprint",value:function(){return this.oRequest.sendRequest({cmd:"serial.ACSStartCollectFingerprint"})}},{key:"stopCollectFingerprint",value:function(){return this.oRequest.sendRequest({cmd:"serial.ACSStopCollectFingerprint"})}},{key:"isCollectingFingerprint",value:function(){return this.oRequest.sendRequest({cmd:"serial.ACSIsCollectingFingerprint"})}},{key:"initVideocapture",value:function(e){return e.majorTitle=K.Base64().encode(e.majorTitle),e.tip=K.Base64().encode(e.tip),e.captureBtnTxt=K.Base64().encode(e.captureBtnTxt),e.USBRemovedTip=K.Base64().encode(e.USBRemovedTip),this.oRequest.sendRequest({cmd:"serial.ACSStartCollectImage",param:e})}},{key:"unInitVideocapture",value:function(){return this.oRequest.sendRequest({cmd:"serial.ACSStopCollectImage"})}},{key:"registerDeviceType",value:function(e){return this.oRequest.sendRequest({cmd:"sadp.registDeviceType",deviceType:e})}},{key:"activeOnlineDevice",value:function(e,t){return this.oRequest.sendRequest({cmd:"sadp.activeDevice",serialNumber:e,password:t})}},{key:"refreshDeviceList",value:function(){return this.oRequest.sendRequest({cmd:"sadp.refreshDeviceList"})}},{key:"modifyDeviceNetParam",value:function(e,t,n,i,r,o,a){return this.oRequest.sendRequest({cmd:"sadp.modifyDeviceParam",macAddress:e,password:t,ipv4Address:n,ipv4Gateway:i,ipv4SubnetMask:r,port:o,httpPort:a})}},{key:"exportKeyFile",value:function(e){return this.oRequest.sendRequest({cmd:"sadp.exportKeyFile",serialNumber:e})}},{key:"importKeyFile",value:function(){return this.oRequest.sendRequest({cmd:"sadp.importKeyFile"})}},{key:"resetPassword",value:function(e,t,n,i){return this.oRequest.sendRequest({cmd:"sadp.resetPassword",serialNumber:e,password:t,importFileData:n,szCode:i})}},{key:"uploadPicture",value:function(e){return this.oRequest.sendRequest({cmd:"slice.uploadPicture",path:K.Base64().encode(e)})}},{key:"showSelectMenu",value:function(e,t,n,i,r){return this.oRequest.sendRequest({cmd:"ui.showSelectMenu",items:r,rect:{left:e,top:t,width:n,height:i}})}},{key:"hideSelectMenu",value:function(){return this.oRequest.sendRequest({cmd:"ui.hideSelectMenu"})}},{key:"destroySelectMenu",value:function(){var e=this;return new Promise((function(t,n){null!==e.oRequest?e.oRequest.sendRequest({cmd:"ui.destroySelectMenu"}).then((function(e){t(e)}),(function(e){n(e)})):n()}))}},{key:"deviceConfig",value:function(e){return this.oRequest.sendRequest({cmd:"laputa.encodingDevice",param:e})}},{key:"cloudStorageConfig",value:function(e){return this.oRequest.sendRequest({cmd:"laputa.cloudStorage",param:e})}},{key:"ezvizRemoteConfig",value:function(e){return this.oRequest.sendRequest({cmd:"laputa.ezvizRemote",param:e})}},{key:"showAlarmInfoInFullScreen",value:function(e,t,n){return this.oRequest.sendRequest({cmd:"window.showAlarmInfoInFullScreen",alarmTitle:e,alarmMessage:t,alarmId:n})}},{key:"updateParentWnd",value:function(){return this.oRequest.sendRequest({cmd:"window.updateParentWnd"})}},{key:"restoreWnd",value:function(){return this.oRequest.sendRequest({cmd:"window.restoreWnd"})}},{key:"setImmediatePlaybackTime",value:function(e){return this.oRequest.sendRequest({cmd:"play.setImmediatePlaybackTime",specifyTime:e})}},{key:"setDrawStatus",value:function(e){return this.oRequest.sendRequest({cmd:"draw.setDrawStatus",enable:e})}},{key:"clearRegion",value:function(){return this.oRequest.sendRequest({cmd:"draw.clearRegion"})}},{key:"setDrawShapeInfo",value:function(e,t){return this.oRequest.sendRequest({cmd:"draw.setDrawShapeInfo",drawType:e,drawInfo:t})}},{key:"setGridInfo",value:function(e){return this.oRequest.sendRequest({cmd:"draw.setGridInfo",gridInfo:e})}},{key:"getGridInfo",value:function(){return this.oRequest.sendRequest({cmd:"draw.getGridInfo"})}},{key:"setPolygonInfo",value:function(e){return this.oRequest.sendRequest({cmd:"draw.setPolygonInfo",polygonInfo:e})}},{key:"getPolygonInfo",value:function(){return this.oRequest.sendRequest({cmd:"draw.getPolygonInfo"})}},{key:"setLineInfo",value:function(e){return this.oRequest.sendRequest({cmd:"draw.setLineInfo",lineInfo:e})}},{key:"getLineInfo",value:function(){return this.oRequest.sendRequest({cmd:"draw.getLineInfo"})}},{key:"setRectInfo",value:function(e){return this.oRequest.sendRequest({cmd:"draw.setRectInfo",rectInfo:e})}},{key:"getRectInfo",value:function(){return this.oRequest.sendRequest({cmd:"draw.getRectInfo"})}},{key:"clearShapeByType",value:function(e){return this.oRequest.sendRequest({cmd:"draw.clearShapeByType",type:e})}},{key:"sensitiveEncrypt",value:function(e,t,n){var i={cmd:"laputa.sensitiveEncrypt",encryptType:e,encryptField:t};return void 0!==n&&(i.options=n),this.oRequest.sendRequest(i)}},{key:"sendRequest",value:function(e){return this.oRequest.sendRequest(e)}},{key:"requestInterface",value:function(e){var t={cmd:"window.requestInterface"};return t.requestParams=e,this.oRequest.sendRequest(t)}},{key:"stopPlay",value:function(e){return void 0===e&&(e=-1),this.oRequest.sendRequest({cmd:"play.stopPlay",wndIndex:e})}},{key:"showRemoteConfig",value:function(e){var t=this;return e.cmd="config.showRemoteConfig",new Promise((function(n,i){null!==t.oRequest?t.oRequest.sendRequest(e).then((function(e){n(e)}),(function(e){i(e)})):i()}))}},{key:"video2Picture",value:function(){return this.oRequest.sendRequest({cmd:"window.video2Picture"})}},{key:"picture2Video",value:function(){return this.oRequest.sendRequest({cmd:"window.picture2Video"})}},{key:"ptzControl",value:function(e){return this.oRequest.sendRequest({cmd:"laputa.ptzControl",param:e})}},{key:"simMouseClickEvent",value:function(e,t){return this.oRequest.sendRequest({cmd:"window.simMouseClickEvent",pointX:e,pointY:t})}},{key:"us_SetMaxJobCount",value:function(e){return this.oRequest.sendRequest({cmd:"upgrade.setMaxJobCount",xml:e})}},{key:"us_GetMaxJobCount",value:function(){return this.oRequest.sendRequest({cmd:"upgrade.getMaxJobCount"})}},{key:"us_AddSchedule",value:function(e){return this.oRequest.sendRequest({cmd:"upgrade.addSchedule",xml:K.Base64().encode(e)})}},{key:"us_DelSchedule",value:function(e){return this.oRequest.sendRequest({cmd:"upgrade.delSchedule",scheduleId:e})}},{key:"us_GetScheduleList",value:function(e){var t=this;return new Promise((function(n,i){null!==t.oRequest?t.oRequest.sendRequest({cmd:"upgrade.getScheduleList",xml:e}).then((function(e){""!==e.xml&&(e.xml=K.Base64().decode(e.xml)),n(e)}),(function(e){i(e)})):i()}))}},{key:"us_GetSchedule",value:function(e,t){var n=this;return new Promise((function(i,r){null!==n.oRequest?n.oRequest.sendRequest({cmd:"upgrade.getSchedule",xml:t,scheduleId:e}).then((function(e){""!==e.xml&&(e.xml=K.Base64().decode(e.xml)),i(e)}),(function(e){r(e)})):r()}))}},{key:"us_UpgradeAction",value:function(e,t){return this.oRequest.sendRequest({cmd:"upgrade.upgradeAction",xml:t,scheduleId:e})}},{key:"us_CheckUpgradeableDevice",value:function(e){return this.oRequest.sendRequest({cmd:"upgrade.checkUpgradeableDevice",param:e})}},{key:"us_CheckUpgradeableDeviceList",value:function(e){return this.oRequest.sendRequest({cmd:"upgrade.checkUpgradeableDeviceList",param:e})}},{key:"us_IsRunningAsyCheckUpgradeable",value:function(){return this.oRequest.sendRequest({cmd:"upgrade.isRunningAsyCheckUpgradeable"})}},{key:"us_StopAsyCheckUpgradeable",value:function(){return this.oRequest.sendRequest({cmd:"upgrade.stopAsyCheckUpgradeable"})}},{key:"getFishEyePTZPreset",value:function(e){return this.oRequest.sendRequest({cmd:"play.getFishEyePTZPreset",wndIndex:e})}},{key:"setFishEyePTZPreset",value:function(e,t,n){return this.oRequest.sendRequest({cmd:"play.setFishEyePTZPreset",wndIndex:e,command:t,presetInfo:n})}},{key:"controlFishEyePTZ",value:function(e,t,n,i){return this.oRequest.sendRequest({cmd:"play.controlFishEyePTZ",wndIndex:e,command:t,stop:n,speed:i})}},{key:"controlFishEyeParol",value:function(e,t,n){return this.oRequest.sendRequest({cmd:"play.controlFishEyeParol",wndIndex:e,command:t,cruisePointList:n})}},{key:"setFirstDayOfWeek",value:function(e){return this.oRequest.sendRequest({cmd:"window.setFirstDayOfWeek",firstDay:e})}},{key:"setEhomePlayInfo",value:function(e,t,n,i,r,o){return this.oRequest.sendRequest({cmd:"play.setEhomePlayInfo",guid:e,protocal:t,session:n,token:i,ip:r,port:o})}},{key:"startPlayPatch",value:function(e){if(e.length>0)for(var t=0,n=e.length;t<n;t++)e[t].areaName=K.Base64().encode(e[t].areaName),e[t].cameraName=K.Base64().encode(e[t].cameraName);return this.oRequest.sendRequest({cmd:"play.startPlayPatch",params:e})}},{key:"grabOpen",value:function(){var e=this;return new Promise((function(t,n){null!==e.oRequest?e.oRequest.sendRequest({cmd:"window.grabOpen"}).then((function(e){t(e)}),(function(e){n(e)})):n()}))}},{key:"setWndAutoPanState",value:function(e,t){return this.oRequest.sendRequest({cmd:"play.setWndAutoPanState",wndIndex:e,open:t})}},{key:"enablePrivileges",value:function(){return this.oRequest.sendRequest({cmd:"system.enablePrivileges"})}}]),e}(),oi=function(){function e(t){(0,o.Z)(this,e);var n=this;this.oOptions=Object.assign({szPluginContainer:"",cbConnectSuccess:null,cbConnectError:null,cbConnectClose:null,iServicePortStart:16960,iServicePortEnd:16969,szClassId:"55A7329E-FAAD-439a-87BC-75BAB3332E7C"},t),this.bFreeze=!1,this.bFocus=!0,this.bEmbed=K.getCreateWndMode(),this.szWndId="",this.iCreateWndTimer=-1,this.iUpdateParentWndTimer=-1,this.bDevTool=!1,this.iVCTimeStart=-1,this.iVCTimeEnd=-1,this.oWndCover={left:0,top:0,right:0,bottom:0},this.oDocOffset={left:0,top:0},this.szTitle="",this.oWindowAttr={outerWidth:0,innerWidth:0,outerHeight:0,innerHeight:0,screenTop:0,screenLeft:0,screenX:0,screenY:0},this.iFixedResizeTimer=-1,this.fVisibilityChange=function(){if(K.isMacOS())document.hidden?n.fHideWnd():n.fShowWnd();else if(document.hidden)n.iVCTimeStart=(new Date).getTime(),n.fHideWnd();else{n.iVCTimeEnd=(new Date).getTime();var e=K.browser();if(e.chrome||e.mozilla)if(n.iUpdateParentWndTimer>0&&(clearTimeout(n.iUpdateParentWndTimer),n.iUpdateParentWndTimer=-1),n.iVCTimeEnd-n.iVCTimeStart<100){var t=n.oRequest.getRequestUUID();ee(t,n.oOptions.cbSetDocTitle),n.iUpdateParentWndTimer=setTimeout((function(){n.oRequest.updateParentWnd().then((function(){te(t,n.oOptions.cbUnsetDocTitle),n.bFreeze||n.bDevTool||n.fShowWnd()}),(function(){te(t,n.oOptions.cbUnsetDocTitle)}))}),100)}else n.bFreeze||n.bDevTool||n.fShowWnd();else n.bFreeze||n.bDevTool||n.fShowWnd()}},this.fHideWnd=function(){n.oRequest.hideWnd().then((function(){}),(function(){}))},this.fShowWnd=function(){n.oRequest.showWnd().then((function(){}),(function(){}))},this.fFocus=function(){n.bFocus=!0,setTimeout((function(){n.removeGrabImage(),document.hidden||n.bFreeze||n.bDevTool||n.fShowWnd()}),200)},this.fBlur=function(){n.bFocus=!1},this.removeGrabImage=function(){if(!K.isMacOS()){var e=null;if(""!==n.szWndId&&(e=document.getElementById(n.szWndId))){var t=e.querySelectorAll('[data-name="wc-grab-open-image"]');Array.prototype.slice.call(t).forEach((function(e){e.parentNode.removeChild(e)}))}}},this.oRequest=new ri({szPluginContainer:this.oOptions.szPluginContainer,cbConnectSuccess:this.oOptions.cbConnectSuccess,cbConnectError:this.oOptions.cbConnectError,cbConnectClose:function(e){n.iCreateWndTimer>0&&(clearTimeout(n.iCreateWndTimer),n.iCreateWndTimer=-1),n.removeGrabImage(),n.oOptions.cbConnectClose&&n.oOptions.cbConnectClose(e)},iServicePortStart:this.oOptions.iServicePortStart,iServicePortEnd:this.oOptions.iServicePortEnd,szClassId:this.oOptions.szClassId})}return(0,a.Z)(e,[{key:"JS_SetWindowControlCallback",value:function(e){var t=this,n={cbSelectWnd:function(t){e.cbSelectWnd&&e.cbSelectWnd(parseInt(t.wndIndex,10),t.cameraID,t.siteID,t.opendFisheye)},cbTogglePTZ:function(t){e.cbTogglePTZ&&e.cbTogglePTZ(t.cameraID,t.siteID)},cbUpdateCameraIcon:function(t){e.cbUpdateCameraIcon&&e.cbUpdateCameraIcon(t.cameraID,parseInt(t.playing,10),t.siteID)},cbGetLastError:function(t){e.cbGetLastError&&e.cbGetLastError(t.error,parseInt(t.type,10))},cbTalkUrlEmpty:function(t){e.cbTalkUrlEmpty&&e.cbTalkUrlEmpty(t.cameraID)},cbGotoPlayback:function(t){e.cbGotoPlayback&&e.cbGotoPlayback(t.cameraID,t.siteID)},cbShowDisplayInfo:function(t){e.cbShowDisplayInfo&&e.cbShowDisplayInfo(parseInt(t.videoWidth,10),parseInt(t.videoHeight,10),parseInt(t.frameRate,10))},cbPreviewWnd3DPostion:function(t){e.cbPreviewWnd3DPostion&&e.cbPreviewWnd3DPostion(parseInt(t.startX,10),parseInt(t.startY,10),parseInt(t.endX,10),parseInt(t.endY,10))},cbStopPlayAll:function(){e.cbStopPlayAll&&e.cbStopPlayAll()},cbWheelEvent:function(t){e.cbWheelEvent&&e.cbWheelEvent(parseInt(t.delta,10))},cbAlarmDetail:function(t){e.cbAlarmDetail&&e.cbAlarmDetail(t.alarmId)},cbQuitedFullScreen:function(){setTimeout((function(){t.fShowWnd()}),100)},cbManuallyClose:function(t){e.cbManuallyClose&&e.cbManuallyClose(t.cameraID,t.siteID,parseInt(t.wndIndex,10))},cbIntegrationCallBack:function(t){e.cbIntegrationCallBack&&e.cbIntegrationCallBack(t)},cbChangeStorage:function(t){e.cbChangeStorage&&e.cbChangeStorage(parseInt(t.storageType,10),t.cameraID,t.siteID)},cbFisheyeExpandChanged:function(t){e.cbFisheyeExpandChanged&&e.cbFisheyeExpandChanged(t.cameraID,t.siteID,parseInt(t.wndIndex,10),t.open)},cbGetEhomePlayInfo:function(t){e.cbGetEhomePlayInfo&&e.cbGetEhomePlayInfo(t.siteID,t.guid)},cbWndPtzControl:function(t){e.cbWndPtzControl&&e.cbWndPtzControl(parseInt(t.wndIndex,10),t.cameraID,t.command,t.speed,t.stop)},cbMessageCallBack:function(n){n=n.data;var i=t.oRequest.getRequestUUID();"menuOpen"===n.type?""!==t.szWndId&&(document.getElementById(t.szWndId).innerHTML="<img data-name='wc-grab-open-image' src='data:image/png;base64,".concat(n.message.image,"' width='100%' height='100%' />")):"changeTitle"===n.type?-1===document.title.indexOf(i)&&(t.szTitle=document.title,ee(i,t.oOptions.cbSetDocTitle),setTimeout((function(){"updateParentWnd"===n.message?t.oRequest.updateParentWnd():"restoreWnd"===n.message&&t.oRequest.restoreWnd()}),300)):"changeTitleDone"===n.type?""!==t.szTitle&&te(i,t.oOptions.cbUnsetDocTitle):"splitChange"===n.type?e.cbSplitChange&&e.cbSplitChange(n.message.splitType):"showMaximized"===n.type&&e.cbShowMaximized&&e.cbShowMaximized(n.message.showMax)}};this.oRequest.setWindowControlCallback(n)}},{key:"JS_SetSadpCallback",value:function(e){var t={cbDeviceFind:null};Object.assign(t,e),this.oRequest.setSadpCallback(t)}},{key:"JS_SetSliceCallback",value:function(e){var t={cbImageSliced:function(t){e.cbImageSliced&&(""!==t.picName&&(t.picName=K.Base64().decode(t.picName)),e.cbImageSliced(t))}};this.oRequest.setSliceCallback(t)}},{key:"JS_SetSerialCallback",value:function(e){var t={cbCardFind:function(t){e.cbCardFind&&e.cbCardFind(t)},cbFingerFind:function(t){e.cbFingerFind&&e.cbFingerFind(t.fingerPrint,t.fingerQuality)},cbImageFind:function(t){e.cbImageFind&&e.cbImageFind(t.image)},cbImageErrorFind:function(t){e.cbImageErrorFind&&e.cbImageErrorFind(t.errorModule,t.errorCode)},cbImageWndVisibleFind:function(t){e.cbImageWndVisibleFind&&e.cbImageWndVisibleFind(t.visible)}};this.oRequest.setSerialCallback(t)}},{key:"JS_SetUIControlCallback",value:function(e){var t={cbClickMenuItem:function(t){e.cbClickMenuItem&&e.cbClickMenuItem(t.itemIndex)},cbMenuMouseIn:function(){e.cbMenuMouseIn&&e.cbMenuMouseIn()},cbMenuMouseOut:function(){e.cbMenuMouseOut&&e.cbMenuMouseOut()}};this.oRequest.setUIControlCallback(t)}},{key:"JS_SetUpgradeCallback",value:function(e){var t={cbCheckUpgrade:function(t){e.cbCheckUpgrade&&e.cbCheckUpgrade(t)}};this.oRequest.setUpgradeCallback(t)}},{key:"JS_CheckVersion",value:function(e){var t=this.oRequest.getServiceVersion(),n=[],i=[];""!==t&&(n=(t=t.replace(/,[\s]*/g,".")).split(".")),""!==e&&(i=(e=e.replace(/,[\s]*/g,".")).split("."));var r=!1;if(i.length===n.length)for(var o=0,a=n.length;o<a;o++)if(parseInt(i[o],10)!==parseInt(n[o],10)){if(parseInt(i[o],10)>parseInt(n[o],10)){r=!0;break}break}return r}},{key:"JS_StartService",value:function(e,t){return this.oRequest.startService(e,t)}},{key:"JS_StopService",value:function(e){return this.oRequest.stopService(e)}},{key:"JS_Disconnect",value:function(){return this.oRequest.disconnect()}},{key:"JS_OpenDirectory",value:function(e){return this.oRequest.openDirectory(e)}},{key:"JS_OpenFile",value:function(e,t,n){return this.oRequest.openFile(e,t,n)}},{key:"JS_SelectDirectory",value:function(e,t){return this.oRequest.selectDirectory(e,t)}},{key:"JS_SelectFile",value:function(e,t,n){return this.oRequest.selectFile(e,t,n)}},{key:"JS_GetLocalConfig",value:function(e){return this.oRequest.getLocalConfig(e)}},{key:"JS_SetLocalConfig",value:function(e){return this.oRequest.setLocalConfig(e)}},{key:"JS_SetDocOffset",value:function(e){return e&&(this.oDocOffset=e),!0}},{key:"JS_SetWindowAttr",value:function(e){return e&&(this.oWindowAttr=e),!0}},{key:"JS_CreateWnd",value:function(e,t,n,i){var r=this;this.szWndId=e,void 0!==(i=i||{}).bEmbed&&(this.bEmbed=i.bEmbed);var o=!0;return void 0!==i.bActiveXParentWnd&&(o=i.bActiveXParentWnd),new Promise((function(a,s){var l=document.getElementById(e);if(l){var c="";K.browser().msie?c="IEFrame":K.browser().chrome?c="Chrome":K.browser().safari&&(c=window.top.document.title),i.cbSetDocTitle&&(r.oOptions.cbSetDocTitle=i.cbSetDocTitle),i.cbUnsetDocTitle&&(r.oOptions.cbUnsetDocTitle=i.cbUnsetDocTitle);var u=r.oRequest.getRequestUUID();ee(u,i.cbSetDocTitle),r.iCreateWndTimer=setTimeout((function(){if(!r.bDevTool){var e=K.getDevicePixelRatio(),d=K.getWndPostion(l,r.bEmbed,r.oWindowAttr,r.oDocOffset);t=Math.round(t*e),n=Math.round(n*e),r.oRequest.createWnd(d.left,d.top,t,n,c,r.bEmbed,o,i.HWND||"").then((function(){te(u,i.cbUnsetDocTitle),a()}),(function(e){te(u,i.cbUnsetDocTitle),5001===e.errorCode?(document.hidden||r.bFreeze||!r.bFocus||r.fShowWnd(),a()):s(e)}))}}),300),document.addEventListener("visibilitychange",r.fVisibilityChange,!1),window.addEventListener("focus",r.fFocus),window.addEventListener("blur",r.fBlur)}else s()}))}},{key:"JS_ShowWnd",value:function(){this.bFreeze=!1,document.hidden||this.bDevTool||this.fShowWnd()}},{key:"JS_HideWnd",value:function(){this.bFreeze=!0,this.fHideWnd()}},{key:"JS_DestroyWnd",value:function(){return document.removeEventListener("visibilitychange",this.fVisibilityChange,!1),window.removeEventListener("focus",this.fFocus),window.removeEventListener("blur",this.fBlur),this.oRequest.destroyWnd()}},{key:"JS_Resize",value:function(e,t,n){var i=this,r=null,o=e,a=t;if(""!==this.szWndId&&(r=document.getElementById(this.szWndId)),r){var s=K.getWndPostion(r,this.bEmbed,this.oWindowAttr,this.oDocOffset),l=K.getDevicePixelRatio();(!K.browser().msie||K.browser().msie&&"11.0"===K.browser().version)&&(this.oWndCover.left>0&&(s.left+=Math.round(this.oWndCover.left*l),e-=this.oWndCover.left),this.oWndCover.top>0&&(s.top+=Math.round(this.oWndCover.top*l),t-=this.oWndCover.top),this.oWndCover.right>0&&(e-=this.oWndCover.right),this.oWndCover.bottom>0&&(t-=this.oWndCover.bottom)),e=Math.round(e*l),t=Math.round(t*l),this.oRequest.setWndGeometry(s.left,s.top,e,t),(K.browser().msie&&"11.0"===K.browser().version||!K.isWindows())&&(n&&n.bFixed?this.iFixedResizeTimer=-1:(this.iFixedResizeTimer>-1&&(clearTimeout(this.iFixedResizeTimer),this.iFixedResizeTimer=-1),this.iFixedResizeTimer=setTimeout((function(){i.JS_Resize(o,a,{bFixed:!0})}),300)))}}},{key:"JS_SetWndCover",value:function(e,t){var n=K.getDevicePixelRatio();return(!K.browser().msie||K.browser().msie&&"11.0"===K.browser().version)&&("left"===e?this.oWndCover.left=t:"top"===e?this.oWndCover.top=t:"right"===e?this.oWndCover.right=t:"bottom"===e&&(this.oWndCover.bottom=t)),t=Math.round(t*n),this.oRequest.setWndCover(e,t)}},{key:"JS_CuttingPartWindow",value:function(e,t,n,i,r){var o=K.getDevicePixelRatio();return e=Math.round(e*o),t=Math.round(t*o),n=Math.round(n*o),i=Math.round(i*o),r=Math.round(r*o),this.oRequest.cuttingPartWindow(e,t,n,i,r)}},{key:"JS_RepairPartWindow",value:function(e,t,n,i,r){var o=K.getDevicePixelRatio();return e=Math.round(e*o),t=Math.round(t*o),n=Math.round(n*o),i=Math.round(i*o),r=Math.round(r*o),this.oRequest.repairPartWindow(e,t,n,i,r)}},{key:"JS_ChangePlayMode",value:function(e){return this.oRequest.changePlayMode(e)}},{key:"JS_SetLanguageType",value:function(e){return this.oRequest.setLanguageType(e)}},{key:"JS_InitLoginInfo",value:function(e){return this.oRequest.initLoginInfo(e)}},{key:"JS_SetTranslateFile",value:function(e){return this.oRequest.setTranslateFile(e)}},{key:"JS_SwitchToSimple",value:function(e){return this.oRequest.switchToSimple(e)}},{key:"JS_SetVsmToken",value:function(e){return this.oRequest.setVsmToken(e)}},{key:"JS_Play",value:function(e,t,n,i,r,o,a,s,l){return this.oRequest.startPlay(e,t,n,i,r,o,a,s,l)}},{key:"JS_Enable3DZoom",value:function(e){return this.oRequest.setPreview3DPosition(e)}},{key:"JS_StopTotal",value:function(){return this.oRequest.stopTotal()}},{key:"JS_SetDragMode",value:function(e){return this.oRequest.setDragMode(e)}},{key:"JS_ShowErrorInfoInFullScreen",value:function(e){return this.oRequest.showErrorInfoInFullScreen(e)}},{key:"JS_SetNumberOfWindows",value:function(e){return this.oRequest.setNumberOfWindows(e)}},{key:"JS_InitCardReader",value:function(e){return this.oRequest.initCardReader(e)}},{key:"JS_UnInitCardReader",value:function(){return this.oRequest.unInitCardReader()}},{key:"JS_StartAutoMode",value:function(){return this.oRequest.startAutoMode()}},{key:"JS_StopAutoMode",value:function(){return this.oRequest.stopAutoMode()}},{key:"JS_InitFingerprint",value:function(e){return this.oRequest.initFingerprint(e)}},{key:"JS_UnInitFingerprint",value:function(){return this.oRequest.unInitFingerprint()}},{key:"JS_StartCollectFingerprint",value:function(){return this.oRequest.startCollectFingerprint()}},{key:"JS_StopCollectFingerprint",value:function(){return this.oRequest.stopCollectFingerprint()}},{key:"JS_IsCollectingFingerprint",value:function(){return this.oRequest.isCollectingFingerprint()}},{key:"JS_InitVideocapture",value:function(e){return this.oRequest.initVideocapture(e)}},{key:"JS_UnInitVideocapture",value:function(){return this.oRequest.unInitVideocapture()}},{key:"JS_RegisterDeviceType",value:function(e){return this.oRequest.registerDeviceType(e)}},{key:"JS_ActiveOnlineDevice",value:function(e,t){return this.oRequest.activeOnlineDevice(e,t)}},{key:"JS_RefreshDeviceList",value:function(){return this.oRequest.refreshDeviceList()}},{key:"JS_ModifyDeviceNetParam",value:function(e,t,n,i,r,o,a){return this.oRequest.modifyDeviceNetParam(e,t,n,i,r,o,a)}},{key:"JS_ExportKeyFile",value:function(e){return this.oRequest.exportKeyFile(e)}},{key:"JS_ImportKeyFile",value:function(){return this.oRequest.importKeyFile()}},{key:"JS_ResetPassword",value:function(e,t,n,i){return this.oRequest.resetPassword(e,t,n,i)}},{key:"JS_UploadPicture",value:function(e){return this.oRequest.uploadPicture(e)}},{key:"JS_ShowSelectMenu",value:function(e,t,n,i,r){var o=document.getElementById(e);if(o){var a=K.getWndPostion(o,!1,this.oWindowAttr,this.oDocOffset);"center"===r?a.left-=Math.round((t-o.offsetWidth)/2):"right"===r&&(a.left-=Math.round(t-o.offsetWidth));var s=K.getDevicePixelRatio();t=Math.round(t*s),n=Math.round(n*s);var l=1*window.getComputedStyle(o).height.slice(0,-2),c=Math.round(l*s);this.oRequest.showSelectMenu(a.left,a.top+c,t,n,i)}}},{key:"JS_HideSelectMenu",value:function(){this.oRequest.hideSelectMenu()}},{key:"JS_DestroySelectMenu",value:function(){return this.oRequest.destroySelectMenu()}},{key:"JS_DeviceConfig",value:function(e){return this.oRequest.deviceConfig(e)}},{key:"JS_CloudStorageConfig",value:function(e){return this.oRequest.cloudStorageConfig(e)}},{key:"JS_EzvizRemoteConfig",value:function(e){return this.oRequest.ezvizRemoteConfig(e)}},{key:"JS_ShowAlarmInfoInFullScreen",value:function(e,t,n){return this.oRequest.showAlarmInfoInFullScreen(e,t,n)}},{key:"JS_SetImmediatePlaybackTime",value:function(e){return this.oRequest.setImmediatePlaybackTime(e)}},{key:"JS_SetDrawStatus",value:function(e){return this.oRequest.setDrawStatus(e)}},{key:"JS_ClearRegion",value:function(){return this.oRequest.clearRegion()}},{key:"JS_SetDrawShapeInfo",value:function(e,t){return this.oRequest.setDrawShapeInfo(e,t)}},{key:"JS_SetGridInfo",value:function(e){return this.oRequest.setGridInfo(e)}},{key:"JS_GetGridInfo",value:function(){return this.oRequest.getGridInfo()}},{key:"JS_SetPolygonInfo",value:function(e){return this.oRequest.setPolygonInfo(e)}},{key:"JS_GetPolygonInfo",value:function(){return this.oRequest.getPolygonInfo()}},{key:"JS_SetLineInfo",value:function(e){return this.oRequest.setLineInfo(e)}},{key:"JS_GetLineInfo",value:function(){return this.oRequest.getLineInfo()}},{key:"JS_SetRectInfo",value:function(e){return this.oRequest.setRectInfo(e)}},{key:"JS_GetRectInfo",value:function(){return this.oRequest.getRectInfo()}},{key:"JS_ClearShapeByType",value:function(e){return this.oRequest.clearShapeByType(e)}},{key:"JS_SensitiveEncrypt",value:function(e,t,n){return this.oRequest.sensitiveEncrypt(e,t,n)}},{key:"JS_SendRequest",value:function(e){return this.oRequest.sendRequest(e)}},{key:"JS_RequestInterface",value:function(e){return this.oRequest.requestInterface(e)}},{key:"JS_StopPlay",value:function(e){return this.oRequest.stopPlay(e)}},{key:"JS_ShowRemoteConfig",value:function(e){return this.oRequest.showRemoteConfig(e)}},{key:"JS_Video2Picture",value:function(){return this.oRequest.video2Picture()}},{key:"JS_Picture2Video",value:function(){return this.oRequest.picture2Video()}},{key:"JS_PtzControl",value:function(e){return this.oRequest.ptzControl(e)}},{key:"JS_SimMouseClickEvent",value:function(e,t){return this.oRequest.simMouseClickEvent(e,t)}},{key:"JS_US_SetMaxJobCount",value:function(e){return this.oRequest.us_SetMaxJobCount(e)}},{key:"JS_US_GetMaxJobCount",value:function(){return this.oRequest.us_GetMaxJobCount()}},{key:"JS_US_AddSchedule",value:function(e){return this.oRequest.us_AddSchedule(e)}},{key:"JS_US_DelSchedule",value:function(e){return this.oRequest.us_DelSchedule(e)}},{key:"JS_US_GetScheduleList",value:function(e){return this.oRequest.us_GetScheduleList(e)}},{key:"JS_US_GetSchedule",value:function(e,t){return this.oRequest.us_GetSchedule(e,t)}},{key:"JS_US_UpgradeAction",value:function(e,t){return this.oRequest.us_UpgradeAction(e,t)}},{key:"JS_US_CheckUpgradeableDevice",value:function(e){return this.oRequest.us_CheckUpgradeableDevice(e)}},{key:"JS_US_CheckUpgradeableDeviceList",value:function(e){return this.oRequest.us_CheckUpgradeableDeviceList(e)}},{key:"JS_US_IsRunningAsyCheckUpgradeable",value:function(){return this.oRequest.us_IsRunningAsyCheckUpgradeable()}},{key:"JS_US_StopAsyCheckUpgradeable",value:function(){return this.oRequest.us_StopAsyCheckUpgradeable()}},{key:"JS_GetFishEyePTZPreset",value:function(e){return this.oRequest.getFishEyePTZPreset(e)}},{key:"JS_SetFishEyePTZPreset",value:function(e,t,n){return this.oRequest.setFishEyePTZPreset(e,t,n)}},{key:"JS_ControlFishEyePTZ",value:function(e,t,n,i){return this.oRequest.controlFishEyePTZ(e,t,n,i)}},{key:"JS_ControlFishEyeParol",value:function(e,t,n){return this.oRequest.controlFishEyeParol(e,t,n)}},{key:"JS_SetFirstDayOfWeek",value:function(e){return this.oRequest.setFirstDayOfWeek(e)}},{key:"JS_SetEhomePlayInfo",value:function(e,t,n,i,r,o){return this.oRequest.setEhomePlayInfo(e,t,n,i,r,o)}},{key:"JS_PlayPatch",value:function(e){return this.oRequest.startPlayPatch(e)}},{key:"JS_SetWndAutoPanState",value:function(e,t){return this.oRequest.setWndAutoPanState(e,t)}},{key:"JS_EnablePrivileges",value:function(){return this.oRequest.enablePrivileges()}}],[{key:"JS_WakeUp",value:function(e){var t=document.createElement("iframe");t.style.display="none",t.src=e,document.body.appendChild(t),setTimeout((function(){document.body.removeChild(t)}),3e3)}}]),e}();oi.version="1.2.5"},2110:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(4015),r=n.n(i),o=n(3645),a=n.n(o),s=n(1667),l=n.n(s),c=n(905),u=n.n(c),d=a()(r()),A=l()(u());d.push([e.id,'.video-js .vjs-big-play-button .vjs-icon-placeholder:before,\n.video-js .vjs-modal-dialog,\n.vjs-button>.vjs-icon-placeholder:before,\n.vjs-modal-dialog .vjs-modal-dialog-content {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%\n}\n\n.video-js .vjs-big-play-button .vjs-icon-placeholder:before,\n.vjs-button>.vjs-icon-placeholder:before {\n  text-align: center\n}\n\n @font-face {\n  font-family: VideoJS;\n  /* src: url(../font/2.0.0/VideoJS.eot?#iefix) format("eot") */\n  src: url('+A+')\n}\n\n@font-face {\n  font-family: VideoJS;\n  src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAA54AAoAAAAAFmgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAAA9AAAAD4AAABWUZFeBWNtYXAAAAE0AAAAOgAAAUriMBC2Z2x5ZgAAAXAAAAouAAAPUFvx6AdoZWFkAAALoAAAACsAAAA2DIPpX2hoZWEAAAvMAAAAGAAAACQOogcgaG10eAAAC+QAAAAPAAAAfNkAAABsb2NhAAAL9AAAAEAAAABAMMg06m1heHAAAAw0AAAAHwAAACABMAB5bmFtZQAADFQAAAElAAACCtXH9aBwb3N0AAANfAAAAPwAAAGBZkSN43icY2BkZ2CcwMDKwMFSyPKMgYHhF4RmjmEIZzzHwMDEwMrMgBUEpLmmMDh8ZPwoxw7iLmSHCDOCCADvEAo+AAB4nGNgYGBmgGAZBkYGEHAB8hjBfBYGDSDNBqQZGZgYGD7K/f8PUvCREUTzM0DVAwEjG8OIBwCPdwbVAAB4nI1Xe1CU1xX/zv1eLItLln0JwrIfC7sJGET2hRJ2N1GUoBJE8AESQEEhmBHjaB7UuBMTO4GMaSu7aY3RNlOdRPNqO2pqRmuTaSZtR6JJILUZk00a/4imjpmiecB303O/XUgMJOPufvd+99xzzz33nN855y4HHH7EfrGfIxwHRiANvF/sH71I9BzHszmpW+rGOQOXxXE6YhI4PoMT8zkT4cDFuf1cwMrZJI5cglM0HKVv0MaUFDgIFfg9mJJCG+kbKn1JkqBOVaFOkuhLpARq8fu0Nnc9/zdvfY9PxXW4PdH0C6N+PCejhorxFjAqRjgFRXSINEARbBGsoxcFK7IJmr4OycFJnInL59zIXwxui80fkGRbEHyosMWaATJKUfCskmwJQsAWANkmnIGOhlf514h7U8HNIv3owoHB0WMt0Eb3sx0guLi5pq/8Ny1q6969fKR9X9GBV6dPv6dp04K99SOwtmyPl47ApRa6n4ZpP1yjr5fn7MmYP/vXLUJs715UguklHBaHOZHZmG1N9FAIW2mf0MqWCIdo/8RZ1yGfxKUldDcGIbFA7ICO+vqOMSPTh/ZrSqgHi/bB/O8E8Mnzp+M+acxfpsTShBwej26TiGxBn7m4eEIO+Rueu6Hj+IFBnh88cAEUEQ//nVLx5C7kf+yIR47QEe+eMlhz9SqsGbe3hh2R03NGzoY6O42Kz8l7fB6fAk6LYnTyFo/FYyT6GGyNx2Jx2sdH4rA1Fo/HyCXaFyOp8dhYBCfJb2NIn1ImE6CYNGmgSTb52DawJR6jfXEmDU4xyTEmpgHHOIStoxfjSGdkbsK2w2jbdMQG4sgAstEONgURYCwGHhEhhscioQaAhhCf7McifEQc0l6+mxj9nI+gmSdiQ0Zbm7gZnIO7GSMEXG6UDAVocxAV8GcEXCKg1a02RcTtwANWRGIAyElor6n/+ZU2yOB3+T77Hb1MLqhn4KHVnQBjJnqe9QZSon6Kc5DxAD2vMdPL/BXSmQGwspa67z9wLUjdi9TN7QC7lyyBr9rpt7uXVC1CMpyjKRoXnGPHTuiaPLsNdc2dbAFQLAooPkXEh33FodHl4XpC6sPCIa0ftUIhHSYXVSu5iME+DIXsbZJ51BeidCgajcai43jU9nVzoSn2dPqcFvSoxSzJzgRKAx47WMRxOrIj3Wf0+hndxhJTiOkSEqxar3b3RKM9hY64oxBA64ieURLvCfpkDb8siBdUJ1bgT+urJ5PGfewQrmm5R5+0HmfyIPySD7OYkT0WxRePah8oEiyjlxIP74thVoRTURpmL6QhGuWS+QDjdANXjIM8SQa/1w128ODx0Qp4aLMNg9+JL3joUn8AMxW+aLNiuKjarn4uyyTdXjOzZTsh21uwldUvJoYza+zELALfu3p1L8/3krtyZ0Ag058J3hxHghvbGZn0dHZy6Mim/7Blre4lpHd1c28yVqRViO153F2oIWoXCIKbL4Z0cM1iaQn9mI5KuV2SzEvWXJDMNtkANpMdQoDDhIdD4A/YrP6Aye9ysxyE+uOEAcTDorgvVZJjcua043PnZ/PmdDqcbibZlXOOT8uSo7Kof0YUn9GL+Jo17ficymxiTofC6znUso0DhAxs1Fo+kF+d36vLmgZ8mk5cdGv2mwYj5k3Dm9m3LhJ1aVRNm6HrTbLgYAoWXDhDd/u4PGy5CT+xGMdiaBovewUCF/1BiWNljI9MLn7jeScpg+WyH6mfU62eVDql7hsrmvx1ezp/YldE2LhjbkiDnAn8tGy/MW3IXRMYJduvq9HpmIcKuFt+JCtgdGEGKAcF6UacVwIYbVPGfw/+YuNBS4cx/CUHcnyfc+wRDMtTr72mMSBjT/yn/GKSdeDWQUCH6Xoqq5R10RE60gV6erUL0iCti16d0hZjxut4QI/rEpgSh6WjnJXdBXRg1GKCucGJPtFqM27aD1tOqqKonsQ2KsFSSmEpmvRlsR+TcD9OFwrqXxIclL4sJTnGMSuG8KpkZvKdeVIOKDyWSyPLV16/p1QMPbP8NihwUzr47bdnXtwtjdCvqqpO0H+pOvIl3Pzv46e5CT/tQjklXCXXym1AaWY7bzHLkuDMc7ldKCvgxzLn8wYkJLBhEDyK7MT8bTbwbkxbfp+3mKAGsmTBpabSIEECzMIcQlzOPAMKsxMs7uhsnxPLuofPDTc1hkuq6MX9j16YU7CqegcYHbmWYuvAP6tCS97tgWf7dlQvnl25YPavXLVZvrzQPeHCpZmzzEUVq/xzu5sChnSTPTW7oOYmh69z4zL/gk3b+O6hoa733uviP82vnFcbqWlc9tDmZa23LVzaV1yXURi+JX+28NeBuj3+O8IrQ080Vm1eWB4OKjPmrJu7c1udWynvKF6/vs479lSW9+5gZkn+dKfellNGDPllzeULustz+A0bPvhgw7lkvEUwn/N4Ty7U7nhGsEpFkOfy+kutbOh1JQxhVDJumoW11hnkPThznh6FFlhfT+ra1x9sF56kx5YuDzVY9PQYAYA7iblw4frQ4TPCk2MK/xGU3rlmze62trHz6lsko+v+So/do74PT8KVkpJfOErKcv8znrMGsHTNxoEkWy1mYgDB6XBbPaWsuiS6CryGaL6zCjaXBgvtkuyXBua1wOKnh+k7L9AvPnYWffxK18FcJbuosGf3/Jo7amY+CE1vppzY+UTrva0FXc1i55pKQ/YjVL187N5fCn1kW5uot/1hi+DiZ+5atnJR9E+prvydJ9ZZ5mwOpU5gM4KYysMBQ71UzPuMTl9QQOyUo5nwioeYCPjFklrbK6s6X+ypUZ6rum9+CZYzWRiBJfSP0xzzSmrg7f86g0DKVj/wwFzieD9rRfPGFbeKMl05pn5j9/rsQJJ2iEgRrpohlyBo3f4QK7Kl+EcAYZgAoNVmZWXK704YAa3FwBxgSGUOs5htvGRz4Sgj3yFkSJFBuv/sxu5yk998T8WDJzvv/2RX19HtTUW1S+wpKRKRjJ6zzz/1/OPdFdWGlAKbvzS4PHOtURikg9AGz0LbIB85S/cPOpoXvuue8/iV2H1vPTy3ddvOeZ37HGmO3OmSzVzR+NS53+84dHlFhXPLqtzSO+5ruHM2vXtBdxP87LOzKAD359j/INYIbyPabIi3Cq6Wa+SaGe78diIzu7qcblcAa6/fJRvNopXFJnO+U9KKM5bqH5LM0iQSVmpPCPDu7ZT4Aoubz3709EBTyrTDjyx8MQXgUH1nqm7TWng4TzE4i4AsKskBITXfSyC4Fkl5MxnJDiKSIDSJAsGvd1y+/eNDp2e+A+5d8HeiiunrTkT6TqWLIs+/QRoWr98s0qj8uuzLuS22Ytufg3rdTaHn1m46sfgGKHXt0MGnLaRHdnwN37tvHcWKo2V6lnPxL4UvUQcRdOzmZSQs8X5CH5OxXMXpkATuDz8Et0SH4uyCRR+TjmBDP1GvsVrWEGVzEj33YVQ9jAtIKpqsl/s/0xrocwAAeJxjYGRgYADig3cEzsTz23xl4GZnAIHLRucNkWl2BrA4BwMTiAIAF4IITwB4nGNgZGBgZwCChWASxGZkQAXyABOUANh4nGNnYGBgHyAMADa8ANoAAAAAAAAOAFAAZgCyAMYA5gEeAUgBdAGcAfICLgKOAroDCgOOA7AD6gQ4BHwEuAToBQwFogXoBjYGbAbaB3IHqHicY2BkYGCQZ8hlYGcAASYg5gJCBob/YD4DABbVAaoAeJxdkE1qg0AYhl8Tk9AIoVDaVSmzahcF87PMARLIMoFAl0ZHY1BHdBJIT9AT9AQ9RQ9Qeqy+yteNMzDzfM+88w0K4BY/cNAMB6N2bUaPPBLukybCLvleeAAPj8JD+hfhMV7hC3u4wxs7OO4NzQSZcI/8Ltwnfwi75E/hAR7wJTyk/xYeY49fYQ/PztM+jbTZ7LY6OWdBJdX/pqs6NYWa+zMxa13oKrA6Uoerqi/JwtpYxZXJ1coUVmeZUWVlTjq0/tHacjmdxuL90OR8O0UEDYMNdtiSEpz5XQGqzlm30kzUdAYFFOb8R7NOZk0q2lwAyz1i7oAr1xoXvrOgtYhZx8wY5KRV269JZ5yGpmzPTjQhvY9je6vEElPOuJP3mWKnP5M3V+YAAAB4nG2P2XLCMAxFfYFspGUp3Te+IB9lHJF4cOzUS2n/voaEGR6qB+lKo+WITdhga/a/bRnDBFPMkCBFhhwF5ihxg1sssMQKa9xhg3s84BFPeMYLXvGGd3zgE9tZr/hveXKVkFYoSnoeHJXfRoWOqi54mo9ameNFdrK+dLSyaVf7oJQTlkhXpD3Z5XXhR/rUfQVuKXO91Jps4cLOS6/I5YL3XhodRRsVWZe4NnZOhWnSAWgxhMoEr6SmzZieF43Mk7ZOBdeCVGrp9Eu+54J2xhySplfB5XHwQLXUmT9KH6+kPnQ7ZYuIEzNyfs1DLU1VU4SWZ6LkXGHsD1ZKbMw=) format("woff"), \n  url(data:application/x-font-ttf;charset=utf-8;base64,AAEAAAAKAIAAAwAgT1MvMlGRXgUAAAEoAAAAVmNtYXDiMBC2AAAB/AAAAUpnbHlmW/HoBwAAA4gAAA9QaGVhZAyD6V8AAADQAAAANmhoZWEOogcgAAAArAAAACRobXR42QAAAAAAAYAAAAB8bG9jYTDINOoAAANIAAAAQG1heHABMAB5AAABCAAAACBuYW1l1cf1oAAAEtgAAAIKcG9zdGZEjeMAABTkAAABgQABAAAHAAAAAKEHAAAAAAAHAAABAAAAAAAAAAAAAAAAAAAAHwABAAAAAQAAwdxheF8PPPUACwcAAAAAANMyzzEAAAAA0zLPMQAAAAAHAAcAAAAACAACAAAAAAAAAAEAAAAfAG0ABwAAAAAAAgAAAAoACgAAAP8AAAAAAAAAAQcAAZAABQAIBHEE5gAAAPoEcQTmAAADXABXAc4AAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABA8QHxHgcAAAAAoQcAAAAAAAABAAAAAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAAAAAMAAAADAAAAHAABAAAAAABEAAMAAQAAABwABAAoAAAABgAEAAEAAgAA8R7//wAAAADxAf//AAAPAAABAAAAAAAAAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAFAAZgCyAMYA5gEeAUgBdAGcAfICLgKOAroDCgOOA7AD6gQ4BHwEuAToBQwFogXoBjYGbAbaB3IHqAABAAAAAAWLBYsAAgAAAREBAlUDNgWL++oCCwAAAwAAAAAGawZrAAIADgAaAAAJAhMEAAMSAAUkABMCAAEmACc2ADcWABcGAALrAcD+QJX+w/5aCAgBpgE9AT0BpggI/lr+w/3+rgYGAVL9/QFSBgb+rgIwAVABUAGbCP5a/sP+w/5aCAgBpgE9AT0BpvrIBgFS/f0BUgYG/q79/f6uAAAAAgAAAAAFQAWLAAMABwAAASERKQERIREBwAEr/tUCVQErAXUEFvvqBBYAAAAEAAAAAAYgBiAABgATACQAJwAAAS4BJxUXNjcGBxc+ATUmACcVFhIBBwEhESEBEQEGBxU+ATcXNwEHFwTQAWVVuAO7AidxJSgF/t/lpc77t18BYf6fASsBdQE+TF1OijuZX/1gnJwDgGSeK6W4GBhqW3FGnFT0AWM4mjT+9AHrX/6f/kD+iwH2/sI7HZoSRDGYXwSWnJwAAAEAAAAABKsF1gAFAAABESEBEQECCwEqAXb+igRg/kD+iwSq/osAAAACAAAAAAVmBdYABgAMAAABLgEnET4BAREhAREBBWUBZVRUZfwRASsBdf6LA4Bkniv9piueAUT+QP6LBKr+iwAAAwAAAAAGIAYPAAUADAAaAAATESEBEQEFLgEnET4BAxUWEhcGAgcVNgA3JgDgASsBdf6LAsUBZVVVZbqlzgMDzqXlASEFBf7fBGD+QP6LBKr+i+Bkniv9piueAvOaNP70tbX+9DSaOAFi9fUBYgAAAAQAAAAABYsFiwAFAAsAEQAXAAABIxEhNSMDMzUzNSEBIxUhESMDFTMVMxECC5YBduCWluD+igOA4AF2luDglgLr/oqWAgrglvyAlgF2AqCW4AF2AAQAAAAABYsFiwAFAAsAEQAXAAABMxUzESETIxUhESMBMzUzNSETNSMRITUBdeCW/org4AF2lgHAluD+ipaWAXYCVeABdgHAlgF2++rglgHA4P6KlgAAAAACAAAAAAXWBdYADwATAAABIQ4BBxEeARchPgE3ES4BAyERIQVA/IA/VQEBVT8DgD9VAQFVP/yAA4AF1QFVP/yAP1UBAVU/A4A/VfvsA4AAAAYAAAAABmsGawAHAAwAEwAbACAAKAAACQEmJw4BBwElLgEnAQUhATYSNyYFAQYCBxYXIQUeARcBMwEWFz4BNwECvgFkTlSH8GEBEgOONemh/u4C5f3QAXpcaAEB/BP+3VxoAQEOAjD95DXpoQESeP7dTlSH8GH+7gPwAmgSAQFYUP4nd6X2Pv4nS/1zZAEBk01NAfhk/v+TTUhLpfY+Adn+CBIBAVhQAdkAAAAFAAAAAAZrBdYADwATABcAGwAfAAABIQ4BBxEeARchPgE3ES4BASEVIQEhNSEFITUhNSE1IQXV+1ZAVAICVEAEqkBUAgJU+xYBKv7WAur9FgLqAcD+1gEq/RYC6gXVAVU//IA/VQEBVT8DgD9V/ayV/tWVlZWWlQADAAAAAAYgBdYADwAnAD8AAAEhDgEHER4BFyE+ATcRLgEBIzUjFTM1MxUUBgcjLgEnET4BNzMeARUFIzUjFTM1MxUOAQcjLgE1ETQ2NzMeARcFi/vqP1QCAlQ/BBY/VAICVP1rcJWVcCog4CAqAQEqIOAgKgILcJWVcAEqIOAgKiog4CAqAQXVAVU//IA/VQEBVT8DgD9V/fcl4CVKICoBASogASogKgEBKiBKJeAlSiAqAQEqIAEqICoBASogAAAGAAAAAAYgBPYAAwAHAAsADwATABcAABMzNSMRMzUjETM1IwEhNSERITUhERUhNeCVlZWVlZUBKwQV++sEFfvrBBUDNZb+QJUBwJX+QJb+QJUCVZWVAAAAAQAAAAAGIAZsAC4AAAEiBgcBNjQnAR4BMz4BNy4BJw4BBxQXAS4BIw4BBx4BFzI2NwEGBx4BFz4BNy4BBUArSh797AcHAg8eTixffwICf19ffwIH/fEeTixffwICf18sTh4CFAUBA3tcXHsDA3sCTx8bATcZNhkBNB0gAn9fX38CAn9fGxn+zRwgAn9fX38CIBz+yhcaXHsCAntcXXsAAAIAAAAABlkGawBDAE8AAAE2NCc3PgEnAy4BDwEmLwEuASchDgEPAQYHJyYGBwMGFh8BBhQXBw4BFxMeAT8BFh8BHgEXIT4BPwE2NxcWNjcTNiYnBS4BJz4BNx4BFw4BBasFBZ4KBgeWBxkNujpEHAMUD/7WDxQCHEU5ug0aB5UHBQudBQWdCwUHlQcaDbo5RRwCFA8BKg8UAhxFOboNGgeVBwUL/ThvlAIClG9vlAIClAM3JEokewkaDQEDDAkFSy0cxg4RAQERDsYcLUsFCQz+/QwbCXskSiR7CRoN/v0MCQVLLRzGDhEBAREOxhwtSwUJDAEDDBsJQQKUb2+UAgKUb2+UAAAAAAEAAAAABmsGawALAAATEgAFJAATAgAlBACVCAGmAT0BPQGmCAj+Wv7D/sP+WgOA/sP+WggIAaYBPQE9AaYICP5aAAAAAgAAAAAGawZrAAsAFwAAAQQAAxIABSQAEwIAASYAJzYANxYAFwYAA4D+w/5aCAgBpgE9AT0BpggI/lr+w/3+rgYGAVL9/QFSBgb+rgZrCP5a/sP+w/5aCAgBpgE9AT0BpvrIBgFS/f0BUgYG/q79/f6uAAADAAAAAAZrBmsACwAXACMAAAEEAAMSAAUkABMCAAEmACc2ADcWABcGAAMOAQcuASc+ATceAQOA/sP+WggIAaYBPQE9AaYICP5a/sP9/q4GBgFS/f0BUgYG/q4dAn9fX38CAn9fX38Gawj+Wv7D/sP+WggIAaYBPQE9Aab6yAYBUv39AVIGBv6u/f3+rgJPX38CAn9fX38CAn8AAAAEAAAAAAYgBiAADwAbACUAKQAAASEOAQcRHgEXIT4BNxEuAQEjNSMVIxEzFTM1OwEhHgEXEQ4BByE3MzUjBYv76j9UAgJUPwQWP1QCAlT9a3CVcHCVcJYBKiAqAQEqIP7WcJWVBiACVD/76j9UAgJUPwQWP1T8gpWVAcC7uwEqIP7WICoBcOAAAgAAAAAGawZrAAsAFwAAAQQAAxIABSQAEwIAEwcJAScJATcJARcBA4D+w/5aCAgBpgE9AT0BpggI/lo4af70/vRpAQv+9WkBDAEMaf71BmsI/lr+w/7D/loICAGmAT0BPQGm/BFpAQv+9WkBDAEMaf71AQtp/vQAAQAAAAAF1ga2ABYAAAERCQERHgEXDgEHLgEnIxYAFzYANyYAA4D+iwF1vv0FBf2+vv0FlQYBUf7+AVEGBv6vBYsBKv6L/osBKgT9v779BQX9vv7+rwYGAVH+/gFRAAAAAQAAAAAFPwcAABQAAAERIyIGHQEhAyMRIREjETM1NDYzMgU/nVY8ASUn/v7O///QrZMG9P74SEi9/tj9CQL3ASjaus0AAAAABAAAAAAGjgcAADAARQBgAGwAAAEUHgMVFAcGBCMiJicmNTQ2NzYlLgE1NDcGIyImNTQ2Nz4BMyEHIx4BFRQOAycyNjc2NTQuAiMiBgcGFRQeAxMyPgI1NC4BLwEmLwImIyIOAxUUHgIBMxUjFSM1IzUzNTMDH0BbWkAwSP7qn4TlOSVZSoMBESAfFS4WlMtIP03TcAGiioNKTDFFRjGSJlAaNSI/akAqURkvFCs9WTY6a1s3Dg8THgocJU4QIDVob1M2RnF9A2vV1WnU1GkD5CRFQ1CATlpTenNTYDxHUYouUhIqQCkkMQTBlFKaNkJAWD+MWkhzRztAPiEbOWY6hn1SJyE7ZS5nZ1I0/JcaNF4+GTAkGCMLFx04Ag4kOF07Rms7HQNsbNvbbNkAAwAAAAAGgAZsAAMADgAqAAABESERARYGKwEiJjQ2MhYBESERNCYjIgYHBhURIRIQLwEhFSM+AzMyFgHd/rYBXwFnVAJSZGemZASP/rdRVj9VFQv+twIBAQFJAhQqR2c/q9AEj/whA98BMkliYpNhYfzd/cgCEml3RTMeM/3XAY8B8DAwkCAwOB/jAAABAAAAAAaUBgAAMQAAAQYHFhUUAg4BBCMgJxYzMjcuAScWMzI3LgE9ARYXLgE1NDcWBBcmNTQ2MzIXNjcGBzYGlENfAUyb1v7SrP7x4SMr4bBpph8hHCsqcJNETkJOLHkBW8YIvYaMYG1gJWldBWhiRQ4cgv797rdtkQSKAn1hBQsXsXUEJgMsjlNYS5WzCiYkhr1mFTlzPwoAAAABAAAAAAWABwAAIgAAARcOAQcGLgM1ESM1PgQ3PgE7AREhFSERFB4CNzYFMFAXsFlorXBOIahIckQwFAUBBwT0AU3+sg0gQzBOAc/tIz4BAjhceHg6AiDXGlddb1ctBQf+WPz9+h40NR4BAgABAAAAAAaABoAASgAAARQCBCMiJzY/AR4BMzI+ATU0LgEjIg4DFRQWFxY/ATY3NicmNTQ2MzIWFRQGIyImNz4CNTQmIyIGFRQXAwYXJgI1NBIkIAQSBoDO/p/Rb2s7EzYUaj15vmh34o5ptn9bK1BNHggIBgIGETPRqZepiWs9Sg4IJRc2Mj5WGWMRBM7+zgFhAaIBYc4DgNH+n84gXUfTJzmJ8JZyyH46YH2GQ2ieIAwgHxgGFxQ9WpfZpIOq7lc9I3VZHzJCclVJMf5eRmtbAXzp0QFhzs7+nwAABwAAAAAHAATPAA4AFwAqAD0AUABaAF0AAAERNh4CBw4BBwYmIycmNxY2NzYmBxEUBRY2Nz4BNy4BJyMGHwEeARcOARcWNjc+ATcuAScjBh8BHgEXFAYXFjY3PgE3LgEnIwYfAR4BFw4BBTM/ARUzESMGAyUVJwMchM2UWwgNq4JHrQgBAapUaAoJcWMBfiIhDiMrAQJLMB0BBAokNAIBPmMiIQ4iLAECSzAeAQUKJDQBP2MiIQ4iLAECSzAeAQUKJDQBAT75g+5B4arNLNIBJ44ByQL9BQ9mvYCKwA8FBQMDwwJVTGdzBf6VB8IHNR08lld9uT4LCRA/qGNxvUwHNR08lld9uT4LCRA/qGNxvUwHNR08lld9uT4LCRA/qGNxvVJkAWUDDEf+tYP5AQAAAAEAAAAABiAGtgAbAAABBAADER4BFzMRITU2ADcWABcVIREzPgE3EQIAA4D+4v6FBwJ/X+D+1QYBJ97eAScG/tXgX38CB/6FBrUH/oX+4v32X38CAlWV3gEnBgb+2d6V/asCf18CCgEeAXsAAAAAEADGAAEAAAAAAAEABwAAAAEAAAAAAAIABwAHAAEAAAAAAAMABwAOAAEAAAAAAAQABwAVAAEAAAAAAAUACwAcAAEAAAAAAAYABwAnAAEAAAAAAAoAKwAuAAEAAAAAAAsAEwBZAAMAAQQJAAEADgBsAAMAAQQJAAIADgB6AAMAAQQJAAMADgCIAAMAAQQJAAQADgCWAAMAAQQJAAUAFgCkAAMAAQQJAAYADgC6AAMAAQQJAAoAVgDIAAMAAQQJAAsAJgEeVmlkZW9KU1JlZ3VsYXJWaWRlb0pTVmlkZW9KU1ZlcnNpb24gMS4wVmlkZW9KU0dlbmVyYXRlZCBieSBzdmcydHRmIGZyb20gRm9udGVsbG8gcHJvamVjdC5odHRwOi8vZm9udGVsbG8uY29tAFYAaQBkAGUAbwBKAFMAUgBlAGcAdQBsAGEAcgBWAGkAZABlAG8ASgBTAFYAaQBkAGUAbwBKAFMAVgBlAHIAcwBpAG8AbgAgADEALgAwAFYAaQBkAGUAbwBKAFMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAgAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfAAABAgEDAQQBBQEGAQcBCAEJAQoBCwEMAQ0BDgEPARABEQESARMBFAEVARYBFwEYARkBGgEbARwBHQEeAR8EcGxheQtwbGF5LWNpcmNsZQVwYXVzZQt2b2x1bWUtbXV0ZQp2b2x1bWUtbG93CnZvbHVtZS1taWQLdm9sdW1lLWhpZ2gQZnVsbHNjcmVlbi1lbnRlcg9mdWxsc2NyZWVuLWV4aXQGc3F1YXJlB3NwaW5uZXIJc3VidGl0bGVzCGNhcHRpb25zCGNoYXB0ZXJzBXNoYXJlA2NvZwZjaXJjbGUOY2lyY2xlLW91dGxpbmUTY2lyY2xlLWlubmVyLWNpcmNsZQJoZAZjYW5jZWwGcmVwbGF5CGZhY2Vib29rBWdwbHVzCGxpbmtlZGluB3R3aXR0ZXIGdHVtYmxyCXBpbnRlcmVzdBFhdWRpby1kZXNjcmlwdGlvbgVhdWRpbwAAAAAA) format("truetype");\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-big-play-button .vjs-icon-placeholder:before,\n.video-js .vjs-play-control .vjs-icon-placeholder,\n.vjs-icon-play {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-big-play-button .vjs-icon-placeholder:before,\n.video-js .vjs-play-control .vjs-icon-placeholder:before,\n.vjs-icon-play:before {\n  content: "\\f101"\n}\n\n.vjs-icon-play-circle {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-play-circle:before {\n  content: "\\f102"\n}\n\n.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder,\n.vjs-icon-pause {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before,\n.vjs-icon-pause:before {\n  content: "\\f103"\n}\n\n.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder,\n.vjs-icon-volume-mute {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before,\n.vjs-icon-volume-mute:before {\n  content: "\\f104"\n}\n\n.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder,\n.vjs-icon-volume-low {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before,\n.vjs-icon-volume-low:before {\n  content: "\\f105"\n}\n\n.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder,\n.vjs-icon-volume-mid {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before,\n.vjs-icon-volume-mid:before {\n  content: "\\f106"\n}\n\n.video-js .vjs-mute-control .vjs-icon-placeholder,\n.vjs-icon-volume-high {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-mute-control .vjs-icon-placeholder:before,\n.vjs-icon-volume-high:before {\n  content: "\\f107"\n}\n\n.video-js .vjs-fullscreen-control .vjs-icon-placeholder,\n.vjs-icon-fullscreen-enter {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before,\n.vjs-icon-fullscreen-enter:before {\n  /* content: "\\f108" */\n  content: "\\e794"\n}\n\n.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder,\n.vjs-icon-fullscreen-exit {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before,\n.vjs-icon-fullscreen-exit:before {\n  content: "\\f109"\n}\n\n.vjs-icon-square {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-square:before {\n  content: "\\f10a"\n}\n\n.vjs-icon-spinner {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-spinner:before {\n  content: "\\f10b"\n}\n\n.video-js .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js .vjs-subtitles-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,\n.vjs-icon-subtitles {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js .vjs-subtitles-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.vjs-icon-subtitles:before {\n  content: "\\f10c"\n}\n\n.video-js .vjs-captions-button .vjs-icon-placeholder,\n.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,\n.vjs-icon-captions {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-captions-button .vjs-icon-placeholder:before,\n.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.vjs-icon-captions:before {\n  content: "\\f10d"\n}\n\n.video-js .vjs-chapters-button .vjs-icon-placeholder,\n.vjs-icon-chapters {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-chapters-button .vjs-icon-placeholder:before,\n.vjs-icon-chapters:before {\n  content: "\\f10e"\n}\n\n.vjs-icon-share {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-share:before {\n  content: "\\f10f"\n}\n\n.vjs-icon-cog {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-cog:before {\n  content: "\\f110"\n}\n\n.video-js .vjs-play-progress,\n.video-js .vjs-volume-level,\n.vjs-icon-circle {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-play-progress:before,\n.video-js .vjs-volume-level:before,\n.vjs-icon-circle:before {\n  content: "\\f111"\n}\n\n.vjs-icon-circle-outline {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-circle-outline:before {\n  content: "\\f112"\n}\n\n.vjs-icon-circle-inner-circle {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-circle-inner-circle:before {\n  content: "\\f113"\n}\n\n.vjs-icon-hd {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-hd:before {\n  content: "\\f114"\n}\n\n.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder,\n.vjs-icon-cancel {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before,\n.vjs-icon-cancel:before {\n  content: "\\f115"\n}\n\n.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder,\n.vjs-icon-replay {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before,\n.vjs-icon-replay:before {\n  content: "\\f116"\n}\n\n.vjs-icon-facebook {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-facebook:before {\n  content: "\\f117"\n}\n\n.vjs-icon-gplus {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-gplus:before {\n  content: "\\f118"\n}\n\n.vjs-icon-linkedin {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-linkedin:before {\n  content: "\\f119"\n}\n\n.vjs-icon-twitter {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-twitter:before {\n  content: "\\f11a"\n}\n\n.vjs-icon-tumblr {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-tumblr:before {\n  content: "\\f11b"\n}\n\n.vjs-icon-pinterest {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-pinterest:before {\n  content: "\\f11c"\n}\n\n.video-js .vjs-descriptions-button .vjs-icon-placeholder,\n.vjs-icon-audio-description {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-descriptions-button .vjs-icon-placeholder:before,\n.vjs-icon-audio-description:before {\n  content: "\\f11d"\n}\n\n.video-js .vjs-audio-button .vjs-icon-placeholder,\n.vjs-icon-audio {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-audio-button .vjs-icon-placeholder:before,\n.vjs-icon-audio:before {\n  content: "\\f11e"\n}\n\n.video-js {\n  display: block;\n  vertical-align: top;\n  box-sizing: border-box;\n  color: #fff;\n  background-color: #000;\n  position: relative;\n  padding: 0;\n  font-size: 10px;\n  line-height: 1;\n  font-weight: 400;\n  font-style: normal;\n  font-family: Arial, Helvetica, sans-serif\n}\n\n.video-js:-moz-full-screen {\n  position: absolute\n}\n\n.video-js:-webkit-full-screen {\n  width: 100% !important;\n  height: 100% !important\n}\n\n.video-js[tabindex="-1"] {\n  outline: 0\n}\n\n.video-js *,\n.video-js :after,\n.video-js :before {\n  box-sizing: inherit\n}\n\n.video-js ul {\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n  list-style-position: outside;\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  margin-bottom: 0\n}\n\n.video-js.vjs-16-9,\n.video-js.vjs-4-3,\n.video-js.vjs-fluid {\n  width: 100%;\n  max-width: 100%;\n  height: 0\n}\n\n.video-js.vjs-16-9 {\n  padding-top: 56.25%\n}\n\n.video-js.vjs-4-3 {\n  padding-top: 75%\n}\n\n.video-js.vjs-fill {\n  width: 100%;\n  height: 100%\n}\n\n.video-js .vjs-tech {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%\n}\n\nbody.vjs-full-window {\n  padding: 0;\n  margin: 0;\n  height: 100%;\n  overflow-y: auto\n}\n\n.vjs-full-window .video-js.vjs-fullscreen {\n  position: fixed;\n  overflow: hidden;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0\n}\n\n.video-js.vjs-fullscreen {\n  width: 100% !important;\n  height: 100% !important;\n  padding-top: 0 !important\n}\n\n.video-js.vjs-fullscreen.vjs-user-inactive {\n  cursor: none\n}\n\n.vjs-hidden {\n  display: none !important\n}\n\n.vjs-disabled {\n  opacity: .5;\n  cursor: default\n}\n\n.video-js .vjs-offscreen {\n  height: 1px;\n  left: -9999px;\n  position: absolute;\n  top: 0;\n  width: 1px\n}\n\n.vjs-lock-showing {\n  display: block !important;\n  opacity: 1;\n  visibility: visible\n}\n\n.vjs-no-js {\n  padding: 20px;\n  color: #fff;\n  background-color: #000;\n  font-size: 18px;\n  font-family: Arial, Helvetica, sans-serif;\n  text-align: center;\n  width: 300px;\n  height: 150px;\n  margin: 0 auto\n}\n\n.vjs-no-js a,\n.vjs-no-js a:visited {\n  color: #66a8cc\n}\n\n.video-js .vjs-big-play-button {\n  font-size: 3em;\n  line-height: 1.5em;\n  height: 1.5em;\n  width: 3em;\n  display: block;\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  padding: 0;\n  cursor: pointer;\n  opacity: 1;\n  border: .06666em solid #fff;\n  background-color: #2b333f;\n  background-color: rgba(43, 51, 63, .7);\n  -webkit-border-radius: .3em;\n  -moz-border-radius: .3em;\n  border-radius: .3em;\n  -webkit-transition: all .4s;\n  -moz-transition: all .4s;\n  -ms-transition: all .4s;\n  -o-transition: all .4s;\n  transition: all .4s\n}\n\n.vjs-big-play-centered .vjs-big-play-button {\n  top: 50%;\n  left: 50%;\n  margin-top: -.75em;\n  margin-left: -1.5em\n}\n\n.video-js .vjs-big-play-button:focus,\n.video-js:hover .vjs-big-play-button {\n  border-color: #fff;\n  background-color: #73859f;\n  background-color: rgba(115, 133, 159, .5);\n  -webkit-transition: all 0s;\n  -moz-transition: all 0s;\n  -ms-transition: all 0s;\n  -o-transition: all 0s;\n  transition: all 0s\n}\n\n.vjs-controls-disabled .vjs-big-play-button,\n.vjs-error .vjs-big-play-button,\n.vjs-has-started .vjs-big-play-button,\n.vjs-using-native-controls .vjs-big-play-button {\n  display: none\n}\n\n.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button {\n  display: block\n}\n\n.video-js button {\n  background: 0 0;\n  border: none;\n  color: inherit;\n  display: inline-block;\n  overflow: visible;\n  font-size: inherit;\n  line-height: inherit;\n  text-transform: none;\n  text-decoration: none;\n  transition: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none\n}\n\n.video-js .vjs-control.vjs-close-button {\n  cursor: pointer;\n  height: 3em;\n  position: absolute;\n  right: 0;\n  top: .5em;\n  z-index: 2\n}\n\n.video-js .vjs-modal-dialog {\n  background: rgba(0, 0, 0, .8);\n  background: -webkit-linear-gradient(-90deg, rgba(0, 0, 0, .8), rgba(255, 255, 255, 0));\n  background: linear-gradient(180deg, rgba(0, 0, 0, .8), rgba(255, 255, 255, 0));\n  overflow: auto;\n  box-sizing: content-box\n}\n\n.video-js .vjs-modal-dialog>* {\n  box-sizing: border-box\n}\n\n.vjs-modal-dialog .vjs-modal-dialog-content {\n  font-size: 1.2em;\n  line-height: 1.5;\n  padding: 20px 24px;\n  z-index: 1\n}\n\n.vjs-menu-button {\n  cursor: pointer\n}\n\n.vjs-menu-button.vjs-disabled {\n  cursor: default\n}\n\n.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu {\n  display: none\n}\n\n.vjs-menu .vjs-menu-content {\n  display: block;\n  padding: 0;\n  margin: 0;\n  font-family: Arial, Helvetica, sans-serif;\n  overflow: auto;\n  box-sizing: content-box\n}\n\n.vjs-menu .vjs-menu-content>* {\n  box-sizing: border-box\n}\n\n.vjs-scrubbing .vjs-menu-button:hover .vjs-menu {\n  display: none\n}\n\n.vjs-menu li {\n  list-style: none;\n  margin: 0;\n  padding: .2em 0;\n  line-height: 1.4em;\n  font-size: 1.2em;\n  text-align: center;\n  text-transform: lowercase\n}\n\n.vjs-menu li.vjs-menu-item:focus,\n.vjs-menu li.vjs-menu-item:hover {\n  background-color: #73859f;\n  background-color: rgba(115, 133, 159, .5)\n}\n\n.vjs-menu li.vjs-selected,\n.vjs-menu li.vjs-selected:focus,\n.vjs-menu li.vjs-selected:hover {\n  background-color: #fff;\n  color: #2b333f\n}\n\n.vjs-menu li.vjs-menu-title {\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 1em;\n  line-height: 2em;\n  padding: 0;\n  margin: 0 0 .3em 0;\n  font-weight: 700;\n  cursor: default\n}\n\n.vjs-menu-button-popup .vjs-menu {\n  display: none;\n  position: absolute;\n  bottom: 0;\n  width: 10em;\n  left: -3em;\n  height: 0;\n  margin-bottom: 1.5em;\n  border-top-color: rgba(43, 51, 63, .7)\n}\n\n.vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  background-color: #2b333f;\n  background-color: rgba(43, 51, 63, .7);\n  position: absolute;\n  width: 100%;\n  bottom: 1.5em;\n  max-height: 15em\n}\n\n.vjs-menu-button-popup .vjs-menu.vjs-lock-showing,\n.vjs-workinghover .vjs-menu-button-popup:hover .vjs-menu {\n  display: block\n}\n\n.video-js .vjs-menu-button-inline {\n  -webkit-transition: all .4s;\n  -moz-transition: all .4s;\n  -ms-transition: all .4s;\n  -o-transition: all .4s;\n  transition: all .4s;\n  overflow: hidden\n}\n\n.video-js .vjs-menu-button-inline:before {\n  width: 2.222222222em\n}\n\n.video-js .vjs-menu-button-inline.vjs-slider-active,\n.video-js .vjs-menu-button-inline:focus,\n.video-js .vjs-menu-button-inline:hover,\n.video-js.vjs-no-flex .vjs-menu-button-inline {\n  width: 12em\n}\n\n.vjs-menu-button-inline .vjs-menu {\n  opacity: 0;\n  height: 100%;\n  width: auto;\n  position: absolute;\n  left: 4em;\n  top: 0;\n  padding: 0;\n  margin: 0;\n  -webkit-transition: all .4s;\n  -moz-transition: all .4s;\n  -ms-transition: all .4s;\n  -o-transition: all .4s;\n  transition: all .4s\n}\n\n.vjs-menu-button-inline.vjs-slider-active .vjs-menu,\n.vjs-menu-button-inline:focus .vjs-menu,\n.vjs-menu-button-inline:hover .vjs-menu {\n  display: block;\n  opacity: 1\n}\n\n.vjs-no-flex .vjs-menu-button-inline .vjs-menu {\n  display: block;\n  opacity: 1;\n  position: relative;\n  width: auto\n}\n\n.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu,\n.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,\n.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu {\n  width: auto\n}\n\n.vjs-menu-button-inline .vjs-menu-content {\n  width: auto;\n  height: 100%;\n  margin: 0;\n  overflow: hidden\n}\n\n.video-js .vjs-control-bar {\n  display: none;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 3em;\n  background-color: #2b333f;\n  background-color: rgba(43, 51, 63, .7)\n}\n\n.vjs-has-started .vjs-control-bar {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  visibility: visible;\n  opacity: 1;\n  -webkit-transition: visibility .1s, opacity .1s;\n  -moz-transition: visibility .1s, opacity .1s;\n  -ms-transition: visibility .1s, opacity .1s;\n  -o-transition: visibility .1s, opacity .1s;\n  transition: visibility .1s, opacity .1s\n}\n\n.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar {\n  visibility: visible;\n  opacity: 0;\n  -webkit-transition: visibility 1s, opacity 1s;\n  -moz-transition: visibility 1s, opacity 1s;\n  -ms-transition: visibility 1s, opacity 1s;\n  -o-transition: visibility 1s, opacity 1s;\n  transition: visibility 1s, opacity 1s\n}\n\n.vjs-controls-disabled .vjs-control-bar,\n.vjs-error .vjs-control-bar,\n.vjs-using-native-controls .vjs-control-bar {\n  display: none !important\n}\n\n.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar {\n  opacity: 1;\n  visibility: visible\n}\n\n.vjs-has-started.vjs-no-flex .vjs-control-bar {\n  display: table\n}\n\n.video-js .vjs-control {\n  position: relative;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  width: 4em;\n  -webkit-box-flex: none;\n  -moz-box-flex: none;\n  -webkit-flex: none;\n  -ms-flex: none;\n  flex: none\n}\n\n.vjs-button>.vjs-icon-placeholder:before {\n  font-size: 1.8em;\n  line-height: 1.67\n}\n\n.video-js .vjs-control:focus,\n.video-js .vjs-control:focus:before,\n.video-js .vjs-control:hover:before {\n  text-shadow: 0 0 1em #fff\n}\n\n.video-js .vjs-control-text {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px\n}\n\n.vjs-no-flex .vjs-control {\n  display: table-cell;\n  vertical-align: middle\n}\n\n.video-js .vjs-custom-control-spacer {\n  display: none\n}\n\n.video-js .vjs-progress-control {\n  cursor: pointer;\n  -webkit-box-flex: auto;\n  -moz-box-flex: auto;\n  -webkit-flex: auto;\n  -ms-flex: auto;\n  flex: auto;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  align-items: center;\n  min-width: 4em\n}\n\n.vjs-live .vjs-progress-control {\n  display: none\n}\n\n.vjs-no-flex .vjs-progress-control {\n  width: auto\n}\n\n.video-js .vjs-progress-holder {\n  -webkit-box-flex: auto;\n  -moz-box-flex: auto;\n  -webkit-flex: auto;\n  -ms-flex: auto;\n  flex: auto;\n  -webkit-transition: all .2s;\n  -moz-transition: all .2s;\n  -ms-transition: all .2s;\n  -o-transition: all .2s;\n  transition: all .2s;\n  height: .3em\n}\n\n.video-js .vjs-progress-control .vjs-progress-holder {\n  margin: 0 10px\n}\n\n.video-js .vjs-progress-control:hover .vjs-progress-holder {\n  font-size: 1.666666666666666666em\n}\n\n.video-js .vjs-progress-holder .vjs-load-progress,\n.video-js .vjs-progress-holder .vjs-load-progress div,\n.video-js .vjs-progress-holder .vjs-play-progress {\n  position: absolute;\n  display: block;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  width: 0;\n  left: 0;\n  top: 0\n}\n\n.video-js .vjs-play-progress {\n  background-color: #fff\n}\n\n.video-js .vjs-play-progress:before {\n  font-size: .9em;\n  position: absolute;\n  right: -.5em;\n  top: -.333333333333333em;\n  z-index: 1\n}\n\n.video-js .vjs-load-progress {\n  background: #bfc7d3;\n  background: rgba(115, 133, 159, .5)\n}\n\n.video-js .vjs-load-progress div {\n  background: #fff;\n  background: rgba(115, 133, 159, .75)\n}\n\n.video-js .vjs-time-tooltip {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, .8);\n  -webkit-border-radius: .3em;\n  -moz-border-radius: .3em;\n  border-radius: .3em;\n  color: #000;\n  float: right;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 1em;\n  padding: 6px 8px 8px 8px;\n  pointer-events: none;\n  position: relative;\n  top: -3.4em;\n  visibility: hidden;\n  z-index: 1\n}\n\n.video-js .vjs-progress-holder:focus .vjs-time-tooltip {\n  display: none\n}\n\n.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip,\n.video-js .vjs-progress-control:hover .vjs-time-tooltip {\n  display: block;\n  font-size: .6em;\n  visibility: visible\n}\n\n.video-js .vjs-progress-control .vjs-mouse-display {\n  display: none;\n  position: absolute;\n  width: 1px;\n  height: 100%;\n  background-color: #000;\n  z-index: 1\n}\n\n.vjs-no-flex .vjs-progress-control .vjs-mouse-display {\n  z-index: 0\n}\n\n.video-js .vjs-progress-control:hover .vjs-mouse-display {\n  display: block\n}\n\n.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display {\n  visibility: hidden;\n  opacity: 0;\n  -webkit-transition: visibility 1s, opacity 1s;\n  -moz-transition: visibility 1s, opacity 1s;\n  -ms-transition: visibility 1s, opacity 1s;\n  -o-transition: visibility 1s, opacity 1s;\n  transition: visibility 1s, opacity 1s\n}\n\n.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display {\n  display: none\n}\n\n.vjs-mouse-display .vjs-time-tooltip {\n  color: #fff;\n  background-color: #000;\n  background-color: rgba(0, 0, 0, .8)\n}\n\n.video-js .vjs-slider {\n  position: relative;\n  cursor: pointer;\n  padding: 0;\n  margin: 0 .45em 0 .45em;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  background-color: #73859f;\n  background-color: rgba(115, 133, 159, .5)\n}\n\n.video-js .vjs-slider:focus {\n  text-shadow: 0 0 1em #fff;\n  -webkit-box-shadow: 0 0 1em #fff;\n  -moz-box-shadow: 0 0 1em #fff;\n  box-shadow: 0 0 1em #fff\n}\n\n.video-js .vjs-mute-control {\n  cursor: pointer;\n  -webkit-box-flex: none;\n  -moz-box-flex: none;\n  -webkit-flex: none;\n  -ms-flex: none;\n  flex: none;\n  padding-left: 2em;\n  padding-right: 2em;\n  padding-bottom: 3em\n}\n\n.video-js .vjs-volume-control {\n  cursor: pointer;\n  margin-right: 1em;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex\n}\n\n.video-js .vjs-volume-control.vjs-volume-horizontal {\n  width: 5em\n}\n\n.video-js .vjs-volume-panel .vjs-volume-control {\n  visibility: visible;\n  opacity: 0;\n  width: 1px;\n  height: 1px;\n  margin-left: -1px\n}\n\n.video-js .vjs-volume-panel {\n  -webkit-transition: width 1s;\n  -moz-transition: width 1s;\n  -ms-transition: width 1s;\n  -o-transition: width 1s;\n  transition: width 1s\n}\n\n.video-js .vjs-volume-panel .vjs-mute-control:active~.vjs-volume-control,\n.video-js .vjs-volume-panel .vjs-mute-control:focus~.vjs-volume-control,\n.video-js .vjs-volume-panel .vjs-mute-control:hover~.vjs-volume-control,\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active,\n.video-js .vjs-volume-panel .vjs-volume-control:active,\n.video-js .vjs-volume-panel .vjs-volume-control:focus,\n.video-js .vjs-volume-panel .vjs-volume-control:hover,\n.video-js .vjs-volume-panel:active .vjs-volume-control,\n.video-js .vjs-volume-panel:focus .vjs-volume-control,\n.video-js .vjs-volume-panel:hover .vjs-volume-control {\n  visibility: visible;\n  opacity: 1;\n  position: relative;\n  -webkit-transition: visibility .1s, opacity .1s, height .1s, width .1s, left 0s, top 0s;\n  -moz-transition: visibility .1s, opacity .1s, height .1s, width .1s, left 0s, top 0s;\n  -ms-transition: visibility .1s, opacity .1s, height .1s, width .1s, left 0s, top 0s;\n  -o-transition: visibility .1s, opacity .1s, height .1s, width .1s, left 0s, top 0s;\n  transition: visibility .1s, opacity .1s, height .1s, width .1s, left 0s, top 0s\n}\n\n.video-js .vjs-volume-panel .vjs-mute-control:active~.vjs-volume-control.vjs-volume-horizontal,\n.video-js .vjs-volume-panel .vjs-mute-control:focus~.vjs-volume-control.vjs-volume-horizontal,\n.video-js .vjs-volume-panel .vjs-mute-control:hover~.vjs-volume-control.vjs-volume-horizontal,\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal,\n.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,\n.video-js .vjs-volume-panel .vjs-volume-control:focus.vjs-volume-horizontal,\n.video-js .vjs-volume-panel .vjs-volume-control:hover.vjs-volume-horizontal,\n.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,\n.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal,\n.video-js .vjs-volume-panel:hover .vjs-volume-control.vjs-volume-horizontal {\n  width: 5em;\n  height: 3em\n}\n\n.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,\n.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active,\n.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:focus,\n.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:hover {\n  width: 9em;\n  -webkit-transition: width .1s;\n  -moz-transition: width .1s;\n  -ms-transition: width .1s;\n  -o-transition: width .1s;\n  transition: width .1s\n}\n\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical {\n  height: 8em;\n  width: 3em;\n  left: -3.5em;\n  -webkit-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s 1s, left 1s 1s, top 1s 1s;\n  -moz-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s 1s, left 1s 1s, top 1s 1s;\n  -ms-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s 1s, left 1s 1s, top 1s 1s;\n  -o-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s 1s, left 1s 1s, top 1s 1s;\n  transition: visibility 1s, opacity 1s, height 1s 1s, width 1s 1s, left 1s 1s, top 1s 1s\n}\n\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal {\n  -webkit-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s, left 1s 1s, top 1s 1s;\n  -moz-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s, left 1s 1s, top 1s 1s;\n  -ms-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s, left 1s 1s, top 1s 1s;\n  -o-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s, left 1s 1s, top 1s 1s;\n  transition: visibility 1s, opacity 1s, height 1s 1s, width 1s, left 1s 1s, top 1s 1s\n}\n\n.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal {\n  width: 5em;\n  height: 3em;\n  visibility: visible;\n  opacity: 1;\n  position: relative;\n  -webkit-transition: none;\n  -moz-transition: none;\n  -ms-transition: none;\n  -o-transition: none;\n  transition: none\n}\n\n.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,\n.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical {\n  position: absolute;\n  bottom: 3em;\n  left: .5em\n}\n\n.video-js .vjs-volume-panel {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex\n}\n\n.video-js .vjs-volume-bar {\n  margin: 1.35em .45em\n}\n\n.vjs-volume-bar.vjs-slider-horizontal {\n  width: 5em;\n  height: .3em\n}\n\n.vjs-volume-bar.vjs-slider-vertical {\n  width: .3em;\n  height: 5em;\n  margin: 1.35em auto\n}\n\n.video-js .vjs-volume-level {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background-color: #fff\n}\n\n.video-js .vjs-volume-level:before {\n  position: absolute;\n  font-size: .9em\n}\n\n.vjs-slider-vertical .vjs-volume-level {\n  width: .3em\n}\n\n.vjs-slider-vertical .vjs-volume-level:before {\n  top: -.5em;\n  left: -.3em\n}\n\n.vjs-slider-horizontal .vjs-volume-level {\n  height: .3em\n}\n\n.vjs-slider-horizontal .vjs-volume-level:before {\n  top: -.3em;\n  right: -.5em\n}\n\n.video-js .vjs-volume-panel.vjs-volume-panel-vertical {\n  width: 4em\n}\n\n.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level {\n  height: 100%\n}\n\n.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level {\n  width: 100%\n}\n\n.video-js .vjs-volume-vertical {\n  width: 3em;\n  height: 8em;\n  bottom: 8em;\n  background-color: #2b333f;\n  background-color: rgba(43, 51, 63, .7)\n}\n\n.video-js .vjs-volume-horizontal .vjs-menu {\n  left: -2em\n}\n\n.vjs-poster {\n  display: inline-block;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-size: contain;\n  background-color: #000;\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: 100%\n}\n\n.vjs-poster img {\n  display: block;\n  vertical-align: middle;\n  margin: 0 auto;\n  max-height: 100%;\n  padding: 0;\n  width: 100%\n}\n\n.vjs-has-started .vjs-poster {\n  display: none\n}\n\n.vjs-audio.vjs-has-started .vjs-poster {\n  display: block\n}\n\n.vjs-using-native-controls .vjs-poster {\n  display: none\n}\n\n.video-js .vjs-live-control {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: flex-start;\n  -webkit-align-items: flex-start;\n  -ms-flex-align: flex-start;\n  align-items: flex-start;\n  -webkit-box-flex: auto;\n  -moz-box-flex: auto;\n  -webkit-flex: auto;\n  -ms-flex: auto;\n  flex: auto;\n  font-size: 1em;\n  line-height: 3em\n}\n\n.vjs-no-flex .vjs-live-control {\n  display: table-cell;\n  width: auto;\n  text-align: left\n}\n\n.video-js .vjs-time-control {\n  -webkit-box-flex: none;\n  -moz-box-flex: none;\n  -webkit-flex: none;\n  -ms-flex: none;\n  flex: none;\n  font-size: 1em;\n  line-height: 3em;\n  min-width: 2em;\n  width: auto;\n  padding-left: 1em;\n  padding-right: 1em\n}\n\n.vjs-live .vjs-time-control {\n  display: none\n}\n\n.video-js .vjs-current-time,\n.vjs-no-flex .vjs-current-time {\n  display: none\n}\n\n.vjs-no-flex .vjs-remaining-time.vjs-time-control.vjs-control {\n  width: 0 !important;\n  white-space: nowrap\n}\n\n.video-js .vjs-duration,\n.vjs-no-flex .vjs-duration {\n  display: none\n}\n\n.vjs-time-divider {\n  display: none;\n  line-height: 3em\n}\n\n.vjs-live .vjs-time-divider {\n  display: none\n}\n\n.video-js .vjs-play-control .vjs-icon-placeholder {\n  cursor: pointer;\n  -webkit-box-flex: none;\n  -moz-box-flex: none;\n  -webkit-flex: none;\n  -ms-flex: none;\n  flex: none\n}\n\n.vjs-text-track-display {\n  position: absolute;\n  bottom: 3em;\n  left: 0;\n  right: 0;\n  top: 0;\n  pointer-events: none\n}\n\n.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display {\n  bottom: 1em\n}\n\n.video-js .vjs-text-track {\n  font-size: 1.4em;\n  text-align: center;\n  margin-bottom: .1em;\n  background-color: #000;\n  background-color: rgba(0, 0, 0, .5)\n}\n\n.vjs-subtitles {\n  color: #fff\n}\n\n.vjs-captions {\n  color: #fc6\n}\n\n.vjs-tt-cue {\n  display: block\n}\n\nvideo::-webkit-media-text-track-display {\n  -moz-transform: translateY(-3em);\n  -ms-transform: translateY(-3em);\n  -o-transform: translateY(-3em);\n  -webkit-transform: translateY(-3em);\n  transform: translateY(-3em)\n}\n\n.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display {\n  -moz-transform: translateY(-1.5em);\n  -ms-transform: translateY(-1.5em);\n  -o-transform: translateY(-1.5em);\n  -webkit-transform: translateY(-1.5em);\n  transform: translateY(-1.5em)\n}\n\n.video-js .vjs-fullscreen-control {\n  cursor: pointer;\n  -webkit-box-flex: none;\n  -moz-box-flex: none;\n  -webkit-flex: none;\n  -ms-flex: none;\n  flex: none\n}\n\n.vjs-playback-rate .vjs-playback-rate-value,\n.vjs-playback-rate>.vjs-menu-button {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%\n}\n\n.vjs-playback-rate .vjs-playback-rate-value {\n  pointer-events: none;\n  font-size: 1.5em;\n  line-height: 2;\n  text-align: center\n}\n\n.vjs-playback-rate .vjs-menu {\n  width: 4em;\n  left: 0\n}\n\n.vjs-error .vjs-error-display .vjs-modal-dialog-content {\n  font-size: 1.4em;\n  text-align: center\n}\n\n.vjs-error .vjs-error-display:before {\n  color: #fff;\n  content: \'X\';\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 4em;\n  left: 0;\n  line-height: 1;\n  margin-top: -.5em;\n  position: absolute;\n  text-shadow: .05em .05em .1em #000;\n  text-align: center;\n  top: 50%;\n  vertical-align: middle;\n  width: 100%\n}\n\n.vjs-loading-spinner {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n  opacity: .85;\n  text-align: left;\n  border: 6px solid rgba(43, 51, 63, .7);\n  box-sizing: border-box;\n  background-clip: padding-box;\n  width: 50px;\n  height: 50px;\n  border-radius: 25px\n}\n\n.vjs-seeking .vjs-loading-spinner,\n.vjs-waiting .vjs-loading-spinner {\n  display: block\n}\n\n.vjs-loading-spinner:after,\n.vjs-loading-spinner:before {\n  content: "";\n  position: absolute;\n  margin: -6px;\n  box-sizing: inherit;\n  width: inherit;\n  height: inherit;\n  border-radius: inherit;\n  opacity: 1;\n  border: inherit;\n  border-color: transparent;\n  border-top-color: #fff\n}\n\n.vjs-seeking .vjs-loading-spinner:after,\n.vjs-seeking .vjs-loading-spinner:before,\n.vjs-waiting .vjs-loading-spinner:after,\n.vjs-waiting .vjs-loading-spinner:before {\n  -webkit-animation: vjs-spinner-spin 1.1s cubic-bezier(.6, .2, 0, .8) infinite, vjs-spinner-fade 1.1s linear infinite;\n  animation: vjs-spinner-spin 1.1s cubic-bezier(.6, .2, 0, .8) infinite, vjs-spinner-fade 1.1s linear infinite\n}\n\n.vjs-seeking .vjs-loading-spinner:before,\n.vjs-waiting .vjs-loading-spinner:before {\n  border-top-color: #fff\n}\n\n.vjs-seeking .vjs-loading-spinner:after,\n.vjs-waiting .vjs-loading-spinner:after {\n  border-top-color: #fff;\n  -webkit-animation-delay: .44s;\n  animation-delay: .44s\n}\n\n@keyframes vjs-spinner-spin {\n  100% {\n    transform: rotate(360deg)\n  }\n}\n\n@-webkit-keyframes vjs-spinner-spin {\n  100% {\n    -webkit-transform: rotate(360deg)\n  }\n}\n\n@keyframes vjs-spinner-fade {\n  0% {\n    border-top-color: #73859f\n  }\n\n  20% {\n    border-top-color: #73859f\n  }\n\n  35% {\n    border-top-color: #fff\n  }\n\n  60% {\n    border-top-color: #73859f\n  }\n\n  100% {\n    border-top-color: #73859f\n  }\n}\n\n@-webkit-keyframes vjs-spinner-fade {\n  0% {\n    border-top-color: #73859f\n  }\n\n  20% {\n    border-top-color: #73859f\n  }\n\n  35% {\n    border-top-color: #fff\n  }\n\n  60% {\n    border-top-color: #73859f\n  }\n\n  100% {\n    border-top-color: #73859f\n  }\n}\n\n.vjs-chapters-button .vjs-menu ul {\n  width: 24em\n}\n\n.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder {\n  position: absolute\n}\n\n.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before {\n  font-family: VideoJS;\n  content: "\\f10d";\n  font-size: 1.5em;\n  line-height: inherit\n}\n\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-custom-control-spacer {\n  -webkit-box-flex: auto;\n  -moz-box-flex: auto;\n  -webkit-flex: auto;\n  -ms-flex: auto;\n  flex: auto\n}\n\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen).vjs-no-flex .vjs-custom-control-spacer {\n  width: auto\n}\n\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-audio-button,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-captions-button,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-chapters-button,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-current-time,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-descriptions-button,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-duration,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-mute-control,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-playback-rate,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-progress-control,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-remaining-time,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-subtitles-button,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-time-divider,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-volume-control {\n  display: none\n}\n\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-audio-button,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-captions-button,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-chapters-button,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-current-time,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-descriptions-button,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-duration,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-mute-control,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-playback-rate,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-remaining-time,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-subtitles-button,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-time-divider,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-volume-control {\n  display: none\n}\n\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-captions-button,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-chapters-button,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-current-time,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-descriptions-button,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-duration,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-mute-control,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-playback-rate,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-remaining-time,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-subtitles-button .vjs-audio-button,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-time-divider,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-volume-control {\n  display: none\n}\n\n.vjs-modal-dialog.vjs-text-track-settings {\n  background-color: #2b333f;\n  background-color: rgba(43, 51, 63, .75);\n  color: #fff;\n  height: 70%\n}\n\n.vjs-text-track-settings .vjs-modal-dialog-content {\n  display: table\n}\n\n.vjs-text-track-settings .vjs-track-settings-colors,\n.vjs-text-track-settings .vjs-track-settings-controls,\n.vjs-text-track-settings .vjs-track-settings-font {\n  display: table-cell\n}\n\n.vjs-text-track-settings .vjs-track-settings-controls {\n  text-align: right;\n  vertical-align: bottom\n}\n\n.vjs-text-track-settings fieldset {\n  margin: 5px;\n  padding: 3px;\n  border: none\n}\n\n.vjs-text-track-settings fieldset span {\n  display: inline-block;\n  margin-left: 5px\n}\n\n.vjs-text-track-settings legend {\n  color: #fff;\n  margin: 0 0 5px 0\n}\n\n.vjs-text-track-settings .vjs-label {\n  position: absolute;\n  clip: rect(1px 1px 1px 1px);\n  clip: rect(1px, 1px, 1px, 1px);\n  display: block;\n  margin: 0 0 5px 0;\n  padding: 0;\n  border: 0;\n  height: 1px;\n  width: 1px;\n  overflow: hidden\n}\n\n.vjs-track-settings-controls button:active,\n.vjs-track-settings-controls button:focus {\n  outline-style: solid;\n  outline-width: medium;\n  background-image: linear-gradient(0deg, #fff 88%, #73859f 100%)\n}\n\n.vjs-track-settings-controls button:hover {\n  color: rgba(43, 51, 63, .75)\n}\n\n.vjs-track-settings-controls button {\n  background-color: #fff;\n  background-image: linear-gradient(-180deg, #fff 88%, #73859f 100%);\n  color: #2b333f;\n  cursor: pointer;\n  border-radius: 2px\n}\n\n.vjs-track-settings-controls .vjs-default-button {\n  margin-right: 1em\n}\n\n.video-js, .video-player {\n  width: 100% !important;\n  height: 100% !important;\n}\n\n@media print {\n  .video-js>:not(.vjs-tech):not(.vjs-poster) {\n    visibility: hidden\n  }\n}\n\n@media \\0screen {\n  .vjs-user-inactive.vjs-playing .vjs-control-bar :before {\n    content: ""\n  }\n}\n\n@media \\0screen {\n  .vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar {\n    visibility: hidden\n  }\n}\n\n\n.video-player .vjs-error .vjs-error-display:before {\n  content: \'\' !important;\n}',"",{version:3,sources:["webpack://./src/components/css/video-js.css"],names:[],mappings:"AAAA;;;;EAIE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX;AACF;;AAEA;;EAEE;AACF;;CAEC;EACC,oBAAoB;EACpB,6DAA6D;EAC7D;AACF;;AAEA;EACE,oBAAoB;EACpB;2iPACyiP;EACziP,gBAAgB;EAChB;AACF;;AAEA;;;EAGE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;;EAGE;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;EACE;AACF;;AAEA;;EAEE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;EAEE;AACF;;AAEA;;EAEE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;EAEE;AACF;;AAEA;;EAEE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;EAEE;AACF;;AAEA;;EAEE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;EAEE;AACF;;AAEA;;EAEE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;EAEE;AACF;;AAEA;;EAEE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;EAEE,qBAAqB;EACrB;AACF;;AAEA;;EAEE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;EAEE;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;EACE;AACF;;AAEA;;;;;;;EAOE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;;;;;;EAOE;AACF;;AAEA;;;;EAIE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;;;EAIE;AACF;;AAEA;;EAEE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;EAEE;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;EACE;AACF;;AAEA;;;EAGE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;;EAGE;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;EACE;AACF;;AAEA;;EAEE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;EAEE;AACF;;AAEA;;EAEE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;EAEE;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;EACE;AACF;;AAEA;;EAEE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;EAEE;AACF;;AAEA;;EAEE,oBAAoB;EACpB,gBAAgB;EAChB;AACF;;AAEA;;EAEE;AACF;;AAEA;EACE,cAAc;EACd,mBAAmB;EACnB,sBAAsB;EACtB,WAAW;EACX,sBAAsB;EACtB,kBAAkB;EAClB,UAAU;EACV,eAAe;EACf,cAAc;EACd,gBAAgB;EAChB,kBAAkB;EAClB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,sBAAsB;EACtB;AACF;;AAEA;EACE;AACF;;AAEA;;;EAGE;AACF;;AAEA;EACE,oBAAoB;EACpB,kBAAkB;EAClB,oBAAoB;EACpB,4BAA4B;EAC5B,cAAc;EACd,eAAe;EACf,aAAa;EACb;AACF;;AAEA;;;EAGE,WAAW;EACX,eAAe;EACf;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE,WAAW;EACX;AACF;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX;AACF;;AAEA;EACE,UAAU;EACV,SAAS;EACT,YAAY;EACZ;AACF;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,aAAa;EACb,OAAO;EACP,MAAM;EACN,SAAS;EACT;AACF;;AAEA;EACE,sBAAsB;EACtB,uBAAuB;EACvB;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE,WAAW;EACX;AACF;;AAEA;EACE,WAAW;EACX,aAAa;EACb,kBAAkB;EAClB,MAAM;EACN;AACF;;AAEA;EACE,yBAAyB;EACzB,UAAU;EACV;AACF;;AAEA;EACE,aAAa;EACb,WAAW;EACX,sBAAsB;EACtB,eAAe;EACf,yCAAyC;EACzC,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb;AACF;;AAEA;;EAEE;AACF;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,aAAa;EACb,UAAU;EACV,cAAc;EACd,kBAAkB;EAClB,SAAS;EACT,UAAU;EACV,UAAU;EACV,eAAe;EACf,UAAU;EACV,2BAA2B;EAC3B,yBAAyB;EACzB,sCAAsC;EACtC,2BAA2B;EAC3B,wBAAwB;EACxB,mBAAmB;EACnB,2BAA2B;EAC3B,wBAAwB;EACxB,uBAAuB;EACvB,sBAAsB;EACtB;AACF;;AAEA;EACE,QAAQ;EACR,SAAS;EACT,kBAAkB;EAClB;AACF;;AAEA;;EAEE,kBAAkB;EAClB,yBAAyB;EACzB,yCAAyC;EACzC,0BAA0B;EAC1B,uBAAuB;EACvB,sBAAsB;EACtB,qBAAqB;EACrB;AACF;;AAEA;;;;EAIE;AACF;;AAEA;EACE;AACF;;AAEA;EACE,eAAe;EACf,YAAY;EACZ,cAAc;EACd,qBAAqB;EACrB,iBAAiB;EACjB,kBAAkB;EAClB,oBAAoB;EACpB,oBAAoB;EACpB,qBAAqB;EACrB,gBAAgB;EAChB,wBAAwB;EACxB,qBAAqB;EACrB;AACF;;AAEA;EACE,eAAe;EACf,WAAW;EACX,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT;AACF;;AAEA;EACE,6BAA6B;EAC7B,sFAAsF;EACtF,8EAA8E;EAC9E,cAAc;EACd;AACF;;AAEA;EACE;AACF;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;EAChB,kBAAkB;EAClB;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE,cAAc;EACd,UAAU;EACV,SAAS;EACT,yCAAyC;EACzC,cAAc;EACd;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE,gBAAgB;EAChB,SAAS;EACT,eAAe;EACf,kBAAkB;EAClB,gBAAgB;EAChB,kBAAkB;EAClB;AACF;;AAEA;;EAEE,yBAAyB;EACzB;AACF;;AAEA;;;EAGE,sBAAsB;EACtB;AACF;;AAEA;EACE,kBAAkB;EAClB,yBAAyB;EACzB,cAAc;EACd,gBAAgB;EAChB,UAAU;EACV,kBAAkB;EAClB,gBAAgB;EAChB;AACF;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,SAAS;EACT,WAAW;EACX,UAAU;EACV,SAAS;EACT,oBAAoB;EACpB;AACF;;AAEA;EACE,yBAAyB;EACzB,sCAAsC;EACtC,kBAAkB;EAClB,WAAW;EACX,aAAa;EACb;AACF;;AAEA;;EAEE;AACF;;AAEA;EACE,2BAA2B;EAC3B,wBAAwB;EACxB,uBAAuB;EACvB,sBAAsB;EACtB,mBAAmB;EACnB;AACF;;AAEA;EACE;AACF;;AAEA;;;;EAIE;AACF;;AAEA;EACE,UAAU;EACV,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,SAAS;EACT,MAAM;EACN,UAAU;EACV,SAAS;EACT,2BAA2B;EAC3B,wBAAwB;EACxB,uBAAuB;EACvB,sBAAsB;EACtB;AACF;;AAEA;;;EAGE,cAAc;EACd;AACF;;AAEA;EACE,cAAc;EACd,UAAU;EACV,kBAAkB;EAClB;AACF;;AAEA;;;EAGE;AACF;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,SAAS;EACT;AACF;;AAEA;EACE,aAAa;EACb,WAAW;EACX,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,QAAQ;EACR,WAAW;EACX,yBAAyB;EACzB;AACF;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,oBAAoB;EACpB,aAAa;EACb,mBAAmB;EACnB,UAAU;EACV,+CAA+C;EAC/C,4CAA4C;EAC5C,2CAA2C;EAC3C,0CAA0C;EAC1C;AACF;;AAEA;EACE,mBAAmB;EACnB,UAAU;EACV,6CAA6C;EAC7C,0CAA0C;EAC1C,yCAAyC;EACzC,wCAAwC;EACxC;AACF;;AAEA;;;EAGE;AACF;;AAEA;EACE,UAAU;EACV;AACF;;AAEA;EACE;AACF;;AAEA;EACE,kBAAkB;EAClB,kBAAkB;EAClB,SAAS;EACT,UAAU;EACV,YAAY;EACZ,UAAU;EACV,sBAAsB;EACtB,mBAAmB;EACnB,kBAAkB;EAClB,cAAc;EACd;AACF;;AAEA;EACE,gBAAgB;EAChB;AACF;;AAEA;;;EAGE;AACF;;AAEA;EACE,SAAS;EACT,mBAAmB;EACnB,WAAW;EACX,gBAAgB;EAChB,UAAU;EACV,kBAAkB;EAClB;AACF;;AAEA;EACE,mBAAmB;EACnB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,eAAe;EACf,sBAAsB;EACtB,mBAAmB;EACnB,kBAAkB;EAClB,cAAc;EACd,UAAU;EACV,oBAAoB;EACpB,qBAAqB;EACrB,oBAAoB;EACpB,aAAa;EACb,yBAAyB;EACzB,2BAA2B;EAC3B,sBAAsB;EACtB,mBAAmB;EACnB;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE,sBAAsB;EACtB,mBAAmB;EACnB,kBAAkB;EAClB,cAAc;EACd,UAAU;EACV,2BAA2B;EAC3B,wBAAwB;EACxB,uBAAuB;EACvB,sBAAsB;EACtB,mBAAmB;EACnB;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;;;EAGE,kBAAkB;EAClB,cAAc;EACd,YAAY;EACZ,SAAS;EACT,UAAU;EACV,QAAQ;EACR,OAAO;EACP;AACF;;AAEA;EACE;AACF;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,YAAY;EACZ,wBAAwB;EACxB;AACF;;AAEA;EACE,mBAAmB;EACnB;AACF;;AAEA;EACE,gBAAgB;EAChB;AACF;;AAEA;EACE,sBAAsB;EACtB,yCAAyC;EACzC,2BAA2B;EAC3B,wBAAwB;EACxB,mBAAmB;EACnB,WAAW;EACX,YAAY;EACZ,yCAAyC;EACzC,cAAc;EACd,wBAAwB;EACxB,oBAAoB;EACpB,kBAAkB;EAClB,WAAW;EACX,kBAAkB;EAClB;AACF;;AAEA;EACE;AACF;;AAEA;;EAEE,cAAc;EACd,eAAe;EACf;AACF;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,UAAU;EACV,YAAY;EACZ,sBAAsB;EACtB;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,6CAA6C;EAC7C,0CAA0C;EAC1C,yCAAyC;EACzC,wCAAwC;EACxC;AACF;;AAEA;EACE;AACF;;AAEA;EACE,WAAW;EACX,sBAAsB;EACtB;AACF;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,UAAU;EACV,uBAAuB;EACvB,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;EACjB,yBAAyB;EACzB;AACF;;AAEA;EACE,yBAAyB;EACzB,gCAAgC;EAChC,6BAA6B;EAC7B;AACF;;AAEA;EACE,eAAe;EACf,sBAAsB;EACtB,mBAAmB;EACnB,kBAAkB;EAClB,cAAc;EACd,UAAU;EACV,iBAAiB;EACjB,kBAAkB;EAClB;AACF;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,oBAAoB;EACpB,qBAAqB;EACrB,oBAAoB;EACpB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,mBAAmB;EACnB,UAAU;EACV,UAAU;EACV,WAAW;EACX;AACF;;AAEA;EACE,4BAA4B;EAC5B,yBAAyB;EACzB,wBAAwB;EACxB,uBAAuB;EACvB;AACF;;AAEA;;;;;;;;;;EAUE,mBAAmB;EACnB,UAAU;EACV,kBAAkB;EAClB,uFAAuF;EACvF,oFAAoF;EACpF,mFAAmF;EACnF,kFAAkF;EAClF;AACF;;AAEA;;;;;;;;;;EAUE,UAAU;EACV;AACF;;AAEA;;;;EAIE,UAAU;EACV,6BAA6B;EAC7B,0BAA0B;EAC1B,yBAAyB;EACzB,wBAAwB;EACxB;AACF;;AAEA;EACE,WAAW;EACX,UAAU;EACV,YAAY;EACZ,+FAA+F;EAC/F,4FAA4F;EAC5F,2FAA2F;EAC3F,0FAA0F;EAC1F;AACF;;AAEA;EACE,4FAA4F;EAC5F,yFAAyF;EACzF,wFAAwF;EACxF,uFAAuF;EACvF;AACF;;AAEA;EACE,UAAU;EACV,WAAW;EACX,mBAAmB;EACnB,UAAU;EACV,kBAAkB;EAClB,wBAAwB;EACxB,qBAAqB;EACrB,oBAAoB;EACpB,mBAAmB;EACnB;AACF;;AAEA;;EAEE,kBAAkB;EAClB,WAAW;EACX;AACF;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,oBAAoB;EACpB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,UAAU;EACV;AACF;;AAEA;EACE,WAAW;EACX,WAAW;EACX;AACF;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP;AACF;;AAEA;EACE,kBAAkB;EAClB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,UAAU;EACV;AACF;;AAEA;EACE;AACF;;AAEA;EACE,UAAU;EACV;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE,UAAU;EACV,WAAW;EACX,WAAW;EACX,yBAAyB;EACzB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,qBAAqB;EACrB,sBAAsB;EACtB,4BAA4B;EAC5B,4BAA4B;EAC5B,wBAAwB;EACxB,sBAAsB;EACtB,eAAe;EACf,SAAS;EACT,UAAU;EACV,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP;AACF;;AAEA;EACE,cAAc;EACd,sBAAsB;EACtB,cAAc;EACd,gBAAgB;EAChB,UAAU;EACV;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,oBAAoB;EACpB,aAAa;EACb,6BAA6B;EAC7B,+BAA+B;EAC/B,0BAA0B;EAC1B,uBAAuB;EACvB,sBAAsB;EACtB,mBAAmB;EACnB,kBAAkB;EAClB,cAAc;EACd,UAAU;EACV,cAAc;EACd;AACF;;AAEA;EACE,mBAAmB;EACnB,WAAW;EACX;AACF;;AAEA;EACE,sBAAsB;EACtB,mBAAmB;EACnB,kBAAkB;EAClB,cAAc;EACd,UAAU;EACV,cAAc;EACd,gBAAgB;EAChB,cAAc;EACd,WAAW;EACX,iBAAiB;EACjB;AACF;;AAEA;EACE;AACF;;AAEA;;EAEE;AACF;;AAEA;EACE,mBAAmB;EACnB;AACF;;AAEA;;EAEE;AACF;;AAEA;EACE,aAAa;EACb;AACF;;AAEA;EACE;AACF;;AAEA;EACE,eAAe;EACf,sBAAsB;EACtB,mBAAmB;EACnB,kBAAkB;EAClB,cAAc;EACd;AACF;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,OAAO;EACP,QAAQ;EACR,MAAM;EACN;AACF;;AAEA;EACE;AACF;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,mBAAmB;EACnB,sBAAsB;EACtB;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE,gCAAgC;EAChC,+BAA+B;EAC/B,8BAA8B;EAC9B,mCAAmC;EACnC;AACF;;AAEA;EACE,kCAAkC;EAClC,iCAAiC;EACjC,gCAAgC;EAChC,qCAAqC;EACrC;AACF;;AAEA;EACE,eAAe;EACf,sBAAsB;EACtB,mBAAmB;EACnB,kBAAkB;EAClB,cAAc;EACd;AACF;;AAEA;;EAEE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB,cAAc;EACd;AACF;;AAEA;EACE,UAAU;EACV;AACF;;AAEA;EACE,gBAAgB;EAChB;AACF;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,yCAAyC;EACzC,cAAc;EACd,OAAO;EACP,cAAc;EACd,iBAAiB;EACjB,kBAAkB;EAClB,kCAAkC;EAClC,kBAAkB;EAClB,QAAQ;EACR,sBAAsB;EACtB;AACF;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,uBAAuB;EACvB,YAAY;EACZ,gBAAgB;EAChB,sCAAsC;EACtC,sBAAsB;EACtB,4BAA4B;EAC5B,WAAW;EACX,YAAY;EACZ;AACF;;AAEA;;EAEE;AACF;;AAEA;;EAEE,WAAW;EACX,kBAAkB;EAClB,YAAY;EACZ,mBAAmB;EACnB,cAAc;EACd,eAAe;EACf,sBAAsB;EACtB,UAAU;EACV,eAAe;EACf,yBAAyB;EACzB;AACF;;AAEA;;;;EAIE,oHAAoH;EACpH;AACF;;AAEA;;EAEE;AACF;;AAEA;;EAEE,sBAAsB;EACtB,6BAA6B;EAC7B;AACF;;AAEA;EACE;IACE;EACF;AACF;;AAEA;EACE;IACE;EACF;AACF;;AAEA;EACE;IACE;EACF;;EAEA;IACE;EACF;;EAEA;IACE;EACF;;EAEA;IACE;EACF;;EAEA;IACE;EACF;AACF;;AAEA;EACE;IACE;EACF;;EAEA;IACE;EACF;;EAEA;IACE;EACF;;EAEA;IACE;EACF;;EAEA;IACE;EACF;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB,gBAAgB;EAChB;AACF;;AAEA;EACE,sBAAsB;EACtB,mBAAmB;EACnB,kBAAkB;EAClB,cAAc;EACd;AACF;;AAEA;EACE;AACF;;AAEA;;;;;;;;;;;;;EAaE;AACF;;AAEA;;;;;;;;;;;;EAYE;AACF;;AAEA;;;;;;;;;;;EAWE;AACF;;AAEA;EACE,yBAAyB;EACzB,uCAAuC;EACvC,WAAW;EACX;AACF;;AAEA;EACE;AACF;;AAEA;;;EAGE;AACF;;AAEA;EACE,iBAAiB;EACjB;AACF;;AAEA;EACE,WAAW;EACX,YAAY;EACZ;AACF;;AAEA;EACE,qBAAqB;EACrB;AACF;;AAEA;EACE,WAAW;EACX;AACF;;AAEA;EACE,kBAAkB;EAClB,2BAA2B;EAC3B,8BAA8B;EAC9B,cAAc;EACd,iBAAiB;EACjB,UAAU;EACV,SAAS;EACT,WAAW;EACX,UAAU;EACV;AACF;;AAEA;;EAEE,oBAAoB;EACpB,qBAAqB;EACrB;AACF;;AAEA;EACE;AACF;;AAEA;EACE,sBAAsB;EACtB,kEAAkE;EAClE,cAAc;EACd,eAAe;EACf;AACF;;AAEA;EACE;AACF;;AAEA;EACE,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE;IACE;EACF;AACF;;AAEA;EACE;IACE;EACF;AACF;;AAEA;EACE;IACE;EACF;AACF;;;AAGA;EACE,sBAAsB;AACxB",sourcesContent:['.video-js .vjs-big-play-button .vjs-icon-placeholder:before,\n.video-js .vjs-modal-dialog,\n.vjs-button>.vjs-icon-placeholder:before,\n.vjs-modal-dialog .vjs-modal-dialog-content {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%\n}\n\n.video-js .vjs-big-play-button .vjs-icon-placeholder:before,\n.vjs-button>.vjs-icon-placeholder:before {\n  text-align: center\n}\n\n @font-face {\n  font-family: VideoJS;\n  /* src: url(../font/2.0.0/VideoJS.eot?#iefix) format("eot") */\n  src: url(./iconfont.ttf)\n}\n\n@font-face {\n  font-family: VideoJS;\n  src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAA54AAoAAAAAFmgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAAA9AAAAD4AAABWUZFeBWNtYXAAAAE0AAAAOgAAAUriMBC2Z2x5ZgAAAXAAAAouAAAPUFvx6AdoZWFkAAALoAAAACsAAAA2DIPpX2hoZWEAAAvMAAAAGAAAACQOogcgaG10eAAAC+QAAAAPAAAAfNkAAABsb2NhAAAL9AAAAEAAAABAMMg06m1heHAAAAw0AAAAHwAAACABMAB5bmFtZQAADFQAAAElAAACCtXH9aBwb3N0AAANfAAAAPwAAAGBZkSN43icY2BkZ2CcwMDKwMFSyPKMgYHhF4RmjmEIZzzHwMDEwMrMgBUEpLmmMDh8ZPwoxw7iLmSHCDOCCADvEAo+AAB4nGNgYGBmgGAZBkYGEHAB8hjBfBYGDSDNBqQZGZgYGD7K/f8PUvCREUTzM0DVAwEjG8OIBwCPdwbVAAB4nI1Xe1CU1xX/zv1eLItLln0JwrIfC7sJGET2hRJ2N1GUoBJE8AESQEEhmBHjaB7UuBMTO4GMaSu7aY3RNlOdRPNqO2pqRmuTaSZtR6JJILUZk00a/4imjpmiecB303O/XUgMJOPufvd+99xzzz33nN855y4HHH7EfrGfIxwHRiANvF/sH71I9BzHszmpW+rGOQOXxXE6YhI4PoMT8zkT4cDFuf1cwMrZJI5cglM0HKVv0MaUFDgIFfg9mJJCG+kbKn1JkqBOVaFOkuhLpARq8fu0Nnc9/zdvfY9PxXW4PdH0C6N+PCejhorxFjAqRjgFRXSINEARbBGsoxcFK7IJmr4OycFJnInL59zIXwxui80fkGRbEHyosMWaATJKUfCskmwJQsAWANkmnIGOhlf514h7U8HNIv3owoHB0WMt0Eb3sx0guLi5pq/8Ny1q6969fKR9X9GBV6dPv6dp04K99SOwtmyPl47ApRa6n4ZpP1yjr5fn7MmYP/vXLUJs715UguklHBaHOZHZmG1N9FAIW2mf0MqWCIdo/8RZ1yGfxKUldDcGIbFA7ICO+vqOMSPTh/ZrSqgHi/bB/O8E8Mnzp+M+acxfpsTShBwej26TiGxBn7m4eEIO+Rueu6Hj+IFBnh88cAEUEQ//nVLx5C7kf+yIR47QEe+eMlhz9SqsGbe3hh2R03NGzoY6O42Kz8l7fB6fAk6LYnTyFo/FYyT6GGyNx2Jx2sdH4rA1Fo/HyCXaFyOp8dhYBCfJb2NIn1ImE6CYNGmgSTb52DawJR6jfXEmDU4xyTEmpgHHOIStoxfjSGdkbsK2w2jbdMQG4sgAstEONgURYCwGHhEhhscioQaAhhCf7McifEQc0l6+mxj9nI+gmSdiQ0Zbm7gZnIO7GSMEXG6UDAVocxAV8GcEXCKg1a02RcTtwANWRGIAyElor6n/+ZU2yOB3+T77Hb1MLqhn4KHVnQBjJnqe9QZSon6Kc5DxAD2vMdPL/BXSmQGwspa67z9wLUjdi9TN7QC7lyyBr9rpt7uXVC1CMpyjKRoXnGPHTuiaPLsNdc2dbAFQLAooPkXEh33FodHl4XpC6sPCIa0ftUIhHSYXVSu5iME+DIXsbZJ51BeidCgajcai43jU9nVzoSn2dPqcFvSoxSzJzgRKAx47WMRxOrIj3Wf0+hndxhJTiOkSEqxar3b3RKM9hY64oxBA64ieURLvCfpkDb8siBdUJ1bgT+urJ5PGfewQrmm5R5+0HmfyIPySD7OYkT0WxRePah8oEiyjlxIP74thVoRTURpmL6QhGuWS+QDjdANXjIM8SQa/1w128ODx0Qp4aLMNg9+JL3joUn8AMxW+aLNiuKjarn4uyyTdXjOzZTsh21uwldUvJoYza+zELALfu3p1L8/3krtyZ0Ag058J3hxHghvbGZn0dHZy6Mim/7Blre4lpHd1c28yVqRViO153F2oIWoXCIKbL4Z0cM1iaQn9mI5KuV2SzEvWXJDMNtkANpMdQoDDhIdD4A/YrP6Aye9ysxyE+uOEAcTDorgvVZJjcua043PnZ/PmdDqcbibZlXOOT8uSo7Kof0YUn9GL+Jo17ficymxiTofC6znUso0DhAxs1Fo+kF+d36vLmgZ8mk5cdGv2mwYj5k3Dm9m3LhJ1aVRNm6HrTbLgYAoWXDhDd/u4PGy5CT+xGMdiaBovewUCF/1BiWNljI9MLn7jeScpg+WyH6mfU62eVDql7hsrmvx1ezp/YldE2LhjbkiDnAn8tGy/MW3IXRMYJduvq9HpmIcKuFt+JCtgdGEGKAcF6UacVwIYbVPGfw/+YuNBS4cx/CUHcnyfc+wRDMtTr72mMSBjT/yn/GKSdeDWQUCH6Xoqq5R10RE60gV6erUL0iCti16d0hZjxut4QI/rEpgSh6WjnJXdBXRg1GKCucGJPtFqM27aD1tOqqKonsQ2KsFSSmEpmvRlsR+TcD9OFwrqXxIclL4sJTnGMSuG8KpkZvKdeVIOKDyWSyPLV16/p1QMPbP8NihwUzr47bdnXtwtjdCvqqpO0H+pOvIl3Pzv46e5CT/tQjklXCXXym1AaWY7bzHLkuDMc7ldKCvgxzLn8wYkJLBhEDyK7MT8bTbwbkxbfp+3mKAGsmTBpabSIEECzMIcQlzOPAMKsxMs7uhsnxPLuofPDTc1hkuq6MX9j16YU7CqegcYHbmWYuvAP6tCS97tgWf7dlQvnl25YPavXLVZvrzQPeHCpZmzzEUVq/xzu5sChnSTPTW7oOYmh69z4zL/gk3b+O6hoa733uviP82vnFcbqWlc9tDmZa23LVzaV1yXURi+JX+28NeBuj3+O8IrQ080Vm1eWB4OKjPmrJu7c1udWynvKF6/vs479lSW9+5gZkn+dKfellNGDPllzeULustz+A0bPvhgw7lkvEUwn/N4Ty7U7nhGsEpFkOfy+kutbOh1JQxhVDJumoW11hnkPThznh6FFlhfT+ra1x9sF56kx5YuDzVY9PQYAYA7iblw4frQ4TPCk2MK/xGU3rlmze62trHz6lsko+v+So/do74PT8KVkpJfOErKcv8znrMGsHTNxoEkWy1mYgDB6XBbPaWsuiS6CryGaL6zCjaXBgvtkuyXBua1wOKnh+k7L9AvPnYWffxK18FcJbuosGf3/Jo7amY+CE1vppzY+UTrva0FXc1i55pKQ/YjVL187N5fCn1kW5uot/1hi+DiZ+5atnJR9E+prvydJ9ZZ5mwOpU5gM4KYysMBQ71UzPuMTl9QQOyUo5nwioeYCPjFklrbK6s6X+ypUZ6rum9+CZYzWRiBJfSP0xzzSmrg7f86g0DKVj/wwFzieD9rRfPGFbeKMl05pn5j9/rsQJJ2iEgRrpohlyBo3f4QK7Kl+EcAYZgAoNVmZWXK704YAa3FwBxgSGUOs5htvGRz4Sgj3yFkSJFBuv/sxu5yk998T8WDJzvv/2RX19HtTUW1S+wpKRKRjJ6zzz/1/OPdFdWGlAKbvzS4PHOtURikg9AGz0LbIB85S/cPOpoXvuue8/iV2H1vPTy3ddvOeZ37HGmO3OmSzVzR+NS53+84dHlFhXPLqtzSO+5ruHM2vXtBdxP87LOzKAD359j/INYIbyPabIi3Cq6Wa+SaGe78diIzu7qcblcAa6/fJRvNopXFJnO+U9KKM5bqH5LM0iQSVmpPCPDu7ZT4Aoubz3709EBTyrTDjyx8MQXgUH1nqm7TWng4TzE4i4AsKskBITXfSyC4Fkl5MxnJDiKSIDSJAsGvd1y+/eNDp2e+A+5d8HeiiunrTkT6TqWLIs+/QRoWr98s0qj8uuzLuS22Ytufg3rdTaHn1m46sfgGKHXt0MGnLaRHdnwN37tvHcWKo2V6lnPxL4UvUQcRdOzmZSQs8X5CH5OxXMXpkATuDz8Et0SH4uyCRR+TjmBDP1GvsVrWEGVzEj33YVQ9jAtIKpqsl/s/0xrocwAAeJxjYGRgYADig3cEzsTz23xl4GZnAIHLRucNkWl2BrA4BwMTiAIAF4IITwB4nGNgZGBgZwCChWASxGZkQAXyABOUANh4nGNnYGBgHyAMADa8ANoAAAAAAAAOAFAAZgCyAMYA5gEeAUgBdAGcAfICLgKOAroDCgOOA7AD6gQ4BHwEuAToBQwFogXoBjYGbAbaB3IHqHicY2BkYGCQZ8hlYGcAASYg5gJCBob/YD4DABbVAaoAeJxdkE1qg0AYhl8Tk9AIoVDaVSmzahcF87PMARLIMoFAl0ZHY1BHdBJIT9AT9AQ9RQ9Qeqy+yteNMzDzfM+88w0K4BY/cNAMB6N2bUaPPBLukybCLvleeAAPj8JD+hfhMV7hC3u4wxs7OO4NzQSZcI/8Ltwnfwi75E/hAR7wJTyk/xYeY49fYQ/PztM+jbTZ7LY6OWdBJdX/pqs6NYWa+zMxa13oKrA6Uoerqi/JwtpYxZXJ1coUVmeZUWVlTjq0/tHacjmdxuL90OR8O0UEDYMNdtiSEpz5XQGqzlm30kzUdAYFFOb8R7NOZk0q2lwAyz1i7oAr1xoXvrOgtYhZx8wY5KRV269JZ5yGpmzPTjQhvY9je6vEElPOuJP3mWKnP5M3V+YAAAB4nG2P2XLCMAxFfYFspGUp3Te+IB9lHJF4cOzUS2n/voaEGR6qB+lKo+WITdhga/a/bRnDBFPMkCBFhhwF5ihxg1sssMQKa9xhg3s84BFPeMYLXvGGd3zgE9tZr/hveXKVkFYoSnoeHJXfRoWOqi54mo9ameNFdrK+dLSyaVf7oJQTlkhXpD3Z5XXhR/rUfQVuKXO91Jps4cLOS6/I5YL3XhodRRsVWZe4NnZOhWnSAWgxhMoEr6SmzZieF43Mk7ZOBdeCVGrp9Eu+54J2xhySplfB5XHwQLXUmT9KH6+kPnQ7ZYuIEzNyfs1DLU1VU4SWZ6LkXGHsD1ZKbMw=) format("woff"), \n  url(data:application/x-font-ttf;charset=utf-8;base64,AAEAAAAKAIAAAwAgT1MvMlGRXgUAAAEoAAAAVmNtYXDiMBC2AAAB/AAAAUpnbHlmW/HoBwAAA4gAAA9QaGVhZAyD6V8AAADQAAAANmhoZWEOogcgAAAArAAAACRobXR42QAAAAAAAYAAAAB8bG9jYTDINOoAAANIAAAAQG1heHABMAB5AAABCAAAACBuYW1l1cf1oAAAEtgAAAIKcG9zdGZEjeMAABTkAAABgQABAAAHAAAAAKEHAAAAAAAHAAABAAAAAAAAAAAAAAAAAAAAHwABAAAAAQAAwdxheF8PPPUACwcAAAAAANMyzzEAAAAA0zLPMQAAAAAHAAcAAAAACAACAAAAAAAAAAEAAAAfAG0ABwAAAAAAAgAAAAoACgAAAP8AAAAAAAAAAQcAAZAABQAIBHEE5gAAAPoEcQTmAAADXABXAc4AAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABA8QHxHgcAAAAAoQcAAAAAAAABAAAAAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAAAAAMAAAADAAAAHAABAAAAAABEAAMAAQAAABwABAAoAAAABgAEAAEAAgAA8R7//wAAAADxAf//AAAPAAABAAAAAAAAAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAFAAZgCyAMYA5gEeAUgBdAGcAfICLgKOAroDCgOOA7AD6gQ4BHwEuAToBQwFogXoBjYGbAbaB3IHqAABAAAAAAWLBYsAAgAAAREBAlUDNgWL++oCCwAAAwAAAAAGawZrAAIADgAaAAAJAhMEAAMSAAUkABMCAAEmACc2ADcWABcGAALrAcD+QJX+w/5aCAgBpgE9AT0BpggI/lr+w/3+rgYGAVL9/QFSBgb+rgIwAVABUAGbCP5a/sP+w/5aCAgBpgE9AT0BpvrIBgFS/f0BUgYG/q79/f6uAAAAAgAAAAAFQAWLAAMABwAAASERKQERIREBwAEr/tUCVQErAXUEFvvqBBYAAAAEAAAAAAYgBiAABgATACQAJwAAAS4BJxUXNjcGBxc+ATUmACcVFhIBBwEhESEBEQEGBxU+ATcXNwEHFwTQAWVVuAO7AidxJSgF/t/lpc77t18BYf6fASsBdQE+TF1OijuZX/1gnJwDgGSeK6W4GBhqW3FGnFT0AWM4mjT+9AHrX/6f/kD+iwH2/sI7HZoSRDGYXwSWnJwAAAEAAAAABKsF1gAFAAABESEBEQECCwEqAXb+igRg/kD+iwSq/osAAAACAAAAAAVmBdYABgAMAAABLgEnET4BAREhAREBBWUBZVRUZfwRASsBdf6LA4Bkniv9piueAUT+QP6LBKr+iwAAAwAAAAAGIAYPAAUADAAaAAATESEBEQEFLgEnET4BAxUWEhcGAgcVNgA3JgDgASsBdf6LAsUBZVVVZbqlzgMDzqXlASEFBf7fBGD+QP6LBKr+i+Bkniv9piueAvOaNP70tbX+9DSaOAFi9fUBYgAAAAQAAAAABYsFiwAFAAsAEQAXAAABIxEhNSMDMzUzNSEBIxUhESMDFTMVMxECC5YBduCWluD+igOA4AF2luDglgLr/oqWAgrglvyAlgF2AqCW4AF2AAQAAAAABYsFiwAFAAsAEQAXAAABMxUzESETIxUhESMBMzUzNSETNSMRITUBdeCW/org4AF2lgHAluD+ipaWAXYCVeABdgHAlgF2++rglgHA4P6KlgAAAAACAAAAAAXWBdYADwATAAABIQ4BBxEeARchPgE3ES4BAyERIQVA/IA/VQEBVT8DgD9VAQFVP/yAA4AF1QFVP/yAP1UBAVU/A4A/VfvsA4AAAAYAAAAABmsGawAHAAwAEwAbACAAKAAACQEmJw4BBwElLgEnAQUhATYSNyYFAQYCBxYXIQUeARcBMwEWFz4BNwECvgFkTlSH8GEBEgOONemh/u4C5f3QAXpcaAEB/BP+3VxoAQEOAjD95DXpoQESeP7dTlSH8GH+7gPwAmgSAQFYUP4nd6X2Pv4nS/1zZAEBk01NAfhk/v+TTUhLpfY+Adn+CBIBAVhQAdkAAAAFAAAAAAZrBdYADwATABcAGwAfAAABIQ4BBxEeARchPgE3ES4BASEVIQEhNSEFITUhNSE1IQXV+1ZAVAICVEAEqkBUAgJU+xYBKv7WAur9FgLqAcD+1gEq/RYC6gXVAVU//IA/VQEBVT8DgD9V/ayV/tWVlZWWlQADAAAAAAYgBdYADwAnAD8AAAEhDgEHER4BFyE+ATcRLgEBIzUjFTM1MxUUBgcjLgEnET4BNzMeARUFIzUjFTM1MxUOAQcjLgE1ETQ2NzMeARcFi/vqP1QCAlQ/BBY/VAICVP1rcJWVcCog4CAqAQEqIOAgKgILcJWVcAEqIOAgKiog4CAqAQXVAVU//IA/VQEBVT8DgD9V/fcl4CVKICoBASogASogKgEBKiBKJeAlSiAqAQEqIAEqICoBASogAAAGAAAAAAYgBPYAAwAHAAsADwATABcAABMzNSMRMzUjETM1IwEhNSERITUhERUhNeCVlZWVlZUBKwQV++sEFfvrBBUDNZb+QJUBwJX+QJb+QJUCVZWVAAAAAQAAAAAGIAZsAC4AAAEiBgcBNjQnAR4BMz4BNy4BJw4BBxQXAS4BIw4BBx4BFzI2NwEGBx4BFz4BNy4BBUArSh797AcHAg8eTixffwICf19ffwIH/fEeTixffwICf18sTh4CFAUBA3tcXHsDA3sCTx8bATcZNhkBNB0gAn9fX38CAn9fGxn+zRwgAn9fX38CIBz+yhcaXHsCAntcXXsAAAIAAAAABlkGawBDAE8AAAE2NCc3PgEnAy4BDwEmLwEuASchDgEPAQYHJyYGBwMGFh8BBhQXBw4BFxMeAT8BFh8BHgEXIT4BPwE2NxcWNjcTNiYnBS4BJz4BNx4BFw4BBasFBZ4KBgeWBxkNujpEHAMUD/7WDxQCHEU5ug0aB5UHBQudBQWdCwUHlQcaDbo5RRwCFA8BKg8UAhxFOboNGgeVBwUL/ThvlAIClG9vlAIClAM3JEokewkaDQEDDAkFSy0cxg4RAQERDsYcLUsFCQz+/QwbCXskSiR7CRoN/v0MCQVLLRzGDhEBAREOxhwtSwUJDAEDDBsJQQKUb2+UAgKUb2+UAAAAAAEAAAAABmsGawALAAATEgAFJAATAgAlBACVCAGmAT0BPQGmCAj+Wv7D/sP+WgOA/sP+WggIAaYBPQE9AaYICP5aAAAAAgAAAAAGawZrAAsAFwAAAQQAAxIABSQAEwIAASYAJzYANxYAFwYAA4D+w/5aCAgBpgE9AT0BpggI/lr+w/3+rgYGAVL9/QFSBgb+rgZrCP5a/sP+w/5aCAgBpgE9AT0BpvrIBgFS/f0BUgYG/q79/f6uAAADAAAAAAZrBmsACwAXACMAAAEEAAMSAAUkABMCAAEmACc2ADcWABcGAAMOAQcuASc+ATceAQOA/sP+WggIAaYBPQE9AaYICP5a/sP9/q4GBgFS/f0BUgYG/q4dAn9fX38CAn9fX38Gawj+Wv7D/sP+WggIAaYBPQE9Aab6yAYBUv39AVIGBv6u/f3+rgJPX38CAn9fX38CAn8AAAAEAAAAAAYgBiAADwAbACUAKQAAASEOAQcRHgEXIT4BNxEuAQEjNSMVIxEzFTM1OwEhHgEXEQ4BByE3MzUjBYv76j9UAgJUPwQWP1QCAlT9a3CVcHCVcJYBKiAqAQEqIP7WcJWVBiACVD/76j9UAgJUPwQWP1T8gpWVAcC7uwEqIP7WICoBcOAAAgAAAAAGawZrAAsAFwAAAQQAAxIABSQAEwIAEwcJAScJATcJARcBA4D+w/5aCAgBpgE9AT0BpggI/lo4af70/vRpAQv+9WkBDAEMaf71BmsI/lr+w/7D/loICAGmAT0BPQGm/BFpAQv+9WkBDAEMaf71AQtp/vQAAQAAAAAF1ga2ABYAAAERCQERHgEXDgEHLgEnIxYAFzYANyYAA4D+iwF1vv0FBf2+vv0FlQYBUf7+AVEGBv6vBYsBKv6L/osBKgT9v779BQX9vv7+rwYGAVH+/gFRAAAAAQAAAAAFPwcAABQAAAERIyIGHQEhAyMRIREjETM1NDYzMgU/nVY8ASUn/v7O///QrZMG9P74SEi9/tj9CQL3ASjaus0AAAAABAAAAAAGjgcAADAARQBgAGwAAAEUHgMVFAcGBCMiJicmNTQ2NzYlLgE1NDcGIyImNTQ2Nz4BMyEHIx4BFRQOAycyNjc2NTQuAiMiBgcGFRQeAxMyPgI1NC4BLwEmLwImIyIOAxUUHgIBMxUjFSM1IzUzNTMDH0BbWkAwSP7qn4TlOSVZSoMBESAfFS4WlMtIP03TcAGiioNKTDFFRjGSJlAaNSI/akAqURkvFCs9WTY6a1s3Dg8THgocJU4QIDVob1M2RnF9A2vV1WnU1GkD5CRFQ1CATlpTenNTYDxHUYouUhIqQCkkMQTBlFKaNkJAWD+MWkhzRztAPiEbOWY6hn1SJyE7ZS5nZ1I0/JcaNF4+GTAkGCMLFx04Ag4kOF07Rms7HQNsbNvbbNkAAwAAAAAGgAZsAAMADgAqAAABESERARYGKwEiJjQ2MhYBESERNCYjIgYHBhURIRIQLwEhFSM+AzMyFgHd/rYBXwFnVAJSZGemZASP/rdRVj9VFQv+twIBAQFJAhQqR2c/q9AEj/whA98BMkliYpNhYfzd/cgCEml3RTMeM/3XAY8B8DAwkCAwOB/jAAABAAAAAAaUBgAAMQAAAQYHFhUUAg4BBCMgJxYzMjcuAScWMzI3LgE9ARYXLgE1NDcWBBcmNTQ2MzIXNjcGBzYGlENfAUyb1v7SrP7x4SMr4bBpph8hHCsqcJNETkJOLHkBW8YIvYaMYG1gJWldBWhiRQ4cgv797rdtkQSKAn1hBQsXsXUEJgMsjlNYS5WzCiYkhr1mFTlzPwoAAAABAAAAAAWABwAAIgAAARcOAQcGLgM1ESM1PgQ3PgE7AREhFSERFB4CNzYFMFAXsFlorXBOIahIckQwFAUBBwT0AU3+sg0gQzBOAc/tIz4BAjhceHg6AiDXGlddb1ctBQf+WPz9+h40NR4BAgABAAAAAAaABoAASgAAARQCBCMiJzY/AR4BMzI+ATU0LgEjIg4DFRQWFxY/ATY3NicmNTQ2MzIWFRQGIyImNz4CNTQmIyIGFRQXAwYXJgI1NBIkIAQSBoDO/p/Rb2s7EzYUaj15vmh34o5ptn9bK1BNHggIBgIGETPRqZepiWs9Sg4IJRc2Mj5WGWMRBM7+zgFhAaIBYc4DgNH+n84gXUfTJzmJ8JZyyH46YH2GQ2ieIAwgHxgGFxQ9WpfZpIOq7lc9I3VZHzJCclVJMf5eRmtbAXzp0QFhzs7+nwAABwAAAAAHAATPAA4AFwAqAD0AUABaAF0AAAERNh4CBw4BBwYmIycmNxY2NzYmBxEUBRY2Nz4BNy4BJyMGHwEeARcOARcWNjc+ATcuAScjBh8BHgEXFAYXFjY3PgE3LgEnIwYfAR4BFw4BBTM/ARUzESMGAyUVJwMchM2UWwgNq4JHrQgBAapUaAoJcWMBfiIhDiMrAQJLMB0BBAokNAIBPmMiIQ4iLAECSzAeAQUKJDQBP2MiIQ4iLAECSzAeAQUKJDQBAT75g+5B4arNLNIBJ44ByQL9BQ9mvYCKwA8FBQMDwwJVTGdzBf6VB8IHNR08lld9uT4LCRA/qGNxvUwHNR08lld9uT4LCRA/qGNxvUwHNR08lld9uT4LCRA/qGNxvVJkAWUDDEf+tYP5AQAAAAEAAAAABiAGtgAbAAABBAADER4BFzMRITU2ADcWABcVIREzPgE3EQIAA4D+4v6FBwJ/X+D+1QYBJ97eAScG/tXgX38CB/6FBrUH/oX+4v32X38CAlWV3gEnBgb+2d6V/asCf18CCgEeAXsAAAAAEADGAAEAAAAAAAEABwAAAAEAAAAAAAIABwAHAAEAAAAAAAMABwAOAAEAAAAAAAQABwAVAAEAAAAAAAUACwAcAAEAAAAAAAYABwAnAAEAAAAAAAoAKwAuAAEAAAAAAAsAEwBZAAMAAQQJAAEADgBsAAMAAQQJAAIADgB6AAMAAQQJAAMADgCIAAMAAQQJAAQADgCWAAMAAQQJAAUAFgCkAAMAAQQJAAYADgC6AAMAAQQJAAoAVgDIAAMAAQQJAAsAJgEeVmlkZW9KU1JlZ3VsYXJWaWRlb0pTVmlkZW9KU1ZlcnNpb24gMS4wVmlkZW9KU0dlbmVyYXRlZCBieSBzdmcydHRmIGZyb20gRm9udGVsbG8gcHJvamVjdC5odHRwOi8vZm9udGVsbG8uY29tAFYAaQBkAGUAbwBKAFMAUgBlAGcAdQBsAGEAcgBWAGkAZABlAG8ASgBTAFYAaQBkAGUAbwBKAFMAVgBlAHIAcwBpAG8AbgAgADEALgAwAFYAaQBkAGUAbwBKAFMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAgAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfAAABAgEDAQQBBQEGAQcBCAEJAQoBCwEMAQ0BDgEPARABEQESARMBFAEVARYBFwEYARkBGgEbARwBHQEeAR8EcGxheQtwbGF5LWNpcmNsZQVwYXVzZQt2b2x1bWUtbXV0ZQp2b2x1bWUtbG93CnZvbHVtZS1taWQLdm9sdW1lLWhpZ2gQZnVsbHNjcmVlbi1lbnRlcg9mdWxsc2NyZWVuLWV4aXQGc3F1YXJlB3NwaW5uZXIJc3VidGl0bGVzCGNhcHRpb25zCGNoYXB0ZXJzBXNoYXJlA2NvZwZjaXJjbGUOY2lyY2xlLW91dGxpbmUTY2lyY2xlLWlubmVyLWNpcmNsZQJoZAZjYW5jZWwGcmVwbGF5CGZhY2Vib29rBWdwbHVzCGxpbmtlZGluB3R3aXR0ZXIGdHVtYmxyCXBpbnRlcmVzdBFhdWRpby1kZXNjcmlwdGlvbgVhdWRpbwAAAAAA) format("truetype");\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-big-play-button .vjs-icon-placeholder:before,\n.video-js .vjs-play-control .vjs-icon-placeholder,\n.vjs-icon-play {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-big-play-button .vjs-icon-placeholder:before,\n.video-js .vjs-play-control .vjs-icon-placeholder:before,\n.vjs-icon-play:before {\n  content: "\\f101"\n}\n\n.vjs-icon-play-circle {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-play-circle:before {\n  content: "\\f102"\n}\n\n.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder,\n.vjs-icon-pause {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before,\n.vjs-icon-pause:before {\n  content: "\\f103"\n}\n\n.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder,\n.vjs-icon-volume-mute {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before,\n.vjs-icon-volume-mute:before {\n  content: "\\f104"\n}\n\n.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder,\n.vjs-icon-volume-low {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before,\n.vjs-icon-volume-low:before {\n  content: "\\f105"\n}\n\n.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder,\n.vjs-icon-volume-mid {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before,\n.vjs-icon-volume-mid:before {\n  content: "\\f106"\n}\n\n.video-js .vjs-mute-control .vjs-icon-placeholder,\n.vjs-icon-volume-high {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-mute-control .vjs-icon-placeholder:before,\n.vjs-icon-volume-high:before {\n  content: "\\f107"\n}\n\n.video-js .vjs-fullscreen-control .vjs-icon-placeholder,\n.vjs-icon-fullscreen-enter {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before,\n.vjs-icon-fullscreen-enter:before {\n  /* content: "\\f108" */\n  content: "\\e794"\n}\n\n.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder,\n.vjs-icon-fullscreen-exit {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before,\n.vjs-icon-fullscreen-exit:before {\n  content: "\\f109"\n}\n\n.vjs-icon-square {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-square:before {\n  content: "\\f10a"\n}\n\n.vjs-icon-spinner {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-spinner:before {\n  content: "\\f10b"\n}\n\n.video-js .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js .vjs-subtitles-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,\n.vjs-icon-subtitles {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js .vjs-subtitles-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.vjs-icon-subtitles:before {\n  content: "\\f10c"\n}\n\n.video-js .vjs-captions-button .vjs-icon-placeholder,\n.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,\n.vjs-icon-captions {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-captions-button .vjs-icon-placeholder:before,\n.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.vjs-icon-captions:before {\n  content: "\\f10d"\n}\n\n.video-js .vjs-chapters-button .vjs-icon-placeholder,\n.vjs-icon-chapters {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-chapters-button .vjs-icon-placeholder:before,\n.vjs-icon-chapters:before {\n  content: "\\f10e"\n}\n\n.vjs-icon-share {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-share:before {\n  content: "\\f10f"\n}\n\n.vjs-icon-cog {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-cog:before {\n  content: "\\f110"\n}\n\n.video-js .vjs-play-progress,\n.video-js .vjs-volume-level,\n.vjs-icon-circle {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-play-progress:before,\n.video-js .vjs-volume-level:before,\n.vjs-icon-circle:before {\n  content: "\\f111"\n}\n\n.vjs-icon-circle-outline {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-circle-outline:before {\n  content: "\\f112"\n}\n\n.vjs-icon-circle-inner-circle {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-circle-inner-circle:before {\n  content: "\\f113"\n}\n\n.vjs-icon-hd {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-hd:before {\n  content: "\\f114"\n}\n\n.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder,\n.vjs-icon-cancel {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before,\n.vjs-icon-cancel:before {\n  content: "\\f115"\n}\n\n.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder,\n.vjs-icon-replay {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before,\n.vjs-icon-replay:before {\n  content: "\\f116"\n}\n\n.vjs-icon-facebook {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-facebook:before {\n  content: "\\f117"\n}\n\n.vjs-icon-gplus {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-gplus:before {\n  content: "\\f118"\n}\n\n.vjs-icon-linkedin {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-linkedin:before {\n  content: "\\f119"\n}\n\n.vjs-icon-twitter {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-twitter:before {\n  content: "\\f11a"\n}\n\n.vjs-icon-tumblr {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-tumblr:before {\n  content: "\\f11b"\n}\n\n.vjs-icon-pinterest {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.vjs-icon-pinterest:before {\n  content: "\\f11c"\n}\n\n.video-js .vjs-descriptions-button .vjs-icon-placeholder,\n.vjs-icon-audio-description {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-descriptions-button .vjs-icon-placeholder:before,\n.vjs-icon-audio-description:before {\n  content: "\\f11d"\n}\n\n.video-js .vjs-audio-button .vjs-icon-placeholder,\n.vjs-icon-audio {\n  font-family: VideoJS;\n  font-weight: 400;\n  font-style: normal\n}\n\n.video-js .vjs-audio-button .vjs-icon-placeholder:before,\n.vjs-icon-audio:before {\n  content: "\\f11e"\n}\n\n.video-js {\n  display: block;\n  vertical-align: top;\n  box-sizing: border-box;\n  color: #fff;\n  background-color: #000;\n  position: relative;\n  padding: 0;\n  font-size: 10px;\n  line-height: 1;\n  font-weight: 400;\n  font-style: normal;\n  font-family: Arial, Helvetica, sans-serif\n}\n\n.video-js:-moz-full-screen {\n  position: absolute\n}\n\n.video-js:-webkit-full-screen {\n  width: 100% !important;\n  height: 100% !important\n}\n\n.video-js[tabindex="-1"] {\n  outline: 0\n}\n\n.video-js *,\n.video-js :after,\n.video-js :before {\n  box-sizing: inherit\n}\n\n.video-js ul {\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n  list-style-position: outside;\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  margin-bottom: 0\n}\n\n.video-js.vjs-16-9,\n.video-js.vjs-4-3,\n.video-js.vjs-fluid {\n  width: 100%;\n  max-width: 100%;\n  height: 0\n}\n\n.video-js.vjs-16-9 {\n  padding-top: 56.25%\n}\n\n.video-js.vjs-4-3 {\n  padding-top: 75%\n}\n\n.video-js.vjs-fill {\n  width: 100%;\n  height: 100%\n}\n\n.video-js .vjs-tech {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%\n}\n\nbody.vjs-full-window {\n  padding: 0;\n  margin: 0;\n  height: 100%;\n  overflow-y: auto\n}\n\n.vjs-full-window .video-js.vjs-fullscreen {\n  position: fixed;\n  overflow: hidden;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0\n}\n\n.video-js.vjs-fullscreen {\n  width: 100% !important;\n  height: 100% !important;\n  padding-top: 0 !important\n}\n\n.video-js.vjs-fullscreen.vjs-user-inactive {\n  cursor: none\n}\n\n.vjs-hidden {\n  display: none !important\n}\n\n.vjs-disabled {\n  opacity: .5;\n  cursor: default\n}\n\n.video-js .vjs-offscreen {\n  height: 1px;\n  left: -9999px;\n  position: absolute;\n  top: 0;\n  width: 1px\n}\n\n.vjs-lock-showing {\n  display: block !important;\n  opacity: 1;\n  visibility: visible\n}\n\n.vjs-no-js {\n  padding: 20px;\n  color: #fff;\n  background-color: #000;\n  font-size: 18px;\n  font-family: Arial, Helvetica, sans-serif;\n  text-align: center;\n  width: 300px;\n  height: 150px;\n  margin: 0 auto\n}\n\n.vjs-no-js a,\n.vjs-no-js a:visited {\n  color: #66a8cc\n}\n\n.video-js .vjs-big-play-button {\n  font-size: 3em;\n  line-height: 1.5em;\n  height: 1.5em;\n  width: 3em;\n  display: block;\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  padding: 0;\n  cursor: pointer;\n  opacity: 1;\n  border: .06666em solid #fff;\n  background-color: #2b333f;\n  background-color: rgba(43, 51, 63, .7);\n  -webkit-border-radius: .3em;\n  -moz-border-radius: .3em;\n  border-radius: .3em;\n  -webkit-transition: all .4s;\n  -moz-transition: all .4s;\n  -ms-transition: all .4s;\n  -o-transition: all .4s;\n  transition: all .4s\n}\n\n.vjs-big-play-centered .vjs-big-play-button {\n  top: 50%;\n  left: 50%;\n  margin-top: -.75em;\n  margin-left: -1.5em\n}\n\n.video-js .vjs-big-play-button:focus,\n.video-js:hover .vjs-big-play-button {\n  border-color: #fff;\n  background-color: #73859f;\n  background-color: rgba(115, 133, 159, .5);\n  -webkit-transition: all 0s;\n  -moz-transition: all 0s;\n  -ms-transition: all 0s;\n  -o-transition: all 0s;\n  transition: all 0s\n}\n\n.vjs-controls-disabled .vjs-big-play-button,\n.vjs-error .vjs-big-play-button,\n.vjs-has-started .vjs-big-play-button,\n.vjs-using-native-controls .vjs-big-play-button {\n  display: none\n}\n\n.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button {\n  display: block\n}\n\n.video-js button {\n  background: 0 0;\n  border: none;\n  color: inherit;\n  display: inline-block;\n  overflow: visible;\n  font-size: inherit;\n  line-height: inherit;\n  text-transform: none;\n  text-decoration: none;\n  transition: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none\n}\n\n.video-js .vjs-control.vjs-close-button {\n  cursor: pointer;\n  height: 3em;\n  position: absolute;\n  right: 0;\n  top: .5em;\n  z-index: 2\n}\n\n.video-js .vjs-modal-dialog {\n  background: rgba(0, 0, 0, .8);\n  background: -webkit-linear-gradient(-90deg, rgba(0, 0, 0, .8), rgba(255, 255, 255, 0));\n  background: linear-gradient(180deg, rgba(0, 0, 0, .8), rgba(255, 255, 255, 0));\n  overflow: auto;\n  box-sizing: content-box\n}\n\n.video-js .vjs-modal-dialog>* {\n  box-sizing: border-box\n}\n\n.vjs-modal-dialog .vjs-modal-dialog-content {\n  font-size: 1.2em;\n  line-height: 1.5;\n  padding: 20px 24px;\n  z-index: 1\n}\n\n.vjs-menu-button {\n  cursor: pointer\n}\n\n.vjs-menu-button.vjs-disabled {\n  cursor: default\n}\n\n.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu {\n  display: none\n}\n\n.vjs-menu .vjs-menu-content {\n  display: block;\n  padding: 0;\n  margin: 0;\n  font-family: Arial, Helvetica, sans-serif;\n  overflow: auto;\n  box-sizing: content-box\n}\n\n.vjs-menu .vjs-menu-content>* {\n  box-sizing: border-box\n}\n\n.vjs-scrubbing .vjs-menu-button:hover .vjs-menu {\n  display: none\n}\n\n.vjs-menu li {\n  list-style: none;\n  margin: 0;\n  padding: .2em 0;\n  line-height: 1.4em;\n  font-size: 1.2em;\n  text-align: center;\n  text-transform: lowercase\n}\n\n.vjs-menu li.vjs-menu-item:focus,\n.vjs-menu li.vjs-menu-item:hover {\n  background-color: #73859f;\n  background-color: rgba(115, 133, 159, .5)\n}\n\n.vjs-menu li.vjs-selected,\n.vjs-menu li.vjs-selected:focus,\n.vjs-menu li.vjs-selected:hover {\n  background-color: #fff;\n  color: #2b333f\n}\n\n.vjs-menu li.vjs-menu-title {\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 1em;\n  line-height: 2em;\n  padding: 0;\n  margin: 0 0 .3em 0;\n  font-weight: 700;\n  cursor: default\n}\n\n.vjs-menu-button-popup .vjs-menu {\n  display: none;\n  position: absolute;\n  bottom: 0;\n  width: 10em;\n  left: -3em;\n  height: 0;\n  margin-bottom: 1.5em;\n  border-top-color: rgba(43, 51, 63, .7)\n}\n\n.vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  background-color: #2b333f;\n  background-color: rgba(43, 51, 63, .7);\n  position: absolute;\n  width: 100%;\n  bottom: 1.5em;\n  max-height: 15em\n}\n\n.vjs-menu-button-popup .vjs-menu.vjs-lock-showing,\n.vjs-workinghover .vjs-menu-button-popup:hover .vjs-menu {\n  display: block\n}\n\n.video-js .vjs-menu-button-inline {\n  -webkit-transition: all .4s;\n  -moz-transition: all .4s;\n  -ms-transition: all .4s;\n  -o-transition: all .4s;\n  transition: all .4s;\n  overflow: hidden\n}\n\n.video-js .vjs-menu-button-inline:before {\n  width: 2.222222222em\n}\n\n.video-js .vjs-menu-button-inline.vjs-slider-active,\n.video-js .vjs-menu-button-inline:focus,\n.video-js .vjs-menu-button-inline:hover,\n.video-js.vjs-no-flex .vjs-menu-button-inline {\n  width: 12em\n}\n\n.vjs-menu-button-inline .vjs-menu {\n  opacity: 0;\n  height: 100%;\n  width: auto;\n  position: absolute;\n  left: 4em;\n  top: 0;\n  padding: 0;\n  margin: 0;\n  -webkit-transition: all .4s;\n  -moz-transition: all .4s;\n  -ms-transition: all .4s;\n  -o-transition: all .4s;\n  transition: all .4s\n}\n\n.vjs-menu-button-inline.vjs-slider-active .vjs-menu,\n.vjs-menu-button-inline:focus .vjs-menu,\n.vjs-menu-button-inline:hover .vjs-menu {\n  display: block;\n  opacity: 1\n}\n\n.vjs-no-flex .vjs-menu-button-inline .vjs-menu {\n  display: block;\n  opacity: 1;\n  position: relative;\n  width: auto\n}\n\n.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu,\n.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,\n.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu {\n  width: auto\n}\n\n.vjs-menu-button-inline .vjs-menu-content {\n  width: auto;\n  height: 100%;\n  margin: 0;\n  overflow: hidden\n}\n\n.video-js .vjs-control-bar {\n  display: none;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 3em;\n  background-color: #2b333f;\n  background-color: rgba(43, 51, 63, .7)\n}\n\n.vjs-has-started .vjs-control-bar {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  visibility: visible;\n  opacity: 1;\n  -webkit-transition: visibility .1s, opacity .1s;\n  -moz-transition: visibility .1s, opacity .1s;\n  -ms-transition: visibility .1s, opacity .1s;\n  -o-transition: visibility .1s, opacity .1s;\n  transition: visibility .1s, opacity .1s\n}\n\n.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar {\n  visibility: visible;\n  opacity: 0;\n  -webkit-transition: visibility 1s, opacity 1s;\n  -moz-transition: visibility 1s, opacity 1s;\n  -ms-transition: visibility 1s, opacity 1s;\n  -o-transition: visibility 1s, opacity 1s;\n  transition: visibility 1s, opacity 1s\n}\n\n.vjs-controls-disabled .vjs-control-bar,\n.vjs-error .vjs-control-bar,\n.vjs-using-native-controls .vjs-control-bar {\n  display: none !important\n}\n\n.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar {\n  opacity: 1;\n  visibility: visible\n}\n\n.vjs-has-started.vjs-no-flex .vjs-control-bar {\n  display: table\n}\n\n.video-js .vjs-control {\n  position: relative;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  width: 4em;\n  -webkit-box-flex: none;\n  -moz-box-flex: none;\n  -webkit-flex: none;\n  -ms-flex: none;\n  flex: none\n}\n\n.vjs-button>.vjs-icon-placeholder:before {\n  font-size: 1.8em;\n  line-height: 1.67\n}\n\n.video-js .vjs-control:focus,\n.video-js .vjs-control:focus:before,\n.video-js .vjs-control:hover:before {\n  text-shadow: 0 0 1em #fff\n}\n\n.video-js .vjs-control-text {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px\n}\n\n.vjs-no-flex .vjs-control {\n  display: table-cell;\n  vertical-align: middle\n}\n\n.video-js .vjs-custom-control-spacer {\n  display: none\n}\n\n.video-js .vjs-progress-control {\n  cursor: pointer;\n  -webkit-box-flex: auto;\n  -moz-box-flex: auto;\n  -webkit-flex: auto;\n  -ms-flex: auto;\n  flex: auto;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  align-items: center;\n  min-width: 4em\n}\n\n.vjs-live .vjs-progress-control {\n  display: none\n}\n\n.vjs-no-flex .vjs-progress-control {\n  width: auto\n}\n\n.video-js .vjs-progress-holder {\n  -webkit-box-flex: auto;\n  -moz-box-flex: auto;\n  -webkit-flex: auto;\n  -ms-flex: auto;\n  flex: auto;\n  -webkit-transition: all .2s;\n  -moz-transition: all .2s;\n  -ms-transition: all .2s;\n  -o-transition: all .2s;\n  transition: all .2s;\n  height: .3em\n}\n\n.video-js .vjs-progress-control .vjs-progress-holder {\n  margin: 0 10px\n}\n\n.video-js .vjs-progress-control:hover .vjs-progress-holder {\n  font-size: 1.666666666666666666em\n}\n\n.video-js .vjs-progress-holder .vjs-load-progress,\n.video-js .vjs-progress-holder .vjs-load-progress div,\n.video-js .vjs-progress-holder .vjs-play-progress {\n  position: absolute;\n  display: block;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  width: 0;\n  left: 0;\n  top: 0\n}\n\n.video-js .vjs-play-progress {\n  background-color: #fff\n}\n\n.video-js .vjs-play-progress:before {\n  font-size: .9em;\n  position: absolute;\n  right: -.5em;\n  top: -.333333333333333em;\n  z-index: 1\n}\n\n.video-js .vjs-load-progress {\n  background: #bfc7d3;\n  background: rgba(115, 133, 159, .5)\n}\n\n.video-js .vjs-load-progress div {\n  background: #fff;\n  background: rgba(115, 133, 159, .75)\n}\n\n.video-js .vjs-time-tooltip {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, .8);\n  -webkit-border-radius: .3em;\n  -moz-border-radius: .3em;\n  border-radius: .3em;\n  color: #000;\n  float: right;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 1em;\n  padding: 6px 8px 8px 8px;\n  pointer-events: none;\n  position: relative;\n  top: -3.4em;\n  visibility: hidden;\n  z-index: 1\n}\n\n.video-js .vjs-progress-holder:focus .vjs-time-tooltip {\n  display: none\n}\n\n.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip,\n.video-js .vjs-progress-control:hover .vjs-time-tooltip {\n  display: block;\n  font-size: .6em;\n  visibility: visible\n}\n\n.video-js .vjs-progress-control .vjs-mouse-display {\n  display: none;\n  position: absolute;\n  width: 1px;\n  height: 100%;\n  background-color: #000;\n  z-index: 1\n}\n\n.vjs-no-flex .vjs-progress-control .vjs-mouse-display {\n  z-index: 0\n}\n\n.video-js .vjs-progress-control:hover .vjs-mouse-display {\n  display: block\n}\n\n.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display {\n  visibility: hidden;\n  opacity: 0;\n  -webkit-transition: visibility 1s, opacity 1s;\n  -moz-transition: visibility 1s, opacity 1s;\n  -ms-transition: visibility 1s, opacity 1s;\n  -o-transition: visibility 1s, opacity 1s;\n  transition: visibility 1s, opacity 1s\n}\n\n.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display {\n  display: none\n}\n\n.vjs-mouse-display .vjs-time-tooltip {\n  color: #fff;\n  background-color: #000;\n  background-color: rgba(0, 0, 0, .8)\n}\n\n.video-js .vjs-slider {\n  position: relative;\n  cursor: pointer;\n  padding: 0;\n  margin: 0 .45em 0 .45em;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  background-color: #73859f;\n  background-color: rgba(115, 133, 159, .5)\n}\n\n.video-js .vjs-slider:focus {\n  text-shadow: 0 0 1em #fff;\n  -webkit-box-shadow: 0 0 1em #fff;\n  -moz-box-shadow: 0 0 1em #fff;\n  box-shadow: 0 0 1em #fff\n}\n\n.video-js .vjs-mute-control {\n  cursor: pointer;\n  -webkit-box-flex: none;\n  -moz-box-flex: none;\n  -webkit-flex: none;\n  -ms-flex: none;\n  flex: none;\n  padding-left: 2em;\n  padding-right: 2em;\n  padding-bottom: 3em\n}\n\n.video-js .vjs-volume-control {\n  cursor: pointer;\n  margin-right: 1em;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex\n}\n\n.video-js .vjs-volume-control.vjs-volume-horizontal {\n  width: 5em\n}\n\n.video-js .vjs-volume-panel .vjs-volume-control {\n  visibility: visible;\n  opacity: 0;\n  width: 1px;\n  height: 1px;\n  margin-left: -1px\n}\n\n.video-js .vjs-volume-panel {\n  -webkit-transition: width 1s;\n  -moz-transition: width 1s;\n  -ms-transition: width 1s;\n  -o-transition: width 1s;\n  transition: width 1s\n}\n\n.video-js .vjs-volume-panel .vjs-mute-control:active~.vjs-volume-control,\n.video-js .vjs-volume-panel .vjs-mute-control:focus~.vjs-volume-control,\n.video-js .vjs-volume-panel .vjs-mute-control:hover~.vjs-volume-control,\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active,\n.video-js .vjs-volume-panel .vjs-volume-control:active,\n.video-js .vjs-volume-panel .vjs-volume-control:focus,\n.video-js .vjs-volume-panel .vjs-volume-control:hover,\n.video-js .vjs-volume-panel:active .vjs-volume-control,\n.video-js .vjs-volume-panel:focus .vjs-volume-control,\n.video-js .vjs-volume-panel:hover .vjs-volume-control {\n  visibility: visible;\n  opacity: 1;\n  position: relative;\n  -webkit-transition: visibility .1s, opacity .1s, height .1s, width .1s, left 0s, top 0s;\n  -moz-transition: visibility .1s, opacity .1s, height .1s, width .1s, left 0s, top 0s;\n  -ms-transition: visibility .1s, opacity .1s, height .1s, width .1s, left 0s, top 0s;\n  -o-transition: visibility .1s, opacity .1s, height .1s, width .1s, left 0s, top 0s;\n  transition: visibility .1s, opacity .1s, height .1s, width .1s, left 0s, top 0s\n}\n\n.video-js .vjs-volume-panel .vjs-mute-control:active~.vjs-volume-control.vjs-volume-horizontal,\n.video-js .vjs-volume-panel .vjs-mute-control:focus~.vjs-volume-control.vjs-volume-horizontal,\n.video-js .vjs-volume-panel .vjs-mute-control:hover~.vjs-volume-control.vjs-volume-horizontal,\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal,\n.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,\n.video-js .vjs-volume-panel .vjs-volume-control:focus.vjs-volume-horizontal,\n.video-js .vjs-volume-panel .vjs-volume-control:hover.vjs-volume-horizontal,\n.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,\n.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal,\n.video-js .vjs-volume-panel:hover .vjs-volume-control.vjs-volume-horizontal {\n  width: 5em;\n  height: 3em\n}\n\n.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,\n.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active,\n.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:focus,\n.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:hover {\n  width: 9em;\n  -webkit-transition: width .1s;\n  -moz-transition: width .1s;\n  -ms-transition: width .1s;\n  -o-transition: width .1s;\n  transition: width .1s\n}\n\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical {\n  height: 8em;\n  width: 3em;\n  left: -3.5em;\n  -webkit-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s 1s, left 1s 1s, top 1s 1s;\n  -moz-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s 1s, left 1s 1s, top 1s 1s;\n  -ms-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s 1s, left 1s 1s, top 1s 1s;\n  -o-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s 1s, left 1s 1s, top 1s 1s;\n  transition: visibility 1s, opacity 1s, height 1s 1s, width 1s 1s, left 1s 1s, top 1s 1s\n}\n\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal {\n  -webkit-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s, left 1s 1s, top 1s 1s;\n  -moz-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s, left 1s 1s, top 1s 1s;\n  -ms-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s, left 1s 1s, top 1s 1s;\n  -o-transition: visibility 1s, opacity 1s, height 1s 1s, width 1s, left 1s 1s, top 1s 1s;\n  transition: visibility 1s, opacity 1s, height 1s 1s, width 1s, left 1s 1s, top 1s 1s\n}\n\n.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal {\n  width: 5em;\n  height: 3em;\n  visibility: visible;\n  opacity: 1;\n  position: relative;\n  -webkit-transition: none;\n  -moz-transition: none;\n  -ms-transition: none;\n  -o-transition: none;\n  transition: none\n}\n\n.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,\n.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical {\n  position: absolute;\n  bottom: 3em;\n  left: .5em\n}\n\n.video-js .vjs-volume-panel {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex\n}\n\n.video-js .vjs-volume-bar {\n  margin: 1.35em .45em\n}\n\n.vjs-volume-bar.vjs-slider-horizontal {\n  width: 5em;\n  height: .3em\n}\n\n.vjs-volume-bar.vjs-slider-vertical {\n  width: .3em;\n  height: 5em;\n  margin: 1.35em auto\n}\n\n.video-js .vjs-volume-level {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background-color: #fff\n}\n\n.video-js .vjs-volume-level:before {\n  position: absolute;\n  font-size: .9em\n}\n\n.vjs-slider-vertical .vjs-volume-level {\n  width: .3em\n}\n\n.vjs-slider-vertical .vjs-volume-level:before {\n  top: -.5em;\n  left: -.3em\n}\n\n.vjs-slider-horizontal .vjs-volume-level {\n  height: .3em\n}\n\n.vjs-slider-horizontal .vjs-volume-level:before {\n  top: -.3em;\n  right: -.5em\n}\n\n.video-js .vjs-volume-panel.vjs-volume-panel-vertical {\n  width: 4em\n}\n\n.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level {\n  height: 100%\n}\n\n.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level {\n  width: 100%\n}\n\n.video-js .vjs-volume-vertical {\n  width: 3em;\n  height: 8em;\n  bottom: 8em;\n  background-color: #2b333f;\n  background-color: rgba(43, 51, 63, .7)\n}\n\n.video-js .vjs-volume-horizontal .vjs-menu {\n  left: -2em\n}\n\n.vjs-poster {\n  display: inline-block;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-size: contain;\n  background-color: #000;\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: 100%\n}\n\n.vjs-poster img {\n  display: block;\n  vertical-align: middle;\n  margin: 0 auto;\n  max-height: 100%;\n  padding: 0;\n  width: 100%\n}\n\n.vjs-has-started .vjs-poster {\n  display: none\n}\n\n.vjs-audio.vjs-has-started .vjs-poster {\n  display: block\n}\n\n.vjs-using-native-controls .vjs-poster {\n  display: none\n}\n\n.video-js .vjs-live-control {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: flex-start;\n  -webkit-align-items: flex-start;\n  -ms-flex-align: flex-start;\n  align-items: flex-start;\n  -webkit-box-flex: auto;\n  -moz-box-flex: auto;\n  -webkit-flex: auto;\n  -ms-flex: auto;\n  flex: auto;\n  font-size: 1em;\n  line-height: 3em\n}\n\n.vjs-no-flex .vjs-live-control {\n  display: table-cell;\n  width: auto;\n  text-align: left\n}\n\n.video-js .vjs-time-control {\n  -webkit-box-flex: none;\n  -moz-box-flex: none;\n  -webkit-flex: none;\n  -ms-flex: none;\n  flex: none;\n  font-size: 1em;\n  line-height: 3em;\n  min-width: 2em;\n  width: auto;\n  padding-left: 1em;\n  padding-right: 1em\n}\n\n.vjs-live .vjs-time-control {\n  display: none\n}\n\n.video-js .vjs-current-time,\n.vjs-no-flex .vjs-current-time {\n  display: none\n}\n\n.vjs-no-flex .vjs-remaining-time.vjs-time-control.vjs-control {\n  width: 0 !important;\n  white-space: nowrap\n}\n\n.video-js .vjs-duration,\n.vjs-no-flex .vjs-duration {\n  display: none\n}\n\n.vjs-time-divider {\n  display: none;\n  line-height: 3em\n}\n\n.vjs-live .vjs-time-divider {\n  display: none\n}\n\n.video-js .vjs-play-control .vjs-icon-placeholder {\n  cursor: pointer;\n  -webkit-box-flex: none;\n  -moz-box-flex: none;\n  -webkit-flex: none;\n  -ms-flex: none;\n  flex: none\n}\n\n.vjs-text-track-display {\n  position: absolute;\n  bottom: 3em;\n  left: 0;\n  right: 0;\n  top: 0;\n  pointer-events: none\n}\n\n.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display {\n  bottom: 1em\n}\n\n.video-js .vjs-text-track {\n  font-size: 1.4em;\n  text-align: center;\n  margin-bottom: .1em;\n  background-color: #000;\n  background-color: rgba(0, 0, 0, .5)\n}\n\n.vjs-subtitles {\n  color: #fff\n}\n\n.vjs-captions {\n  color: #fc6\n}\n\n.vjs-tt-cue {\n  display: block\n}\n\nvideo::-webkit-media-text-track-display {\n  -moz-transform: translateY(-3em);\n  -ms-transform: translateY(-3em);\n  -o-transform: translateY(-3em);\n  -webkit-transform: translateY(-3em);\n  transform: translateY(-3em)\n}\n\n.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display {\n  -moz-transform: translateY(-1.5em);\n  -ms-transform: translateY(-1.5em);\n  -o-transform: translateY(-1.5em);\n  -webkit-transform: translateY(-1.5em);\n  transform: translateY(-1.5em)\n}\n\n.video-js .vjs-fullscreen-control {\n  cursor: pointer;\n  -webkit-box-flex: none;\n  -moz-box-flex: none;\n  -webkit-flex: none;\n  -ms-flex: none;\n  flex: none\n}\n\n.vjs-playback-rate .vjs-playback-rate-value,\n.vjs-playback-rate>.vjs-menu-button {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%\n}\n\n.vjs-playback-rate .vjs-playback-rate-value {\n  pointer-events: none;\n  font-size: 1.5em;\n  line-height: 2;\n  text-align: center\n}\n\n.vjs-playback-rate .vjs-menu {\n  width: 4em;\n  left: 0\n}\n\n.vjs-error .vjs-error-display .vjs-modal-dialog-content {\n  font-size: 1.4em;\n  text-align: center\n}\n\n.vjs-error .vjs-error-display:before {\n  color: #fff;\n  content: \'X\';\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 4em;\n  left: 0;\n  line-height: 1;\n  margin-top: -.5em;\n  position: absolute;\n  text-shadow: .05em .05em .1em #000;\n  text-align: center;\n  top: 50%;\n  vertical-align: middle;\n  width: 100%\n}\n\n.vjs-loading-spinner {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n  opacity: .85;\n  text-align: left;\n  border: 6px solid rgba(43, 51, 63, .7);\n  box-sizing: border-box;\n  background-clip: padding-box;\n  width: 50px;\n  height: 50px;\n  border-radius: 25px\n}\n\n.vjs-seeking .vjs-loading-spinner,\n.vjs-waiting .vjs-loading-spinner {\n  display: block\n}\n\n.vjs-loading-spinner:after,\n.vjs-loading-spinner:before {\n  content: "";\n  position: absolute;\n  margin: -6px;\n  box-sizing: inherit;\n  width: inherit;\n  height: inherit;\n  border-radius: inherit;\n  opacity: 1;\n  border: inherit;\n  border-color: transparent;\n  border-top-color: #fff\n}\n\n.vjs-seeking .vjs-loading-spinner:after,\n.vjs-seeking .vjs-loading-spinner:before,\n.vjs-waiting .vjs-loading-spinner:after,\n.vjs-waiting .vjs-loading-spinner:before {\n  -webkit-animation: vjs-spinner-spin 1.1s cubic-bezier(.6, .2, 0, .8) infinite, vjs-spinner-fade 1.1s linear infinite;\n  animation: vjs-spinner-spin 1.1s cubic-bezier(.6, .2, 0, .8) infinite, vjs-spinner-fade 1.1s linear infinite\n}\n\n.vjs-seeking .vjs-loading-spinner:before,\n.vjs-waiting .vjs-loading-spinner:before {\n  border-top-color: #fff\n}\n\n.vjs-seeking .vjs-loading-spinner:after,\n.vjs-waiting .vjs-loading-spinner:after {\n  border-top-color: #fff;\n  -webkit-animation-delay: .44s;\n  animation-delay: .44s\n}\n\n@keyframes vjs-spinner-spin {\n  100% {\n    transform: rotate(360deg)\n  }\n}\n\n@-webkit-keyframes vjs-spinner-spin {\n  100% {\n    -webkit-transform: rotate(360deg)\n  }\n}\n\n@keyframes vjs-spinner-fade {\n  0% {\n    border-top-color: #73859f\n  }\n\n  20% {\n    border-top-color: #73859f\n  }\n\n  35% {\n    border-top-color: #fff\n  }\n\n  60% {\n    border-top-color: #73859f\n  }\n\n  100% {\n    border-top-color: #73859f\n  }\n}\n\n@-webkit-keyframes vjs-spinner-fade {\n  0% {\n    border-top-color: #73859f\n  }\n\n  20% {\n    border-top-color: #73859f\n  }\n\n  35% {\n    border-top-color: #fff\n  }\n\n  60% {\n    border-top-color: #73859f\n  }\n\n  100% {\n    border-top-color: #73859f\n  }\n}\n\n.vjs-chapters-button .vjs-menu ul {\n  width: 24em\n}\n\n.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder {\n  position: absolute\n}\n\n.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before {\n  font-family: VideoJS;\n  content: "\\f10d";\n  font-size: 1.5em;\n  line-height: inherit\n}\n\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-custom-control-spacer {\n  -webkit-box-flex: auto;\n  -moz-box-flex: auto;\n  -webkit-flex: auto;\n  -ms-flex: auto;\n  flex: auto\n}\n\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen).vjs-no-flex .vjs-custom-control-spacer {\n  width: auto\n}\n\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-audio-button,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-captions-button,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-chapters-button,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-current-time,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-descriptions-button,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-duration,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-mute-control,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-playback-rate,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-progress-control,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-remaining-time,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-subtitles-button,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-time-divider,\n.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-volume-control {\n  display: none\n}\n\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-audio-button,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-captions-button,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-chapters-button,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-current-time,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-descriptions-button,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-duration,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-mute-control,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-playback-rate,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-remaining-time,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-subtitles-button,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-time-divider,\n.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-volume-control {\n  display: none\n}\n\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-captions-button,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-chapters-button,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-current-time,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-descriptions-button,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-duration,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-mute-control,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-playback-rate,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-remaining-time,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-subtitles-button .vjs-audio-button,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-time-divider,\n.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-volume-control {\n  display: none\n}\n\n.vjs-modal-dialog.vjs-text-track-settings {\n  background-color: #2b333f;\n  background-color: rgba(43, 51, 63, .75);\n  color: #fff;\n  height: 70%\n}\n\n.vjs-text-track-settings .vjs-modal-dialog-content {\n  display: table\n}\n\n.vjs-text-track-settings .vjs-track-settings-colors,\n.vjs-text-track-settings .vjs-track-settings-controls,\n.vjs-text-track-settings .vjs-track-settings-font {\n  display: table-cell\n}\n\n.vjs-text-track-settings .vjs-track-settings-controls {\n  text-align: right;\n  vertical-align: bottom\n}\n\n.vjs-text-track-settings fieldset {\n  margin: 5px;\n  padding: 3px;\n  border: none\n}\n\n.vjs-text-track-settings fieldset span {\n  display: inline-block;\n  margin-left: 5px\n}\n\n.vjs-text-track-settings legend {\n  color: #fff;\n  margin: 0 0 5px 0\n}\n\n.vjs-text-track-settings .vjs-label {\n  position: absolute;\n  clip: rect(1px 1px 1px 1px);\n  clip: rect(1px, 1px, 1px, 1px);\n  display: block;\n  margin: 0 0 5px 0;\n  padding: 0;\n  border: 0;\n  height: 1px;\n  width: 1px;\n  overflow: hidden\n}\n\n.vjs-track-settings-controls button:active,\n.vjs-track-settings-controls button:focus {\n  outline-style: solid;\n  outline-width: medium;\n  background-image: linear-gradient(0deg, #fff 88%, #73859f 100%)\n}\n\n.vjs-track-settings-controls button:hover {\n  color: rgba(43, 51, 63, .75)\n}\n\n.vjs-track-settings-controls button {\n  background-color: #fff;\n  background-image: linear-gradient(-180deg, #fff 88%, #73859f 100%);\n  color: #2b333f;\n  cursor: pointer;\n  border-radius: 2px\n}\n\n.vjs-track-settings-controls .vjs-default-button {\n  margin-right: 1em\n}\n\n.video-js, .video-player {\n  width: 100% !important;\n  height: 100% !important;\n}\n\n@media print {\n  .video-js>:not(.vjs-tech):not(.vjs-poster) {\n    visibility: hidden\n  }\n}\n\n@media \\0screen {\n  .vjs-user-inactive.vjs-playing .vjs-control-bar :before {\n    content: ""\n  }\n}\n\n@media \\0screen {\n  .vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar {\n    visibility: hidden\n  }\n}\n\n\n.video-player .vjs-error .vjs-error-display:before {\n  content: \'\' !important;\n}'],sourceRoot:""}]);const h=d},6892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(4015),r=n.n(i),o=n(3645),a=n.n(o)()(r());a.push([e.id,'.container-shell {\n  /* backdrop-filter: blur(5px);\n  background: hsla(0, 0%, 50%, 0.5);\n  padding: 30px 4px 10px 4px; */\n  /* border: 2px solid black; */\n  /* /* box-shadow: 0 10px 20px; */\n  width: auto;\n  position: relative;\n  border-radius: 5px;\n  width: 100%;\n  height: 100%;\n}\n\n/* .container-shell:before {\n  content: "jessibuca demo player";\n  position: absolute;\n  color: darkgray;\n  top: 4px;\n  left: 10px;\n  text-shadow: 1px 1px black;\n} */\n\n#container {\n  background: rgba(13, 14, 27, 0.7);\n  width: 640px;\n  height: 398px;\n}\n.jessibuc-container {\n  /* position: absolute; */\n  left: 0;\n  right: 0;\n}\n.jessconfigute-control {\n  display: block;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 38px;\n  line-height: 38px;\n  z-index: 20;\n  text-align: right;\n  padding: 0 1rem;\n  background: #161616;\n  color: #fff;\n  font-size: 1.5rem;\n}\n\n@media (max-width: 720px) {\n  /* #container {\n      width: 90vw;\n      height: 52.7vw;\n  } */\n}\n\n.jessibuca-container {\n  position: relative;\n  display: block;\n  width: 100%;\n  height: 100%;\n  overflow: hidden; }\n \n\n  .container-shell {\n    backdrop-filter: blur(5px);\n    background: hsla(0, 0%, 50%, 0.5);\n    width: auto;\n    position: relative;\n}\n\n.container-shell:before {\n    content: "";\n    position: absolute;\n    color: darkgray;\n    top: 0;\n    left: 0;\n}\n\n#container {\n    margin: 0 auto;\n    background: rgba(13, 14, 27, 0.7);\n    width: 640px;\n    height: 398px;\n}\n\n.jessibuca-container .jessibuca-controls-bottom .jessibuca-icon {\n  width: 32px;\n  height: 32px;\n}\n.jessconfigute-control .anticon-fullscreen svg {\n  width: 32px;\n  height: 32px;\n}',"",{version:3,sources:["webpack://./src/components/jessibuca.css"],names:[],mappings:"AAAA;EACE;;+BAE6B;EAC7B,6BAA6B;EAC7B,gCAAgC;EAChC,WAAW;EACX,kBAAkB;EAClB,kBAAkB;EAClB,WAAW;EACX,YAAY;AACd;;AAEA;;;;;;;GAOG;;AAEH;EACE,iCAAiC;EACjC,YAAY;EACZ,aAAa;AACf;AACA;EACE,wBAAwB;EACxB,OAAO;EACP,QAAQ;AACV;AACA;EACE,cAAc;EACd,kBAAkB;EAClB,OAAO;EACP,QAAQ;EACR,SAAS;EACT,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,WAAW;EACX,iBAAiB;EACjB,eAAe;EACf,mBAAmB;EACnB,WAAW;EACX,iBAAiB;AACnB;;AAEA;EACE;;;KAGG;AACL;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,WAAW;EACX,YAAY;EACZ,gBAAgB,EAAE;;;EAGlB;IACE,0BAA0B;IAC1B,iCAAiC;IACjC,WAAW;IACX,kBAAkB;AACtB;;AAEA;IACI,WAAW;IACX,kBAAkB;IAClB,eAAe;IACf,MAAM;IACN,OAAO;AACX;;AAEA;IACI,cAAc;IACd,iCAAiC;IACjC,YAAY;IACZ,aAAa;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,WAAW;EACX,YAAY;AACd",sourcesContent:['.container-shell {\n  /* backdrop-filter: blur(5px);\n  background: hsla(0, 0%, 50%, 0.5);\n  padding: 30px 4px 10px 4px; */\n  /* border: 2px solid black; */\n  /* /* box-shadow: 0 10px 20px; */\n  width: auto;\n  position: relative;\n  border-radius: 5px;\n  width: 100%;\n  height: 100%;\n}\n\n/* .container-shell:before {\n  content: "jessibuca demo player";\n  position: absolute;\n  color: darkgray;\n  top: 4px;\n  left: 10px;\n  text-shadow: 1px 1px black;\n} */\n\n#container {\n  background: rgba(13, 14, 27, 0.7);\n  width: 640px;\n  height: 398px;\n}\n.jessibuc-container {\n  /* position: absolute; */\n  left: 0;\n  right: 0;\n}\n.jessconfigute-control {\n  display: block;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 38px;\n  line-height: 38px;\n  z-index: 20;\n  text-align: right;\n  padding: 0 1rem;\n  background: #161616;\n  color: #fff;\n  font-size: 1.5rem;\n}\n\n@media (max-width: 720px) {\n  /* #container {\n      width: 90vw;\n      height: 52.7vw;\n  } */\n}\n\n.jessibuca-container {\n  position: relative;\n  display: block;\n  width: 100%;\n  height: 100%;\n  overflow: hidden; }\n \n\n  .container-shell {\n    backdrop-filter: blur(5px);\n    background: hsla(0, 0%, 50%, 0.5);\n    width: auto;\n    position: relative;\n}\n\n.container-shell:before {\n    content: "";\n    position: absolute;\n    color: darkgray;\n    top: 0;\n    left: 0;\n}\n\n#container {\n    margin: 0 auto;\n    background: rgba(13, 14, 27, 0.7);\n    width: 640px;\n    height: 398px;\n}\n\n.jessibuca-container .jessibuca-controls-bottom .jessibuca-icon {\n  width: 32px;\n  height: 32px;\n}\n.jessconfigute-control .anticon-fullscreen svg {\n  width: 32px;\n  height: 32px;\n}'],sourceRoot:""}]);const s=a},6018:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(4015),r=n.n(i),o=n(3645),a=n.n(o)()(r());a.push([e.id,'.react_time_range__time_range_container {\n  position: relative;\n  height: 30px;\n  width: 100%;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n\n.react_time_range__keyboard_handle {\n  position: absolute;\n  transform: translate(-50%, -50%);\n  z-index: 3;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.3)\n}\n\n.react_time_range__track,\n.react_time_range__track__disabled {\n  position: absolute;\n  top: 15px;\n  transform: translate(0%, -50%);\n  height: 30px;\n  cursor: pointer;\n  transition: background-color .15s ease-in-out, border-color .15s ease;\n  z-index: 3\n}\n\n.react_time_range__track__disabled {\n  z-index: 1;\n  border-left: 1px solid #C8CACC;\n  border-right: 1px solid #C8CACC;\n  background: repeating-linear-gradient(-45deg, transparent, transparent 3px, #D0D3D7 4px, #D0D3D7 2px)\n}\n\n.react_time_range__rail__outer {\n  position: absolute;\n  width: 100%;\n  height: 30px;\n  transform: translate(0%, 0%);\n  cursor: pointer;\n  z-index: 1;\n  border-left: 1px solid #C8CACC;\n  border-right: 1px solid #C8CACC;\n  background: repeating-linear-gradient(-45deg, transparent, transparent 3px, #D0D3D7 4px, #D0D3D7 2px)\n}\n\n.react_time_range__rail__inner {\n  position: absolute;\n  width: 100%;\n  height: 30px;\n  transform: translate(0%, 0%);\n  pointer-events: none;\n  background-color: #F5F7FA;\n  border-bottom: 1px solid #C8CACC;\n}\n\n.react_time_range__handle_wrapper {\n  position: absolute;\n  transform: translate(-50%, -50%);\n  -webkit-tap-highlight-color: #000;\n  z-index: 6;\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n  background-color: transparent\n}\n\n.react_time_range__handle_container,\n.react_time_range__handle_container__disabled {\n  position: absolute;\n  display: flex;\n  transform: translate(-50%, -50%);\n  z-index: 4;\n  width: 10px;\n  height: 30px;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.4);\n  background-color: #fff;\n  cursor: pointer;\n}\n\n.react_time_range__handle_container__disabled {\n  background-color: #666\n}\n\n.react_time_range__handle_marker,\n.react_time_range__handle_marker__error {\n  width: 2px;\n  height: 12px;\n  margin: auto;\n  border-radius: 2px;\n  background-color: #62cb66;\n  transition: background-color .2s ease\n}\n\n/* .react_time_range__handle_marker__error {\n  background-color: #d6000b\n} */\n\n.react_time_range__tick_marker,\n.react_time_range__tick_marker__large {\n  position: absolute;\n  margin-top: 20px;\n  width: 1px;\n  height: 5px;\n  background-color: #C8CACC;\n  z-index: 2\n}\n\n.react_time_range__tick_marker__large {\n  margin-top: 15px;\n  height: 10px\n}\n\n.react_time_range__tick_label {\n  position: absolute;\n  margin-top: 28px;\n  font-size: 10px;\n  text-align: center;\n  z-index: 2;\n  color: #77828C;\n  font-family: sans-serif\n}\n\nspan[title="Record Schedule"] {\n  display: none;\n}\n\n\n\n/* Timelinemin */\n.time_line {\n  /* background-color: rgb(0, 255, 234, 0); */\n  position: absolute;\n}\n.is_have_video {\n  /* background-color: gray; */\n  position: absolute;\n}\n.time_line_layer {\n  /* background-color: rgb(0, 255, 234, 0); */\n  position: absolute;\n}\n.tooltip_div {\n  position: absolute;\n  background-color: rgba(0, 0, 0, .2);\n  color: #fff;\n  font-size: 10px;\n  width: 75px;\n  text-align: center;\n  z-index: 99;\n}',"",{version:3,sources:["webpack://./src/components/timeline.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,sBAAsB;EACtB,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,gCAAgC;EAChC,UAAU;EACV,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB;AACF;;AAEA;;EAEE,kBAAkB;EAClB,SAAS;EACT,8BAA8B;EAC9B,YAAY;EACZ,eAAe;EACf,qEAAqE;EACrE;AACF;;AAEA;EACE,UAAU;EACV,8BAA8B;EAC9B,+BAA+B;EAC/B;AACF;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,4BAA4B;EAC5B,eAAe;EACf,UAAU;EACV,8BAA8B;EAC9B,+BAA+B;EAC/B;AACF;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,4BAA4B;EAC5B,oBAAoB;EACpB,yBAAyB;EACzB,gCAAgC;AAClC;;AAEA;EACE,kBAAkB;EAClB,gCAAgC;EAChC,iCAAiC;EACjC,UAAU;EACV,WAAW;EACX,YAAY;EACZ,eAAe;EACf;AACF;;AAEA;;EAEE,kBAAkB;EAClB,aAAa;EACb,gCAAgC;EAChC,UAAU;EACV,WAAW;EACX,YAAY;EACZ,sCAAsC;EACtC,sBAAsB;EACtB,eAAe;AACjB;;AAEA;EACE;AACF;;AAEA;;EAEE,UAAU;EACV,YAAY;EACZ,YAAY;EACZ,kBAAkB;EAClB,yBAAyB;EACzB;AACF;;AAEA;;GAEG;;AAEH;;EAEE,kBAAkB;EAClB,gBAAgB;EAChB,UAAU;EACV,WAAW;EACX,yBAAyB;EACzB;AACF;;AAEA;EACE,gBAAgB;EAChB;AACF;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,eAAe;EACf,kBAAkB;EAClB,UAAU;EACV,cAAc;EACd;AACF;;AAEA;EACE,aAAa;AACf;;;;AAIA,gBAAgB;AAChB;EACE,2CAA2C;EAC3C,kBAAkB;AACpB;AACA;EACE,4BAA4B;EAC5B,kBAAkB;AACpB;AACA;EACE,2CAA2C;EAC3C,kBAAkB;AACpB;AACA;EACE,kBAAkB;EAClB,mCAAmC;EACnC,WAAW;EACX,eAAe;EACf,WAAW;EACX,kBAAkB;EAClB,WAAW;AACb",sourcesContent:['.react_time_range__time_range_container {\n  position: relative;\n  height: 30px;\n  width: 100%;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n\n.react_time_range__keyboard_handle {\n  position: absolute;\n  transform: translate(-50%, -50%);\n  z-index: 3;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.3)\n}\n\n.react_time_range__track,\n.react_time_range__track__disabled {\n  position: absolute;\n  top: 15px;\n  transform: translate(0%, -50%);\n  height: 30px;\n  cursor: pointer;\n  transition: background-color .15s ease-in-out, border-color .15s ease;\n  z-index: 3\n}\n\n.react_time_range__track__disabled {\n  z-index: 1;\n  border-left: 1px solid #C8CACC;\n  border-right: 1px solid #C8CACC;\n  background: repeating-linear-gradient(-45deg, transparent, transparent 3px, #D0D3D7 4px, #D0D3D7 2px)\n}\n\n.react_time_range__rail__outer {\n  position: absolute;\n  width: 100%;\n  height: 30px;\n  transform: translate(0%, 0%);\n  cursor: pointer;\n  z-index: 1;\n  border-left: 1px solid #C8CACC;\n  border-right: 1px solid #C8CACC;\n  background: repeating-linear-gradient(-45deg, transparent, transparent 3px, #D0D3D7 4px, #D0D3D7 2px)\n}\n\n.react_time_range__rail__inner {\n  position: absolute;\n  width: 100%;\n  height: 30px;\n  transform: translate(0%, 0%);\n  pointer-events: none;\n  background-color: #F5F7FA;\n  border-bottom: 1px solid #C8CACC;\n}\n\n.react_time_range__handle_wrapper {\n  position: absolute;\n  transform: translate(-50%, -50%);\n  -webkit-tap-highlight-color: #000;\n  z-index: 6;\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n  background-color: transparent\n}\n\n.react_time_range__handle_container,\n.react_time_range__handle_container__disabled {\n  position: absolute;\n  display: flex;\n  transform: translate(-50%, -50%);\n  z-index: 4;\n  width: 10px;\n  height: 30px;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.4);\n  background-color: #fff;\n  cursor: pointer;\n}\n\n.react_time_range__handle_container__disabled {\n  background-color: #666\n}\n\n.react_time_range__handle_marker,\n.react_time_range__handle_marker__error {\n  width: 2px;\n  height: 12px;\n  margin: auto;\n  border-radius: 2px;\n  background-color: #62cb66;\n  transition: background-color .2s ease\n}\n\n/* .react_time_range__handle_marker__error {\n  background-color: #d6000b\n} */\n\n.react_time_range__tick_marker,\n.react_time_range__tick_marker__large {\n  position: absolute;\n  margin-top: 20px;\n  width: 1px;\n  height: 5px;\n  background-color: #C8CACC;\n  z-index: 2\n}\n\n.react_time_range__tick_marker__large {\n  margin-top: 15px;\n  height: 10px\n}\n\n.react_time_range__tick_label {\n  position: absolute;\n  margin-top: 28px;\n  font-size: 10px;\n  text-align: center;\n  z-index: 2;\n  color: #77828C;\n  font-family: sans-serif\n}\n\nspan[title="Record Schedule"] {\n  display: none;\n}\n\n\n\n/* Timelinemin */\n.time_line {\n  /* background-color: rgb(0, 255, 234, 0); */\n  position: absolute;\n}\n.is_have_video {\n  /* background-color: gray; */\n  position: absolute;\n}\n.time_line_layer {\n  /* background-color: rgb(0, 255, 234, 0); */\n  position: absolute;\n}\n.tooltip_div {\n  position: absolute;\n  background-color: rgba(0, 0, 0, .2);\n  color: #fff;\n  font-size: 10px;\n  width: 75px;\n  text-align: center;\n  z-index: 99;\n}'],sourceRoot:""}]);const s=a},1424:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(4015),r=n.n(i),o=n(3645),a=n.n(o)()(r());a.push([e.id,".triangle:hover { \n  border-color: yellow transparent transparent\n}\n.paragraph-warning{\n  max-height: 170px;\n  overflow-y: scroll;\n}\n.paragraph-warning .ant-typography {\n  margin-bottom: .3rem !important;\n}\n/* .triangle {\n  width: 0;\n  height: 0;\n  border-left: 20px solid transparent;\n  border-right: 20px solid transparent ;\n  border-bottom: 20px solid transparent ;\n  border-top: 20px solid blue \n} */\n\n/* .mainContainer {\n  display: block;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.urlInput {\n  display: block;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 8px;\n  margin-bottom: 8px;\n}\n\n.centeredVideo {\n  display: block;\n  width: 100%;\n  height: 576px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: auto;\n}\n\n.controls {\n  display: block;\n  width: 100%;\n  text-align: left;\n  margin-left: auto;\n  margin-right: auto;\n} */\n.mainContainer {\n  display: block;\n  width: 100%;\n  height: 100%;\n  margin-left: auto;\n  margin-right: auto;\n}\n.centeredVideo {\n  width: 100%;\n  object-fit:fill;\n}\n.video-player .vjs_video_3-dimensions {\n  width: 100%;\n  height: 100%;\n}\n.video-player .vjs-tech {\n  width: 100%;\n  height: 100%;\n}\n.video-player .vjs-text-track-display,.video-player .vjs-loading-spinner, .video-player .vjs-control-bar, .video-player .vjs-hidden{\n  display: none;\n}\n.video-player .vjs-big-play-button {\n  display: block;\n}\n.video-item{\n  width: 100%;\n  height: 100%;\n}\n\n.video-poster-box {\n  width: 100%;\n  height: 100%;\n  background: url('https://upload-images.jianshu.io/upload_images/7275341-4fc8b7b138472450.png?imageMogr2/auto-orient/strip|imageView2/2/w/600/format/webp') no-repeat;\n  background-size: 100% 100%;\n}\n\n.widget_ChannelSelectorWidget .ant-select {\n  width: 100%;\n}","",{version:3,sources:["webpack://./src/index.css"],names:[],mappings:"AAAA;EACE;AACF;AACA;EACE,iBAAiB;EACjB,kBAAkB;AACpB;AACA;EACE,+BAA+B;AACjC;AACA;;;;;;;GAOG;;AAEH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA+BG;AACH;EACE,cAAc;EACd,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,kBAAkB;AACpB;AACA;EACE,WAAW;EACX,eAAe;AACjB;AACA;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,aAAa;AACf;AACA;EACE,cAAc;AAChB;AACA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,oKAAoK;EACpK,0BAA0B;AAC5B;;AAEA;EACE,WAAW;AACb",sourcesContent:[".triangle:hover { \n  border-color: yellow transparent transparent\n}\n.paragraph-warning{\n  max-height: 170px;\n  overflow-y: scroll;\n}\n.paragraph-warning .ant-typography {\n  margin-bottom: .3rem !important;\n}\n/* .triangle {\n  width: 0;\n  height: 0;\n  border-left: 20px solid transparent;\n  border-right: 20px solid transparent ;\n  border-bottom: 20px solid transparent ;\n  border-top: 20px solid blue \n} */\n\n/* .mainContainer {\n  display: block;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.urlInput {\n  display: block;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 8px;\n  margin-bottom: 8px;\n}\n\n.centeredVideo {\n  display: block;\n  width: 100%;\n  height: 576px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: auto;\n}\n\n.controls {\n  display: block;\n  width: 100%;\n  text-align: left;\n  margin-left: auto;\n  margin-right: auto;\n} */\n.mainContainer {\n  display: block;\n  width: 100%;\n  height: 100%;\n  margin-left: auto;\n  margin-right: auto;\n}\n.centeredVideo {\n  width: 100%;\n  object-fit:fill;\n}\n.video-player .vjs_video_3-dimensions {\n  width: 100%;\n  height: 100%;\n}\n.video-player .vjs-tech {\n  width: 100%;\n  height: 100%;\n}\n.video-player .vjs-text-track-display,.video-player .vjs-loading-spinner, .video-player .vjs-control-bar, .video-player .vjs-hidden{\n  display: none;\n}\n.video-player .vjs-big-play-button {\n  display: block;\n}\n.video-item{\n  width: 100%;\n  height: 100%;\n}\n\n.video-poster-box {\n  width: 100%;\n  height: 100%;\n  background: url('https://upload-images.jianshu.io/upload_images/7275341-4fc8b7b138472450.png?imageMogr2/auto-orient/strip|imageView2/2/w/600/format/webp') no-repeat;\n  background-size: 100% 100%;\n}\n\n.widget_ChannelSelectorWidget .ant-select {\n  width: 100%;\n}"],sourceRoot:""}]);const s=a},493:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(4015),r=n.n(i),o=n(3645),a=n.n(o)()(r());a.push([e.id,".device-video-icon {\n    width: 6rem !important;\n    height: 6rem !important;\n}\n.percent-video {\n    width: 8rem !important;\n    height: 8rem !important;\n}","",{version:3,sources:["webpack://./src/videoManagement/components/echarts.css"],names:[],mappings:"AAAA;IACI,sBAAsB;IACtB,uBAAuB;AAC3B;AACA;IACI,sBAAsB;IACtB,uBAAuB;AAC3B",sourcesContent:[".device-video-icon {\n    width: 6rem !important;\n    height: 6rem !important;\n}\n.percent-video {\n    width: 8rem !important;\n    height: 8rem !important;\n}"],sourceRoot:""}]);const s=a},7867:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(4015),r=n.n(i),o=n(3645),a=n.n(o)()(r());a.push([e.id,'\n.video-buttons {\n    position: relative;\n    width: 100%;\n    border-radius: 50%;\n    --triangle-border: 16px;\n}\n.video-buttons::before{content: "";padding-top: 100%;display: block;}\n.video-buttons-inner {\n    position: absolute;\n    left: 8%; right: 8%;\n    top: 8%; bottom: 8%;\n    box-shadow: 1px 1px 10px #333;\n    border-radius: 50%;\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.video-buttons-center {\n    position: absolute;\n    left: 30%; right: 30%;\n    top: 30%; bottom: 30%;\n    box-shadow: 1px 1px 10px #333;\n    border-radius: 50%;\n    background-color: rgba(255, 255, 255, 0.15);\n}\n\n.video-buttons .triangle {\n    position: absolute;\n    width: 14%;\n}\n.video-buttons .triangle:hover {\n}\n.video-buttons .triangle > svg {\n    width: 100%;\n    height: 100%;\n}',"",{version:3,sources:["webpack://./src/widgets/ButtonControl.css"],names:[],mappings:";AACA;IACI,kBAAkB;IAClB,WAAW;IACX,kBAAkB;IAClB,uBAAuB;AAC3B;AACA,uBAAuB,WAAW,CAAC,iBAAiB,CAAC,cAAc,CAAC;AACpE;IACI,kBAAkB;IAClB,QAAQ,EAAE,SAAS;IACnB,OAAO,EAAE,UAAU;IACnB,6BAA6B;IAC7B,kBAAkB;IAClB,0CAA0C;AAC9C;AACA;IACI,kBAAkB;IAClB,SAAS,EAAE,UAAU;IACrB,QAAQ,EAAE,WAAW;IACrB,6BAA6B;IAC7B,kBAAkB;IAClB,2CAA2C;AAC/C;;AAEA;IACI,kBAAkB;IAClB,UAAU;AACd;AACA;AACA;AACA;IACI,WAAW;IACX,YAAY;AAChB",sourcesContent:['\n.video-buttons {\n    position: relative;\n    width: 100%;\n    border-radius: 50%;\n    --triangle-border: 16px;\n}\n.video-buttons::before{content: "";padding-top: 100%;display: block;}\n.video-buttons-inner {\n    position: absolute;\n    left: 8%; right: 8%;\n    top: 8%; bottom: 8%;\n    box-shadow: 1px 1px 10px #333;\n    border-radius: 50%;\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.video-buttons-center {\n    position: absolute;\n    left: 30%; right: 30%;\n    top: 30%; bottom: 30%;\n    box-shadow: 1px 1px 10px #333;\n    border-radius: 50%;\n    background-color: rgba(255, 255, 255, 0.15);\n}\n\n.video-buttons .triangle {\n    position: absolute;\n    width: 14%;\n}\n.video-buttons .triangle:hover {\n}\n.video-buttons .triangle > svg {\n    width: 100%;\n    height: 100%;\n}'],sourceRoot:""}]);const s=a},526:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(4015),r=n.n(i),o=n(3645),a=n.n(o)()(r());a.push([e.id,"/*插件*/\n.plugin{\n  width:100%;\n  height:100%;\n}\nfieldset {\n  display:block;\n}\n.video-control-plugin .ant-select {\n  display: inline-block;\n  width: 200px !important;\n}","",{version:3,sources:["webpack://./src/widgets/webVideos.css"],names:[],mappings:"AAAA,KAAK;AACL;EACE,UAAU;EACV,WAAW;AACb;AACA;EACE,aAAa;AACf;AACA;EACE,qBAAqB;EACrB,uBAAuB;AACzB",sourcesContent:["/*插件*/\n.plugin{\n  width:100%;\n  height:100%;\n}\nfieldset {\n  display:block;\n}\n.video-control-plugin .ant-select {\n  display: inline-block;\n  width: 200px !important;\n}"],sourceRoot:""}]);const s=a},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},4015:e=>{"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}e.exports=function(e){var n,i,r=(i=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(n,i)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[1],a=r[3];if(!a)return o;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),c="/*# ".concat(l," */"),u=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[o].concat(u).concat([c]).join("\n")}return[o].join("\n")}},1667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},7484:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,n="millisecond",i="second",r="minute",o="hour",a="day",s="week",l="month",c="quarter",u="year",d="date",A="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},m=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},g={s:m,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+m(i,2,"0")+":"+m(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,l),o=n-r<0,a=t.clone().add(i+(o?-1:1),l);return+(-(i+(n-r)/(o?r-a:a-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:u,w:s,d:a,D:d,h:o,m:r,s:i,ms:n,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",y={};y[v]=f;var b=function(e){return e instanceof w},C=function e(t,n,i){var r;if(!t)return v;if("string"==typeof t){var o=t.toLowerCase();y[o]&&(r=o),n&&(y[o]=n,r=o);var a=t.split("-");if(!r&&a.length>1)return e(a[0])}else{var s=t.name;y[s]=t,r=s}return!i&&r&&(v=r),r||!i&&v},_=function(e,t){if(b(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new w(n)},E=g;E.l=C,E.i=b,E.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var w=function(){function f(e){this.$L=C(e.locale,null,!0),this.parse(e)}var m=f.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(E.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(h);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return E},m.isValid=function(){return!(this.$d.toString()===A)},m.isSame=function(e,t){var n=_(e);return this.startOf(t)<=n&&n<=this.endOf(t)},m.isAfter=function(e,t){return _(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<_(e)},m.$g=function(e,t,n){return E.u(e)?this[t]:this.set(n,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var n=this,c=!!E.u(t)||t,A=E.p(e),h=function(e,t){var i=E.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return c?i:i.endOf(a)},p=function(e,t){return E.w(n.toDate()[e].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},f=this.$W,m=this.$M,g=this.$D,v="set"+(this.$u?"UTC":"");switch(A){case u:return c?h(1,0):h(31,11);case l:return c?h(1,m):h(0,m+1);case s:var y=this.$locale().weekStart||0,b=(f<y?f+7:f)-y;return h(c?g-b:g+(6-b),m);case a:case d:return p(v+"Hours",0);case o:return p(v+"Minutes",1);case r:return p(v+"Seconds",2);case i:return p(v+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var s,c=E.p(e),A="set"+(this.$u?"UTC":""),h=(s={},s[a]=A+"Date",s[d]=A+"Date",s[l]=A+"Month",s[u]=A+"FullYear",s[o]=A+"Hours",s[r]=A+"Minutes",s[i]=A+"Seconds",s[n]=A+"Milliseconds",s)[c],p=c===a?this.$D+(t-this.$W):t;if(c===l||c===u){var f=this.clone().set(d,1);f.$d[h](p),f.init(),this.$d=f.set(d,Math.min(this.$D,f.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[E.p(e)]()},m.add=function(n,c){var d,A=this;n=Number(n);var h=E.p(c),p=function(e){var t=_(A);return E.w(t.date(t.date()+Math.round(e*n)),A)};if(h===l)return this.set(l,this.$M+n);if(h===u)return this.set(u,this.$y+n);if(h===a)return p(1);if(h===s)return p(7);var f=(d={},d[r]=e,d[o]=t,d[i]=1e3,d)[h]||1,m=this.$d.getTime()+n*f;return E.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||A;var i=e||"YYYY-MM-DDTHH:mm:ssZ",r=E.z(this),o=this.$H,a=this.$m,s=this.$M,l=n.weekdays,c=n.months,u=function(e,n,r,o){return e&&(e[n]||e(t,i))||r[n].slice(0,o)},d=function(e){return E.s(o%12||12,e,"0")},h=n.meridiem||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i},f={YY:String(this.$y).slice(-2),YYYY:E.s(this.$y,4,"0"),M:s+1,MM:E.s(s+1,2,"0"),MMM:u(n.monthsShort,s,c,3),MMMM:u(c,s),D:this.$D,DD:E.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,l,2),ddd:u(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(o),HH:E.s(o,2,"0"),h:d(1),hh:d(2),a:h(o,a,!0),A:h(o,a,!1),m:String(a),mm:E.s(a,2,"0"),s:String(this.$s),ss:E.s(this.$s,2,"0"),SSS:E.s(this.$ms,3,"0"),Z:r};return i.replace(p,(function(e,t){return t||f[e]||r.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,d,A){var h,p=E.p(d),f=_(n),m=(f.utcOffset()-this.utcOffset())*e,g=this-f,v=E.m(this,f);return v=(h={},h[u]=v/12,h[l]=v,h[c]=v/3,h[s]=(g-m)/6048e5,h[a]=(g-m)/864e5,h[o]=g/t,h[r]=g/e,h[i]=g/1e3,h)[p]||g,A?v:E.a(v)},m.daysInMonth=function(){return this.endOf(l).$D},m.$locale=function(){return y[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=C(e,t,!0);return i&&(n.$L=i),n},m.clone=function(){return E.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},f}(),T=w.prototype;return _.prototype=T,[["$ms",n],["$s",i],["$m",r],["$H",o],["$W",a],["$M",l],["$y",u],["$D",d]].forEach((function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),_.extend=function(e,t){return e.$i||(e(t,w,_),e.$i=!0),_},_.locale=C,_.isDayjs=b,_.unix=function(e){return _(1e3*e)},_.en=y[v],_.Ls=y,_.p={},_}()},2702:function(e,t,n){e.exports=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,r=void 0,o=void 0,a=function(e,t){h[i]=e,h[i+1]=t,2===(i+=2)&&(o?o(p):y())};var s="undefined"!=typeof window?window:void 0,l=s||{},c=l.MutationObserver||l.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function A(){var e=setTimeout;return function(){return e(p,1)}}var h=new Array(1e3);function p(){for(var e=0;e<i;e+=2)(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0;i=0}var f,m,g,v,y=void 0;function b(e,t){var n=this,i=new this.constructor(E);void 0===i[_]&&M(i);var r=n._state;if(r){var o=arguments[r-1];a((function(){return j(r,i,o,n._result)}))}else P(n,i,e,t);return i}function C(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(E);return I(t,e),t}y=u?function(){return process.nextTick(p)}:c?(m=0,g=new c(p),v=document.createTextNode(""),g.observe(v,{characterData:!0}),function(){v.data=m=++m%2}):d?((f=new MessageChannel).port1.onmessage=p,function(){return f.port2.postMessage(0)}):void 0===s?function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(p)}:A()}catch(e){return A()}}():A();var _=Math.random().toString(36).substring(2);function E(){}var w=void 0,T=1,S=2;function k(t,n,i){n.constructor===t.constructor&&i===b&&n.constructor.resolve===C?function(e,t){t._state===T?x(e,t._result):t._state===S?D(e,t._result):P(t,void 0,(function(t){return I(e,t)}),(function(t){return D(e,t)}))}(t,n):void 0===i?x(t,n):e(i)?function(e,t,n){a((function(e){var i=!1,r=function(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}(n,t,(function(n){i||(i=!0,t!==n?I(e,n):x(e,n))}),(function(t){i||(i=!0,D(e,t))}),e._label);!i&&r&&(i=!0,D(e,r))}),e)}(t,n,i):x(t,n)}function I(e,t){if(e===t)D(e,new TypeError("You cannot resolve a promise with itself"));else if(r=typeof(i=t),null===i||"object"!==r&&"function"!==r)x(e,t);else{var n=void 0;try{n=t.then}catch(t){return void D(e,t)}k(e,t,n)}var i,r}function B(e){e._onerror&&e._onerror(e._result),R(e)}function x(e,t){e._state===w&&(e._result=t,e._state=T,0!==e._subscribers.length&&a(R,e))}function D(e,t){e._state===w&&(e._state=S,e._result=t,a(B,e))}function P(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+T]=n,r[o+S]=i,0===o&&e._state&&a(R,e)}function R(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,a=0;a<t.length;a+=3)i=t[a],r=t[a+n],i?j(n,i,r,o):r(o);e._subscribers.length=0}}function j(t,n,i,r){var o=e(i),a=void 0,s=void 0,l=!0;if(o){try{a=i(r)}catch(e){l=!1,s=e}if(n===a)return void D(n,new TypeError("A promises callback cannot return that same promise."))}else a=r;n._state!==w||(o&&l?I(n,a):!1===l?D(n,s):t===T?x(n,a):t===S&&D(n,a))}var L=0;function M(e){e[_]=L++,e._state=void 0,e._result=void 0,e._subscribers=[]}var O=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(E),this.promise[_]||M(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&x(this.promise,this._result))):D(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===w&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===C){var r=void 0,o=void 0,a=!1;try{r=e.then}catch(e){a=!0,o=e}if(r===b&&e._state!==w)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===F){var s=new n(E);a?D(s,o):k(s,e,r),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===w&&(this._remaining--,e===S?D(i,n):this._result[t]=n),0===this._remaining&&x(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;P(e,void 0,(function(e){return n._settledAt(T,t,e)}),(function(e){return n._settledAt(S,t,e)}))},e}();var F=function(){function t(e){this[_]=L++,this._result=this._state=void 0,this._subscribers=[],E!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){I(e,t)}),(function(t){D(e,t)}))}catch(t){D(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this,i=n.constructor;return e(t)?n.then((function(e){return i.resolve(t()).then((function(){return e}))}),(function(e){return i.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();return F.prototype.then=b,F.all=function(e){return new O(this,e).promise},F.race=function(e){var n=this;return t(e)?new n((function(t,i){for(var r=e.length,o=0;o<r;o++)n.resolve(e[o]).then(t,i)})):new n((function(e,t){return t(new TypeError("You must pass an array to race."))}))},F.resolve=C,F.reject=function(e){var t=new this(E);return D(t,e),t},F._setScheduler=function(e){o=e},F._setAsap=function(e){a=e},F._asap=a,F.polyfill=function(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=F},F.Promise=F,F}()},7187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}f(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&f(e,"error",t,{once:!0})}(e,r)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,i){var r,o,a,c;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=l(e))>0&&a.length>r&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=u.bind(i);return r.listener=n,i.wrapFn=r,r}function A(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):p(r,r.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function f(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var c=l.length,u=p(l,c);for(n=0;n<c;++n)i(u[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,i,r,o,a;if(s(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return A(this,e,!0)},o.prototype.rawListeners=function(e){return A(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},3753:(e,t,n)=>{"use strict";var i,r,o;function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e=n.nmd(e);var d=function(){function e(t,n){s(this,e),this.coreX=t,this.coreY=n}return c(e,[{key:"toString",value:function(){return"".concat(this.coreX,"-").concat(this.coreY)}}]),e}();Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e};var A=function(e,t,n){var i=document.getElementsByTagName("head")[0].getElementsByTagName("script"),r=!1;if(n)r=n();else for(var o=0;o<i.length;o++)i[o].getAttribute("src")==e&&(r=!0,t());if(r)t();else{var a=document.createElement("script");a.setAttribute("src",e),a.setAttribute("crossorigin",!0),a.onload=t,document.getElementsByTagName("head")[0].appendChild(a)}},h=function(e){return!!e&&("object"===a(e)||"function"==typeof e)&&"function"==typeof e.then},p=function(e,t){var n=new RegExp("(\\?|#|&)"+e+"=(.*?)(#|&|$)"),i=(t||window.location.href).match(n);return decodeURIComponent(i?i[2]:"")},f=function(e,t){var n=t.parentNode;n.lastChild==t?n.appendChild(e):n.insertBefore(e,t.nextSibling)},m=function(e){return function(e){console.log("requestFullScreen",document.getElementById(e));var t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;if(t)t.call(e);else if(void 0!==window.ActiveXObject){var n=new window.ActiveXObject("WScript.Shell");null!==n&&n.SendKeys("{F11}")}}(e),new Promise((function(e,t){var n=setInterval((function(){if(document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen)return clearInterval(n),e(!0)}),100),i=setTimeout((function(){document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||t(!1),clearTimeout(i)}),2e3)}))},g=function(e){return document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen&&document.mozCancelFullScreen(),new Promise((function(e,t){var n=setInterval((function(){if(!(document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen))return clearInterval(n),e(!0)}),50),i=setTimeout((function(){(document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen)&&t(!1),clearTimeout(i)}),2e3)}))},v=function(e){var t=e.split("/")[3],n=e.split("/")[4].split(".")[0],i=2===e.split("/")[2].split("@").length?e.split("/")[2].split("@")[0]:"",r=-1!==e.indexOf(".hd"),o=e.split("/")[4].split(".")[e.split("/")[4].split(".").length-1].split("?")[0];return"rec"===o&&-1!==e.indexOf(".cloud.rec")&&(o="cloud.rec"),{deviceSerial:t,channelNo:n,validCode:i,hd:r,type:o}},y=function(e,t,n,i,r,o){var s=e,l=new XMLHttpRequest;l.onreadystatechange=function(){if(4==l.readyState&&200==l.status)if(function(e){if("string"==typeof e)try{var t=JSON.parse(e);return!("object"!==a(t)||!t)}catch(e){return!1}console.log("It is not a string!")}(l.responseText)){var e=JSON.parse(l.responseText);r(e)}else r(l.responseText)},l.open(t,s,!0);var c=new FormData;for(var u in n)c.append(u,n[u]);l.send(c)},b=function(){function e(t,n){var i=this;s(this,e),A("https://open.ys7.com/sdk/js/2.0/js/hls.min.js",(function(){console.log("加载hls.min.js成功",window.Hls),console.log("isSupportHls",window.Hls.isSupported()),window.Hls.isSupported()&&i.initHLS(t,n)}))}return c(e,[{key:"toString",value:function(){return"hls ".concat(this.coreX,"-").concat(this.coreY)}},{key:"initHLS",value:function(e,t){var n=document.getElementById(e),i=new window.Hls({defaultAudioCodec:"mp4a.40.2"});i.loadSource(t),i.attachMedia(n),i.on(window.Hls.Events.MANIFEST_PARSED,(function(){n.play()})),i.on(window.Hls.Events.ERROR,(function(e,t){if(t.fatal)switch(t.type){case window.Hls.ErrorTypes.NETWORK_ERROR:console.log("fatal network error encountered, try to recover"),i.startLoad();break;case window.Hls.ErrorTypes.MEDIA_ERROR:console.log("fatal media error encountered, try to recover"),i.recoverMediaError();break;default:i.destroy()}})),this.hls=i,this.video=n,this.hlsUrl=t}},{key:"play",value:function(){console.log("执行hls播放",this.video),this.hls.startLoad(),this.video.play()}},{key:"stop",value:function(){this.video.pause(),this.hls.stopLoad()}}]),e}(),C=function(){function e(t,n){var i=this;s(this,e),A("https://open.ys7.com/sdk/js/2.0/js/flv.min.js",(function(){console.log("加载flv.min.js成功",window.flvjs),console.log("isSupportFlv",window.flvjs.isSupported()),window.flvjs.isSupported()&&i.initFLV(t,n)}))}return c(e,[{key:"toString",value:function(){return"Flv ".concat(this.coreX,"-").concat(this.coreY)}},{key:"initFLV",value:function(e,t){var n=document.getElementById(e);n.getAttribute("controls")||n.setAttribute("controls",!0);var i=window.flvjs.createPlayer({type:"flv",url:t,isLive:!0},{enableStashBuffer:!0,stashInitialSize:128,enableWorker:!0});i.attachMediaElement(n),i.load(),i.play(),this.flvUrl=t,this.flv=i,this.video=n}},{key:"play",value:function(){console.log("执行flv播放",this.video),this.video.play()}},{key:"stop",value:function(){this.video.pause(),this.flv.unload()}}]),e}(),_=function(){function e(t,n){s(this,e),this.id=n,this.jSPlugin=t,this.state={play:!1,loading:!1}}return c(e,[{key:"toString",value:function(){return"".concat(this.coreX,"-").concat(this.coreY)}},{key:"setPlayStatus",value:function(e){this.state=Object.assign(this.state,e)}},{key:"loadingStart",value:function(e){var t=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(t),t.innerHTML="@keyframes antRotate {to {transform: rotate(400deg);transform-origin:50% 50%;}} .loading {display: inline-block;z-index: 1000;-webkit-animation: antRotate 1s infinite linear;animation: antRotate 1s infinite linear;}";var n=e,i=document.getElementById(n),r=i.offsetWidth,o=i.offsetHeight,a=i.offsetLeft;document.getElementById("".concat(e,"-loading-id-0"))&&document.getElementById("".concat(e,"-loading-id-0")).parentNode.removeChild(document.getElementById("".concat(e,"-loading-id-0")));var s=document.createElement("div");s.setAttribute("id","".concat(e,"-loading-id-0"));var l,c,u,d="position:absolute;outline:none;pointer-events:none;";console.log("this.jSPlugin",this.jSPlugin),"string"==typeof this.jSPlugin.poster&&(d+="background: url(".concat(this.jSPlugin.poster,") no-repeat;background-size: cover;")),d+="width: 100%;",d+="height: 100%;",d+="top:0;",d+="left:"+a+"px;",s.setAttribute("style",d),s.style.height=o,s.setAttribute("class","loading-container"),l=s,(u=(c=i).parentNode).lastChild==c?u.appendChild(l):u.insertBefore(l,c.nextSibling);var A=document.createElement("div"),h=document.createElement("div");function p(e,t,n,i){return{top:parseInt(i/n,10)*(e/n),left:i%n*(t/n)}}A.setAttribute("class","loading-item"),A.setAttribute("id","".concat(e,"-loading-item-0")),d="display:inline-flex;pointer-events:none;flex-direction:column;justify-content:center;align-items: center;width:100%;height:"+o+"px;outline:none;vertical-align: top;position:absolute;",d+="left:"+p(o,r,1,0).left+"px;",d+="top:"+p(o,r,1,0).top+"px;",A.setAttribute("style",d);var f=document.createElement("div");h.innerHTML="",h.style.color="#fff",f.setAttribute("class","loading"),f.innerHTML='<svg t="1567069979438" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2399" width="32" height="32"><path d="M538.5344 266.4448a133.12 133.12 0 1 1 133.12-133.12 133.4272 133.4272 0 0 1-133.12 133.12zM255.0144 372.1984a121.6768 121.6768 0 1 1 121.6768-121.6768 121.856 121.856 0 0 1-121.6768 121.6768zM134.72 647.424a107.3664 107.3664 0 1 1 107.3664-107.264A107.52 107.52 0 0 1 134.72 647.424z m120.32 272.4608a90.9824 90.9824 0 1 1 90.9824-90.9824A91.1616 91.1616 0 0 1 255.04 919.8848zM538.5344 1024a79.36 79.36 0 1 1 79.36-79.36 79.36 79.36 0 0 1-79.36 79.36z m287.6928-134.144a64.1792 64.1792 0 1 1 64.1792-64.1792 64.3584 64.3584 0 0 1-64.1792 64.1792z m117.76-296.704a52.6336 52.6336 0 1 1 52.6592-52.6336 52.608 52.608 0 0 1-52.6336 52.6336z m-158.72-338.7136a40.96 40.96 0 1 1 12.0064 28.8512 40.5248 40.5248 0 0 1-12.0064-28.8512z" fill="#ffffff" p-id="2400"></path></svg>',A.appendChild(f),A.appendChild(h),s.appendChild(A)}},{key:"loadingSetText",value:function(e){if(this.loadingClearText(),document.getElementById("".concat(this.id,"-loading-item-0"))){var t=document.getElementById("".concat(this.id,"-loading-item-0")).childNodes[1];if(!t){var n=document.getElementById("".concat(this.id,"-loading-item-0"));(t=document.createElement("div")).innerHTML=e.text,n.appendChild(t)}t.innerHTML=e.text,t.style.fontSize="14px",t.style.color=e.color||"#FFFFFF"}}},{key:"loadingClearText",value:function(){var e=document.getElementById("".concat(this.id,"-loading-item-0")).childNodes;e.length>1&&e[1].parentNode.removeChild(e[1])}},{key:"loadingClear",value:function(){for(var e=document.getElementById("".concat(this.id,"-loading-item-0")).childNodes,t=e.length-1;t>=0;t--)e[t].parentNode.removeChild(e[t]);document.getElementById("".concat(this.id,"-loading-id-0"))&&(document.getElementById("".concat(this.id,"-loading-id-0")).style.background="none")}},{key:"setPoster",value:function(e){document.getElementById("".concat(this.id,"-loading-id-0"))&&(document.getElementById("".concat(this.id,"-loading-id-0")).style.backgroundImage="url(".concat(e,")"))}},{key:"loadingEnd",value:function(){var e=document.getElementById("".concat(this.id,"-loading-item-0"));if(e){e.parentNode.removeChild(e);var t=document.getElementById("".concat(this.id,"-loading-id-0"));t&&0===t.children.length&&t.parentNode.removeChild(t)}document.getElementById("".concat(this.id,"-loading-item-0")).style.background="none"}}]),e}(),E={data:[{moduleCode:"",detailCode:"405984",description:"",solution:"",updateTime:1559564188e3},{moduleCode:"",detailCode:"10035",description:"获取子账户AccessToken异常,子账户不存在或子账户不属于该开发者",solution:"",updateTime:1559551958e3},{moduleCode:"",detailCode:"1052674",description:"获取本地录像失败",solution:"",updateTime:1558579653e3},{moduleCode:"",detailCode:"395547",description:"",solution:"",updateTime:1557367296e3},{moduleCode:"",detailCode:"12",description:"",solution:"",updateTime:1557229476e3},{moduleCode:"",detailCode:"10052",description:"余额不足",solution:"",updateTime:1557121463e3},{moduleCode:"",detailCode:"20108",description:"当前用户和所添加用户不是好友关系",solution:"",updateTime:1556541725e3},{moduleCode:"",detailCode:"10009",description:"",solution:"",updateTime:1556422452e3},{moduleCode:"",detailCode:"320001",description:"通道不存在",solution:"请检查录像机的关联状态是否正常，没有摄像头的通道无法播放",updateTime:1556419044e3},{moduleCode:"",detailCode:"120001",description:"通道不存在",solution:"请检查录像机的关联状态是否正常，没有摄像头的通道无法播放",updateTime:155641903e4},{moduleCode:"",detailCode:"320049",description:"",solution:"",updateTime:1556272984e3},{moduleCode:"",detailCode:"380227",description:"",solution:"",updateTime:1556264379e3},{moduleCode:"",detailCode:"10033",description:"policy参数信息异常",solution:"",updateTime:1555922124e3},{moduleCode:"",detailCode:"10065",description:"weakAppKey 不属于accessToken对应的用户",solution:"",updateTime:1555497522e3},{moduleCode:"",detailCode:"395416",description:"设备达到最大连接数，无法建立连接",solution:"请升级设备固件版本",updateTime:1555394722e3},{moduleCode:"",detailCode:"100001",description:"",solution:"",updateTime:1555141776e3},{moduleCode:"",detailCode:"395558",description:"",solution:"",updateTime:1554987121e3},{moduleCode:"",detailCode:"70001",description:"智能家居买断用户设备受到限制,建议合理选择pagestart和pageSize",solution:"",updateTime:1554691023e3},{moduleCode:"",detailCode:"170001",description:"",solution:"",updateTime:1554691023e3},{moduleCode:"",detailCode:"1012",description:"重置失败",solution:"",updateTime:1554645841e3},{moduleCode:"",detailCode:"1043",description:"重置失败",solution:"",updateTime:1554645834e3},{moduleCode:"",detailCode:"60060",description:"直播功能未开通",solution:"通道未开通直播功能，请先开通直播",updateTime:1554346018e3},{moduleCode:"",detailCode:"380203",description:"",solution:"",updateTime:1554093666e3},{moduleCode:"",detailCode:"399048",description:"免费版并发数达到上限，请升级企业版使用多并发能力",solution:"升级成为企业版套餐即可取消并发数限制",updateTime:1553839878e3},{moduleCode:"",detailCode:"60007",description:"预置点个数超过最大值",solution:"",updateTime:1553671316e3},{moduleCode:"",detailCode:"1005",description:"",solution:"",updateTime:1553513701e3},{moduleCode:"",detailCode:"20605",description:"其他用户正在认证中",solution:"",updateTime:1552976317e3},{moduleCode:"",detailCode:"90004",description:"当前型号设备暂时不支持AI任务：CS-C3W-3B1WFR-YGL",solution:"",updateTime:1552898525e3},{moduleCode:"",detailCode:"60046",description:"添加的设备的IP和本设备的IP冲突",solution:"",updateTime:1552872372e3},{moduleCode:"",detailCode:"3",description:"修改视频清晰度失败!",solution:"",updateTime:1552440229e3},{moduleCode:"",detailCode:"1013",description:"",solution:"",updateTime:1552035069e3},{moduleCode:"",detailCode:"370007",description:"",solution:"",updateTime:1551852327e3},{moduleCode:"",detailCode:"-1",description:"",solution:"",updateTime:1551752889e3},{moduleCode:"",detailCode:"30005",description:"弱账户不存在",solution:"",updateTime:1551422358e3},{moduleCode:"",detailCode:"90006",description:"用户操作AI任务受限",solution:"",updateTime:155107332e4},{moduleCode:"",detailCode:"60203",description:"未开通相关服务",solution:"",updateTime:155062307e4},{moduleCode:"",detailCode:"10002",description:"accessToken过期或异常",solution:"",updateTime:1550300346e3},{moduleCode:"",detailCode:"380339",description:"",solution:"",updateTime:1549889458e3},{moduleCode:"",detailCode:"90002",description:"AI任务设备配置数达到上限：3",solution:"",updateTime:1549071664e3},{moduleCode:"",detailCode:"380008",description:"",solution:"",updateTime:1549005979e3},{moduleCode:"",detailCode:"320227",description:"",solution:"",updateTime:1548739731e3},{moduleCode:"",detailCode:"60059",description:"ezopen地址均不可用",solution:"",updateTime:154839535e4},{moduleCode:"",detailCode:"10005",description:"appKey异常",solution:"",updateTime:1548317858e3},{moduleCode:"",detailCode:"60045",description:"添加的设备的IP和其他通道的IP冲突",solution:"",updateTime:1548155085e3},{moduleCode:"",detailCode:"60047",description:"码流类型不支持",solution:"",updateTime:1547962108e3},{moduleCode:"",detailCode:"60041",description:"添加的设备被其他设备关联或响应超时",solution:"",updateTime:154796098e4},{moduleCode:"",detailCode:"110029",description:"个人用户接口调用频率超限",solution:"请升级企业版：https://open.ys7.com/price.html",updateTime:1547606859e3},{moduleCode:"",detailCode:"380355",description:"设备直连推流异常结束",solution:"",updateTime:1547106294e3},{moduleCode:"",detailCode:"320081",description:"",solution:"",updateTime:1547106279e3},{moduleCode:"",detailCode:"60035",description:"购买云存储服务失败",solution:"",updateTime:1547026959e3},{moduleCode:"",detailCode:"90005",description:"设备已存在：C75714141",solution:"",updateTime:1546940622e3},{moduleCode:"",detailCode:"1053445",description:"该时间段没有录像片段",solution:"",updateTime:1546935727e3},{moduleCode:"",detailCode:"90007",description:"设备未加入到AI任务",solution:"",updateTime:1546932948e3},{moduleCode:"",detailCode:"326000",description:"",solution:"",updateTime:1546823143e3},{moduleCode:"",detailCode:"1021",description:"重置失败",solution:"",updateTime:1546781152e3},{moduleCode:"",detailCode:"2001",description:"删除设备失败!",solution:"",updateTime:1546422886e3},{moduleCode:"",detailCode:"380425",description:"",solution:"",updateTime:1546407694e3},{moduleCode:"",detailCode:"120097",description:"",solution:"",updateTime:1546085995e3},{moduleCode:"",detailCode:"10059",description:"requestId已存在",solution:"",updateTime:1545824509e3},{moduleCode:"",detailCode:"1154723",description:"",solution:"",updateTime:1545795209e3},{moduleCode:"",detailCode:"60043",description:"添加的设备超出最大数量",solution:"",updateTime:1545493607e3},{moduleCode:"",detailCode:"1152677",description:"",solution:"",updateTime:1545313404e3},{moduleCode:"",detailCode:"20097",description:"设备添加异常,设备验证码为ABCDEF或设备被N1，R1关联",solution:"",updateTime:1545310795e3},{moduleCode:"",detailCode:"10060",description:"设备不支持该云存储类型",solution:"",updateTime:1545309064e3},{moduleCode:"",detailCode:"20102",description:"无相应邀请信息，无法接受邀请",solution:"",updateTime:1545204966e3},{moduleCode:"",detailCode:"10053",description:"云存储开通中",solution:"",updateTime:1545100293e3},{moduleCode:"",detailCode:"20401",description:"用户云空间信息不存在",solution:"",updateTime:154501788e4},{moduleCode:"",detailCode:"20600",description:"临时密码数已达上限",solution:"",updateTime:1544873457e3},{moduleCode:"",detailCode:"901",description:"",solution:"",updateTime:1544693519e3},{moduleCode:"",detailCode:"60210",description:"图片数据错误",solution:"",updateTime:1544604457e3},{moduleCode:"",detailCode:"10013",description:"您的应用没有权限调用",solution:"",updateTime:1544416237e3},{moduleCode:"",detailCode:"70007",description:"授权码不存在",solution:"",updateTime:1544179533e3},{moduleCode:"",detailCode:"10015",description:"授权地址不存在",solution:"",updateTime:154416324e4},{moduleCode:"",detailCode:"320423",description:"",solution:"",updateTime:1544100685e3},{moduleCode:"",detailCode:"370009",description:"",solution:"",updateTime:1544077151e3},{moduleCode:"",detailCode:"10031",description:"子账户或萤石用户没有权限",solution:"",updateTime:1543990462e3},{moduleCode:"",detailCode:"10055",description:"设备不支持试用云存储服务",solution:"",updateTime:1543986292e3},{moduleCode:"",detailCode:"60042",description:"添加的设备密码错误",solution:"",updateTime:1543710913e3},{moduleCode:"",detailCode:"60082",description:"设备正在响应本次声源定位",solution:"",updateTime:1543647426e3},{moduleCode:"",detailCode:"10056",description:"设备不支持云存储服务转出",solution:"",updateTime:1543558342e3},{moduleCode:"",detailCode:"20104",description:"好友不存在",solution:"",updateTime:1543492403e3},{moduleCode:"",detailCode:"20111",description:"好友不是等待验证状态，无法接受邀请",solution:"",updateTime:1543492365e3},{moduleCode:"",detailCode:"20107",description:"不能添加自己为好友",solution:"",updateTime:1543480986e3},{moduleCode:"",detailCode:"1",description:"设备返回其他错误",solution:"",updateTime:1543459921e3},{moduleCode:"",detailCode:"60084",description:"当前正在关闭隐私遮蔽",solution:"",updateTime:1543456515e3},{moduleCode:"",detailCode:"380255",description:"",solution:"",updateTime:1543411652e3},{moduleCode:"",detailCode:"20015",description:"设备不支持",solution:"",updateTime:1543390936e3},{moduleCode:"",detailCode:"30003",description:"手机验证码错误",solution:"",updateTime:1543389137e3},{moduleCode:"",detailCode:"20615",description:"锁用户已存在",solution:"",updateTime:1543388325e3},{moduleCode:"",detailCode:"60061",description:"账户流量已超出或未购买，限制开通",solution:"",updateTime:1543372581e3},{moduleCode:"",detailCode:"60020",description:"设备不支持该信令",solution:"",updateTime:1543321636e3},{moduleCode:"",detailCode:"320146",description:"",solution:"",updateTime:1543318472e3},{moduleCode:"",detailCode:"60018",description:"设备升级失败",solution:"",updateTime:1543304928e3},{moduleCode:"",detailCode:"60044",description:"添加的设备网络不可达超时",solution:"",updateTime:1543304102e3},{moduleCode:"",detailCode:"20619",description:"主用户无法删除",solution:"",updateTime:1543290219e3},{moduleCode:"",detailCode:"20608",description:"锁用户不存在",solution:"",updateTime:154328195e4},{moduleCode:"",detailCode:"20609",description:"设备响应超时,门锁通信故障或者电量不足,请重试.",solution:"",updateTime:1543281601e3},{moduleCode:"",detailCode:"1049954",description:"升级设备失败",solution:"",updateTime:1543279264e3},{moduleCode:"",detailCode:"60009",description:"正在调用预置点",solution:"",updateTime:1543238114e3},{moduleCode:"",detailCode:"1052677",description:"获取本地录像失败",solution:"",updateTime:1543207604e3},{moduleCode:"",detailCode:"327000",description:"",solution:"",updateTime:1543196609e3},{moduleCode:"",detailCode:"20021",description:"设备在线，未被用户添加",solution:"",updateTime:1543193436e3},{moduleCode:"",detailCode:"20202",description:"操作留言信息失败",solution:"",updateTime:1543191562e3},{moduleCode:"",detailCode:"1052678",description:"获取本地录像失败",solution:"",updateTime:1543132218e3},{moduleCode:"",detailCode:"1054723",description:"格式化设备失败",solution:"",updateTime:1543129833e3},{moduleCode:"",detailCode:"20109",description:"对应分享不存在",solution:"",updateTime:1543129111e3},{moduleCode:"",detailCode:"60026",description:"设备处于隐私遮蔽状态",solution:"",updateTime:1543110403e3},{moduleCode:"",detailCode:"60083",description:"当前正在开启隐私遮蔽",solution:"",updateTime:1543071148e3},{moduleCode:"",detailCode:"60001",description:"用户无云台控制权限",solution:"",updateTime:1543059167e3},{moduleCode:"",detailCode:"2003",description:"设备不在线",solution:"",updateTime:1543051046e3},{moduleCode:"",detailCode:"-24",description:"设置设备enable错误",solution:"",updateTime:1543042701e3},{moduleCode:"",detailCode:"10018",description:"",solution:"",updateTime:1543041564e3},{moduleCode:"",detailCode:"20103",description:"好友已存在",solution:"",updateTime:154303843e4},{moduleCode:"",detailCode:"70010",description:"授权异常请重试",solution:"",updateTime:154303559e4},{moduleCode:"",detailCode:"60056",description:"删除设备失败",solution:"",updateTime:1543031275e3},{moduleCode:"",detailCode:"60040",description:"添加的设备不在同一局域网",solution:"",updateTime:154303121e4},{moduleCode:"",detailCode:"60019",description:"加密已开启",solution:"",updateTime:1543029931e3},{moduleCode:"",detailCode:"1054722",description:"格式化设备失败",solution:"",updateTime:1543028537e3},{moduleCode:"",detailCode:"20016",description:"当前设备正在格式化",solution:"",updateTime:1543028537e3},{moduleCode:"",detailCode:"10024",description:"透明通道权限校验不通过",solution:"",updateTime:154302554e4},{moduleCode:"",detailCode:"6002",description:"删除设备失败!",solution:"",updateTime:1543025026e3},{moduleCode:"",detailCode:"1011",description:"验证码错误！",solution:"",updateTime:1543016865e3},{moduleCode:"",detailCode:"60032",description:"卡密已使用",solution:"",updateTime:1543006668e3},{moduleCode:"",detailCode:"10034",description:"子账号已存在",solution:"",updateTime:1542989194e3},{moduleCode:"",detailCode:"20301",description:"根据uuid查询联动信息不存在",solution:"",updateTime:1542988651e3},{moduleCode:"",detailCode:"1041",description:"获取验证码过于频繁",solution:"",updateTime:1542980953e3},{moduleCode:"",detailCode:"10012",description:"该appkey下已绑定重复的phone！",solution:"",updateTime:15429808e5},{moduleCode:"",detailCode:"1008",description:"phone不合法！",solution:"",updateTime:1542979812e3},{moduleCode:"",detailCode:"60023",description:"订阅操作失败",solution:"",updateTime:1542979006e3},{moduleCode:"",detailCode:"5",description:"设备返回其他错误",solution:"",updateTime:1542977828e3},{moduleCode:"",detailCode:"60006",description:"云台当前操作失败",solution:"",updateTime:1542977598e3},{moduleCode:"",detailCode:"131",description:"修改视频清晰度失败!",solution:"",updateTime:1542977246e3},{moduleCode:"",detailCode:"10019",description:"密码错误",solution:"",updateTime:1542976628e3},{moduleCode:"",detailCode:"10004",description:"用户不存在",solution:"",updateTime:1542976268e3},{moduleCode:"",detailCode:"20201",description:"操作报警信息失败",solution:"",updateTime:1542975906e3},{moduleCode:"",detailCode:"20024",description:"设备不在线，已经被别的用户添加",solution:"",updateTime:1542975858e3},{moduleCode:"",detailCode:"60004",description:"设备云台旋转达到左限位",solution:"",updateTime:1542975207e3},{moduleCode:"",detailCode:"1052679",description:"修改视频清晰度失败!",solution:"",updateTime:1542974886e3},{moduleCode:"",detailCode:"20031",description:"请在萤石客户端关闭终端绑定",solution:"",updateTime:1542974756e3},{moduleCode:"",detailCode:"1053825",description:"获取本地录像失败",solution:"",updateTime:1542974692e3},{moduleCode:"",detailCode:"60011",description:"预置点不存在",solution:"",updateTime:1542974414e3},{moduleCode:"",detailCode:"1052936",description:"修改视频清晰度失败!",solution:"",updateTime:154297439e4},{moduleCode:"",detailCode:"1016",description:"",solution:"",updateTime:1542974273e3},{moduleCode:"",detailCode:"10032",description:"子账号不存在",solution:"",updateTime:1542973906e3},{moduleCode:"",detailCode:"20013",description:"设备已被别人添加",solution:"",updateTime:1542973817e3},{moduleCode:"",detailCode:"50000",description:"服务器错误!",solution:"",updateTime:1542973801e3},{moduleCode:"",detailCode:"60010",description:"该预置点已经是当前位置",solution:"",updateTime:15429738e5},{moduleCode:"",detailCode:"60003",description:"设备云台旋转达到下限位",solution:"",updateTime:154297377e4},{moduleCode:"",detailCode:"4",description:"设备返回其他错误",solution:"",updateTime:1542973755e3},{moduleCode:"",detailCode:"60016",description:"加密未开启，无需关闭",solution:"",updateTime:1542973753e3},{moduleCode:"",detailCode:"60002",description:"设备云台旋转达到上限位",solution:"",updateTime:1542973742e3},{moduleCode:"",detailCode:"20023",description:"设备不在线，未被用户添加",solution:"",updateTime:1542973685e3},{moduleCode:"",detailCode:"10008",description:"",solution:"",updateTime:1542973676e3},{moduleCode:"",detailCode:"20010",description:"设备验证码错误",solution:"",updateTime:1542973658e3},{moduleCode:"",detailCode:"60005",description:"设备云台旋转达到右限位",solution:"",updateTime:1542973657e3},{moduleCode:"",detailCode:"20017",description:"设备已经被自己添加",solution:"",updateTime:1542973648e3},{moduleCode:"",detailCode:"20020",description:"设备在线，已经被自己添加",solution:"",updateTime:1542973533e3},{moduleCode:"",detailCode:"20029",description:"设备不在线，已经被自己添加",solution:"",updateTime:154297353e4},{moduleCode:"",detailCode:"10014",description:"APPKEY下对应的第三方userId和phone未绑定！",solution:"",updateTime:1542973499e3},{moduleCode:"",detailCode:"20002",description:"设备不存在",solution:"",updateTime:1542973499e3},{moduleCode:"",detailCode:"10030",description:"appkey和appsecret不匹配",solution:"",updateTime:154297349e4},{moduleCode:"",detailCode:"20022",description:"设备在线，已经被别的用户添加",solution:"",updateTime:1542973486e3},{moduleCode:"",detailCode:"20008",description:"设备响应超时",solution:"",updateTime:1542973484e3},{moduleCode:"",detailCode:"20032",description:"该用户下通道不存在",solution:"",updateTime:1542973481e3},{moduleCode:"",detailCode:"20006",description:"网络异常",solution:"",updateTime:1542973475e3},{moduleCode:"",detailCode:"20014",description:"deviceSerial不合法!",solution:"",updateTime:1542973454e3},{moduleCode:"",detailCode:"20007",description:"设备不在线",solution:"",updateTime:1542973454e3},{moduleCode:"",detailCode:"20018",description:"该用户不拥有该设备",solution:"",updateTime:1542973453e3},{moduleCode:"",detailCode:"10010",description:"",solution:"",updateTime:1542973453e3},{moduleCode:"",detailCode:"10011",description:"未绑定！",solution:"",updateTime:1542973453e3},{moduleCode:"",detailCode:"20001",description:"通道不存在!",solution:"",updateTime:1542973452e3},{moduleCode:"",detailCode:"10017",description:"appKey不存在",solution:"",updateTime:1542973451e3},{moduleCode:"",detailCode:"400259",description:"",solution:"",updateTime:1542875643e3},{moduleCode:"",detailCode:"400004",description:"",solution:"",updateTime:1542873364e3},{moduleCode:"",detailCode:"3840",description:"",solution:"",updateTime:154186e7},{moduleCode:"",detailCode:"-1017",description:"",solution:"",updateTime:1541733663e3},{moduleCode:"",detailCode:"320025",description:"",solution:"",updateTime:1541078281e3},{moduleCode:"",detailCode:"320024",description:"",solution:"",updateTime:1540801374e3},{moduleCode:"",detailCode:"321002",description:"",solution:"",updateTime:1540631734e3},{moduleCode:"",detailCode:"321000",description:"",solution:"",updateTime:1540609178e3},{moduleCode:"",detailCode:"321022",description:"",solution:"",updateTime:1540548345e3},{moduleCode:"",detailCode:"321016",description:"",solution:"",updateTime:1540287187e3},{moduleCode:"",detailCode:"320023",description:"",solution:"",updateTime:1539825993e3},{moduleCode:"",detailCode:"-1016",description:"",solution:"",updateTime:1539584931e3},{moduleCode:"",detailCode:"8",description:"",solution:"",updateTime:1539391812e3},{moduleCode:"",detailCode:"1075127593",description:"",solution:"",updateTime:1538959251e3},{moduleCode:"",detailCode:"380421",description:"",solution:"",updateTime:1537288465e3},{moduleCode:"",detailCode:"322000",description:"麦克风权限未开启",solution:"",updateTime:1536820136e3},{moduleCode:"",detailCode:"1152678",description:"",solution:"",updateTime:1536738348e3},{moduleCode:"",detailCode:"320047",description:"",solution:"",updateTime:1536664472e3},{moduleCode:"",detailCode:"327006",description:"",solution:"",updateTime:153613612e4},{moduleCode:"",detailCode:"1074807593",description:"",solution:"",updateTime:1536135035e3},{moduleCode:"",detailCode:"320291",description:"",solution:"",updateTime:1536110836e3},{moduleCode:"",detailCode:"320045",description:"",solution:"",updateTime:1535963775e3},{moduleCode:"",detailCode:"370004",description:"",solution:"",updateTime:1535883699e3},{moduleCode:"",detailCode:"1149954",description:"",solution:"",updateTime:1535700674e3},{moduleCode:"",detailCode:"320053",description:"",solution:"",updateTime:1535681079e3},{moduleCode:"",detailCode:"400000",description:"",solution:"",updateTime:1535532332e3},{moduleCode:"",detailCode:"110028",description:"个人版抓图接口日调用次数超出限制",solution:"请升级企业版：https://open.ys7.com/price.html",updateTime:1535348756e3},{moduleCode:"",detailCode:"110027",description:"个人版帐号数量超出安全限制，无法调用",solution:"请升级企业版：https://open.ys7.com/price.html",updateTime:1535348734e3},{moduleCode:"",detailCode:"110026",description:"设备数量超出个人版限制，当前设备无法操作",solution:"请升级企业版：https://open.ys7.com/price.html",updateTime:1535348588e3},{moduleCode:"",detailCode:"100000",description:"",solution:"",updateTime:1534980008e3},{moduleCode:"",detailCode:"324004",description:"",solution:"",updateTime:1534927762e3},{moduleCode:"",detailCode:"360104",description:"",solution:"",updateTime:1534761006e3},{moduleCode:"",detailCode:"320204",description:"",solution:"",updateTime:1534584221e3},{moduleCode:"",detailCode:"380001",description:"",solution:"",updateTime:1534404715e3},{moduleCode:"",detailCode:"380204",description:"",solution:"",updateTime:1534401682e3},{moduleCode:"",detailCode:"328006",description:"",solution:"",updateTime:1534144407e3},{moduleCode:"",detailCode:"321703",description:"",solution:"",updateTime:1534127274e3},{moduleCode:"",detailCode:"321510",description:"",solution:"",updateTime:1533428892e3},{moduleCode:"",detailCode:"321006",description:"",solution:"",updateTime:1533036916e3},{moduleCode:"",detailCode:"50009",description:"",solution:"",updateTime:1532078548e3},{moduleCode:"",detailCode:"50007",description:"",solution:"",updateTime:153199172e4},{moduleCode:"",detailCode:"50018",description:"",solution:"",updateTime:1531912829e3},{moduleCode:"",detailCode:"380451",description:"",solution:"",updateTime:15316157e5},{moduleCode:"",detailCode:"380336",description:"",solution:"",updateTime:1531231721e3},{moduleCode:"",detailCode:"360020",description:"",solution:"",updateTime:1531117554e3},{moduleCode:"",detailCode:"380418",description:"",solution:"",updateTime:153110707e4},{moduleCode:"",detailCode:"1153445",description:"设备在该时间段内没有录像",solution:"",updateTime:1530944007e3},{moduleCode:"",detailCode:"110007",description:"调用接口总次数达到上限",solution:"请升级企业版，获取更高能力",updateTime:1530935584e3},{moduleCode:"",detailCode:"360019",description:"",solution:"",updateTime:1530869771e3},{moduleCode:"",detailCode:"360100",description:"",solution:"",updateTime:1530786188e3},{moduleCode:"",detailCode:"380042",description:"",solution:"",updateTime:1530775199e3},{moduleCode:"",detailCode:"320355",description:"",solution:"",updateTime:1530716074e3},{moduleCode:"",detailCode:"100003",description:"",solution:"",updateTime:1530232541e3},{moduleCode:"",detailCode:"371026",description:"",solution:"",updateTime:15301926e5},{moduleCode:"",detailCode:"102",description:"",solution:"",updateTime:1529895641e3},{moduleCode:"",detailCode:"380201",description:"",solution:"",updateTime:1529740929e3},{moduleCode:"",detailCode:"320054",description:"",solution:"",updateTime:1529544875e3},{moduleCode:"",detailCode:"500101",description:"",solution:"",updateTime:1529485953e3},{moduleCode:"",detailCode:"321001",description:"",solution:"",updateTime:1529411048e3},{moduleCode:"",detailCode:"321508",description:"",solution:"",updateTime:1529393279e3},{moduleCode:"",detailCode:"405991",description:"",solution:"",updateTime:1529380238e3},{moduleCode:"",detailCode:"380461",description:"",solution:"",updateTime:1529130941e3},{moduleCode:"",detailCode:"-1019",description:"",solution:"",updateTime:1529057245e3},{moduleCode:"",detailCode:"322009",description:"",solution:"",updateTime:1528965717e3},{moduleCode:"",detailCode:"324005",description:"",solution:"",updateTime:1528950153e3},{moduleCode:"",detailCode:"325000",description:"",solution:"",updateTime:1528947143e3},{moduleCode:"",detailCode:"326032",description:"",solution:"",updateTime:1528872971e3},{moduleCode:"",detailCode:"325032",description:"",solution:"",updateTime:1528863189e3},{moduleCode:"",detailCode:"328000",description:"",solution:"",updateTime:1528794505e3},{moduleCode:"",detailCode:"53",description:"",solution:"",updateTime:1528693249e3},{moduleCode:"",detailCode:"-1020",description:"",solution:"",updateTime:152849944e4},{moduleCode:"",detailCode:"329032",description:"",solution:"",updateTime:1528446301e3},{moduleCode:"",detailCode:"-1202",description:"",solution:"",updateTime:152843982e4},{moduleCode:"",detailCode:"2",description:"",solution:"",updateTime:1528434175e3},{moduleCode:"",detailCode:"1152936",description:"",solution:"",updateTime:1528345986e3},{moduleCode:"",detailCode:"328011",description:"",solution:"",updateTime:15283386e5},{moduleCode:"",detailCode:"28",description:"",solution:"",updateTime:152833753e4},{moduleCode:"",detailCode:"320356",description:"",solution:"",updateTime:1528188693e3},{moduleCode:"",detailCode:"320357",description:"",solution:"",updateTime:1528188517e3},{moduleCode:"",detailCode:"405800",description:"",solution:"",updateTime:1528168732e3},{moduleCode:"",detailCode:"405996",description:"",solution:"",updateTime:1528168686e3},{moduleCode:"",detailCode:"380357",description:"",solution:"",updateTime:1528011565e3},{moduleCode:"",detailCode:"328022",description:"",solution:"",updateTime:1527929065e3},{moduleCode:"",detailCode:"380003",description:"",solution:"",updateTime:1527927819e3},{moduleCode:"",detailCode:"50004",description:"",solution:"",updateTime:1527770643e3},{moduleCode:"",detailCode:"50011",description:"",solution:"",updateTime:1527770635e3},{moduleCode:"",detailCode:"370017",description:"",solution:"",updateTime:1527739514e3},{moduleCode:"",detailCode:"327032",description:"",solution:"",updateTime:1527726704e3},{moduleCode:"",detailCode:"324001",description:"",solution:"",updateTime:1527681892e3},{moduleCode:"",detailCode:"405997",description:"",solution:"",updateTime:1527653408e3},{moduleCode:"",detailCode:"405995",description:"",solution:"",updateTime:1527647283e3},{moduleCode:"",detailCode:"1153825",description:"",solution:"",updateTime:1527601747e3},{moduleCode:"",detailCode:"328002",description:"",solution:"",updateTime:1527495292e3},{moduleCode:"",detailCode:"1152679",description:"",solution:"",updateTime:1527486665e3},{moduleCode:"",detailCode:"380356",description:"",solution:"",updateTime:1527125669e3},{moduleCode:"",detailCode:"328032",description:"",solution:"",updateTime:1527069382e3},{moduleCode:"",detailCode:"22",description:"",solution:"",updateTime:1527049826e3},{moduleCode:"",detailCode:"9",description:"",solution:"",updateTime:1527006778e3},{moduleCode:"",detailCode:"89",description:"",solution:"",updateTime:1526622784e3},{moduleCode:"",detailCode:"328016",description:"",solution:"",updateTime:1526452365e3},{moduleCode:"",detailCode:"368005",description:"",solution:"",updateTime:1525921264e3},{moduleCode:"",detailCode:"0",description:"",solution:"",updateTime:1525920242e3},{moduleCode:"",detailCode:"380006",description:"",solution:"",updateTime:1525918868e3},{moduleCode:"",detailCode:"310",description:"",solution:"",updateTime:1525834436e3},{moduleCode:"",detailCode:"360011",description:"",solution:"",updateTime:1525681552e3},{moduleCode:"",detailCode:"170005",description:"",solution:"",updateTime:15254339e5},{moduleCode:"",detailCode:"50023",description:"",solution:"",updateTime:1525403338e3},{moduleCode:"",detailCode:"100131",description:"",solution:"",updateTime:1525229691e3},{moduleCode:"",detailCode:"-1018",description:"",solution:"",updateTime:1525142341e3},{moduleCode:"",detailCode:"362026",description:"",solution:"",updateTime:1524882677e3},{moduleCode:"",detailCode:"368007",description:"",solution:"",updateTime:1524832269e3},{moduleCode:"",detailCode:"54",description:"",solution:"",updateTime:1524793646e3},{moduleCode:"",detailCode:"1154722",description:"",solution:"",updateTime:1524620807e3},{moduleCode:"",detailCode:"320229",description:"",solution:"",updateTime:1524551682e3},{moduleCode:"",detailCode:"360012",description:"",solution:"",updateTime:1524472094e3},{moduleCode:"",detailCode:"380229",description:"",solution:"",updateTime:1524110755e3},{moduleCode:"",detailCode:"360016",description:"",solution:"",updateTime:1523933518e3},{moduleCode:"",detailCode:"-1003",description:"",solution:"",updateTime:1523584804e3},{moduleCode:"",detailCode:"410026",description:"",solution:"",updateTime:152351743e4},{moduleCode:"",detailCode:"360102",description:"TTS初始化失败",solution:"",updateTime:1523503528e3},{moduleCode:"",detailCode:"360013",description:"设备开启了隐私保护",solution:"",updateTime:1523503507e3},{moduleCode:"",detailCode:"360010",description:"设备正在对讲中",solution:"",updateTime:1523503491e3},{moduleCode:"",detailCode:"360007",description:"TTS关闭了与客户端的连接",solution:"",updateTime:1523503475e3},{moduleCode:"",detailCode:"360006",description:"客户端接收发生错误",solution:"",updateTime:1523503457e3},{moduleCode:"",detailCode:"360005",description:"客户端发送的消息错误",solution:"",updateTime:1523503437e3},{moduleCode:"",detailCode:"360004",description:"TTS内部发生错误",solution:"",updateTime:1523503421e3},{moduleCode:"",detailCode:"360003",description:"TTS的设备端发生错误",solution:"",updateTime:1523503397e3},{moduleCode:"",detailCode:"360002",description:"对讲发起超时",solution:"",updateTime:1523503376e3},{moduleCode:"",detailCode:"360001",description:"客户端请求超时",solution:"",updateTime:1523503357e3},{moduleCode:"",detailCode:"320077",description:"",solution:"",updateTime:1523444274e3},{moduleCode:"",detailCode:"370047",description:"",solution:"",updateTime:152344048e4},{moduleCode:"",detailCode:"100002",description:"",solution:"",updateTime:1523413964e3},{moduleCode:"",detailCode:"-1004",description:"",solution:"",updateTime:1523336653e3},{moduleCode:"",detailCode:"380000",description:"",solution:"",updateTime:1523180856e3},{moduleCode:"",detailCode:"380213",description:"",solution:"",updateTime:1523180623e3},{moduleCode:"",detailCode:"380101",description:"",solution:"",updateTime:1522834231e3},{moduleCode:"",detailCode:"50047",description:"",solution:"",updateTime:1522833243e3},{moduleCode:"",detailCode:"-999",description:"",solution:"",updateTime:1522831034e3},{moduleCode:"",detailCode:"320418",description:"",solution:"",updateTime:1522829072e3},{moduleCode:"",detailCode:"-1009",description:"",solution:"",updateTime:1522746247e3},{moduleCode:"",detailCode:"320209",description:"",solution:"",updateTime:1522744395e3},{moduleCode:"",detailCode:"368006",description:"",solution:"",updateTime:15227443e5},{moduleCode:"",detailCode:"369003",description:"",solution:"",updateTime:1522736355e3},{moduleCode:"",detailCode:"405989",description:"",solution:"",updateTime:1522726571e3},{moduleCode:"",detailCode:"-1012",description:"",solution:"",updateTime:1522726203e3},{moduleCode:"",detailCode:"322016",description:"",solution:"",updateTime:1522722918e3},{moduleCode:"",detailCode:"500103",description:"",solution:"",updateTime:1522655556e3},{moduleCode:"",detailCode:"405999",description:"",solution:"",updateTime:1522654716e3},{moduleCode:"",detailCode:"321032",description:"",solution:"",updateTime:1522647732e3},{moduleCode:"",detailCode:"381101",description:"",solution:"",updateTime:1522392414e3},{moduleCode:"",detailCode:"399999",description:"",solution:"",updateTime:1522379834e3},{moduleCode:"",detailCode:"380103",description:"",solution:"",updateTime:1522312724e3},{moduleCode:"",detailCode:"360014",description:"",solution:"",updateTime:1522304341e3},{moduleCode:"",detailCode:"-1005",description:"",solution:"",updateTime:1522288195e3},{moduleCode:"",detailCode:"395454",description:"",solution:"",updateTime:152222018e4},{moduleCode:"",detailCode:"100005",description:"",solution:"",updateTime:1522218849e3},{moduleCode:"",detailCode:"100004",description:"",solution:"",updateTime:1522209053e3},{moduleCode:"",detailCode:"106002",description:"",solution:"",updateTime:15222062e5},{moduleCode:"",detailCode:"410030",description:"",solution:"",updateTime:1522162252e3},{moduleCode:"",detailCode:"-1002",description:"",solution:"",updateTime:152215069e4},{moduleCode:"",detailCode:"-1200",description:"",solution:"",updateTime:1522139025e3},{moduleCode:"",detailCode:"-1001",description:"",solution:"",updateTime:1522046436e3},{moduleCode:"",detailCode:"-1011",description:"",solution:"",updateTime:1522045931e3},{moduleCode:"",detailCode:"381102",description:"",solution:"",updateTime:1522044953e3},{moduleCode:"",detailCode:"381103",description:"",solution:"",updateTime:1522044953e3},{moduleCode:"",detailCode:"391205",description:"vtdu解析服务器ip失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"391206",description:"vtdu描述符select失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"391207",description:"vtdu文件描述符不在可读中",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"391208",description:"vtdu网络发生错误getsockopt",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"391209",description:"vtdu描述符select超时",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395000",description:"cas回复信令，发现内存已经释放（和设备之间异常断开）",solution:"检查设备网络；刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395400",description:"私有化协议vtm检测私有化协议中码流类型小于0或者设备序列号为空等非法参数场景返回(app不重试取流)",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395402",description:"回放找不到录像文件",solution:"检查是否有存储卡并且接触良好",updateTime:1522034841e3},{moduleCode:"",detailCode:"395403",description:"操作码或信令密钥与设备不匹配",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395404",description:"设备不在线",solution:"检查设备网络；重启设备接入萤石云",updateTime:1522034841e3},{moduleCode:"",detailCode:"395405",description:"流媒体向设备发送或接受信令超时/cas响应超时",solution:"检查设备网络；重启设备",updateTime:1522034841e3},{moduleCode:"",detailCode:"395406",description:"token失效",solution:"刷新重试或者重启设备",updateTime:1522034841e3},{moduleCode:"",detailCode:"395407",description:"客户端的URL格式错误",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395409",description:"预览开启隐私保护",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395410",description:"设备达到最大连接数",solution:"请升级设备固件版本",updateTime:1522034841e3},{moduleCode:"",detailCode:"395411",description:"token无权限",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395412",description:"session不存在 ",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395413",description:"验证token的他异常（不具体） ",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395415",description:"设备通道错",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395451",description:"设备不支持的码流类型",solution:"刷新重试或者切换到高清模式",updateTime:1522034841e3},{moduleCode:"",detailCode:"395452",description:"设备链接流媒体服务器失败 ",solution:"检查设备网络，重启设备，刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395500",description:"服务器处理失败 ",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395501",description:"流媒体vtdu达到最大负载，请扩容",solution:"服务器负载达到上限，请稍后重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395503",description:"vtm返回分配vtdu失败",solution:"服务器负载达到上限，请稍后重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395544",description:"设备返回无视频源 ",solution:"设备是否接触良好；",updateTime:1522034841e3},{moduleCode:"",detailCode:"395545",description:"视频分享时间已经结束",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395546",description:"vtdu返回达到取流并发路数限制",solution:"请升级为企业版，放开并发限制",updateTime:1522034841e3},{moduleCode:"",detailCode:"395560",description:"蚁兵代理不支持的用户取流类型，会重定向到vtdu取流",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395557",description:"回放服务器等待流头超时",solution:"刷新重试，检测设备网络，重启设备",updateTime:1522034841e3},{moduleCode:"",detailCode:"395600",description:"分享设备不在分享时间内",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395601",description:"群组分享用户没权限",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395602",description:"群组分享权限变更",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395556",description:"ticket取流验证失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395530",description:"机房故障不可用",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395701",description:"cas信令返回格式错误",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396001",description:"客户端参数出错",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396099",description:"客户端默认错误",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396101",description:"不支持的命令",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396102",description:"设备流头发送失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396103",description:"cas/设备返回错误1",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396104",description:"cas/设备返回错误-1",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396105",description:"设备返回错误码3",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396106",description:"设备返回错误码4",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396107",description:"设备返回错误码5",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396108",description:"cas信令回应重复",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396109",description:"视频广场取消分享",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396110",description:"设备信令默认错误",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396501",description:"设备数据链路和实际链路不匹配",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396502",description:"设备数据链路重复建立连接",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396503",description:"设备数据链路端口不匹配",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396504",description:"缓存设备数据链路失败(内存块不足)",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396505",description:"设备发送确认头消息重复",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396506",description:"设备数据先于确定头部到达",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396508",description:"设备数据头部长度非法",solution:"刷新重试，或者重启设备",updateTime:1522034841e3},{moduleCode:"",detailCode:"396509",description:"索引找不到设备数据管理块",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396510",description:"设备数据链路vtdu内存块协议状态不匹配",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396511",description:"设备数据头部没有streamkey错误",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396512",description:"设备数据头部非法(较笼统)",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396513",description:"设备数据长度过小",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396514",description:"设备老协议推流头部没有streamkey错误",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396515",description:"设备老协议推流数据非法",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396516",description:"设备老协议索引找不到内存管理块",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396517",description:"设备老协议推流数据非法",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396518",description:"设备数据包过大",solution:"刷新重试，或者重启设备",updateTime:1522034841e3},{moduleCode:"",detailCode:"396519",description:"设备推流链路网络不稳定",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396520",description:"设备推流链路网络不稳定(默认)",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"170003",description:"refreshToken不存在",solution:"建议用户重新调用logout接口，然后调用openLoginPage接口重新启动登录页面登录",updateTime:1522034841e3},{moduleCode:"",detailCode:"170004",description:"refreshToken已过期",solution:"建议用户重新调用logout接口，然后调用openLoginPage接口重新启动登录页面登录",updateTime:1522034841e3},{moduleCode:"",detailCode:"380011",description:"设备隐私保护中",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"380045",description:"设备直连取流连接数量过大",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"380047",description:"设备不支持该命令",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"380077",description:"设备正在对讲中",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"380102",description:"数据接收异常",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"380205",description:"设备检测入参异常",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"380209",description:"网络连接超时",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"380212",description:"设备端网络连接超时",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"101007",description:"手机号未注册",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120503",description:"正在响铃",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390016",description:"vtdu成功响应未携带流头",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101008",description:"手机号码不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120504",description:"室内机正在通话",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390017",description:"无数据流，尚未使用",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101009",description:"用户名与手机不匹配",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120505",description:"设备操作失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390018",description:"信令消息体PB解析失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101010",description:"获取验证码失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120506",description:"非法命令",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390019",description:"信令消息体PB封装失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101011",description:"验证码错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120507",description:"智能锁密码错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390020",description:"申请系统内存资源失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101012",description:"验证码失效",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120508",description:"开关锁失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390021",description:"vtdu地址尚未获取到",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101013",description:"用户不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120509",description:"开关锁超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390022",description:"客户端尚未支持",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101014",description:"密码不正确或者appKey不正确",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120510",description:"智能锁设备繁忙",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390023",description:"获取系统socket资源失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101015",description:"用户被锁住",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120511",description:"远程开锁功能未打开",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390024",description:"上层填充的StreamSsnId不匹配",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101021",description:"验证参数异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120600",description:"临时密码数已达上限",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390025",description:"链接服务器失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101026",description:"邮箱已经被注册",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120601",description:"添加临时密码失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390026",description:"客户端请求未收到服务端应答",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101031",description:"邮箱未注册",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120602",description:"删除临时密码失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390027",description:"链路断开",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101032",description:"邮箱不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120603",description:"该临时密码不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390028",description:"没有取流链接",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101041",description:"获取验证码过于频繁",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120604",description:"指纹锁射频通信失败,请稍后再试",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390029",description:"流成功停止",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101043",description:"手机验证码输入错误超过规定次数",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120605",description:"其他用户正在认证中",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390030",description:"客户端防串流校验失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"102000",description:"设备不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120606",description:"验证已启动,请在120s内进行本地验证和调用添加设备接口",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390031",description:"应用层tcp粘包处理缓冲区满",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"102001",description:"摄像机不存在",solution:"摄像机未注册到萤石云平台，请仔细检查摄像机的网络配置，确保连接到网络",updateTime:152203484e4},{moduleCode:"",detailCode:"120607",description:"删除用户失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390032",description:"无效状态迁移",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"102003",description:"设备不在线",solution:"参考服务中心排查方法",updateTime:152203484e4},{moduleCode:"",detailCode:"120608",description:"用户不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390033",description:"无效客户端状态",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"102004",description:"设备异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120609",description:"设备响应超时,门锁通信故障或者电量不足,请重试.",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390034",description:"向vtm取流流媒体信息请求超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"102007",description:"设备序列号不正确",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120610",description:"获取临时密码列表失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390035",description:"向代理取流请求超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"102009",description:"设备请求响应超时异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"130001",description:"用户不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390036",description:"向代理保活取流请求超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"105000",description:"设备已被自己添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"130002",description:"手机号码已经注册",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390037",description:"向vtdu取流请求超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"105001",description:"设备已被别人添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"130003",description:"手机验证码错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390038",description:"向vtdu保活取流请求超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"105002",description:"设备验证码错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"130004",description:"终端绑定操作失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391001",description:"vtm地址或端口非法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"107001",description:"邀请不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"149999",description:"数据异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391002",description:"vtm生成文件描述符失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"107002",description:"邀请验证失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"150000",description:"服务器异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391003",description:"vtm设置文件描述符非阻塞失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"107003",description:"邀请用户不匹配",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160000",description:"设备不支持云台控制",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391004",description:"vtm设置文件描述符阻塞失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"107004",description:"云存储连接失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160001",description:"用户无云台控制权限",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391005",description:"vtm解析服务器ip失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"7005",description:"VTDU主动断开连接",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"107005",description:"VTDU主动断开连接",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160002",description:"设备云台旋转达到上限位",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391006",description:"vtm描述符select失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"107006",description:"不能邀请自己",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160003",description:"设备云台旋转达到下限位",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391007",description:"vtm文件描述符不在可读中",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"107007",description:"重复邀请",solution:"分享和删除分享必须全部由接口形式操作，如果与萤石客户端混用会造成这个问题，解决办法：在萤石客户端清空所有相关分享数据并重新添加设备，再通过接口操作即可",updateTime:152203484e4},{moduleCode:"",detailCode:"160004",description:"设备云台旋转达到左限位",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391008",description:"vtm网络发生错误getsockopt",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110001",description:"参数错误",solution:"参数为空或者格式不对",updateTime:152203484e4},{moduleCode:"",detailCode:"160005",description:"设备云台旋转达到右限位",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391009",description:"vtm描述符select超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110002",description:"accessToken异常或过期",solution:"accessToken有效期为七天，建议在accessToken即将过期或者出现10002错误码的时候重新获取accessToken",updateTime:152203484e4},{moduleCode:"",detailCode:"160006",description:"云台当前操作失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391101",description:"proxy地址或端口非法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110004",description:"用户不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160007",description:"预置点个数超过最大值",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391102",description:"proxy生成文件描述符失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110005",description:"appKey异常",solution:"确认appKey状态，不通过或者冻结状态会返回该错误码",updateTime:152203484e4},{moduleCode:"",detailCode:"160009",description:"正在调用预置点",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391103",description:"proxy设置文件描述符非阻塞失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110006",description:"ip受限",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160010",description:"该预置点已经是当前位置",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391104",description:"proxy设置文件描述符阻塞失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160011",description:"预置点不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391105",description:"proxy解析服务器ip失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110008",description:"签名错误",solution:"①获取签名方式详见apidemo及[旧]API文档 ②注意编码格式为UTF-8",updateTime:152203484e4},{moduleCode:"",detailCode:"160013",description:"设备版本已是最新",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391106",description:"proxy描述符select失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110009",description:"签名参数错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160014",description:"设备正在升级",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391107",description:"proxy文件描述符不在可读中",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110010",description:"签名超时",solution:"请调用同步服务器时间接口进行校时",updateTime:152203484e4},{moduleCode:"",detailCode:"160015",description:"设备正在重启",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391108",description:"proxy网络发生错误getsockopt",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110011",description:"未开通萤石云服务",solution:"参照绑定流程",updateTime:152203484e4},{moduleCode:"",detailCode:"160016",description:"加密未开启，无须关闭",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391109",description:"proxy描述符select超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110012",description:"第三方账户与萤石账号已经绑定",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160017",description:"设备抓图失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391201",description:"vtdu地址或端口非法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110013",description:"应用没有权限调用此接口",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160018",description:"设备升级失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391202",description:"vtdu生成文件描述符失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110014",description:"APPKEY下对应的第三方userId和phone未绑定",solution:"获取AccessToken时所用appKey与SDK所用appKey不一致",updateTime:152203484e4},{moduleCode:"",detailCode:"160019",description:"加密已开启",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391203",description:"vtdu设置文件描述符非阻塞失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110017",description:"appKey不存在",solution:"请填写在官网申请的应用秘钥",updateTime:152203484e4},{moduleCode:"",detailCode:"160020",description:"不支持该命令",solution:"请确认设备是否支持该命令",updateTime:152203484e4},{moduleCode:"",detailCode:"391204",description:"vtdu设置文件描述符阻塞失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110018",description:"AccessToken与Appkey不匹配",solution:"请检查获取accessToken对应的appKey和SDK中设置的appKey是否一致",updateTime:152203484e4},{moduleCode:"",detailCode:"160023",description:"订阅操作失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110019",description:"密码错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160024",description:"取消订阅操作失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110020",description:"请求方法为空",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160025",description:"客流统计配置失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110021",description:"ticket校验失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160026",description:"设备处于隐私遮蔽状态",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110022",description:"透传目的地非法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160027",description:"设备正在镜像操作",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110024",description:"无透传权限",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160028",description:"设备正在键控动作",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110025",description:"appKey被禁止使用通明通道",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160029",description:"设备处于语音对讲状态",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160030",description:"卡密输入错误次数过多，24小时后再输入",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160031",description:"卡密信息不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160032",description:"卡密状态不对或已过期",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160033",description:"卡密非卖品，只能开通对应的绑定设备",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110030",description:"appKey和appSecret不匹配",solution:"请检查appKey和appSecret是否对应",updateTime:152203484e4},{moduleCode:"",detailCode:"160035",description:"购买云存储服务失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110031",description:"子账户或萤石用户没有权限",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160040",description:"添加的设备不在同一局域网",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110032",description:"子账户不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160041",description:"添加的设备被其他设备关联或响应超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110033",description:"子账户未设置授权策略",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160042",description:"添加的设备密码错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110034",description:"子账户已存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160043",description:"添加的设备超出最大数量",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110035",description:"获取子账户AccessToken异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160044",description:"添加的设备网络不可达超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110036",description:"子账户被禁用",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160045",description:"添加的设备的IP和其他通道的IP冲突",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110051",description:"无权限进行抓图",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160046",description:"添加的设备的IP和本设备的IP冲突",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160047",description:"码流类型不支持",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120002",description:"设备不存在",solution:"①设备没有注册到萤石云平台，请检查下设备网络参数，确保能正常连接网络②设备序列号不存在",updateTime:152203484e4},{moduleCode:"",detailCode:"160048",description:"带宽超出系统接入带宽",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120003",description:"参数异常，SDK版本过低",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160049",description:"IP或者端口不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120004",description:"参数异常，SDK版本过低",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160050",description:"添加的设备版本不支持需要升级才能接入",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120005",description:"安全认证失败，需进行SDK安全认证",solution:"已去掉安全验证",updateTime:152203484e4},{moduleCode:"",detailCode:"160051",description:"添加的设备不支持接入",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120006",description:"网络异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160052",description:"添加的设备通道号出错",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120007",description:"设备不在线",solution:"参考服务中心排查方法",updateTime:152203484e4},{moduleCode:"",detailCode:"160053",description:"添加的设备分辨率不支持",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120008",description:"设备响应超时",solution:"设备响应超时，请检测设备网络或重试",updateTime:152203484e4},{moduleCode:"",detailCode:"160054",description:"添加的设备账号被锁定",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120009",description:"子账号不能添加设备",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160055",description:"添加的设备取码流出错",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120010",description:"设备验证码错误",solution:"验证码在设备标签上，六位大写字母，注意大小写",updateTime:152203484e4},{moduleCode:"",detailCode:"160056",description:"删除设备失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120012",description:"设备添加失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160057",description:"删除的设备未关联",solution:"检查IPC与NVR是否有关联关系",updateTime:152203484e4},{moduleCode:"",detailCode:"120013",description:"设备已被别人添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160060",description:"地址未绑定",solution:"请前往官网设置直播",updateTime:152203484e4},{moduleCode:"",detailCode:"120014",description:"设备序列号不正确",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160061",description:"账户流量已超出或未购买，限制开通",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120015",description:"设备不支持该功能",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160062",description:"该通道直播已开通",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120016",description:"当前设备正在格式化",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160063",description:"直播未使用或直播已关闭",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120017",description:"设备已被自己添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160070",description:"设备不能转移给自己",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120018",description:"该用户不拥有该设备",solution:"确认设备是否属于用户",updateTime:152203484e4},{moduleCode:"",detailCode:"160071",description:"设备不能转移，设备与其他设备存在关联关系",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400001",description:"参数为空",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120019",description:"设备不支持云存储服务",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160072",description:"设备不能转移，通道被分享给其他用户或者分享到视频广场",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400002",description:"参数错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120020",description:"设备在线，被自己添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160073",description:"云存储转移失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400025",description:"设备不支持对讲",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120021",description:"设备在线，但是未被用户添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160080",description:"当前正在声源定位",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400029",description:"没有初始化或资源被释放",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120022",description:"设备在线，但是已经被别的用户添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160081",description:"当前正在轨迹巡航",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400030",description:"json解析异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120023",description:"设备不在线，未被用户添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160082",description:"设备正在响应本次声源定位",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400031",description:"网络异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120024",description:"设备不在线，但是已经被别的用户添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160083",description:"当前正在开启隐私遮蔽",solution:"设备正在操作隐私遮蔽，无法进行当前操作",updateTime:152203484e4},{moduleCode:"",detailCode:"400032",description:"设备信息异常为空",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120025",description:"重复申请分享",solution:"确认设备是否由添加过该设备且申请过分享的账户下是否还存在分享记录",updateTime:152203484e4},{moduleCode:"",detailCode:"160084",description:"当前正在关闭隐私遮蔽",solution:"设备正在操作隐私遮蔽，无法进行当前操作",updateTime:152203484e4},{moduleCode:"",detailCode:"400034",description:"取流超时",solution:"一般是由于网络状况不好导致，可以尝试下让用户重新播放",updateTime:152203484e4},{moduleCode:"",detailCode:"120026",description:"视频广场不存在该视频",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"380290",description:"　连接CAS服务器失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400035",description:"设备已加密，需要输入验证码",solution:"收到此错误码，需要让用户输入验证码后，调用EZPlayer.setPlayKey传入验证码，并重新调用播放函数",updateTime:152203484e4},{moduleCode:"",detailCode:"120027",description:"视频转码失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361001",description:"对讲服务端排队超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400036",description:"播放验证码错误",solution:"收到此错误码，需要让用户输入验证码后，调用EZPlayer.setPlayKey传入验证码，并重新调用播放函数",updateTime:152203484e4},{moduleCode:"",detailCode:"120028",description:"设备固件升级包不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361002",description:"对讲服务端处理超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400037",description:"surfacehold错误",solution:"请检查是否是播放之前销毁了surface，收到此错误也可以重新建立surface后播放",updateTime:152203484e4},{moduleCode:"",detailCode:"120029",description:"设备不在线，但是已经被自己添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361003",description:"设备链接对讲服务器超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400100",description:"未知错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120030",description:"该用户不拥有该视频广场视频",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361004",description:"服务器内部错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400200",description:"player sdk出错，这种错误一般开发者也是无法解决，不具体分类传出，传一个统一的inner错误码出去",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120031",description:"开启终端绑定，硬件特征码验证失败",solution:"请在萤石客户端关闭终端绑定，参考此步骤",updateTime:152203484e4},{moduleCode:"",detailCode:"361005",description:"解析消息失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400300",description:"内存溢出",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120032",description:"该用户下通道不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361006",description:"请求重定向--需要向其他服务申请对讲",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400901",description:"设备不在线，可以提示用户",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120033",description:"无法收藏自己分享的视频",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361007",description:"请求url非法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400902",description:"accesstoken异常或失效，需要重新获取accesstoken，并传入到sdk",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120034",description:"该用户下无设备",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361008",description:"token失效",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400903",description:"当前账号开启了终端绑定，只允许指定设备登录操作，提示用户登录i.ys7.com解除终端绑定",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120090",description:"用户反馈失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361009",description:"设备验证码或者通信秘钥不匹配",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400904",description:"设备正在对讲中",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120095",description:"APP包下载失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361010",description:"设备已经在对讲",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400905",description:"设备开启了隐私保护，不允许预览、对讲等",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120096",description:"APP包信息删除失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361011",description:"设备10s响应超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120101",description:"视频不支持分享给本人",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361012",description:"设备不在线",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320002",description:"参数无效",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120102",description:"无相应邀请信息",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361013",description:"设备开启隐私保护拒绝对讲",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320003",description:"暂不支持此操作",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120103",description:"好友已存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361014",description:"token无权限",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320004",description:"内存溢出",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120104",description:"好友不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361015",description:"设备返回session不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320005",description:"创建CAS session失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120105",description:"好友状态错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361016",description:"验证token其他异常错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320006",description:"创建cloud session失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120106",description:"对应群组不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361017",description:"服务端监听设备建立端口超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320007",description:"token失效",solution:"重新设置token后再重试",updateTime:152203484e4},{moduleCode:"",detailCode:"120107",description:"不能添加自己为好友",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361018",description:"设备链路异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320008",description:"token池里面没有token,请传入token",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120108",description:"当前用户和所添加用户不是好友关系",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361019",description:"对讲服务端不支持的信令消息",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320009",description:"传入新的INIT_PARAM并reset(保留，目前未用)",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120109",description:"对应分享不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361020",description:"对讲服务端解析对讲请求未携带会话描述能力集",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320010",description:"请重试",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120110",description:"好友群组不属于当前用户",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361021",description:"对讲服务端优先能力集结果为空",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320011",description:"500毫秒后请重试",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120111",description:"好友不是等待验证状态",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361022",description:"cas链路异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320012",description:"token池已满",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120112",description:"添加应用下的用户为好友失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361023",description:"对讲服务端分配对讲会话资源失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320013",description:"P2P client超过限制",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120201",description:"操作报警信息失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361024",description:"对讲服务端解析信令消息失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320014",description:"sdk未初始化",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120202",description:"操作留言信息失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390001",description:"通用错误返回",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320015",description:"超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120301",description:"根据UUID查询报警消息不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390002",description:"入参为空指针",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320016",description:"正在打洞中",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120302",description:"根据UUID查询图片不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390003",description:"入参值无效",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320017",description:"没有视频文件头(播放器层面产生和处理此错误)",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120303",description:"根据FID查询图片不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390004",description:"信令消息解析非法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320018",description:"解码错误/超时(播放器层面产生和处理此错误)",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120305",description:"设备ip解析错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390005",description:"内存资源不足",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320019",description:"取消(保留，用户不用处理)",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120401",description:"用户云空间信息不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390006",description:"协议格式不对或者消息体长度超过STREAM_MAX_MSGBODY_LEN",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320020",description:"播放过程中预连接被用户清除预操作信息",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120402",description:"云空间操作失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390007",description:"设备序列号长度不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320021",description:"流加密码不对",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120403",description:"用户目录不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390008",description:"取流url长度不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320022",description:"未传入播放窗口",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120404",description:"要操作的目标目录不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390009",description:"解析vtm返回vtdu地址不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"100200",description:"操作成功",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120405",description:"要删除的文件信息不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390010",description:"解析vtm返回级联vtdu地址不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101001",description:"用户名不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120406",description:"已开通云存储",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390011",description:"解析vtm返回会话标识长度不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101002",description:"用户名已被占用",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120407",description:"开通记录失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390012",description:"vtdu返回流头长度不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101003",description:"密码不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120500",description:"获取数据错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390013",description:"vtdu会话长度非法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101004",description:"密码为同一字符",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120501",description:"开锁失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390014",description:"回调函数未注册",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101006",description:"手机号码已经被注册",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120502",description:"室内机未收到呼叫",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390015",description:"vtdu成功响应未携带会话标识",solution:"",updateTime:152203484e4}],code:"200",msg:"操作成功!"},w=function(){function e(t,n){s(this,e),this.coreX=t,this.coreY=n,console.log("ErrorCode",E)}return c(e,[{key:"toString",value:function(){return"".concat(this.coreX,"-").concat(this.coreY)}},{key:"matchErrorInfo",value:function(e){return E.data.find((function(t){return t.detailCode.substr(-4)==e}))}}]),e}(),T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},S=function(e,t){return function(e,t){(function(){var n,i="Expected a function",r="__lodash_hash_undefined__",o="__lodash_placeholder__",a=16,s=32,l=64,c=128,u=256,d=1/0,A=9007199254740991,h=NaN,p=4294967295,f=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",a],["flip",512],["partial",s],["partialRight",l],["rearg",u]],m="[object Arguments]",g="[object Array]",v="[object Boolean]",y="[object Date]",b="[object Error]",C="[object Function]",_="[object GeneratorFunction]",E="[object Map]",w="[object Number]",S="[object Object]",k="[object Promise]",I="[object RegExp]",B="[object Set]",x="[object String]",D="[object Symbol]",P="[object WeakMap]",R="[object ArrayBuffer]",j="[object DataView]",L="[object Float32Array]",M="[object Float64Array]",O="[object Int8Array]",F="[object Int16Array]",U="[object Int32Array]",Q="[object Uint8Array]",N="[object Uint8ClampedArray]",q="[object Uint16Array]",z="[object Uint32Array]",G=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,J=RegExp(V.source),K=RegExp(Y.source),Z=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,$=/<%=([\s\S]+?)%>/g,ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,re=RegExp(ie.source),oe=/^\s+/,ae=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,Ae=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ce=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Te="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",ke="A-Z\\xc0-\\xd6\\xd8-\\xde",Ie="\\ufe0e\\ufe0f",Be="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xe="['’]",De="["+Ee+"]",Pe="["+Be+"]",Re="["+we+"]",je="\\d+",Le="["+Te+"]",Me="["+Se+"]",Oe="[^"+Ee+Be+je+Te+Se+ke+"]",Fe="\\ud83c[\\udffb-\\udfff]",Ue="[^"+Ee+"]",Qe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+ke+"]",ze="\\u200d",Ge="(?:"+Me+"|"+Oe+")",He="(?:"+qe+"|"+Oe+")",We="(?:['’](?:d|ll|m|re|s|t|ve))?",Ve="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Re+"|"+Fe+")?",Je="["+Ie+"]?",Ke=Je+Ye+"(?:"+ze+"(?:"+[Ue,Qe,Ne].join("|")+")"+Je+Ye+")*",Ze="(?:"+[Le,Qe,Ne].join("|")+")"+Ke,Xe="(?:"+[Ue+Re+"?",Re,Qe,Ne,De].join("|")+")",$e=RegExp(xe,"g"),et=RegExp(Re,"g"),tt=RegExp(Fe+"(?="+Fe+")|"+Xe+Ke,"g"),nt=RegExp([qe+"?"+Me+"+"+We+"(?="+[Pe,qe,"$"].join("|")+")",He+"+"+Ve+"(?="+[Pe,qe+Ge,"$"].join("|")+")",qe+"?"+Ge+"+"+We,qe+"+"+Ve,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",je,Ze].join("|"),"g"),it=RegExp("["+ze+Ee+we+Ie+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,st={};st[L]=st[M]=st[O]=st[F]=st[U]=st[Q]=st[N]=st[q]=st[z]=!0,st[m]=st[g]=st[R]=st[v]=st[j]=st[y]=st[b]=st[C]=st[E]=st[w]=st[S]=st[I]=st[B]=st[x]=st[P]=!1;var lt={};lt[m]=lt[g]=lt[R]=lt[j]=lt[v]=lt[y]=lt[L]=lt[M]=lt[O]=lt[F]=lt[U]=lt[E]=lt[w]=lt[S]=lt[I]=lt[B]=lt[x]=lt[D]=lt[Q]=lt[N]=lt[q]=lt[z]=!0,lt[b]=lt[C]=lt[P]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,dt=parseInt,At="object"==typeof T&&T&&T.Object===Object&&T,ht="object"==typeof self&&self&&self.Object===Object&&self,pt=At||ht||Function("return this")(),ft=t&&!t.nodeType&&t,mt=ft&&e&&!e.nodeType&&e,gt=mt&&mt.exports===ft,vt=gt&&At.process,yt=function(){try{return mt&&mt.require&&mt.require("util").types||vt&&vt.binding&&vt.binding("util")}catch(e){}}(),bt=yt&&yt.isArrayBuffer,Ct=yt&&yt.isDate,_t=yt&&yt.isMap,Et=yt&&yt.isRegExp,wt=yt&&yt.isSet,Tt=yt&&yt.isTypedArray;function St(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function kt(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function It(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function Bt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function xt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function Dt(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function Pt(e,t){return!(null==e||!e.length)&&qt(e,t,0)>-1}function Rt(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function jt(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function Lt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function Mt(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function Ot(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Ft(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var Ut=Wt("length");function Qt(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function Nt(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function qt(e,t,n){return t==t?function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):Nt(e,Gt,n)}function zt(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function Gt(e){return e!=e}function Ht(e,t){var n=null==e?0:e.length;return n?Jt(e,t)/n:h}function Wt(e){return function(t){return null==t?n:t[e]}}function Vt(e){return function(t){return null==e?n:e[t]}}function Yt(e,t,n,i,r){return r(e,(function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)})),n}function Jt(e,t){for(var i,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==n&&(i=i===n?a:i+a)}return i}function Kt(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Zt(e){return e?e.slice(0,fn(e)+1).replace(oe,""):e}function Xt(e){return function(t){return e(t)}}function $t(e,t){return jt(t,(function(t){return e[t]}))}function en(e,t){return e.has(t)}function tn(e,t){for(var n=-1,i=e.length;++n<i&&qt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}var rn=Vt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),on=Vt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ct[e]}function sn(e){return it.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var s=e[n];s!==t&&s!==o||(e[n]=o,a[r++]=n)}return a}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function An(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return sn(e)?function(e){for(var t=tt.lastIndex=0;tt.test(e);)++t;return t}(e):Ut(e)}function pn(e){return sn(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.split("")}(e)}function fn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var mn=Vt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gn=function e(t){var T,ae=(t=null==t?pt:gn.defaults(pt.Object(),t,gn.pick(pt,ot))).Array,Ee=t.Date,we=t.Error,Te=t.Function,Se=t.Math,ke=t.Object,Ie=t.RegExp,Be=t.String,xe=t.TypeError,De=ae.prototype,Pe=Te.prototype,Re=ke.prototype,je=t["__core-js_shared__"],Le=Pe.toString,Me=Re.hasOwnProperty,Oe=0,Fe=(T=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",Ue=Re.toString,Qe=Le.call(ke),Ne=pt._,qe=Ie("^"+Le.call(Me).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=gt?t.Buffer:n,Ge=t.Symbol,He=t.Uint8Array,We=ze?ze.allocUnsafe:n,Ve=cn(ke.getPrototypeOf,ke),Ye=ke.create,Je=Re.propertyIsEnumerable,Ke=De.splice,Ze=Ge?Ge.isConcatSpreadable:n,Xe=Ge?Ge.iterator:n,tt=Ge?Ge.toStringTag:n,it=function(){try{var e=ho(ke,"defineProperty");return e({},"",{}),e}catch(e){}}(),ct=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,At=Ee&&Ee.now!==pt.Date.now&&Ee.now,ht=t.setTimeout!==pt.setTimeout&&t.setTimeout,ft=Se.ceil,mt=Se.floor,vt=ke.getOwnPropertySymbols,yt=ze?ze.isBuffer:n,Ut=t.isFinite,Vt=De.join,vn=cn(ke.keys,ke),yn=Se.max,bn=Se.min,Cn=Ee.now,_n=t.parseInt,En=Se.random,wn=De.reverse,Tn=ho(t,"DataView"),Sn=ho(t,"Map"),kn=ho(t,"Promise"),In=ho(t,"Set"),Bn=ho(t,"WeakMap"),xn=ho(ke,"create"),Dn=Bn&&new Bn,Pn={},Rn=qo(Tn),jn=qo(Sn),Ln=qo(kn),Mn=qo(In),On=qo(Bn),Fn=Ge?Ge.prototype:n,Un=Fn?Fn.valueOf:n,Qn=Fn?Fn.toString:n;function Nn(e){if(os(e)&&!Ya(e)&&!(e instanceof Hn)){if(e instanceof Gn)return e;if(Me.call(e,"__wrapped__"))return zo(e)}return new Gn(e)}var qn=function(){function e(){}return function(t){if(!rs(t))return{};if(Ye)return Ye(t);e.prototype=t;var i=new e;return e.prototype=n,i}}();function zn(){}function Gn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Vn(e);this.size=t.size}function Zn(e,t){var n=Ya(e),i=!n&&Va(e),r=!n&&!i&&Xa(e),o=!n&&!i&&!r&&hs(e),a=n||i||r||o,s=a?Kt(e.length,Be):[],l=s.length;for(var c in e)!t&&!Me.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bo(c,l))||s.push(c);return s}function Xn(e){var t=e.length;return t?e[Ji(0,t-1)]:n}function $n(e,t){return Mo(xr(e),li(t,0,e.length))}function ei(e){return Mo(xr(e))}function ti(e,t,i){(i!==n&&!Ga(e[t],i)||i===n&&!(t in e))&&ai(e,t,i)}function ni(e,t,i){var r=e[t];Me.call(e,t)&&Ga(r,i)&&(i!==n||t in e)||ai(e,t,i)}function ii(e,t){for(var n=e.length;n--;)if(Ga(e[n][0],t))return n;return-1}function ri(e,t,n,i){return hi(e,(function(e,r,o){t(i,e,n(e),o)})),i}function oi(e,t){return e&&Dr(t,Ls(t),e)}function ai(e,t,n){"__proto__"==t&&it?it(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function si(e,t){for(var i=-1,r=t.length,o=ae(r),a=null==e;++i<r;)o[i]=a?n:xs(e,t[i]);return o}function li(e,t,i){return e==e&&(i!==n&&(e=e<=i?e:i),t!==n&&(e=e>=t?e:t)),e}function ci(e,t,i,r,o,a){var s,l=1&t,c=2&t,u=4&t;if(i&&(s=o?i(e,r,o,a):i(e)),s!==n)return s;if(!rs(e))return e;var d=Ya(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return xr(e,s)}else{var A=mo(e),h=A==C||A==_;if(Xa(e))return wr(e,l);if(A==S||A==m||h&&!o){if(s=c||h?{}:vo(e),!l)return c?function(e,t){return Dr(e,fo(e),t)}(e,function(e,t){return e&&Dr(t,Ms(t),e)}(s,e)):function(e,t){return Dr(e,po(e),t)}(e,oi(s,e))}else{if(!lt[A])return o?e:{};s=function(e,t,n){var i,r=e.constructor;switch(t){case R:return Tr(e);case v:case y:return new r(+e);case j:return function(e,t){var n=t?Tr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case M:case O:case F:case U:case Q:case N:case q:case z:return Sr(e,n);case E:return new r;case w:case x:return new r(e);case I:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case B:return new r;case D:return i=e,Un?ke(Un.call(i)):{}}}(e,A,l)}}a||(a=new Kn);var p=a.get(e);if(p)return p;a.set(e,s),us(e)?e.forEach((function(n){s.add(ci(n,t,i,n,e,a))})):as(e)&&e.forEach((function(n,r){s.set(r,ci(n,t,i,r,e,a))}));var f=d?n:(u?c?oo:ro:c?Ms:Ls)(e);return It(f||e,(function(n,r){f&&(n=e[r=n]),ni(s,r,ci(n,t,i,r,e,a))})),s}function ui(e,t,i){var r=i.length;if(null==e)return!r;for(e=ke(e);r--;){var o=i[r],a=t[o],s=e[o];if(s===n&&!(o in e)||!a(s))return!1}return!0}function di(e,t,r){if("function"!=typeof e)throw new xe(i);return Po((function(){e.apply(n,r)}),t)}function Ai(e,t,n,i){var r=-1,o=Pt,a=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=jt(t,Xt(n))),i?(o=Rt,a=!1):t.length>=200&&(o=en,a=!1,t=new Jn(t));e:for(;++r<s;){var u=e[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,a&&d==d){for(var A=c;A--;)if(t[A]===d)continue e;l.push(u)}else o(t,d,i)||l.push(u)}return l}Nn.templateSettings={escape:Z,evaluate:X,interpolate:$,variable:"",imports:{_:Nn}},Nn.prototype=zn.prototype,Nn.prototype.constructor=Nn,Gn.prototype=qn(zn.prototype),Gn.prototype.constructor=Gn,Hn.prototype=qn(zn.prototype),Hn.prototype.constructor=Hn,Wn.prototype.clear=function(){this.__data__=xn?xn(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(xn){var i=t[e];return i===r?n:i}return Me.call(t,e)?t[e]:n},Wn.prototype.has=function(e){var t=this.__data__;return xn?t[e]!==n:Me.call(t,e)},Wn.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=xn&&t===n?r:t,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(e){var t=this.__data__,n=ii(t,e);return!(n<0||(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,0))},Vn.prototype.get=function(e){var t=this.__data__,i=ii(t,e);return i<0?n:t[i][1]},Vn.prototype.has=function(e){return ii(this.__data__,e)>-1},Vn.prototype.set=function(e,t){var n=this.__data__,i=ii(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Sn||Vn),string:new Wn}},Yn.prototype.delete=function(e){var t=uo(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return uo(this,e).get(e)},Yn.prototype.has=function(e){return uo(this,e).has(e)},Yn.prototype.set=function(e,t){var n=uo(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Jn.prototype.add=Jn.prototype.push=function(e){return this.__data__.set(e,r),this},Jn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Vn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Vn){var i=n.__data__;if(!Sn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(i)}return n.set(e,t),this.size=n.size,this};var hi=jr(Ci),pi=jr(_i,!0);function fi(e,t){var n=!0;return hi(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function mi(e,t,i){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(l===n?s==s&&!As(s):i(s,l)))var l=s,c=a}return c}function gi(e,t){var n=[];return hi(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function vi(e,t,n,i,r){var o=-1,a=e.length;for(n||(n=yo),r||(r=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?vi(s,t-1,n,i,r):Lt(r,s):i||(r[r.length]=s)}return r}var yi=Lr(),bi=Lr(!0);function Ci(e,t){return e&&yi(e,t,Ls)}function _i(e,t){return e&&bi(e,t,Ls)}function Ei(e,t){return Dt(t,(function(t){return ts(e[t])}))}function wi(e,t){for(var i=0,r=(t=br(t,e)).length;null!=e&&i<r;)e=e[No(t[i++])];return i&&i==r?e:n}function Ti(e,t,n){var i=t(e);return Ya(e)?i:Lt(i,n(e))}function Si(e){return null==e?e===n?"[object Undefined]":"[object Null]":tt&&tt in ke(e)?function(e){var t=Me.call(e,tt),i=e[tt];try{e[tt]=n;var r=!0}catch(e){}var o=Ue.call(e);return r&&(t?e[tt]=i:delete e[tt]),o}(e):function(e){return Ue.call(e)}(e)}function ki(e,t){return e>t}function Ii(e,t){return null!=e&&Me.call(e,t)}function Bi(e,t){return null!=e&&t in ke(e)}function xi(e,t,i){for(var r=i?Rt:Pt,o=e[0].length,a=e.length,s=a,l=ae(a),c=1/0,u=[];s--;){var d=e[s];s&&t&&(d=jt(d,Xt(t))),c=bn(d.length,c),l[s]=!i&&(t||o>=120&&d.length>=120)?new Jn(s&&d):n}d=e[0];var A=-1,h=l[0];e:for(;++A<o&&u.length<c;){var p=d[A],f=t?t(p):p;if(p=i||0!==p?p:0,!(h?en(h,f):r(u,f,i))){for(s=a;--s;){var m=l[s];if(!(m?en(m,f):r(e[s],f,i)))continue e}h&&h.push(f),u.push(p)}}return u}function Di(e,t,i){var r=null==(e=Bo(e,t=br(t,e)))?e:e[No(ea(t))];return null==r?n:St(r,e,i)}function Pi(e){return os(e)&&Si(e)==m}function Ri(e,t,i,r,o){return e===t||(null==e||null==t||!os(e)&&!os(t)?e!=e&&t!=t:function(e,t,i,r,o,a){var s=Ya(e),l=Ya(t),c=s?g:mo(e),u=l?g:mo(t),d=(c=c==m?S:c)==S,A=(u=u==m?S:u)==S,h=c==u;if(h&&Xa(e)){if(!Xa(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Kn),s||hs(e)?no(e,t,i,r,o,a):function(e,t,n,i,r,o,a){switch(n){case j:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!o(new He(e),new He(t)));case v:case y:case w:return Ga(+e,+t);case b:return e.name==t.name&&e.message==t.message;case I:case x:return e==t+"";case E:var s=ln;case B:var l=1&i;if(s||(s=dn),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;i|=2,a.set(e,t);var u=no(s(e),s(t),i,r,o,a);return a.delete(e),u;case D:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,c,i,r,o,a);if(!(1&i)){var p=d&&Me.call(e,"__wrapped__"),f=A&&Me.call(t,"__wrapped__");if(p||f){var C=p?e.value():e,_=f?t.value():t;return a||(a=new Kn),o(C,_,i,r,a)}}return!!h&&(a||(a=new Kn),function(e,t,i,r,o,a){var s=1&i,l=ro(e),c=l.length;if(c!=ro(t).length&&!s)return!1;for(var u=c;u--;){var d=l[u];if(!(s?d in t:Me.call(t,d)))return!1}var A=a.get(e),h=a.get(t);if(A&&h)return A==t&&h==e;var p=!0;a.set(e,t),a.set(t,e);for(var f=s;++u<c;){var m=e[d=l[u]],g=t[d];if(r)var v=s?r(g,m,d,t,e,a):r(m,g,d,e,t,a);if(!(v===n?m===g||o(m,g,i,r,a):v)){p=!1;break}f||(f="constructor"==d)}if(p&&!f){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,i,r,o,a))}(e,t,i,r,Ri,o))}function ji(e,t,i,r){var o=i.length,a=o,s=!r;if(null==e)return!a;for(e=ke(e);o--;){var l=i[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<a;){var c=(l=i[o])[0],u=e[c],d=l[1];if(s&&l[2]){if(u===n&&!(c in e))return!1}else{var A=new Kn;if(r)var h=r(u,d,c,e,t,A);if(!(h===n?Ri(d,u,3,r,A):h))return!1}}return!0}function Li(e){return!(!rs(e)||(t=e,Fe&&Fe in t))&&(ts(e)?qe:ge).test(qo(e));var t}function Mi(e){return"function"==typeof e?e:null==e?sl:"object"==typeof e?Ya(e)?qi(e[0],e[1]):Ni(e):ml(e)}function Oi(e){if(!To(e))return vn(e);var t=[];for(var n in ke(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fi(e){if(!rs(e))return function(e){var t=[];if(null!=e)for(var n in ke(e))t.push(n);return t}(e);var t=To(e),n=[];for(var i in e)("constructor"!=i||!t&&Me.call(e,i))&&n.push(i);return n}function Ui(e,t){return e<t}function Qi(e,t){var n=-1,i=Ka(e)?ae(e.length):[];return hi(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Ni(e){var t=Ao(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(n){return n===e||ji(n,e,t)}}function qi(e,t){return _o(e)&&So(t)?ko(No(e),t):function(i){var r=xs(i,e);return r===n&&r===t?Ds(i,e):Ri(t,r,3)}}function zi(e,t,i,r,o){e!==t&&yi(t,(function(a,s){if(o||(o=new Kn),rs(a))!function(e,t,i,r,o,a,s){var l=xo(e,i),c=xo(t,i),u=s.get(c);if(u)ti(e,i,u);else{var d=a?a(l,c,i+"",e,t,s):n,A=d===n;if(A){var h=Ya(c),p=!h&&Xa(c),f=!h&&!p&&hs(c);d=c,h||p||f?Ya(l)?d=l:Za(l)?d=xr(l):p?(A=!1,d=wr(c,!0)):f?(A=!1,d=Sr(c,!0)):d=[]:ls(c)||Va(c)?(d=l,Va(l)?d=Cs(l):rs(l)&&!ts(l)||(d=vo(c))):A=!1}A&&(s.set(c,d),o(d,c,r,a,s),s.delete(c)),ti(e,i,d)}}(e,t,s,i,zi,r,o);else{var l=r?r(xo(e,s),a,s+"",e,t,o):n;l===n&&(l=a),ti(e,s,l)}}),Ms)}function Gi(e,t){var i=e.length;if(i)return bo(t+=t<0?i:0,i)?e[t]:n}function Hi(e,t,n){t=t.length?jt(t,(function(e){return Ya(e)?function(t){return wi(t,1===e.length?e[0]:e)}:e})):[sl];var i=-1;t=jt(t,Xt(co()));var r=Qi(e,(function(e,n,r){var o=jt(t,(function(t){return t(e)}));return{criteria:o,index:++i,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(r,(function(e,t){return function(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;++i<a;){var l=kr(r[i],o[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}))}function Wi(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var a=t[i],s=wi(e,a);n(s,a)&&er(o,br(a,e),s)}return o}function Vi(e,t,n,i){var r=i?zt:qt,o=-1,a=t.length,s=e;for(e===t&&(t=xr(t)),n&&(s=jt(e,Xt(n)));++o<a;)for(var l=0,c=t[o],u=n?n(c):c;(l=r(s,u,l,i))>-1;)s!==e&&Ke.call(s,l,1),Ke.call(e,l,1);return e}function Yi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;bo(r)?Ke.call(e,r,1):Ar(e,r)}}return e}function Ji(e,t){return e+mt(En()*(t-e+1))}function Ki(e,t){var n="";if(!e||t<1||t>A)return n;do{t%2&&(n+=e),(t=mt(t/2))&&(e+=e)}while(t);return n}function Zi(e,t){return Ro(Io(e,t,sl),e+"")}function Xi(e){return Xn(Gs(e))}function $i(e,t){var n=Gs(e);return Mo(n,li(t,0,n.length))}function er(e,t,i,r){if(!rs(e))return e;for(var o=-1,a=(t=br(t,e)).length,s=a-1,l=e;null!=l&&++o<a;){var c=No(t[o]),u=i;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var d=l[c];(u=r?r(d,c,l):n)===n&&(u=rs(d)?d:bo(t[o+1])?[]:{})}ni(l,c,u),l=l[c]}return e}var tr=Dn?function(e,t){return Dn.set(e,t),e}:sl,nr=it?function(e,t){return it(e,"toString",{configurable:!0,enumerable:!1,value:rl(t),writable:!0})}:sl;function ir(e){return Mo(Gs(e))}function rr(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=ae(r);++i<r;)o[i]=e[i+t];return o}function or(e,t){var n;return hi(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function ar(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=e[o];null!==a&&!As(a)&&(n?a<=t:a<t)?i=o+1:r=o}return r}return sr(e,t,sl,n)}function sr(e,t,i,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=i(t))!=t,l=null===t,c=As(t),u=t===n;o<a;){var d=mt((o+a)/2),A=i(e[d]),h=A!==n,p=null===A,f=A==A,m=As(A);if(s)var g=r||f;else g=u?f&&(r||h):l?f&&h&&(r||!p):c?f&&h&&!p&&(r||!m):!p&&!m&&(r?A<=t:A<t);g?o=d+1:a=d}return bn(a,4294967294)}function lr(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n],s=t?t(a):a;if(!n||!Ga(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function cr(e){return"number"==typeof e?e:As(e)?h:+e}function ur(e){if("string"==typeof e)return e;if(Ya(e))return jt(e,ur)+"";if(As(e))return Qn?Qn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function dr(e,t,n){var i=-1,r=Pt,o=e.length,a=!0,s=[],l=s;if(n)a=!1,r=Rt;else if(o>=200){var c=t?null:Kr(e);if(c)return dn(c);a=!1,r=en,l=new Jn}else l=t?[]:s;e:for(;++i<o;){var u=e[i],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var A=l.length;A--;)if(l[A]===d)continue e;t&&l.push(d),s.push(u)}else r(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function Ar(e,t){return null==(e=Bo(e,t=br(t,e)))||delete e[No(ea(t))]}function hr(e,t,n,i){return er(e,t,n(wi(e,t)),i)}function pr(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?rr(e,i?0:o,i?o+1:r):rr(e,i?o+1:0,i?r:o)}function fr(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Mt(t,(function(e,t){return t.func.apply(t.thisArg,Lt([e],t.args))}),n)}function mr(e,t,n){var i=e.length;if(i<2)return i?dr(e[0]):[];for(var r=-1,o=ae(i);++r<i;)for(var a=e[r],s=-1;++s<i;)s!=r&&(o[r]=Ai(o[r]||a,e[s],t,n));return dr(vi(o,1),t,n)}function gr(e,t,i){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var l=r<a?t[r]:n;i(s,e[r],l)}return s}function vr(e){return Za(e)?e:[]}function yr(e){return"function"==typeof e?e:sl}function br(e,t){return Ya(e)?e:_o(e,t)?[e]:Qo(_s(e))}var Cr=Zi;function _r(e,t,i){var r=e.length;return i=i===n?r:i,!t&&i>=r?e:rr(e,t,i)}var Er=ct||function(e){return pt.clearTimeout(e)};function wr(e,t){if(t)return e.slice();var n=e.length,i=We?We(n):new e.constructor(n);return e.copy(i),i}function Tr(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Sr(e,t){var n=t?Tr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function kr(e,t){if(e!==t){var i=e!==n,r=null===e,o=e==e,a=As(e),s=t!==n,l=null===t,c=t==t,u=As(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||r&&s&&c||!i&&c||!o)return 1;if(!r&&!a&&!u&&e<t||u&&i&&o&&!r&&!a||l&&i&&o||!s&&o||!c)return-1}return 0}function Ir(e,t,n,i){for(var r=-1,o=e.length,a=n.length,s=-1,l=t.length,c=yn(o-a,0),u=ae(l+c),d=!i;++s<l;)u[s]=t[s];for(;++r<a;)(d||r<o)&&(u[n[r]]=e[r]);for(;c--;)u[s++]=e[r++];return u}function Br(e,t,n,i){for(var r=-1,o=e.length,a=-1,s=n.length,l=-1,c=t.length,u=yn(o-s,0),d=ae(u+c),A=!i;++r<u;)d[r]=e[r];for(var h=r;++l<c;)d[h+l]=t[l];for(;++a<s;)(A||r<o)&&(d[h+n[a]]=e[r++]);return d}function xr(e,t){var n=-1,i=e.length;for(t||(t=ae(i));++n<i;)t[n]=e[n];return t}function Dr(e,t,i,r){var o=!i;i||(i={});for(var a=-1,s=t.length;++a<s;){var l=t[a],c=r?r(i[l],e[l],l,i,e):n;c===n&&(c=e[l]),o?ai(i,l,c):ni(i,l,c)}return i}function Pr(e,t){return function(n,i){var r=Ya(n)?kt:ri,o=t?t():{};return r(n,e,co(i,2),o)}}function Rr(e){return Zi((function(t,i){var r=-1,o=i.length,a=o>1?i[o-1]:n,s=o>2?i[2]:n;for(a=e.length>3&&"function"==typeof a?(o--,a):n,s&&Co(i[0],i[1],s)&&(a=o<3?n:a,o=1),t=ke(t);++r<o;){var l=i[r];l&&e(t,l,r,a)}return t}))}function jr(e,t){return function(n,i){if(null==n)return n;if(!Ka(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=ke(n);(t?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Lr(e){return function(t,n,i){for(var r=-1,o=ke(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(!1===n(o[l],l,o))break}return t}}function Mr(e){return function(t){var i=sn(t=_s(t))?pn(t):n,r=i?i[0]:t.charAt(0),o=i?_r(i,1).join(""):t.slice(1);return r[e]()+o}}function Or(e){return function(t){return Mt(tl(Vs(t).replace($e,"")),e,"")}}function Fr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=qn(e.prototype),i=e.apply(n,t);return rs(i)?i:n}}function Ur(e){return function(t,i,r){var o=ke(t);if(!Ka(t)){var a=co(i,3);t=Ls(t),i=function(e){return a(o[e],e,o)}}var s=e(t,i,r);return s>-1?o[a?t[s]:s]:n}}function Qr(e){return io((function(t){var r=t.length,o=r,a=Gn.prototype.thru;for(e&&t.reverse();o--;){var s=t[o];if("function"!=typeof s)throw new xe(i);if(a&&!l&&"wrapper"==so(s))var l=new Gn([],!0)}for(o=l?o:r;++o<r;){var c=so(s=t[o]),u="wrapper"==c?ao(s):n;l=u&&Eo(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[so(u[0])].apply(l,u[3]):1==s.length&&Eo(s)?l[c]():l.thru(s)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Ya(n))return l.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function Nr(e,t,i,r,o,a,s,l,u,d){var A=t&c,h=1&t,p=2&t,f=24&t,m=512&t,g=p?n:Fr(e);return function c(){for(var v=arguments.length,y=ae(v),b=v;b--;)y[b]=arguments[b];if(f)var C=lo(c),_=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(y,C);if(r&&(y=Ir(y,r,o,f)),a&&(y=Br(y,a,s,f)),v-=_,f&&v<d){var E=un(y,C);return Yr(e,t,Nr,c.placeholder,i,y,E,l,u,d-v)}var w=h?i:this,T=p?w[e]:e;return v=y.length,l?y=function(e,t){for(var i=e.length,r=bn(t.length,i),o=xr(e);r--;){var a=t[r];e[r]=bo(a,i)?o[a]:n}return e}(y,l):m&&v>1&&y.reverse(),A&&u<v&&(y.length=u),this&&this!==pt&&this instanceof c&&(T=g||Fr(T)),T.apply(w,y)}}function qr(e,t){return function(n,i){return function(e,t,n,i){return Ci(e,(function(e,r,o){t(i,n(e),r,o)})),i}(n,e,t(i),{})}}function zr(e,t){return function(i,r){var o;if(i===n&&r===n)return t;if(i!==n&&(o=i),r!==n){if(o===n)return r;"string"==typeof i||"string"==typeof r?(i=ur(i),r=ur(r)):(i=cr(i),r=cr(r)),o=e(i,r)}return o}}function Gr(e){return io((function(t){return t=jt(t,Xt(co())),Zi((function(n){var i=this;return e(t,(function(e){return St(e,i,n)}))}))}))}function Hr(e,t){var i=(t=t===n?" ":ur(t)).length;if(i<2)return i?Ki(t,e):t;var r=Ki(t,ft(e/hn(t)));return sn(t)?_r(pn(r),0,e).join(""):r.slice(0,e)}function Wr(e){return function(t,i,r){return r&&"number"!=typeof r&&Co(t,i,r)&&(i=r=n),t=gs(t),i===n?(i=t,t=0):i=gs(i),function(e,t,n,i){for(var r=-1,o=yn(ft((t-e)/(n||1)),0),a=ae(o);o--;)a[i?o:++r]=e,e+=n;return a}(t,i,r=r===n?t<i?1:-1:gs(r),e)}}function Vr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=bs(t),n=bs(n)),e(t,n)}}function Yr(e,t,i,r,o,a,c,u,d,A){var h=8&t;t|=h?s:l,4&(t&=~(h?l:s))||(t&=-4);var p=[e,t,o,h?a:n,h?c:n,h?n:a,h?n:c,u,d,A],f=i.apply(n,p);return Eo(e)&&Do(f,p),f.placeholder=r,jo(f,e,t)}function Jr(e){var t=Se[e];return function(e,n){if(e=bs(e),(n=null==n?0:bn(vs(n),292))&&Ut(e)){var i=(_s(e)+"e").split("e");return+((i=(_s(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Kr=In&&1/dn(new In([,-0]))[1]==d?function(e){return new In(e)}:Al;function Zr(e){return function(t){var n=mo(t);return n==E?ln(t):n==B?An(t):function(e,t){return jt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xr(e,t,r,d,A,h,p,f){var m=2&t;if(!m&&"function"!=typeof e)throw new xe(i);var g=d?d.length:0;if(g||(t&=-97,d=A=n),p=p===n?p:yn(vs(p),0),f=f===n?f:vs(f),g-=A?A.length:0,t&l){var v=d,y=A;d=A=n}var b=m?n:ao(e),C=[e,t,r,d,A,v,y,h,p,f];if(b&&function(e,t){var n=e[1],i=t[1],r=n|i,a=r<131,s=i==c&&8==n||i==c&&n==u&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!a&&!s)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var l=t[3];if(l){var d=e[3];e[3]=d?Ir(d,l,t[4]):l,e[4]=d?un(e[3],o):t[4]}(l=t[5])&&(d=e[5],e[5]=d?Br(d,l,t[6]):l,e[6]=d?un(e[5],o):t[6]),(l=t[7])&&(e[7]=l),i&c&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(C,b),e=C[0],t=C[1],r=C[2],d=C[3],A=C[4],!(f=C[9]=C[9]===n?m?0:e.length:yn(C[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||t==a?function(e,t,i){var r=Fr(e);return function o(){for(var a=arguments.length,s=ae(a),l=a,c=lo(o);l--;)s[l]=arguments[l];var u=a<3&&s[0]!==c&&s[a-1]!==c?[]:un(s,c);return(a-=u.length)<i?Yr(e,t,Nr,o.placeholder,n,s,u,n,n,i-a):St(this&&this!==pt&&this instanceof o?r:e,this,s)}}(e,t,f):t!=s&&33!=t||A.length?Nr.apply(n,C):function(e,t,n,i){var r=1&t,o=Fr(e);return function t(){for(var a=-1,s=arguments.length,l=-1,c=i.length,u=ae(c+s),d=this&&this!==pt&&this instanceof t?o:e;++l<c;)u[l]=i[l];for(;s--;)u[l++]=arguments[++a];return St(d,r?n:this,u)}}(e,t,r,d);else var _=function(e,t,n){var i=1&t,r=Fr(e);return function t(){return(this&&this!==pt&&this instanceof t?r:e).apply(i?n:this,arguments)}}(e,t,r);return jo((b?tr:Do)(_,C),e,t)}function $r(e,t,i,r){return e===n||Ga(e,Re[i])&&!Me.call(r,i)?t:e}function eo(e,t,i,r,o,a){return rs(e)&&rs(t)&&(a.set(t,e),zi(e,t,n,eo,a),a.delete(t)),e}function to(e){return ls(e)?n:e}function no(e,t,i,r,o,a){var s=1&i,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var A=-1,h=!0,p=2&i?new Jn:n;for(a.set(e,t),a.set(t,e);++A<l;){var f=e[A],m=t[A];if(r)var g=s?r(m,f,A,t,e,a):r(f,m,A,e,t,a);if(g!==n){if(g)continue;h=!1;break}if(p){if(!Ft(t,(function(e,t){if(!en(p,t)&&(f===e||o(f,e,i,r,a)))return p.push(t)}))){h=!1;break}}else if(f!==m&&!o(f,m,i,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function io(e){return Ro(Io(e,n,Jo),e+"")}function ro(e){return Ti(e,Ls,po)}function oo(e){return Ti(e,Ms,fo)}var ao=Dn?function(e){return Dn.get(e)}:Al;function so(e){for(var t=e.name+"",n=Pn[t],i=Me.call(Pn,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function lo(e){return(Me.call(Nn,"placeholder")?Nn:e).placeholder}function co(){var e=Nn.iteratee||ll;return e=e===ll?Mi:e,arguments.length?e(arguments[0],arguments[1]):e}function uo(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Ao(e){for(var t=Ls(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,So(r)]}return t}function ho(e,t){var i=function(e,t){return null==e?n:e[t]}(e,t);return Li(i)?i:n}var po=vt?function(e){return null==e?[]:(e=ke(e),Dt(vt(e),(function(t){return Je.call(e,t)})))}:yl,fo=vt?function(e){for(var t=[];e;)Lt(t,po(e)),e=Ve(e);return t}:yl,mo=Si;function go(e,t,n){for(var i=-1,r=(t=br(t,e)).length,o=!1;++i<r;){var a=No(t[i]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&is(r)&&bo(a,r)&&(Ya(e)||Va(e))}function vo(e){return"function"!=typeof e.constructor||To(e)?{}:qn(Ve(e))}function yo(e){return Ya(e)||Va(e)||!!(Ze&&e&&e[Ze])}function bo(e,t){var n=typeof e;return!!(t=null==t?A:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function Co(e,t,n){if(!rs(n))return!1;var i=typeof t;return!!("number"==i?Ka(n)&&bo(t,n.length):"string"==i&&t in n)&&Ga(n[t],e)}function _o(e,t){if(Ya(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!As(e))||te.test(e)||!ee.test(e)||null!=t&&e in ke(t)}function Eo(e){var t=so(e),n=Nn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var i=ao(n);return!!i&&e===i[0]}(Tn&&mo(new Tn(new ArrayBuffer(1)))!=j||Sn&&mo(new Sn)!=E||kn&&mo(kn.resolve())!=k||In&&mo(new In)!=B||Bn&&mo(new Bn)!=P)&&(mo=function(e){var t=Si(e),i=t==S?e.constructor:n,r=i?qo(i):"";if(r)switch(r){case Rn:return j;case jn:return E;case Ln:return k;case Mn:return B;case On:return P}return t});var wo=je?ts:bl;function To(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function So(e){return e==e&&!rs(e)}function ko(e,t){return function(i){return null!=i&&i[e]===t&&(t!==n||e in ke(i))}}function Io(e,t,i){return t=yn(t===n?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=yn(n.length-t,0),a=ae(o);++r<o;)a[r]=n[t+r];r=-1;for(var s=ae(t+1);++r<t;)s[r]=n[r];return s[t]=i(a),St(e,this,s)}}function Bo(e,t){return t.length<2?e:wi(e,rr(t,0,-1))}function xo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Do=Lo(tr),Po=ht||function(e,t){return pt.setTimeout(e,t)},Ro=Lo(nr);function jo(e,t,n){var i=t+"";return Ro(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return It(f,(function(n){var i="_."+n[0];t&n[1]&&!Pt(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(i),n)))}function Lo(e){var t=0,i=0;return function(){var r=Cn(),o=16-(r-i);if(i=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Mo(e,t){var i=-1,r=e.length,o=r-1;for(t=t===n?r:t;++i<t;){var a=Ji(i,o),s=e[a];e[a]=e[i],e[i]=s}return e.length=t,e}var Oo,Fo,Uo,Qo=(Oo=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,n,i,r){t.push(i?r.replace(Ae,"$1"):n||e)})),t},Fo=Fa(Oo,(function(e){return 500===Uo.size&&Uo.clear(),e})),Uo=Fo.cache,Fo);function No(e){if("string"==typeof e||As(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function qo(e){if(null!=e){try{return Le.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function zo(e){if(e instanceof Hn)return e.clone();var t=new Gn(e.__wrapped__,e.__chain__);return t.__actions__=xr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Go=Zi((function(e,t){return Za(e)?Ai(e,vi(t,1,Za,!0)):[]})),Ho=Zi((function(e,t){var i=ea(t);return Za(i)&&(i=n),Za(e)?Ai(e,vi(t,1,Za,!0),co(i,2)):[]})),Wo=Zi((function(e,t){var i=ea(t);return Za(i)&&(i=n),Za(e)?Ai(e,vi(t,1,Za,!0),n,i):[]}));function Vo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:vs(n);return r<0&&(r=yn(i+r,0)),Nt(e,co(t,3),r)}function Yo(e,t,i){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return i!==n&&(o=vs(i),o=i<0?yn(r+o,0):bn(o,r-1)),Nt(e,co(t,3),o,!0)}function Jo(e){return null!=e&&e.length?vi(e,1):[]}function Ko(e){return e&&e.length?e[0]:n}var Zo=Zi((function(e){var t=jt(e,vr);return t.length&&t[0]===e[0]?xi(t):[]})),Xo=Zi((function(e){var t=ea(e),i=jt(e,vr);return t===ea(i)?t=n:i.pop(),i.length&&i[0]===e[0]?xi(i,co(t,2)):[]})),$o=Zi((function(e){var t=ea(e),i=jt(e,vr);return(t="function"==typeof t?t:n)&&i.pop(),i.length&&i[0]===e[0]?xi(i,n,t):[]}));function ea(e){var t=null==e?0:e.length;return t?e[t-1]:n}var ta=Zi(na);function na(e,t){return e&&e.length&&t&&t.length?Vi(e,t):e}var ia=io((function(e,t){var n=null==e?0:e.length,i=si(e,t);return Yi(e,jt(t,(function(e){return bo(e,n)?+e:e})).sort(kr)),i}));function ra(e){return null==e?e:wn.call(e)}var oa=Zi((function(e){return dr(vi(e,1,Za,!0))})),aa=Zi((function(e){var t=ea(e);return Za(t)&&(t=n),dr(vi(e,1,Za,!0),co(t,2))})),sa=Zi((function(e){var t=ea(e);return t="function"==typeof t?t:n,dr(vi(e,1,Za,!0),n,t)}));function la(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(Za(e))return t=yn(e.length,t),!0})),Kt(t,(function(t){return jt(e,Wt(t))}))}function ca(e,t){if(!e||!e.length)return[];var i=la(e);return null==t?i:jt(i,(function(e){return St(t,n,e)}))}var ua=Zi((function(e,t){return Za(e)?Ai(e,t):[]})),da=Zi((function(e){return mr(Dt(e,Za))})),Aa=Zi((function(e){var t=ea(e);return Za(t)&&(t=n),mr(Dt(e,Za),co(t,2))})),ha=Zi((function(e){var t=ea(e);return t="function"==typeof t?t:n,mr(Dt(e,Za),n,t)})),pa=Zi(la),fa=Zi((function(e){var t=e.length,i=t>1?e[t-1]:n;return i="function"==typeof i?(e.pop(),i):n,ca(e,i)}));function ma(e){var t=Nn(e);return t.__chain__=!0,t}function ga(e,t){return t(e)}var va=io((function(e){var t=e.length,i=t?e[0]:0,r=this.__wrapped__,o=function(t){return si(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Hn&&bo(i)?((r=r.slice(i,+i+(t?1:0))).__actions__.push({func:ga,args:[o],thisArg:n}),new Gn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(o)})),ya=Pr((function(e,t,n){Me.call(e,n)?++e[n]:ai(e,n,1)})),ba=Ur(Vo),Ca=Ur(Yo);function _a(e,t){return(Ya(e)?It:hi)(e,co(t,3))}function Ea(e,t){return(Ya(e)?Bt:pi)(e,co(t,3))}var wa=Pr((function(e,t,n){Me.call(e,n)?e[n].push(t):ai(e,n,[t])})),Ta=Zi((function(e,t,n){var i=-1,r="function"==typeof t,o=Ka(e)?ae(e.length):[];return hi(e,(function(e){o[++i]=r?St(t,e,n):Di(e,t,n)})),o})),Sa=Pr((function(e,t,n){ai(e,n,t)}));function ka(e,t){return(Ya(e)?jt:Qi)(e,co(t,3))}var Ia=Pr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Ba=Zi((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Co(e,t[0],t[1])?t=[]:n>2&&Co(t[0],t[1],t[2])&&(t=[t[0]]),Hi(e,vi(t,1),[])})),xa=At||function(){return pt.Date.now()};function Da(e,t,i){return t=i?n:t,t=e&&null==t?e.length:t,Xr(e,c,n,n,n,n,t)}function Pa(e,t){var r;if("function"!=typeof t)throw new xe(i);return e=vs(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=n),r}}var Ra=Zi((function(e,t,n){var i=1;if(n.length){var r=un(n,lo(Ra));i|=s}return Xr(e,i,t,n,r)})),ja=Zi((function(e,t,n){var i=3;if(n.length){var r=un(n,lo(ja));i|=s}return Xr(t,i,e,n,r)}));function La(e,t,r){var o,a,s,l,c,u,d=0,A=!1,h=!1,p=!0;if("function"!=typeof e)throw new xe(i);function f(t){var i=o,r=a;return o=a=n,d=t,l=e.apply(r,i)}function m(e){var i=e-u;return u===n||i>=t||i<0||h&&e-d>=s}function g(){var e=xa();if(m(e))return v(e);c=Po(g,function(e){var n=t-(e-u);return h?bn(n,s-(e-d)):n}(e))}function v(e){return c=n,p&&o?f(e):(o=a=n,l)}function y(){var e=xa(),i=m(e);if(o=arguments,a=this,u=e,i){if(c===n)return function(e){return d=e,c=Po(g,t),A?f(e):l}(u);if(h)return Er(c),c=Po(g,t),f(u)}return c===n&&(c=Po(g,t)),l}return t=bs(t)||0,rs(r)&&(A=!!r.leading,s=(h="maxWait"in r)?yn(bs(r.maxWait)||0,t):s,p="trailing"in r?!!r.trailing:p),y.cancel=function(){c!==n&&Er(c),d=0,o=u=a=c=n},y.flush=function(){return c===n?l:v(xa())},y}var Ma=Zi((function(e,t){return di(e,1,t)})),Oa=Zi((function(e,t,n){return di(e,bs(t)||0,n)}));function Fa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new xe(i);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Fa.Cache||Yn),n}function Ua(e){if("function"!=typeof e)throw new xe(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Fa.Cache=Yn;var Qa=Cr((function(e,t){var n=(t=1==t.length&&Ya(t[0])?jt(t[0],Xt(co())):jt(vi(t,1),Xt(co()))).length;return Zi((function(i){for(var r=-1,o=bn(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return St(e,this,i)}))})),Na=Zi((function(e,t){var i=un(t,lo(Na));return Xr(e,s,n,t,i)})),qa=Zi((function(e,t){var i=un(t,lo(qa));return Xr(e,l,n,t,i)})),za=io((function(e,t){return Xr(e,u,n,n,n,t)}));function Ga(e,t){return e===t||e!=e&&t!=t}var Ha=Vr(ki),Wa=Vr((function(e,t){return e>=t})),Va=Pi(function(){return arguments}())?Pi:function(e){return os(e)&&Me.call(e,"callee")&&!Je.call(e,"callee")},Ya=ae.isArray,Ja=bt?Xt(bt):function(e){return os(e)&&Si(e)==R};function Ka(e){return null!=e&&is(e.length)&&!ts(e)}function Za(e){return os(e)&&Ka(e)}var Xa=yt||bl,$a=Ct?Xt(Ct):function(e){return os(e)&&Si(e)==y};function es(e){if(!os(e))return!1;var t=Si(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ls(e)}function ts(e){if(!rs(e))return!1;var t=Si(e);return t==C||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ns(e){return"number"==typeof e&&e==vs(e)}function is(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=A}function rs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function os(e){return null!=e&&"object"==typeof e}var as=_t?Xt(_t):function(e){return os(e)&&mo(e)==E};function ss(e){return"number"==typeof e||os(e)&&Si(e)==w}function ls(e){if(!os(e)||Si(e)!=S)return!1;var t=Ve(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Le.call(n)==Qe}var cs=Et?Xt(Et):function(e){return os(e)&&Si(e)==I},us=wt?Xt(wt):function(e){return os(e)&&mo(e)==B};function ds(e){return"string"==typeof e||!Ya(e)&&os(e)&&Si(e)==x}function As(e){return"symbol"==typeof e||os(e)&&Si(e)==D}var hs=Tt?Xt(Tt):function(e){return os(e)&&is(e.length)&&!!st[Si(e)]},ps=Vr(Ui),fs=Vr((function(e,t){return e<=t}));function ms(e){if(!e)return[];if(Ka(e))return ds(e)?pn(e):xr(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=mo(e);return(t==E?ln:t==B?dn:Gs)(e)}function gs(e){return e?(e=bs(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function vs(e){var t=gs(e),n=t%1;return t==t?n?t-n:t:0}function ys(e){return e?li(vs(e),0,p):0}function bs(e){if("number"==typeof e)return e;if(As(e))return h;if(rs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var n=me.test(e);return n||ve.test(e)?dt(e.slice(2),n?2:8):fe.test(e)?h:+e}function Cs(e){return Dr(e,Ms(e))}function _s(e){return null==e?"":ur(e)}var Es=Rr((function(e,t){if(To(t)||Ka(t))Dr(t,Ls(t),e);else for(var n in t)Me.call(t,n)&&ni(e,n,t[n])})),ws=Rr((function(e,t){Dr(t,Ms(t),e)})),Ts=Rr((function(e,t,n,i){Dr(t,Ms(t),e,i)})),Ss=Rr((function(e,t,n,i){Dr(t,Ls(t),e,i)})),ks=io(si),Is=Zi((function(e,t){e=ke(e);var i=-1,r=t.length,o=r>2?t[2]:n;for(o&&Co(t[0],t[1],o)&&(r=1);++i<r;)for(var a=t[i],s=Ms(a),l=-1,c=s.length;++l<c;){var u=s[l],d=e[u];(d===n||Ga(d,Re[u])&&!Me.call(e,u))&&(e[u]=a[u])}return e})),Bs=Zi((function(e){return e.push(n,eo),St(Fs,n,e)}));function xs(e,t,i){var r=null==e?n:wi(e,t);return r===n?i:r}function Ds(e,t){return null!=e&&go(e,t,Bi)}var Ps=qr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),rl(sl)),Rs=qr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),co),js=Zi(Di);function Ls(e){return Ka(e)?Zn(e):Oi(e)}function Ms(e){return Ka(e)?Zn(e,!0):Fi(e)}var Os=Rr((function(e,t,n){zi(e,t,n)})),Fs=Rr((function(e,t,n,i){zi(e,t,n,i)})),Us=io((function(e,t){var n={};if(null==e)return n;var i=!1;t=jt(t,(function(t){return t=br(t,e),i||(i=t.length>1),t})),Dr(e,oo(e),n),i&&(n=ci(n,7,to));for(var r=t.length;r--;)Ar(n,t[r]);return n})),Qs=io((function(e,t){return null==e?{}:function(e,t){return Wi(e,t,(function(t,n){return Ds(e,n)}))}(e,t)}));function Ns(e,t){if(null==e)return{};var n=jt(oo(e),(function(e){return[e]}));return t=co(t),Wi(e,n,(function(e,n){return t(e,n[0])}))}var qs=Zr(Ls),zs=Zr(Ms);function Gs(e){return null==e?[]:$t(e,Ls(e))}var Hs=Or((function(e,t,n){return t=t.toLowerCase(),e+(n?Ws(t):t)}));function Ws(e){return el(_s(e).toLowerCase())}function Vs(e){return(e=_s(e))&&e.replace(be,rn).replace(et,"")}var Ys=Or((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Js=Or((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ks=Mr("toLowerCase"),Zs=Or((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Xs=Or((function(e,t,n){return e+(n?" ":"")+el(t)})),$s=Or((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),el=Mr("toUpperCase");function tl(e,t,i){return e=_s(e),(t=i?n:t)===n?function(e){return rt.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var nl=Zi((function(e,t){try{return St(e,n,t)}catch(e){return es(e)?e:new we(e)}})),il=io((function(e,t){return It(t,(function(t){t=No(t),ai(e,t,Ra(e[t],e))})),e}));function rl(e){return function(){return e}}var ol=Qr(),al=Qr(!0);function sl(e){return e}function ll(e){return Mi("function"==typeof e?e:ci(e,1))}var cl=Zi((function(e,t){return function(n){return Di(n,e,t)}})),ul=Zi((function(e,t){return function(n){return Di(e,n,t)}}));function dl(e,t,n){var i=Ls(t),r=Ei(t,i);null!=n||rs(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=Ei(t,Ls(t)));var o=!(rs(n)&&"chain"in n&&!n.chain),a=ts(e);return It(r,(function(n){var i=t[n];e[n]=i,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=xr(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,Lt([this.value()],arguments))})})),e}function Al(){}var hl=Gr(jt),pl=Gr(xt),fl=Gr(Ft);function ml(e){return _o(e)?Wt(No(e)):function(e){return function(t){return wi(t,e)}}(e)}var gl=Wr(),vl=Wr(!0);function yl(){return[]}function bl(){return!1}var Cl,_l=zr((function(e,t){return e+t}),0),El=Jr("ceil"),wl=zr((function(e,t){return e/t}),1),Tl=Jr("floor"),Sl=zr((function(e,t){return e*t}),1),kl=Jr("round"),Il=zr((function(e,t){return e-t}),0);return Nn.after=function(e,t){if("function"!=typeof t)throw new xe(i);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},Nn.ary=Da,Nn.assign=Es,Nn.assignIn=ws,Nn.assignInWith=Ts,Nn.assignWith=Ss,Nn.at=ks,Nn.before=Pa,Nn.bind=Ra,Nn.bindAll=il,Nn.bindKey=ja,Nn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ya(e)?e:[e]},Nn.chain=ma,Nn.chunk=function(e,t,i){t=(i?Co(e,t,i):t===n)?1:yn(vs(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,a=0,s=ae(ft(r/t));o<r;)s[a++]=rr(e,o,o+=t);return s},Nn.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r},Nn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ae(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Lt(Ya(n)?xr(n):[n],vi(t,1))},Nn.cond=function(e){var t=null==e?0:e.length,n=co();return e=t?jt(e,(function(e){if("function"!=typeof e[1])throw new xe(i);return[n(e[0]),e[1]]})):[],Zi((function(n){for(var i=-1;++i<t;){var r=e[i];if(St(r[0],this,n))return St(r[1],this,n)}}))},Nn.conforms=function(e){return function(e){var t=Ls(e);return function(n){return ui(n,e,t)}}(ci(e,1))},Nn.constant=rl,Nn.countBy=ya,Nn.create=function(e,t){var n=qn(e);return null==t?n:oi(n,t)},Nn.curry=function e(t,i,r){var o=Xr(t,8,n,n,n,n,n,i=r?n:i);return o.placeholder=e.placeholder,o},Nn.curryRight=function e(t,i,r){var o=Xr(t,a,n,n,n,n,n,i=r?n:i);return o.placeholder=e.placeholder,o},Nn.debounce=La,Nn.defaults=Is,Nn.defaultsDeep=Bs,Nn.defer=Ma,Nn.delay=Oa,Nn.difference=Go,Nn.differenceBy=Ho,Nn.differenceWith=Wo,Nn.drop=function(e,t,i){var r=null==e?0:e.length;return r?rr(e,(t=i||t===n?1:vs(t))<0?0:t,r):[]},Nn.dropRight=function(e,t,i){var r=null==e?0:e.length;return r?rr(e,0,(t=r-(t=i||t===n?1:vs(t)))<0?0:t):[]},Nn.dropRightWhile=function(e,t){return e&&e.length?pr(e,co(t,3),!0,!0):[]},Nn.dropWhile=function(e,t){return e&&e.length?pr(e,co(t,3),!0):[]},Nn.fill=function(e,t,i,r){var o=null==e?0:e.length;return o?(i&&"number"!=typeof i&&Co(e,t,i)&&(i=0,r=o),function(e,t,i,r){var o=e.length;for((i=vs(i))<0&&(i=-i>o?0:o+i),(r=r===n||r>o?o:vs(r))<0&&(r+=o),r=i>r?0:ys(r);i<r;)e[i++]=t;return e}(e,t,i,r)):[]},Nn.filter=function(e,t){return(Ya(e)?Dt:gi)(e,co(t,3))},Nn.flatMap=function(e,t){return vi(ka(e,t),1)},Nn.flatMapDeep=function(e,t){return vi(ka(e,t),d)},Nn.flatMapDepth=function(e,t,i){return i=i===n?1:vs(i),vi(ka(e,t),i)},Nn.flatten=Jo,Nn.flattenDeep=function(e){return null!=e&&e.length?vi(e,d):[]},Nn.flattenDepth=function(e,t){return null!=e&&e.length?vi(e,t=t===n?1:vs(t)):[]},Nn.flip=function(e){return Xr(e,512)},Nn.flow=ol,Nn.flowRight=al,Nn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},Nn.functions=function(e){return null==e?[]:Ei(e,Ls(e))},Nn.functionsIn=function(e){return null==e?[]:Ei(e,Ms(e))},Nn.groupBy=wa,Nn.initial=function(e){return null!=e&&e.length?rr(e,0,-1):[]},Nn.intersection=Zo,Nn.intersectionBy=Xo,Nn.intersectionWith=$o,Nn.invert=Ps,Nn.invertBy=Rs,Nn.invokeMap=Ta,Nn.iteratee=ll,Nn.keyBy=Sa,Nn.keys=Ls,Nn.keysIn=Ms,Nn.map=ka,Nn.mapKeys=function(e,t){var n={};return t=co(t,3),Ci(e,(function(e,i,r){ai(n,t(e,i,r),e)})),n},Nn.mapValues=function(e,t){var n={};return t=co(t,3),Ci(e,(function(e,i,r){ai(n,i,t(e,i,r))})),n},Nn.matches=function(e){return Ni(ci(e,1))},Nn.matchesProperty=function(e,t){return qi(e,ci(t,1))},Nn.memoize=Fa,Nn.merge=Os,Nn.mergeWith=Fs,Nn.method=cl,Nn.methodOf=ul,Nn.mixin=dl,Nn.negate=Ua,Nn.nthArg=function(e){return e=vs(e),Zi((function(t){return Gi(t,e)}))},Nn.omit=Us,Nn.omitBy=function(e,t){return Ns(e,Ua(co(t)))},Nn.once=function(e){return Pa(2,e)},Nn.orderBy=function(e,t,i,r){return null==e?[]:(Ya(t)||(t=null==t?[]:[t]),Ya(i=r?n:i)||(i=null==i?[]:[i]),Hi(e,t,i))},Nn.over=hl,Nn.overArgs=Qa,Nn.overEvery=pl,Nn.overSome=fl,Nn.partial=Na,Nn.partialRight=qa,Nn.partition=Ia,Nn.pick=Qs,Nn.pickBy=Ns,Nn.property=ml,Nn.propertyOf=function(e){return function(t){return null==e?n:wi(e,t)}},Nn.pull=ta,Nn.pullAll=na,Nn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Vi(e,t,co(n,2)):e},Nn.pullAllWith=function(e,t,i){return e&&e.length&&t&&t.length?Vi(e,t,n,i):e},Nn.pullAt=ia,Nn.range=gl,Nn.rangeRight=vl,Nn.rearg=za,Nn.reject=function(e,t){return(Ya(e)?Dt:gi)(e,Ua(co(t,3)))},Nn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=co(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return Yi(e,r),n},Nn.rest=function(e,t){if("function"!=typeof e)throw new xe(i);return Zi(e,t=t===n?t:vs(t))},Nn.reverse=ra,Nn.sampleSize=function(e,t,i){return t=(i?Co(e,t,i):t===n)?1:vs(t),(Ya(e)?$n:$i)(e,t)},Nn.set=function(e,t,n){return null==e?e:er(e,t,n)},Nn.setWith=function(e,t,i,r){return r="function"==typeof r?r:n,null==e?e:er(e,t,i,r)},Nn.shuffle=function(e){return(Ya(e)?ei:ir)(e)},Nn.slice=function(e,t,i){var r=null==e?0:e.length;return r?(i&&"number"!=typeof i&&Co(e,t,i)?(t=0,i=r):(t=null==t?0:vs(t),i=i===n?r:vs(i)),rr(e,t,i)):[]},Nn.sortBy=Ba,Nn.sortedUniq=function(e){return e&&e.length?lr(e):[]},Nn.sortedUniqBy=function(e,t){return e&&e.length?lr(e,co(t,2)):[]},Nn.split=function(e,t,i){return i&&"number"!=typeof i&&Co(e,t,i)&&(t=i=n),(i=i===n?p:i>>>0)?(e=_s(e))&&("string"==typeof t||null!=t&&!cs(t))&&!(t=ur(t))&&sn(e)?_r(pn(e),0,i):e.split(t,i):[]},Nn.spread=function(e,t){if("function"!=typeof e)throw new xe(i);return t=null==t?0:yn(vs(t),0),Zi((function(n){var i=n[t],r=_r(n,0,t);return i&&Lt(r,i),St(e,this,r)}))},Nn.tail=function(e){var t=null==e?0:e.length;return t?rr(e,1,t):[]},Nn.take=function(e,t,i){return e&&e.length?rr(e,0,(t=i||t===n?1:vs(t))<0?0:t):[]},Nn.takeRight=function(e,t,i){var r=null==e?0:e.length;return r?rr(e,(t=r-(t=i||t===n?1:vs(t)))<0?0:t,r):[]},Nn.takeRightWhile=function(e,t){return e&&e.length?pr(e,co(t,3),!1,!0):[]},Nn.takeWhile=function(e,t){return e&&e.length?pr(e,co(t,3)):[]},Nn.tap=function(e,t){return t(e),e},Nn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new xe(i);return rs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),La(e,t,{leading:r,maxWait:t,trailing:o})},Nn.thru=ga,Nn.toArray=ms,Nn.toPairs=qs,Nn.toPairsIn=zs,Nn.toPath=function(e){return Ya(e)?jt(e,No):As(e)?[e]:xr(Qo(_s(e)))},Nn.toPlainObject=Cs,Nn.transform=function(e,t,n){var i=Ya(e),r=i||Xa(e)||hs(e);if(t=co(t,4),null==n){var o=e&&e.constructor;n=r?i?new o:[]:rs(e)&&ts(o)?qn(Ve(e)):{}}return(r?It:Ci)(e,(function(e,i,r){return t(n,e,i,r)})),n},Nn.unary=function(e){return Da(e,1)},Nn.union=oa,Nn.unionBy=aa,Nn.unionWith=sa,Nn.uniq=function(e){return e&&e.length?dr(e):[]},Nn.uniqBy=function(e,t){return e&&e.length?dr(e,co(t,2)):[]},Nn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?dr(e,n,t):[]},Nn.unset=function(e,t){return null==e||Ar(e,t)},Nn.unzip=la,Nn.unzipWith=ca,Nn.update=function(e,t,n){return null==e?e:hr(e,t,yr(n))},Nn.updateWith=function(e,t,i,r){return r="function"==typeof r?r:n,null==e?e:hr(e,t,yr(i),r)},Nn.values=Gs,Nn.valuesIn=function(e){return null==e?[]:$t(e,Ms(e))},Nn.without=ua,Nn.words=tl,Nn.wrap=function(e,t){return Na(yr(t),e)},Nn.xor=da,Nn.xorBy=Aa,Nn.xorWith=ha,Nn.zip=pa,Nn.zipObject=function(e,t){return gr(e||[],t||[],ni)},Nn.zipObjectDeep=function(e,t){return gr(e||[],t||[],er)},Nn.zipWith=fa,Nn.entries=qs,Nn.entriesIn=zs,Nn.extend=ws,Nn.extendWith=Ts,dl(Nn,Nn),Nn.add=_l,Nn.attempt=nl,Nn.camelCase=Hs,Nn.capitalize=Ws,Nn.ceil=El,Nn.clamp=function(e,t,i){return i===n&&(i=t,t=n),i!==n&&(i=(i=bs(i))==i?i:0),t!==n&&(t=(t=bs(t))==t?t:0),li(bs(e),t,i)},Nn.clone=function(e){return ci(e,4)},Nn.cloneDeep=function(e){return ci(e,5)},Nn.cloneDeepWith=function(e,t){return ci(e,5,t="function"==typeof t?t:n)},Nn.cloneWith=function(e,t){return ci(e,4,t="function"==typeof t?t:n)},Nn.conformsTo=function(e,t){return null==t||ui(e,t,Ls(t))},Nn.deburr=Vs,Nn.defaultTo=function(e,t){return null==e||e!=e?t:e},Nn.divide=wl,Nn.endsWith=function(e,t,i){e=_s(e),t=ur(t);var r=e.length,o=i=i===n?r:li(vs(i),0,r);return(i-=t.length)>=0&&e.slice(i,o)==t},Nn.eq=Ga,Nn.escape=function(e){return(e=_s(e))&&K.test(e)?e.replace(Y,on):e},Nn.escapeRegExp=function(e){return(e=_s(e))&&re.test(e)?e.replace(ie,"\\$&"):e},Nn.every=function(e,t,i){var r=Ya(e)?xt:fi;return i&&Co(e,t,i)&&(t=n),r(e,co(t,3))},Nn.find=ba,Nn.findIndex=Vo,Nn.findKey=function(e,t){return Qt(e,co(t,3),Ci)},Nn.findLast=Ca,Nn.findLastIndex=Yo,Nn.findLastKey=function(e,t){return Qt(e,co(t,3),_i)},Nn.floor=Tl,Nn.forEach=_a,Nn.forEachRight=Ea,Nn.forIn=function(e,t){return null==e?e:yi(e,co(t,3),Ms)},Nn.forInRight=function(e,t){return null==e?e:bi(e,co(t,3),Ms)},Nn.forOwn=function(e,t){return e&&Ci(e,co(t,3))},Nn.forOwnRight=function(e,t){return e&&_i(e,co(t,3))},Nn.get=xs,Nn.gt=Ha,Nn.gte=Wa,Nn.has=function(e,t){return null!=e&&go(e,t,Ii)},Nn.hasIn=Ds,Nn.head=Ko,Nn.identity=sl,Nn.includes=function(e,t,n,i){e=Ka(e)?e:Gs(e),n=n&&!i?vs(n):0;var r=e.length;return n<0&&(n=yn(r+n,0)),ds(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&qt(e,t,n)>-1},Nn.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:vs(n);return r<0&&(r=yn(i+r,0)),qt(e,t,r)},Nn.inRange=function(e,t,i){return t=gs(t),i===n?(i=t,t=0):i=gs(i),function(e,t,n){return e>=bn(t,n)&&e<yn(t,n)}(e=bs(e),t,i)},Nn.invoke=js,Nn.isArguments=Va,Nn.isArray=Ya,Nn.isArrayBuffer=Ja,Nn.isArrayLike=Ka,Nn.isArrayLikeObject=Za,Nn.isBoolean=function(e){return!0===e||!1===e||os(e)&&Si(e)==v},Nn.isBuffer=Xa,Nn.isDate=$a,Nn.isElement=function(e){return os(e)&&1===e.nodeType&&!ls(e)},Nn.isEmpty=function(e){if(null==e)return!0;if(Ka(e)&&(Ya(e)||"string"==typeof e||"function"==typeof e.splice||Xa(e)||hs(e)||Va(e)))return!e.length;var t=mo(e);if(t==E||t==B)return!e.size;if(To(e))return!Oi(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},Nn.isEqual=function(e,t){return Ri(e,t)},Nn.isEqualWith=function(e,t,i){var r=(i="function"==typeof i?i:n)?i(e,t):n;return r===n?Ri(e,t,n,i):!!r},Nn.isError=es,Nn.isFinite=function(e){return"number"==typeof e&&Ut(e)},Nn.isFunction=ts,Nn.isInteger=ns,Nn.isLength=is,Nn.isMap=as,Nn.isMatch=function(e,t){return e===t||ji(e,t,Ao(t))},Nn.isMatchWith=function(e,t,i){return i="function"==typeof i?i:n,ji(e,t,Ao(t),i)},Nn.isNaN=function(e){return ss(e)&&e!=+e},Nn.isNative=function(e){if(wo(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Li(e)},Nn.isNil=function(e){return null==e},Nn.isNull=function(e){return null===e},Nn.isNumber=ss,Nn.isObject=rs,Nn.isObjectLike=os,Nn.isPlainObject=ls,Nn.isRegExp=cs,Nn.isSafeInteger=function(e){return ns(e)&&e>=-9007199254740991&&e<=A},Nn.isSet=us,Nn.isString=ds,Nn.isSymbol=As,Nn.isTypedArray=hs,Nn.isUndefined=function(e){return e===n},Nn.isWeakMap=function(e){return os(e)&&mo(e)==P},Nn.isWeakSet=function(e){return os(e)&&"[object WeakSet]"==Si(e)},Nn.join=function(e,t){return null==e?"":Vt.call(e,t)},Nn.kebabCase=Ys,Nn.last=ea,Nn.lastIndexOf=function(e,t,i){var r=null==e?0:e.length;if(!r)return-1;var o=r;return i!==n&&(o=(o=vs(i))<0?yn(r+o,0):bn(o,r-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,o):Nt(e,Gt,o,!0)},Nn.lowerCase=Js,Nn.lowerFirst=Ks,Nn.lt=ps,Nn.lte=fs,Nn.max=function(e){return e&&e.length?mi(e,sl,ki):n},Nn.maxBy=function(e,t){return e&&e.length?mi(e,co(t,2),ki):n},Nn.mean=function(e){return Ht(e,sl)},Nn.meanBy=function(e,t){return Ht(e,co(t,2))},Nn.min=function(e){return e&&e.length?mi(e,sl,Ui):n},Nn.minBy=function(e,t){return e&&e.length?mi(e,co(t,2),Ui):n},Nn.stubArray=yl,Nn.stubFalse=bl,Nn.stubObject=function(){return{}},Nn.stubString=function(){return""},Nn.stubTrue=function(){return!0},Nn.multiply=Sl,Nn.nth=function(e,t){return e&&e.length?Gi(e,vs(t)):n},Nn.noConflict=function(){return pt._===this&&(pt._=Ne),this},Nn.noop=Al,Nn.now=xa,Nn.pad=function(e,t,n){e=_s(e);var i=(t=vs(t))?hn(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return Hr(mt(r),n)+e+Hr(ft(r),n)},Nn.padEnd=function(e,t,n){e=_s(e);var i=(t=vs(t))?hn(e):0;return t&&i<t?e+Hr(t-i,n):e},Nn.padStart=function(e,t,n){e=_s(e);var i=(t=vs(t))?hn(e):0;return t&&i<t?Hr(t-i,n)+e:e},Nn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(_s(e).replace(oe,""),t||0)},Nn.random=function(e,t,i){if(i&&"boolean"!=typeof i&&Co(e,t,i)&&(t=i=n),i===n&&("boolean"==typeof t?(i=t,t=n):"boolean"==typeof e&&(i=e,e=n)),e===n&&t===n?(e=0,t=1):(e=gs(e),t===n?(t=e,e=0):t=gs(t)),e>t){var r=e;e=t,t=r}if(i||e%1||t%1){var o=En();return bn(e+o*(t-e+ut("1e-"+((o+"").length-1))),t)}return Ji(e,t)},Nn.reduce=function(e,t,n){var i=Ya(e)?Mt:Yt,r=arguments.length<3;return i(e,co(t,4),n,r,hi)},Nn.reduceRight=function(e,t,n){var i=Ya(e)?Ot:Yt,r=arguments.length<3;return i(e,co(t,4),n,r,pi)},Nn.repeat=function(e,t,i){return t=(i?Co(e,t,i):t===n)?1:vs(t),Ki(_s(e),t)},Nn.replace=function(){var e=arguments,t=_s(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Nn.result=function(e,t,i){var r=-1,o=(t=br(t,e)).length;for(o||(o=1,e=n);++r<o;){var a=null==e?n:e[No(t[r])];a===n&&(r=o,a=i),e=ts(a)?a.call(e):a}return e},Nn.round=kl,Nn.runInContext=e,Nn.sample=function(e){return(Ya(e)?Xn:Xi)(e)},Nn.size=function(e){if(null==e)return 0;if(Ka(e))return ds(e)?hn(e):e.length;var t=mo(e);return t==E||t==B?e.size:Oi(e).length},Nn.snakeCase=Zs,Nn.some=function(e,t,i){var r=Ya(e)?Ft:or;return i&&Co(e,t,i)&&(t=n),r(e,co(t,3))},Nn.sortedIndex=function(e,t){return ar(e,t)},Nn.sortedIndexBy=function(e,t,n){return sr(e,t,co(n,2))},Nn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=ar(e,t);if(i<n&&Ga(e[i],t))return i}return-1},Nn.sortedLastIndex=function(e,t){return ar(e,t,!0)},Nn.sortedLastIndexBy=function(e,t,n){return sr(e,t,co(n,2),!0)},Nn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ar(e,t,!0)-1;if(Ga(e[n],t))return n}return-1},Nn.startCase=Xs,Nn.startsWith=function(e,t,n){return e=_s(e),n=null==n?0:li(vs(n),0,e.length),t=ur(t),e.slice(n,n+t.length)==t},Nn.subtract=Il,Nn.sum=function(e){return e&&e.length?Jt(e,sl):0},Nn.sumBy=function(e,t){return e&&e.length?Jt(e,co(t,2)):0},Nn.template=function(e,t,i){var r=Nn.templateSettings;i&&Co(e,t,i)&&(t=n),e=_s(e),t=Ts({},t,r,$r);var o,a,s=Ts({},t.imports,r.imports,$r),l=Ls(s),c=$t(s,l),u=0,d=t.interpolate||Ce,A="__p += '",h=Ie((t.escape||Ce).source+"|"+d.source+"|"+(d===$?he:Ce).source+"|"+(t.evaluate||Ce).source+"|$","g"),p="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(h,(function(t,n,i,r,s,l){return i||(i=r),A+=e.slice(u,l).replace(_e,an),n&&(o=!0,A+="' +\n__e("+n+") +\n'"),s&&(a=!0,A+="';\n"+s+";\n__p += '"),i&&(A+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),A+="';\n";var f=Me.call(t,"variable")&&t.variable;if(f){if(de.test(f))throw new we("Invalid `variable` option passed into `_.template`")}else A="with (obj) {\n"+A+"\n}\n";A=(a?A.replace(G,""):A).replace(H,"$1").replace(W,"$1;"),A="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+A+"return __p\n}";var m=nl((function(){return Te(l,p+"return "+A).apply(n,c)}));if(m.source=A,es(m))throw m;return m},Nn.times=function(e,t){if((e=vs(e))<1||e>A)return[];var n=p,i=bn(e,p);t=co(t),e-=p;for(var r=Kt(i,t);++n<e;)t(n);return r},Nn.toFinite=gs,Nn.toInteger=vs,Nn.toLength=ys,Nn.toLower=function(e){return _s(e).toLowerCase()},Nn.toNumber=bs,Nn.toSafeInteger=function(e){return e?li(vs(e),-9007199254740991,A):0===e?e:0},Nn.toString=_s,Nn.toUpper=function(e){return _s(e).toUpperCase()},Nn.trim=function(e,t,i){if((e=_s(e))&&(i||t===n))return Zt(e);if(!e||!(t=ur(t)))return e;var r=pn(e),o=pn(t);return _r(r,tn(r,o),nn(r,o)+1).join("")},Nn.trimEnd=function(e,t,i){if((e=_s(e))&&(i||t===n))return e.slice(0,fn(e)+1);if(!e||!(t=ur(t)))return e;var r=pn(e);return _r(r,0,nn(r,pn(t))+1).join("")},Nn.trimStart=function(e,t,i){if((e=_s(e))&&(i||t===n))return e.replace(oe,"");if(!e||!(t=ur(t)))return e;var r=pn(e);return _r(r,tn(r,pn(t))).join("")},Nn.truncate=function(e,t){var i=30,r="...";if(rs(t)){var o="separator"in t?t.separator:o;i="length"in t?vs(t.length):i,r="omission"in t?ur(t.omission):r}var a=(e=_s(e)).length;if(sn(e)){var s=pn(e);a=s.length}if(i>=a)return e;var l=i-hn(r);if(l<1)return r;var c=s?_r(s,0,l).join(""):e.slice(0,l);if(o===n)return c+r;if(s&&(l+=c.length-l),cs(o)){if(e.slice(l).search(o)){var u,d=c;for(o.global||(o=Ie(o.source,_s(pe.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var A=u.index;c=c.slice(0,A===n?l:A)}}else if(e.indexOf(ur(o),l)!=l){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+r},Nn.unescape=function(e){return(e=_s(e))&&J.test(e)?e.replace(V,mn):e},Nn.uniqueId=function(e){var t=++Oe;return _s(e)+t},Nn.upperCase=$s,Nn.upperFirst=el,Nn.each=_a,Nn.eachRight=Ea,Nn.first=Ko,dl(Nn,(Cl={},Ci(Nn,(function(e,t){Me.call(Nn.prototype,t)||(Cl[t]=e)})),Cl),{chain:!1}),Nn.VERSION="4.17.21",It(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Nn[e].placeholder=Nn})),It(["drop","take"],(function(e,t){Hn.prototype[e]=function(i){i=i===n?1:yn(vs(i),0);var r=this.__filtered__&&!t?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(i,r.__takeCount__):r.__views__.push({size:bn(i,p),type:e+(r.__dir__<0?"Right":"")}),r},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),It(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:co(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),It(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),It(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(sl)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Zi((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Di(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(Ua(co(e)))},Hn.prototype.slice=function(e,t){e=vs(e);var i=this;return i.__filtered__&&(e>0||t<0)?new Hn(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==n&&(i=(t=vs(t))<0?i.dropRight(-t):i.take(t-e)),i)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(p)},Ci(Hn.prototype,(function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Nn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Nn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof Hn,c=s[0],u=l||Ya(t),d=function(e){var t=o.apply(Nn,Lt([e],s));return r&&A?t[0]:t};u&&i&&"function"==typeof c&&1!=c.length&&(l=u=!1);var A=this.__chain__,h=!!this.__actions__.length,p=a&&!A,f=l&&!h;if(!a&&u){t=f?t:new Hn(this);var m=e.apply(t,s);return m.__actions__.push({func:ga,args:[d],thisArg:n}),new Gn(m,A)}return p&&f?e.apply(this,s):(m=this.thru(d),p?r?m.value()[0]:m.value():m)})})),It(["pop","push","shift","sort","splice","unshift"],(function(e){var t=De[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Nn.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(Ya(r)?r:[],e)}return this[n]((function(n){return t.apply(Ya(n)?n:[],e)}))}})),Ci(Hn.prototype,(function(e,t){var n=Nn[t];if(n){var i=n.name+"";Me.call(Pn,i)||(Pn[i]=[]),Pn[i].push({name:t,func:n})}})),Pn[Nr(n,2).name]=[{name:"wrapper",func:n}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=xr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=xr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=xr(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ya(e),i=t<0,r=n?e.length:0,o=function(e,t,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=yn(e,t-a)}}return{start:e,end:t}}(0,r,this.__views__),a=o.start,s=o.end,l=s-a,c=i?s:a-1,u=this.__iteratees__,d=u.length,A=0,h=bn(l,this.__takeCount__);if(!n||!i&&r==l&&h==l)return fr(e,this.__actions__);var p=[];e:for(;l--&&A<h;){for(var f=-1,m=e[c+=t];++f<d;){var g=u[f],v=g.iteratee,y=g.type,b=v(m);if(2==y)m=b;else if(!b){if(1==y)continue e;break e}}p[A++]=m}return p},Nn.prototype.at=va,Nn.prototype.chain=function(){return ma(this)},Nn.prototype.commit=function(){return new Gn(this.value(),this.__chain__)},Nn.prototype.next=function(){this.__values__===n&&(this.__values__=ms(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Nn.prototype.plant=function(e){for(var t,i=this;i instanceof zn;){var r=zo(i);r.__index__=0,r.__values__=n,t?o.__wrapped__=r:t=r;var o=r;i=i.__wrapped__}return o.__wrapped__=e,t},Nn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:ga,args:[ra],thisArg:n}),new Gn(t,this.__chain__)}return this.thru(ra)},Nn.prototype.toJSON=Nn.prototype.valueOf=Nn.prototype.value=function(){return fr(this.__wrapped__,this.__actions__)},Nn.prototype.first=Nn.prototype.head,Xe&&(Nn.prototype[Xe]=function(){return this}),Nn}();mt?((mt.exports=gn)._=gn,ft._=gn):pt._=gn}).call(T)}(t={exports:{}},t.exports),t.exports}(),k={color:"red",backgroundColor:"red",activeColor:"red",btnList:[{btnKey:"ade5d065a113432e8091a1c5bc819c57-934f270c08b14e928bf0c2ae8e1a937d-header-0",iconId:"deviceID",part:"left",defaultActive:1,isrender:1,themeId:"934f270c08b14e928bf0c2ae8e1a937d"},{btnKey:"ade5d065a113432e8091a1c5bc819c57-934f270c08b14e928bf0c2ae8e1a937d-header-1",iconId:"deviceName",part:"left",defaultActive:1,isrender:1,themeId:"934f270c08b14e928bf0c2ae8e1a937d"}]},I={color:"blue",backgroundColor:"blue",activeColor:"blue",btnList:[{btnKey:"ade5d065a113432e8091a1c5bc819c57-934f270c08b14e928bf0c2ae8e1a937d-footer-0",iconId:"play",part:"left",defaultActive:0,isrender:0,themeId:"934f270c08b14e928bf0c2ae8e1a937d"}]},B=function e(t){this.jsPlugin=t;var n={isMouseDown:!1,isOver:!1,mousePosition:null,oldTime:null,nowTime:null,moved:null,hoverTime:"2018-12-07 12:00:00",hoverLeft:0,timeTipShow:!1,randomNum:123,timeWidthTbls:[60,1800,3600,86400,259200],timeUnits:["范围: 1分钟; 单位: 秒","范围: 30分钟; 单位: 分钟","范围: 1小时; 单位: 分钟","范围: 1天; 单位: 小时","范围: 3天; 单位: 小时"],drawPen:null,timeSection:[],canvasWidth:null,canvasHeight:null,timeTips:null},i=this;Object.keys(n).forEach((function(e){i[e]=n[e]})),this.options={width:this.canvasWidth,height:48,time:(new Date).getTime(),timeSection:[],timeWidth:0},e.prototype.subTime=function(e){return e<10?"0"+e:e},e.prototype.tranTime=function(e){var t=e;if(e){var n=new Date(e);t=n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate()+" "+this.subTime(n.getHours())+":"+this.subTime(n.getMinutes())+":"+this.subTime(n.getSeconds())}return t},e.prototype.init=function(e){e.width&&document.getElementById(e.id).setAttribute("width",parseInt(e.width,10)+"px");var t=this,n=this.options;t.randomNum=(Math.random()+"").split(".").join(""),t.timeWidthTblIndex=n.timeWidth;var i=document.querySelector("#".concat(this.jsPlugin.id,"-canvas"));t.drawPen=i.getContext("2d"),t.nowTime=n.time||Date.now(),t.timeSection=n.timeSection||[],t.canvasWidth=i.offsetWidth,t.canvasHeight=i.offsetHeight,t.updata(),document.getElementById("".concat(this.jsPlugin.id,"-canvas")).addEventListener("mousemove",(function(e){t.options.readOnly||t.mousemove(e)})),document.getElementById("".concat(this.jsPlugin.id,"-canvas")).addEventListener("mouseover",(function(e){t.options.readOnly||t.mouseover(e)})),document.getElementById("".concat(this.jsPlugin.id,"-canvas")).addEventListener("mouseleave",(function(e){t.options.readOnly||t.mouseleave(e)})),document.getElementById("".concat(this.jsPlugin.id,"-canvas")).addEventListener("mousedown",(function(e){t.options.readOnly||t.mousedown(e)})),document.getElementById("".concat(this.jsPlugin.id,"-canvas")).addEventListener("mouseup",(function(n){if(!t.options.readOnly){var i=e.onChange;t.mouseUpFn(n,i)}}))},e.prototype.mousemove=function(e){if(this.isMouseDown&&this.isOver){var t=this.mousePosition-e.pageX;if(0===t)return;var n=0;switch(this.timeWidth){case 60:n=.1;break;case 1800:case 3600:n=3;break;case 86400:n=120}var i=new Date(this.oldTime).getTime()+t*n*1e3;this.updata({time:i}),this.moved=!0}else{var r=parseInt(document.getElementById("".concat(this.jsPlugin.id,"-canvas-container")).offsetLeft,10);this.mousePosition=e.pageX-r,this.updata()}},e.prototype.mousedown=function(e){this.isMouseDown=!0,this.mousePosition=e.pageX,this.oldTime=this.nowTime},e.prototype.mouseover=function(e){this.isOver=!0},e.prototype.mouseleave=function(e){this.isOver=!1,this.isMouseDown=!1,this.updata()},e.prototype.changeSize=function(e){console.log("changeSize",e),this.options.timeWidth=e,this.updata({timeWidth:e})},e.prototype.mouseUpFn=function(e,t){this.isMouseDown&&(this.isMouseDown=!1,this.moved&&(this.moved=!1,this.updata({time:this.nowTime}),this.oldTime=this.nowTime,t(this.nowTime)))},e.prototype.readOnly=function(e){console.log("更改为只读"),this.options.readOnly=!0,document.getElementById("".concat(this.jsPlugin.id,"-canvas")).style.cursor="not-allowed"},e.prototype.unReadOnly=function(e){console.log("更改为只读"),this.options.readOnly=!1,document.getElementById("".concat(this.jsPlugin.id,"-canvas")).style.cursor="pointer"},e.prototype.run=function(e){this.isMouseDown||this.updata(e)},e.prototype.getTime=function(e){console.log("this",this),console.log("当前时间",new Date(this.nowTime))},e.prototype.updata=function(e){var t=this;e=e||{},t.nowTime=e.time||t.nowTime,t.timeSection=e.timeSection||t.timeSection,t.timeWidthTblIndex=e.timeWidth||t.timeWidthTblIndex,t.timeWidth=t.timeWidthTbls[e.timeWidth||t.timeWidthTblIndex],t.timeUnit=t.timeUnits[e.timeWidth||t.timeWidthTblIndex],0===e.timeWidth&&(t.timeWidthTblIndex=0,t.timeWidth=t.timeWidthTbls[0],t.timeUnit=t.timeUnits[0]),t.drawPen.fillStyle="#000000",t.drawPen.fillRect(0,0,t.canvasWidth,t.canvasHeight),t.drawScale(),t.drawRecord(),t.drawOtherMsg(),document.getElementById("".concat(this.jsPlugin.id,"-canvas-container")).style.width=this.options.width+"px",document.getElementById("".concat(this.jsPlugin.id,"-canvas")).style.width=this.options.width+"px",document.getElementById("".concat(this.jsPlugin.id,"-canvas-container")).style.height=this.options.height+"px",document.getElementById("".concat(this.jsPlugin.id,"-canvas")).style.height=this.options.height+"px"},e.prototype.drawSolidLine=function(e,t,n,i,r,o){this.drawPen.save(),this.drawPen.strokeStyle=o,this.drawPen.lineWidth=r,this.drawPen.beginPath(),this.drawPen.moveTo(e,t),this.drawPen.lineTo(n,i),this.drawPen.stroke(),this.drawPen.restore()},e.prototype.drawString=function(e,t,n,i,r){this.drawPen.font="12px serif",this.drawPen.fillStyle="#ffffff",this.drawPen.textAlign=i||"left",this.drawPen.fillText(e,t,n+10)},e.prototype.drawScale=function(){var e=this,t="rgba(255,255,255)",n=new Date(e.nowTime),i=n.getFullYear(),r=n.getSeconds(),o=n.getMinutes(),a=n.getHours(),s=n.getDate(),l=60*o+r,c=0;switch(e.timeWidth){case 60:var u=parseInt(e.canvasWidth/10);n.setSeconds(n.getSeconds()-parseInt(u/2,10)),s=n.getDate(),a=n.getHours(),o=n.getMinutes(),r=n.getSeconds();for(var d=0;d<u;d++){if(c=r+d,n.setSeconds(c),c%10==0){e.drawSolidLine(d*e.canvasWidth/u,8,d*e.canvasWidth/u,e.canvasHeight/5+8,1,t);var A=this.subTime(n.getHours())+":"+this.subTime(n.getMinutes())+":"+this.subTime(n.getSeconds());e.drawString(A,d*e.canvasWidth/u,e.canvasHeight/5*2.5,"center","rgba(255,255,255,0.3)")}else e.drawSolidLine(d*e.canvasWidth/u,8,d*e.canvasWidth/u,e.canvasHeight/5*.5+8,1,t);n.setDate(s),n.setHours(a),n.setMinutes(o)}break;case 1800:for(u=parseInt(e.canvasWidth/20),n.setMinutes(n.getMinutes()-parseInt(u/2,10)),a=n.getHours(),o=n.getMinutes(),d=0;d<=u;d++)c=o+d,n.setMinutes(c),c%5==0?(e.drawSolidLine(d*e.canvasWidth/u,8,d*e.canvasWidth/u,e.canvasHeight/5*1.5+8,1,t),A=this.subTime(n.getHours())+":"+this.subTime(n.getMinutes()),e.drawString(A,d*e.canvasWidth/u,e.canvasHeight/5*2.5,"center","rgba(255,255,255,0.3)")):e.drawSolidLine(d*e.canvasWidth/u,8,d*e.canvasWidth/u,e.canvasHeight/5*.5+8,1,t),n.setHours(a);break;case 3600:for(u=parseInt(e.canvasWidth/20),n.setMinutes(n.getMinutes()-parseInt(u/2,10)),a=n.getHours(),o=n.getMinutes(),d=0;d<=u;d++)c=o+d,n.setMinutes(c),c%10==0?(e.drawSolidLine(d*e.canvasWidth/u,8,d*e.canvasWidth/u,e.canvasHeight/5*1.5+8,1,t),A=this.subTime(n.getHours())+":"+this.subTime(n.getMinutes()),e.drawString(A,d*e.canvasWidth/u,e.canvasHeight/5*2.5,"center","rgba(255,255,255,0.3)")):e.drawSolidLine(d*e.canvasWidth/u,8,d*e.canvasWidth/u,e.canvasHeight/5*.5+8,1,t),n.setHours(a);break;case 86400:for(u=parseInt(e.canvasWidth/30),n.setHours(n.getHours()-parseInt(u/2,10)),r=n.getSeconds(),o=n.getMinutes(),a=n.getHours(),s=n.getDate(),i=n.getFullYear(),d=0;d<=u;d++)c=a+d,n.setHours(c),c%24!=0?(A=this.subTime(n.getHours())+":00",e.drawSolidLine(d*e.canvasWidth/u,8,d*e.canvasWidth/u,e.canvasHeight/5*.5+8,1,t)):(A=n.toLocaleDateString(),e.drawSolidLine(d*e.canvasWidth/u,8,d*e.canvasWidth/u,e.canvasHeight/5*1+8,1,t)),c%2==0&&e.drawString(A,d*e.canvasWidth/u,e.canvasHeight/5*2,"center","rgba(255,255,255,0.3)"),n.setFullYear(i),n.setDate(s),n.setHours(a);break;case 259200:for(n.setHours(n.getHours()-36),r=n.getSeconds(),o=n.getMinutes(),a=n.getHours(),l=60*o+r,d=0;d<=72;d++)(c=a+d)>=24&&(c%=24),0===c?n.setHours(24):n.setHours(c),A=this.subTime(n.getHours()),c%3==0?(c||(A=n.toLocaleDateString()),e.drawString(A,(3600*d-l)*e.canvasWidth/259200,e.canvasHeight/5*2.5,"center","rgba(255,255,255,0.3)"),e.drawSolidLine((3600*d-l)*e.canvasWidth/259200,0,(3600*d-l)*e.canvasWidth/259200,e.canvasHeight/5*1,1,t)):e.drawSolidLine((3600*d-l)*e.canvasWidth/259200,0,(3600*d-l)*e.canvasWidth/259200,e.canvasHeight/5*.5,1,t)}},e.prototype.getRecord=function(e,t,n){console.log("timeArr,startTime,endTime",e,t,n),this.timeSection=e,this.drawRecord()},e.prototype.drawRecord=function(){for(var e=this.timeSection||[],t=this,n=t.drawPen,i=0;i<e.length;i++){var r=a(e[i].startTime),o=a(e[i].endTime);n.fillStyle="#1890ff80",n.fillRect(r,0,o-r,48)}function a(e){var n=10;switch(t.timeWidth){case 60:n=10;break;case 1800:case 3600:n=20/60;break;case 86400:n=20/60/60}var i=t.canvasWidth/2+(e-t.nowTime)/1e3*n;return i>t.canvasWidth&&(i=t.canvasWidth),i<=0&&(i=0),i}},e.prototype.drawOtherMsg=function(){this.drawSolidLine(this.canvasWidth/2,0,this.canvasWidth/2,this.canvasHeight,2,"#1890FF"),this.drawPen.shadowBlur=0,this.isOver&&!this.isMouseDown?(this.mouseTime=this.mousePosition/this.canvasWidth*this.timeWidth*1e3+this.nowTime-this.timeWidth/2*1e3,this.mouseString=this.tranTime(this.mouseTime),this.hoverTime=this.mouseString,this.hoverLeft=this.mousePosition-60,this.timeTipShow=!0):this.timeTipShow=!1}},x=function(){function e(t){var n=this;if(s(this,e),this.jSPlugin=t,!document.getElementById("".concat(this.jSPlugin.id,"-audioControls")))return!1;this.currentTimeWidth=1,this.timer=null,this.date=new Date,this.datepickerVisible=!1;var i=parseInt(getComputedStyle(document.getElementById(t.id)).width,10)-100,r=document.createElement("div");r.style="display:inline-block;width:".concat(i,"px;height:48px;"),r.id=this.jSPlugin.id+"-canvas-container";var o=document.createElement("canvas");o.id=this.jSPlugin.id+"-canvas",o.className="time-line-body",o.height="48",o.width=i,o.style="display:inline-block;",o.innerHTML="该浏览器不支持canvas",r.appendChild(o),f(r,document.getElementById("".concat(this.jSPlugin.id,"-audioControls")));var a=document.createElement("div");a.className="timeline-controls",a.style="display:flex;width:100px;height:48px;text-align:center;line-height: 48px;vertical-align: top;background: #000000;";var l='\n<div class="timeline-controls-scale" style="display: inline-flex;flex-direction: column;justify-content: center;vertical-align: top;padding: 0 20px;">\n  <span style="vertical-Align: middle;line-height: 14px;height: 18px; width: 18px;" id="'.concat(this.jSPlugin.id,'-timeline-scale-add">\n    <svg fill="#2C2C2C" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20"\n      viewBox="0 0 20 20">\n      <title>add</title>\n      <g>\n        <polygon points="0.1,0.5 15,0.5 15,15.4 0.1,15.4 \t" />\n      </g>\n      <g>\n        <path\n          fill="#FFFFFF";\n          d="M7.6,12.4c-0.3,0-0.5-0.2-0.5-0.5v-8c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v8C8.1,12.2,7.9,12.4,7.6,12.4z" />\n      </g>\n      <g>\n        <path\n          fill="#FFFFFF";\n          d="M11.6,8.4h-8c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h8c0.3,0,0.5,0.2,0.5,0.5S11.8,8.4,11.6,8.4z" />\n      </g>\n    </svg>\n  </span>\n  <span style="vertical-Align: middle;line-height: 14px;height: 18px; width: 18px;" id="').concat(this.jSPlugin.id,'-timeline-scale-sub">\n    <svg fill="#2C2C2C" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20"\n      viewBox="0 0 20 20">\n      <title>reduce</title>\n      <g>\n        <polygon class="st0" points="1,0.8 15.2,0.8 15.2,15 1,15 \t" />\n      </g>\n      <g>\n        <path class="st1"\n          fill="#FFFFFF";\n          d="M12.1,8.4h-8c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h8c0.3,0,0.5,0.2,0.5,0.5S12.4,8.4,12.1,8.4z" />\n      </g>\n    </svg>\n  </span>\n</div>\n<label for="').concat(this.jSPlugin.id,'-datepicker">\n  <div class="timeline-controls-date">\n    <span>\n      <svg fill="#2C2C2C" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20"\n        viewBox="0 0 20 20">\n        <title>ifttt</title>\n        <g id="Rectangle">\n          <rect x="0.6" y="0.9" class="st0" width="20" height="20" />\n        </g>\n        <g id="Stroke-1">\n          <path fill="#FFFFFF"; class="st1"\n            d="M14,7.2c-0.3,0-0.5-0.2-0.5-0.5V3.4c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v3.3C14.5,7,14.2,7.2,14,7.2z" />\n        </g>\n        <g id="Stroke-3">\n          <path fill="#FFFFFF"; class="st1"\n            d="M7.3,7.2C7,7.2,6.8,7,6.8,6.7V3.4c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v3.3C7.8,7,7.6,7.2,7.3,7.2z" />\n        </g>\n        <g id="Stroke-5">\n          <path fill="#FFFFFF"; class="st1"\n            d="M18.1,9.7h-15c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h15c0.3,0,0.5,0.2,0.5,0.5S18.4,9.7,18.1,9.7z" />\n        </g>\n        <g id="Stroke-7">\n          <path fill="#FFFFFF"; class="st1" d="M16.5,19.7H4.8c-1.2,0-2.2-1-2.2-2.2V6.7c0-1.2,1-2.2,2.2-2.2h11.7c1.2,0,2.2,1,2.2,2.2v10.8\nC18.6,18.8,17.7,19.7,16.5,19.7z M4.8,5.6c-0.6,0-1.2,0.5-1.2,1.2v10.8c0,0.6,0.5,1.2,1.2,1.2h11.7c0.6,0,1.2-0.5,1.2-1.2V6.7\nc0-0.6-0.5-1.2-1.2-1.2H4.8z" />\n        </g>\n        <g id="Stroke-9">\n          <path fill="#FFFFFF"; class="st1" d="M10.6,13.3c-0.4,0-0.7-0.3-0.7-0.7c0-0.2,0.1-0.4,0.2-0.5s0.3-0.2,0.5-0.2h0h0c0.4,0,0.7,0.3,0.7,0.7\nS11,13.3,10.6,13.3z" />\n        </g>\n        <g id="Stroke-11">\n          <path fill="#FFFFFF"; class="st1" d="M14.8,13.3c-0.4,0-0.7-0.3-0.7-0.7c0-0.2,0.1-0.4,0.2-0.5c0.1-0.1,0.3-0.2,0.5-0.2c0.4,0,0.7,0.3,0.7,0.7\nS15.2,13.3,14.8,13.3z M14.8,12.3c-0.2,0-0.3,0.1-0.3,0.3c0,0.2,0.3,0.4,0.5,0.2c0.1-0.1,0.1-0.1,0.1-0.2\nC15.1,12.4,15,12.3,14.8,12.3z" />\n        </g>\n        <g id="Stroke-13">\n          <path fill="#FFFFFF"; class="st1" d="M6.5,16.6c-0.4,0-0.7-0.3-0.7-0.7c0-0.2,0.1-0.4,0.2-0.5c0.1-0.1,0.3-0.2,0.5-0.2h0h0c0.4,0,0.7,0.3,0.7,0.7\nC7.2,16.3,6.9,16.6,6.5,16.6z" />\n        </g>\n        <g id="Stroke-15">\n          <path fill="#FFFFFF"; class="st1" d="M10.6,16.6c-0.4,0-0.7-0.3-0.7-0.7c0-0.2,0.1-0.4,0.2-0.5c0.1-0.1,0.3-0.2,0.5-0.2h0h0c0.4,0,0.7,0.3,0.7,0.7\nC11.4,16.3,11,16.6,10.6,16.6z" />\n        </g>\n      </svg>\n    </span>\n  </div>\n</label>\n<input data-toggle="').concat(this.jSPlugin.id,'-datepicker" id="').concat(this.jSPlugin.id,'-datepicker" name="').concat(this.jSPlugin.id,'-datepicker" style="opacity:0;width:0;margin-left:-4" />\n');a.innerHTML=l,f(a,r),this.timeLine=new B(this.jSPlugin),this.timeLine.init({id:this.jSPlugin.id+"-canvas",width:i,onChange:function(e){console.log("time",e,new Date(e).Format("yyyyMMddhhmmss")),console.log("jSPlugin",n.jSPlugin);var t=new Date(e).Format("yyyyMMddhhmmss");n.jSPlugin.changePlayUrl({begin:t})}}),this.syncTimeLine(),function(e,t){for(var n=document.getElementsByTagName("head")[0].getElementsByTagName("link"),i=!1,r=0;r<n.length;r++)n[r].getAttribute("href")==e&&(i=!0);if(!i){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=e,o.onload=void 0,document.getElementsByTagName("head")[0].appendChild(o)}}("".concat(this.jSPlugin.staticPath,"/rec/datepicker.min.css")),A("".concat(this.jSPlugin.staticPath,"/rec/jquery.min.js"),(function(){A("".concat(n.jSPlugin.staticPath,"/rec/datepicker.js"),(function(){A("".concat(n.jSPlugin.staticPath,"/rec/datepicker.zh-CN.js"),(function(){$("#".concat(n.jSPlugin.id,"-datepicker")).datepicker({autoShow:!1,autoHide:!0,autoPick:!0,language:"zh-CN",defaultDate:new Date,format:"yyyy-mm-dd",endDate:new Date}),$("#".concat(n.jSPlugin.id,"-datepicker")).on("pick.datepicker",(function(e){console.log("重新选择日期",e.date,new Date(e.date).Format("yyyyMMdd"),new Date(document.getElementById("".concat(n.jSPlugin.id,"-datepicker")).value).Format("yyyyMMdd")),e.date>new Date||new Date(e.date).Format("yyyyMMdd")===new Date(document.getElementById("".concat(n.jSPlugin.id,"-datepicker")).value).Format("yyyyMMdd")?e.preventDefault():(n.renderRec(e.date),n.jSPlugin.changePlayUrl({begin:new Date(e.date).Format("yyyyMMdd")})),$("#datepicker").datepicker("hide"),n.datepickerVisible=!1})),$("#".concat(n.jSPlugin.id,"-datepicker")).bind("click",(function(e){n.datepickerVisible?$("#".concat(n.jSPlugin.id,"-datepicker")).datepicker("hide"):$("#".concat(n.jSPlugin.id,"-datepicker")).datepicker("show"),n.datepickerVisible=!n.datepickerVisible}))}))}))})),document.getElementById("".concat(this.jSPlugin.id,"-timeline-scale-add")).onclick=function(){n.currentTimeWidth<3&&n.timeLine.changeSize(++n.currentTimeWidth)},document.getElementById("".concat(this.jSPlugin.id,"-timeline-scale-sub")).onclick=function(){n.currentTimeWidth>0&&n.timeLine.changeSize(--n.currentTimeWidth)};var c=p("begin",this.jSPlugin.url)||(new Date).Format("yyyyMMdd");this.renderRec("".concat(c.slice(0,4),"-").concat(c.slice(4,6),"-").concat(c.slice(6,8)));var u=new MutationObserver((function(e,t){e.forEach((function(e){console.log(e),n.recAutoSize()}))})),d=document.getElementById(this.jSPlugin.id);u.observe(d,{attributes:!0,attributeOldValue:!0,attributeFilter:["style"]})}return c(e,[{key:"recAutoSize",value:function(){var e=this,t=parseInt(getComputedStyle(document.getElementById(this.jSPlugin.id)).width,10)-100;document.getElementById("".concat(this.jSPlugin.id,"-canvas")).width=t,this.timeLine.init({id:"".concat(this.jSPlugin.id,"-canvas"),width:t,onChange:function(t){console.log("time",t,new Date(t).Format("yyyyMMddhhmmss")),console.log("jSPlugin",e.jSPlugin);var n=new Date(t).Format("yyyyMMddhhmmss");e.jSPlugin.changePlayUrl({begin:n})}}),this.renderRec(this.date)}},{key:"renderRec",value:function(e){var t=this;this.date=e;var n=new Date(new Date(e).Format("yyyy-MM-dd 00:00:00")).getTime(),i=new Date(new Date(e).Format("yyyy-MM-dd 23:59:59")).getTime(),r={accessToken:this.jSPlugin.accessToken,recType:"cloud.rec"===v(this.jSPlugin.url).type?1:2,deviceSerial:v(this.jSPlugin.url).deviceSerial,channelNo:v(this.jSPlugin.url).channelNo,startTime:n,endTime:i,version:"2.0"},o=this.jSPlugin.env.domain+"/api/lapp/video/by/time";y(o,"POST",r,0,(function(e){if(e.data&&e.data.files&&e.data.files.length>0){var o=e.data.files,a=(new Date).getTime();e.data.isAll?t.timeLine.getRecord(o,n,i):function e(){r.startTime=a,y(this.jSPlugin.env.domain+"/api/lapp/video/by/time","POST",r,0,(function(t){t.data&&t.data.files&&t.data.files.length>0?0==t.data.isAll?(t.data.files&&(o=o.concat(t.data.files)),a=t.data.nextFileTime>0?t.data.nextFileTime:(new Date).getTime(),e()):(console.log("云存储执行渲染片段"),this.timeLine.getRecord(o,n,i)):this.timeLine.getRecord(o,n,i)}))}()}else e.data&&e.data.length>0&&(console.log("获取本地录像片段成功",e),t.timeLine.getRecord(e.data,n,i))}))}},{key:"syncTimeLine",value:function(){var e=this;this.timer&&clearInterval(this.timer),this.timer=setInterval((function(){e.jSPlugin.getOSDTime().then((function(t){var n=t.data;-1===n?console.log("获取播放时间错误"):n>0&&e.timeLine.run({time:new Date(n>1e12?n:1e3*n)})})).catch((function(e){}))}),1e3)}},{key:"unSyncTimeLine",value:function(){this.timer&&clearInterval(this.timer)}}]),e}(),D=function(e){console.log("执行TimeLine - params",e),this.state={id:e.id,start:"00:00:00",end:"24:00:00",current:0,timelag:30,timeArr:[],availTimeLine:[],scrollTop:0,index:0,date:"",noTimeLineTxt:"",disabled:!1};var t=this;this.setState=function(e){Object.keys(e).forEach((function(n){t.state[n]=e[n],"scrollTop"===n&&document.getElementById("time-line-item").parentNode.scrollTo(0,e[n]),"current"===n&&(document.getElementById("time-line-current").innerHTML=e[n])}))},this.setDisabled=function(e){this.setState({disabled:e}),document.getElementById("time-line-item").parentNode.style.overflowY=e?"hidden":"scroll"},this.timeToSecond=function(e){var t=e.split(":");return 60*Number(t[0])*60+60*Number(t[1])+(Number(t[2])||0)},this.minuteToTime=function(e){var t=Math.floor(e/60),n=e%60;return(t>9?t:"0"+t)+":"+(n>9?n:"0"+n)},this.timeToMinute=function(e){var t=e.split(":");return 60*Number(t[0])+Number(t[1])},this.getPalyParam=e.getPalyParam,document.getElementById("time-line-item").parentNode.ontouchstart=function(){if(t.state.disabled)return!1;e.ontouchstart()},document.getElementById("time-line-item").parentNode.ontouchmove=function(){if(t.state.disabled)return!1;e.ontouchmove()},document.getElementById("time-line-item").parentNode.ontouchend=function(){if(t.state.disabled)return!1;var n;new Promise((function(e,t){var i=-1;n=setInterval((function(){var t=document.getElementById("time-line-item").parentNode.scrollTop;t!==i?(console.log("scolling",t,i),i=t):(console.log("scoll stop",t,i),clearInterval(n),e(t))}),100)})).then((function(e){console.log("scollPromise: then",e,t),t.rectTopTotime(e),console.log("页面滚动实际高度",e,t.state),t.getPalyParam({current:t.state.current})})),e.ontouchend()},this.matchTimeDot()};D.prototype.changeScale=function(e){this.setState({timelag:e}),this.matchTimeDot()},D.prototype.setDateLine=function(e,t){e.length>0?(void 0===t&&(t=e.length-1),this.setState({availTimeLine:e,start:e[t].st,end:e[t].et,current:e[t].st}),console.log("this.state",this.state),this.matchRecTimeDot(),this.primaryOffsetH()):(this.setState({availTimeLine:[]}),console.log("this.state",this.state),this.matchRecTimeDot())},D.prototype.matchTimeDot=function(){var e=this.state,t=e.start,n=e.end,i=e.timelag;e.availTimeLine,console.log("start",t,"end",n);for(var r=[],o=this.timeToMinute(n),a=o=Math.floor(o/i)*i;a>=0;){var s=0,l=0;a==o&&(s=70),0==a&&(l=230);var c=this.minuteToTime(a);r.push({id:a,current:c,label:"a"+a,marginTop:s,marginBottom:l,recArr:[]}),a-=i}this.setState({timeArr:r}),this.renderDateLine()},D.prototype.matchRecTimeDot=function(){var e=this.state,t=e.start,n=e.end,i=e.timelag,r=e.availTimeLine,o=e.timeArr;console.log("start",t,"end",n);var a=[],s=r.length;if(0===s)for(var l=0;l<o.length;l++)o[l].recArr=[];else for(var c=0;c<s;c++){var u,d,A,h,p=r[c],f=this.timeToSecond(p.st),m=this.timeToSecond(p.et);for(A=(f-60*(u=Math.floor(f/(60*i))*i))/i,h=(m-60*(d=Math.floor(m/(60*i))*i))/i,a[c]={st:u,et:d,stAvailPercent:A,etAvailPercent:h},l=0;l<o.length;l++)if(o[l].id==u&&o[l].id==d){var g=h-A,v=60-h;o[l].recArr.push({height:g,top:v})}else o[l].id==u?o[l].recArr.push({height:60-A,top:0}):o[l].id==d?o[l].recArr.push({height:h,top:60-h}):o[l].id>u&&o[l].id<d&&o[l].recArr.push({height:60,top:0})}console.log("availArr: ",a),this.setState({timeArr:o}),console.log("timeArr:",this.state),this.renderDateLine()},D.prototype.renderDateLine=function(){var e=this.state,t=e.id,n=e.timeArr;console.log("id,timeArr",t,n);var i=document.getElementById("time-line-item");i.innerHTML="",n.forEach((function(e,t){var n=document.createElement("div");n.setAttribute("class","time-item"),n.style="margin-top: ".concat(e.marginTop,"px; margin-bottom: ").concat(e.marginBottom,"px; border-right-color: ").concat(e.borderColor,";"),document.createElement("div").setAttribute("class","scale");var r='<div class="scale"></div><div class="scale"></div><div class="scale"></div><div class="scale"></div><div class="scale"></div><div class="scale" style="width:10px"></div>';e.recArr.forEach((function(e,t){r+='<div class="item-unavail" style="height: '.concat(e.height,"px;background-color:#A8B9ED; top: ").concat(e.top,'px"></div>')})),r+="<div id=".concat(e.label,' style="position: relative; top: 51px; left: 40%"> ').concat(e.current,"</div>"),n.innerHTML=r,i.appendChild(n)}))},D.prototype.primaryOffsetH=function(){var e=this.state,t=e.start,n=e.timelag,i=e.timeArr[0].current,r=this.timeToSecond(i)-this.timeToSecond(t),o=Math.ceil(r/n)+60;this.setState({scrollTop:o}),console.log("起始偏移量",o)},D.prototype.currentOffsetH=function(){var e=this.state,t=e.current,n=e.timelag,i=e.timeArr[0].current,r=this.timeToSecond(i)-this.timeToSecond(t),o=Math.ceil(r/n)+60;this.setState({scrollTop:o})},D.prototype.rectTopTotime=function(e){var t,n,i=this.state.timelag,r=Math.floor(e/60),o=e-60*r;if(console.log("index：",r,"offsetH:",o),0==o)t=this.state.timeArr[r-1].current,n=0;else{var a=this.state.timeArr[r].current,s=this.timeToMinute(a),l=(60-o)*i,c=Math.floor(l/60)+s,u=60*Math.floor(l/60);n=Math.ceil(l-u),t=this.minuteToTime(c)}this.setState({current:t+":"+(n>9?n:"0"+n),scrollTop:e})},D.prototype.stepScrollTimeLine=function(e){this.setState({current:e}),this.currentOffsetH()},D.prototype.secondCountDown=function(e){var t=this.state.current.split(":"),n=60*Number(t[0])*60+60*Number(t[1])+Number(t[2])+1,i=Math.floor(n/3600),r=Math.floor((n-3600*i)/60),o=n-3600*i-60*r;this.setState({current:(i>9?i:"0"+i)+":"+(r>9?r:"0"+r)+":"+(o>9?o:"0"+o)})};var P=D;function R(e){var t=new Date(e),n=t.getHours(),i=t.getMinutes(),r=t.getSeconds();return(n>9?n:"0"+n)+":"+(i>9?i:"0"+i)+":"+(r>9?r:"0"+r)}Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e};var j,L=function(){function e(t){var n=this;s(this,e),this.jSPlugin=t,this.timer=null,this.date=(new Date).Format("yyyy-MM-dd"),this.begin=(new Date).Format("yyyy-MM-dd")+" 00:00:00",this.end=(new Date).Format("yyyy-MM-dd")+" 23:59:59",this.type=v(this.jSPlugin.url).type,this.operating=!1;var i=document.createElement("style");if(i.innerHTML='\n    body{\n      padding: 0;\n      margin: 0;\n    }\n    .time-line-container {\n      height: 300px;\n      /* outline: 1px solid red; */\n      /* background: gray; */\n      position: relative;\n      /* padding-top: 60px; */\n      margin-top: 20px;\n    }\n\n    .time-line-container .time-line-item-container {\n      display: inline-block;\n      /* height: 400px; */\n      width: 30%;\n      /* background: indianred; */\n      overflow-y: scroll;\n      overflow-x: hidden;\n      /* padding-top: 60px; */\n      height: 300px;\n      box-sizing: border-box;\n      white-space: nowrap;\n      position: relative;\n    }\n\n    .time-line-container .time-line-item-container::-webkit-scrollbar {\n      width: 0px;\n      /*滚动条宽度*/\n      height: 0px;\n      /*滚动条高度*/\n    }\n\n    .time-line-item .time-item {\n      position: relative;\n      box-sizing: border-box;\n      height: 60px;\n      font-size: 12px;\n      color: rgb(150, 150, 150);\n      border-right: 6px solid;\n      border-right-color: #ddd;\n    }\n\n    .time-line-item .time-item .scale {\n      width: 6px;\n      height: 9px;\n      border-bottom: 1px solid #ccc;\n      float: right;\n      clear: both;\n    }\n\n    .time-line-item .time-item .item-unavail {\n      width: 6px;\n      position: absolute;\n      left: 100%;\n      background-color: #ddd;\n    }\n\n    .time-line-container .current-time {\n      position: absolute;\n      left: 0;\n      top: 40px;\n      height: 29px;\n      /* line-height: 58px; */\n      border-bottom: 1px solid #648FFC;\n      width: 60%;\n      margin-left: 26%;\n    }\n\n    .time-line-container .current-time .current-time-bg {\n      position: relative;\n      top: 15px;\n      width: 100px;\n      height: 29px;\n      line-height: 29px;\n      left: -70px;\n      font-size: 12px;\n      color: #2C2C2C;\n    }\n\n    .time-line-container .current-time .current-time-bg::before {\n      content: \'\';\n      display: inline-block;\n      width: 6px;\n      height: 6px;\n      border-radius: 100%;\n      background: #648FFC;\n      top: 11px;\n      position: absolute;\n      right: 30px;\n    }\n\n    .date-switch-container {\n      height: 40px;\n      position: relative;\n      text-align: center;\n      margin: 20px 10px;\n    }\n\n    .date-switch-container .current-date {\n      line-height: 40px;\n      height: 22px;\n      font-size: 16px;\n      color: #2C2C2C;\n      text-align: center;\n      font-weight: bold;\n    }\n\n    .date-container {\n      width: 40px;\n      height: 40px;\n      position: absolute;\n      right: 0;\n      top: 0;\n    }\n\n    .rec-type-container {\n      display: flex;\n      justify-content: space-between;\n    }\n\n    .rec-type-container .rec-type-text {\n      padding: 0 15px;\n      font-size: 12px;\n      color: #2C2C2C;\n    }\n\n    .rec-type-container .rec-type-switch {\n      padding: 0 15px;\n    }\n\n    .date-container input {\n      position: absolute;\n      opacity: 0;\n      display: inline-block;\n      width: 40px;\n      height: 40px;\n      z-index: 10;\n      left: 0;\n    }\n\n    .date-container label {\n      position: absolute;\n      left: 0;\n      top: 0;\n      /* display: none; */\n      z-index: 0;\n    }\n\n    .date-icon {\n      display: inline-block;\n      width: 40px;\n      height: 40px;\n      background: url(\'https://resource.eziot.com/group2/M00/00/6A/CtwQF2F6VieAQrU9AAABP-_Nsqo949.png\') no-repeat 100% 100%;\n    }\n    .select-container {\n      padding: 10px;\n      display: flex;\n      justify-content: space-between;\n    }\n\n    .advice {\n      height: 24px;\n      width: 82px;\n      display: flex;\n      justify-content: space-between;\n      line-height: 24px;\n    }\n\n    .advice span {\n      width: 40px;\n      display: inline-block;\n    }\n\n    input[type="checkbox"]:not(:checked)+.advice span:first-child {\n      box-shadow: 0px 2px 5px 0px rgb(23 45 101 / 20%);\n      border-radius: 8px;\n      text-align: center;\n\n    }\n\n    input[type="checkbox"]:checked+.advice span:last-child {\n      box-shadow: 0px 2px 5px 0px rgb(23 45 101 / 20%);\n      border-radius: 8px;\n      text-align: center;\n    }\n\n    input[type="checkbox"]:not(:checked)+.advice span:first-child svg {\n      fill: #648FFC !important;\n    }\n\n    input[type="checkbox"]:checked+.advice span:last-child svg {\n      fill: #648FFC !important;\n    }',document.getElementsByTagName("head")[0].appendChild(i),p("begin",this.jSPlugin.url)){var r=p("begin",this.jSPlugin.url);this.date=r.slice(0,4)+"-"+r.slice(4,6)+"-"+r.slice(6,8),this.begin=this.date+" 00:00:00",this.end=this.date+" 23:59:59"}var o=document.createElement("div");o.id="date-switch-container-wrap",o.className="date-switch-container-wrap",o.style="",o.innerHTML='\n      <div class="date-switch-container">\n      <div class="current-date" id="current-date">今日录像</div>\n      <div class="date-container">\n        <label for="date">\n          <div class="date-icon"></div>\n        </label>\n        <input type="date" name="date" id="date" />\n      </div>\n    </div>\n        ',f(o,document.getElementById("".concat(this.jSPlugin.id,"-wrap")));var a=document.createElement("div");a.id="rec-type-container-wrap",a.className="rec-type-container-wrap",a.style="",a.innerHTML='\n    <div class="rec-type-container">\n    <div class="rec-type-text">共个<span id="recCount">0</span>录像</div>\n    <div class="rec-type-switch">\n      <label>\n        <input type="checkbox" name="type" id="cloudType" value="1" hidden />\n        <label for="cloudType" class="advice">\n          <span>\n          <svg fill="#CCCCCC" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="2 0 20 20">\n            <path class="st0" d="M12.6,5c-2.3,0.1-4.3,1.4-5.3,3.3L7.2,8.6c-2.4,0.5-4.1,2.5-4.1,4.9c0,2.8,2.4,5,5.2,5h9.9\n            c2.4,0,4.3-1.9,4.3-4.2l0-0.2c-0.1-2-1.6-3.5-3.5-3.9l-0.1,0l0-0.2c-0.4-2.8-3-5-6.1-5L12.6,5z"/>\n          </svg>\n        </span>\n        <span>\n          <svg fill="#CCCCCC" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="2 0 20 20">\n            <path id="形状结合" class="st0" d="M14.3,4c0.6,0,1.2,0.2,1.7,0.7l0,0L18.3,7C18.7,7.4,19,8,19,8.6l0,0v9c0,1.3-1.1,2.3-2.4,2.3\n\tl0,0H8.4C7.1,20,6,19,6,17.7l0,0V6.3C6,5,7.1,4,8.4,4l0,0H14.3z M9.7,7.2C9.3,7.2,8.9,7.6,8.9,8l0,0v2.5l0,0.1\n\tc0,0.4,0.4,0.6,0.7,0.6c0.4,0,0.8-0.3,0.8-0.8l0,0V8l0-0.1C10.4,7.5,10,7.2,9.7,7.2z M12.2,7.2c-0.4,0-0.8,0.3-0.8,0.8l0,0v2.5\n\tl0,0.1c0,0.4,0.4,0.6,0.7,0.6c0.4,0,0.8-0.3,0.8-0.8l0,0V8l0-0.1C12.9,7.5,12.5,7.2,12.2,7.2z M14.7,7.2c-0.4,0-0.8,0.3-0.8,0.8l0,0\n\tv2.5l0,0.1c0,0.4,0.4,0.6,0.7,0.6c0.4,0,0.8-0.3,0.8-0.8l0,0V8l0-0.1C15.4,7.5,15,7.2,14.7,7.2z"/>\n          </svg>\n        </span>\n        </label>\n      </label>\n    </div>\n  </div>\n        ',f(a,o);var l=document.createElement("div");l.id="mobile-rec-wrap",l.className="mobileRec-wrap",l.style="",l.innerHTML='\n    <div class="time-line-container">\n    <div class="current-time">\n      <div class="current-time-bg" id="time-line-current">2020-01-01 00:00:00</div>\n    </div>\n    <div class="time-line-item-container">\n      <div class="time-line-item" id="time-line-item">\n      </div>\n    </div>\n    </div>\n      ',f(l,a),this.TimeLineOBJ=new P({id:"time-line-item",getPalyParam:function(e){console.log("子组件传值到父组件",e,e.current);var t=e.current,i=new Date(n.date).Format("yyyyMMdd").substr(0,8)+(e.current?t.replace(/:/g,""):e.current.replace(/:/g,""));n.jSPlugin.changePlayUrl({begin:i,type:n.type}).then((function(){n.syncTimeLine()}))},ontouchstart:function(){n.operating=!0,n.unSyncTimeLine()},ontouchmove:function(){},ontouchend:function(){n.operating=!1,console.log("ontouchend")}}),this.fetchDeviceRec(),document.getElementById("date").addEventListener("change",(function(e){console.log("日期变化",e.target.value),n.date=new Date(e.target.value).Format("yyyy-MM-dd"),n.fetchDeviceRec()})),document.getElementById("cloudType").checked="rec"===this.type,document.getElementById("cloudType").addEventListener("change",(function(e){var t=e.target.checked?2:1;n.type=e.target.checked?"rec":"cloud.rec",console.log("recType",t),n.fetchDeviceRec(),n.jSPlugin.changePlayUrl({type:n.type,begin:"".concat(new Date(n.date).Format("yyyyMMdd"),"000000")}).then((function(){console.log("切换类型成功"),n.syncTimeLine()}),(function(e){console.log("err",e)})).catch((function(e){console.log(e)}))})),this.syncTimeLine()}return c(e,[{key:"fetchDeviceRec",value:function(){var e=this,t=function(t){var n=t.length;document.getElementById("recCount").innerHTML=n;for(var i=[],r=n-1;r>=0;r--){var o=t[r],a=R(o.endTime),s=R(o.startTime);i.push({st:s,et:a})}e.TimeLineOBJ.setDateLine(i)},n=new FormData;n.append("deviceSerial",v(this.jSPlugin.url).deviceSerial),n.append("channelNo",v(this.jSPlugin.url).channelNo),n.append("accessToken",this.jSPlugin.accessToken),n.append("recType","cloud.rec"===this.type?1:2),n.append("startTime",new Date(this.date+" 00:00:00").getTime()),n.append("endTime",new Date(this.date+" 23:59:59").getTime()),fetch(this.jSPlugin.env.domain+"/api/lapp/video/by/time",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){var n;200==e.code&&e.data?(n=e.data,t(n)):t([])}))}},{key:"syncTimeLine",value:function(){var e=this;this.timer&&clearInterval(this.timer),this.timer=setInterval((function(){if(e.operating)return console.log("操作中"),!1;e.jSPlugin.getOSDTime().then((function(t){var n,i,r,o,a;t.data>0?e.TimeLineOBJ.stepScrollTimeLine((n=1e3*t.data,((r=(i=new Date(n)).getHours())>9?r:"0"+r)+":"+((o=i.getMinutes())>9?o:"0"+o)+":"+((a=i.getSeconds())>9?a:"0"+a))):console.log("未找到当前获取播放时间，等待中...")})).catch((function(e){console.log("未找到当前获取播放时间，等待中...")}))}),1e3)}},{key:"unSyncTimeLine",value:function(){this.timer&&clearInterval(this.timer)}}]),e}(),M=function(){function e(t){var n=this;s(this,e),this.jSPlugin=t;var i=document.createElement("div");i.id=this.jSPlugin.id+"-ez-ptz-item",i.className="ez-ptz-wrap",i.style="display:none";var r=document.createElement("style");r.innerHTML="\n    .ez-ptz-container {\n      position: relative;\n      width: 80px;\n      height: 80px;\n      background: rgba(255, 255, 255, 0.80);\n      box-shadow: 0px 0px 33px 4px rgb(0 0 0 / 15%);\n      border: 1px solid rgba(255, 255, 255, 0.80);\n      border-radius: 100%;\n      cursor: pointer;\n      overflow: hidden;\n      user-select: none;\n    }\n    .ez-ptz-container .ez-ptz-icon.top {\n      width: 0;\n      height: 0;\n      border-left: 3px solid transparent;\n      border-right: 3px solid transparent;\n      border-bottom: 6px solid #333333;\n      position: absolute;\n      display: inline-block;\n      left: calc(50% - 3px);\n      top: 2px;\n    }\n\n    .ez-ptz-container .ez-ptz-icon.top.active {\n      border-bottom-color: #1890FF;\n    }\n\n    .ez-ptz-container .ez-ptz-icon.bottom {\n      width: 0;\n      height: 0;\n      border-left: 3px solid transparent;\n      border-right: 3px solid transparent;\n      border-top: 6px solid #333333;\n      position: absolute;\n      display: inline-block;\n      left: calc(50% - 3px);\n      bottom: 2px;\n    }\n\n    .ez-ptz-container .ez-ptz-icon.bottom.active {\n      border-top-color: #1890FF;\n    }\n\n    .ez-ptz-container .ez-ptz-icon.right {\n      width: 0;\n      height: 0;\n      border-top: 3px solid transparent;\n      border-bottom: 3px solid transparent;\n      border-left: 6px solid #333333;\n      position: absolute;\n      display: inline-block;\n      top: calc(50% - 3px);\n      right: 2px;\n    }\n\n    .ez-ptz-container .ez-ptz-icon.right.active {\n      border-left-color: #1890FF;\n    }\n\n    .ez-ptz-container .ez-ptz-icon.left {\n      width: 0;\n      height: 0;\n      border-top: 3px solid transparent;\n      border-bottom: 3px solid transparent;\n      border-right: 6px solid #333333;\n      position: absolute;\n      display: inline-block;\n      top: calc(50% - 3px);\n      left: 2px;\n    }\n\n    .ez-ptz-container .ez-ptz-icon.left.active {\n      border-right-color: #1890FF;\n    }\n\n    .ez-ptz-container .ez-ptz-main.center {\n      width: 23px;\n      height: 23px;\n      background: #1890FF;\n      border-radius: 100%;\n      top: calc(50% - 12.3px);\n      left: calc(50% - 12.3px);\n      position: absolute;\n    }\n\n    .ez-ptz-wrap {\n      position: absolute;\n      right: 20px;\n      top: calc(50% - 50px);\n      width: 100px;\n      height: 100px;\n      z-index: 999;\n    }\n\n    .ez-ptz-close {\n      position: absolute;\n      color: #FFFFFF;\n      top: 0;\n      right: 0px;\n    }",document.getElementsByTagName("head")[0].appendChild(r),i.innerHTML='\n      <div class="ez-ptz-container" id="'.concat(this.jSPlugin.id,'-ez-ptz-container" style="position: relative;width: 80px;height: 80px;background: rgba(255, 255, 255, 0.80);box-shadow: 0px 0px 33px 4px rgba(0, 0, 0, 0.15);border: 1px solid rgba(255, 255, 255, 0.80);border-radius: 100%;cursor: pointer;overflow: hidden;user-select: none;">\n        <div class="ez-ptz-main center"></div>\n        <div class="ez-ptz-icon top active"></div>\n        <div class="ez-ptz-icon left active"></div>\n        <div class="ez-ptz-icon bottom active"></div>\n        <div class="ez-ptz-icon right active"></div>\n      '),document.getElementById(t.id).appendChild(i),document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-container")).onmousedown=function(e){e.preventDefault(),console.log("触摸开始"),n._handlePtzTouch(e,"start")},document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-container")).onmouseup=function(e){e.preventDefault(),console.log("触摸结束"),n._handlePtzTouch(e,"stop")},document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-container")).ontouchstart=function(e){e.preventDefault(),console.log("触摸开始"),n._handlePtzTouch(e,"start")},document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-container")).ontouchend=function(e){e.preventDefault(),console.log("触摸结束",e),n._handlePtzTouch(e,"stop")}}return c(e,[{key:"show",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-item")).style="display: inline-block"}},{key:"hide",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-item")).style="display: none"}},{key:"_handlePtzTouch",value:function(e,t){var n=this,i=document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-container")).getBoundingClientRect(),r=i.left+41,o=i.top+41,a=(e.x||e.changedTouches[0].clientX)-r,s=(e.y||e.changedTouches[0].clientY)-o,l=0,c=this.jSPlugin.env.domain+"/api/lapp/device/ptz/start";if(l=Math.abs(a)>Math.abs(s)?a>0?3:2:s>0?1:0,/^rotate\(90/.test(document.getElementById("".concat(this.jSPlugin.id,"-wrap")).style.transform))switch(l){case 0:l=2;break;case 1:l=3;break;case 2:l=1;break;case 3:l=0}document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-container")).style="background-image:linear-gradient(".concat(0===l?180:1===l?0:2===l?90:270,"deg, #1d8dd8 0%, rgba(100,143,252,0.00) 30%)"),"stop"===t&&(c=this.jSPlugin.env.domain+"/api/lapp/device/ptz/stop",document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-container")).style="");var u=new FormData;u.append("deviceSerial",v(this.jSPlugin.url).deviceSerial),u.append("channelNo",v(this.jSPlugin.url).channelNo),u.append("speed",1),u.append("direction",l),u.append("accessToken",this.jSPlugin.accessToken),fetch(c,{method:"POST",body:u}).then((function(e){return e.json()})).then((function(e){200==e.code||60005!=e.code&&60002!=e.code&&60003!=e.code&&60004!=e.code||(document.getElementById("".concat(n.jSPlugin.id,"-ez-ptz-container")).style="background-image:linear-gradient(".concat(0===l?180:1===l?0:2===l?90:270,"deg, #f45656 0%, rgba(100,143,252,0.00) 30%)"))}))}}]),e}();j=function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return r(t[a][1][e]||e)}),c,c.exports,e,t,n,i)}return n[a].exports}for(var o=void 0,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){var i=(0,e("./adapter_factory.js").adapterFactory)({window});window.adapter=i,t.exports=i},{"./adapter_factory.js":2}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.adapterFactory=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},n=i.log,c=i.detectBrowser(e),u={browserDetails:c,commonShim:l,extractVersion:i.extractVersion,disableLog:i.disableLog,disableWarnings:i.disableWarnings};switch(c.browser){case"chrome":if(!r||!r.shimPeerConnection||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),u;n("adapter.js shimming chrome."),u.browserShim=r,r.shimGetUserMedia(e),r.shimMediaStream(e),r.shimPeerConnection(e),r.shimOnTrack(e),r.shimAddTrackRemoveTrack(e),r.shimGetSendersWithDtmf(e),r.shimGetStats(e),r.shimSenderReceiverGetStats(e),r.fixNegotiationNeeded(e),l.shimRTCIceCandidate(e),l.shimConnectionState(e),l.shimMaxMessageSize(e),l.shimSendThrowTypeError(e),l.removeAllowExtmapMixed(e);break;case"firefox":if(!a||!a.shimPeerConnection||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),u;n("adapter.js shimming firefox."),u.browserShim=a,a.shimGetUserMedia(e),a.shimPeerConnection(e),a.shimOnTrack(e),a.shimRemoveStream(e),a.shimSenderGetStats(e),a.shimReceiverGetStats(e),a.shimRTCDataChannel(e),a.shimAddTransceiver(e),a.shimCreateOffer(e),a.shimCreateAnswer(e),l.shimRTCIceCandidate(e),l.shimConnectionState(e),l.shimMaxMessageSize(e),l.shimSendThrowTypeError(e);break;case"edge":if(!o||!o.shimPeerConnection||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),u;n("adapter.js shimming edge."),u.browserShim=o,o.shimGetUserMedia(e),o.shimGetDisplayMedia(e),o.shimPeerConnection(e),o.shimReplaceTrack(e),l.shimMaxMessageSize(e),l.shimSendThrowTypeError(e);break;case"safari":if(!s||!t.shimSafari)return n("Safari shim is not included in this adapter release."),u;n("adapter.js shimming safari."),u.browserShim=s,s.shimRTCIceServerUrls(e),s.shimCreateOfferLegacy(e),s.shimCallbacksAPI(e),s.shimLocalStreamsAPI(e),s.shimRemoteStreamsAPI(e),s.shimTrackEventTransceiver(e),s.shimGetUserMedia(e),l.shimRTCIceCandidate(e),l.shimMaxMessageSize(e),l.shimSendThrowTypeError(e),l.removeAllowExtmapMixed(e);break;default:n("Unsupported browser!")}return u};var i=c(e("./utils")),r=c(e("./chrome/chrome_shim")),o=c(e("./edge/edge_shim")),a=c(e("./firefox/firefox_shim")),s=c(e("./safari/safari_shim")),l=c(e("./common_shim"));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},{"./chrome/chrome_shim":3,"./common_shim":6,"./edge/edge_shim":7,"./firefox/firefox_shim":11,"./safari/safari_shim":14,"./utils":15}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)},r=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return r.shimGetUserMedia}});var o=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}}),n.shimMediaStream=function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},n.shimOnTrack=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(i){var r;r=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===i.track.id})):{track:i.track};var o=new Event("track");o.track=i.track,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],n.dispatchEvent(o)})),t.stream.getTracks().forEach((function(i){var r;r=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===i.id})):{track:i};var o=new Event("track");o.track=i,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],n.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else s.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))},n.shimGetSendersWithDtmf=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){var r=n.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],a.apply(this,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var s=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=s.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},n.shimGetStats=function(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),i=n[0],r=n[1],o=n[2];if(arguments.length>0&&"function"==typeof i)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof i))return t.apply(this,[]);var a=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};return arguments.length>=2?t.apply(this,[function(e){r(s(a(e)))},i]):new Promise((function(n,i){t.apply(e,[function(e){n(s(a(e)))},i])})).then(r,o)}}},n.shimSenderReceiverGetStats=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return s.filterStats(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=r.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),s.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return s.filterStats(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t=arguments[0],n=void 0,i=void 0,r=void 0;return this.getSenders().forEach((function(e){e.track===t&&(n?r=!0:n=e)})),this.getReceivers().forEach((function(e){return e.track===t&&(i?r=!0:i=e),e.track===t})),r||n&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):n?n.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return o.apply(this,arguments)}}}},n.shimAddTrackRemoveTrackWithNative=c,n.shimAddTrackRemoveTrack=function(e){if(e.RTCPeerConnection){var t=s.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return c(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(n.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var r=new e.MediaStream(t.getTracks());this._streams[t.id]=r,this._reverseStreams[r.id]=t,t=r}i.apply(this,[t])};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var i=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[n.id];if(o)o.addTrack(t),Promise.resolve().then((function(){i.dispatchEvent(new Event("negotiationneeded"))}));else{var a=new e.MediaStream([t]);this._streams[n.id]=a,this._reverseStreams[a.id]=n,this.addStream(a)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],i=l({},t,(function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[function(n){var i=u(e,n);t[0].apply(null,[i])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then((function(t){return u(e,t)}))}));e.RTCPeerConnection.prototype[t]=i[t]}));var o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(e=this,n=(t=arguments[0]).sdp,Object.keys(e._reverseStreams||[]).forEach((function(t){var i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})),o.apply(this,arguments)):o.apply(this,arguments);var e,t,n};var a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=a.get.apply(this);return""===e.type?e:u(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var n=void 0;Object.keys(this._streams).forEach((function(i){t._streams[i].getTracks().find((function(t){return e.track===t}))&&(n=t._streams[i])})),n&&(1===n.getTracks().length?this.removeStream(this._reverseStreams[n.id]):n.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function u(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}},n.shimPeerConnection=function(e){var t=s.detectBrowser(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection){t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],i=l({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=i[t]}));var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.version<78&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},n.fixNegotiationNeeded=function(e){s.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){if("stable"===e.target.signalingState)return e}))};var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils.js"));function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var i=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(i)&&this._shimmedLocalStreams[n.id].push(i):this._shimmedLocalStreams[n.id]=[n,i],i};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var i=this.getSenders();n.apply(this,arguments);var r=this.getSenders().filter((function(e){return-1===i.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(r)};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],i.apply(this,arguments)};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var i=t._shimmedLocalStreams[n].indexOf(e);-1!==i&&t._shimmedLocalStreams[n].splice(i,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),r.apply(this,arguments)}}},{"../utils.js":15,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var i=n.video&&n.video.width,r=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},i&&(n.video.mandatory.maxWidth=i),r&&(n.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}},{}],5:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)};n.shimGetUserMedia=function(e){var t=e&&e.navigator;if(t.mediaDevices){var n=r.detectBrowser(e),a=function(e){if("object"!==(void 0===e?"undefined":i(e))||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===i(e[n])?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var a={};"number"==typeof r.ideal?(a[o("min",n)]=r.ideal,t.optional.push(a),(a={})[o("max",n)]=r.ideal,t.optional.push(a)):(a[o("",n)]=r.ideal,t.optional.push(a))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},s=function(e,r){if(n.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===i(e.audio)){var s=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};s((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),s(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=a(e.audio)}if(e&&"object"===i(e.video)){var l=e.video.facingMode;l=l&&("object"===(void 0===l?"undefined":i(l))?l:{ideal:l});var c=n.version<66;if(l&&("user"===l.exact||"environment"===l.exact||"user"===l.ideal||"environment"===l.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||c)){delete e.video.facingMode;var u=void 0;if("environment"===l.exact||"environment"===l.ideal?u=["back","rear"]:"user"!==l.exact&&"user"!==l.ideal||(u=["front"]),u)return t.mediaDevices.enumerateDevices().then((function(t){var n=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return u.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!n&&t.length&&u.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=l.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=a(e.video),o("chrome: "+JSON.stringify(e)),r(e)}))}e.video=a(e.video)}return o("chrome: "+JSON.stringify(e)),r(e)},l=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,n,i){s(e,(function(e){t.webkitGetUserMedia(e,n,(function(e){i&&i(l(e))}))}))}.bind(t),t.mediaDevices.getUserMedia){var c=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return s(e,(function(e){return c(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(l(e))}))}))}}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils.js")),o=r.log},{"../utils.js":15}],6:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)};n.shimRTCIceCandidate=function(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),r=o.default.parseCandidate(e.candidate),a=Object.assign(n,r);return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,s.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}},n.shimMaxMessageSize=function(e){if(e.RTCPeerConnection){var t=s.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e,i;if(this._sctp=null,"chrome"===t.browser&&t.version>=76&&"plan-b"===this.getConfiguration().sdpSemantics&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0}),function(e){if(!e||!e.sdp)return!1;var t=o.default.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=o.default.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){var r,a=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),s=(e=a,i=65536,"firefox"===t.browser&&(i=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),i),l=function(e,n){var i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);var r=o.default.matchPrefix(e.sdp,"a=max-message-size:");return r.length>0?i=parseInt(r[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(i=2147483637),i}(arguments[0],a);r=0===s&&0===l?Number.POSITIVE_INFINITY:0===s||0===l?Math.max(s,l):Math.min(s,l);var c={};Object.defineProperty(c,"maxMessageSize",{get:function(){return r}}),this._sctp=c}return n.apply(this,arguments)}}},n.shimSendThrowTypeError=function(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},s.wrapPeerConnectionEvent(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var i=arguments[0],r=i.length||i.size||i.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}},n.shimConnectionState=function(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}},n.removeAllowExtmapMixed=function(e){if(e.RTCPeerConnection){var t=s.detectBrowser(e);if(!("chrome"===t.browser&&t.version>=71)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n")),n.apply(this,arguments)}}}};var r,o=(r=e("sdp"))&&r.__esModule?r:{default:r},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./utils"))},{"./utils":15,sdp:17}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var i=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}});var r=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return r.shimGetDisplayMedia}}),n.shimPeerConnection=function(e){var t=a.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var i=(0,l.default)(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=(0,s.filterIceServers)(e.iceServers,t.version),a.log("ICE servers after filtering:",e.iceServers)),new i(e)},e.RTCPeerConnection.prototype=i.prototype},n.shimReplaceTrack=function(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)};var o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils")),s=e("./filtericeservers"),l=(o=e("rtcpeerconnection-shim"))&&o.__esModule?o:{default:o}},{"../utils":15,"./filtericeservers":8,"./getdisplaymedia":9,"./getusermedia":10,"rtcpeerconnection-shim":16}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.filterIceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&i.deprecated("RTCIceServer.url","RTCIceServer.urls");var r="string"==typeof t;return r&&(t=[t]),t=t.filter((function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n})),delete e.url,e.urls=r?t[0]:t,!!t.length}}))};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"))},{"../utils":15}],9:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}},{}],10:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetUserMedia=function(e){var t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch((function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}},{}],11:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)},r=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return r.shimGetUserMedia}});var o=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}}),n.shimOnTrack=function(e){"object"===(void 0===e?"undefined":i(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},n.shimPeerConnection=function(e){var t=s.detectBrowser(e);if("object"===(void 0===e?"undefined":i(e))&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){if(!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n,i,r,o=e.RTCPeerConnection.prototype[t],a=(r=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)},(i=t)in(n={})?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n);e.RTCPeerConnection.prototype[t]=a[t]})),t.version<68){var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}var r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),n=e[0],i=e[1],a=e[2];return o.apply(this,[n||null]).then((function(e){if(t.version<53&&!i)try{e.forEach((function(e){e.type=r[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,n){e.set(n,Object.assign({},t,{type:r[t.type]||t.type}))}))}return e})).then(i,a)}}},n.shimSenderGetStats=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},n.shimReceiverGetStats=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n}),s.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},n.shimRemoveStream=function(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;s.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)}))})},n.shimRTCDataChannel=function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)},n.shimAddTransceiver=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((function(e){if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var i=t.apply(this,arguments);if(n){var r=i.sender,o=r.getParameters();"encodings"in o||(o.encodings=e.sendEncodings,this.setParametersPromises.push(r.setParameters(o).catch((function(){}))))}return i})}},n.shimCreateOffer=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=this,n=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(e,n)})).finally((function(){e.setParametersPromises=[]})):t.apply(this,arguments)}}},n.shimCreateAnswer=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=this,n=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(e,n)})).finally((function(){e.setParametersPromises=[]})):t.apply(this,arguments)}}};var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"))},{"../utils":15,"./getdisplaymedia":12,"./getusermedia":13}],12:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}},{}],13:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)};n.shimGetUserMedia=function(e){var t=r.detectBrowser(e),n=e&&e.navigator,o=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,i){r.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,i)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var a=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===(void 0===e?"undefined":i(e))&&"object"===i(e.audio)&&(e=JSON.parse(JSON.stringify(e)),a(e.audio,"autoGainControl","mozAutoGainControl"),a(e.audio,"noiseSuppression","mozNoiseSuppression")),s(e)},o&&o.prototype.getSettings){var l=o.prototype.getSettings;o.prototype.getSettings=function(){var e=l.apply(this,arguments);return a(e,"mozAutoGainControl","autoGainControl"),a(e,"mozNoiseSuppression","noiseSuppression"),e}}if(o&&o.prototype.applyConstraints){var c=o.prototype.applyConstraints;o.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===(void 0===e?"undefined":i(e))&&(e=JSON.parse(JSON.stringify(e)),a(e,"autoGainControl","mozAutoGainControl"),a(e,"noiseSuppression","mozNoiseSuppression")),c.apply(this,[e])}}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"))},{"../utils":15}],14:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)};n.shimLocalStreamsAPI=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(i){return t.call(n,i,e)})),e.getVideoTracks().forEach((function(i){return t.call(n,i,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){var n=arguments[1];return n&&(this._localStreams?this._localStreams.includes(n)||this._localStreams.push(n):this._localStreams=[n]),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var i=e.getTracks();this.getSenders().forEach((function(e){i.includes(e.track)&&t.removeTrack(e)}))}})}},n.shimRemoteStreamsAPI=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}},n.shimCallbacksAPI=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,o=t.setLocalDescription,a=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){var i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),Promise.resolve()):r},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};var l=function(e,t,n){var i=o.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i};t.setLocalDescription=l,l=function(e,t,n){var i=a.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.setRemoteDescription=l,l=function(e,t,n){var i=s.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.addIceCandidate=l}},n.shimGetUserMedia=function(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,i=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return i(o(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,i){t.mediaDevices.getUserMedia(e).then(n,i)}.bind(t))},n.shimConstraints=o,n.shimRTCIceServerUrls=function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var i=[],o=0;o<e.iceServers.length;o++){var a=e.iceServers[o];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(r.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,i.push(a)):i.push(e.iceServers[o])}e.iceServers=i}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},n.shimTrackEventTransceiver=function(e){"object"===(void 0===e?"undefined":i(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},n.shimCreateOfferLegacy=function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var i=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":"recvonly"===i.direction&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):!0!==e.offerToReceiveVideo||i||this.addTransceiver("video")}return t.apply(this,arguments)}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"));function o(e){return e&&void 0!==e.video?Object.assign({},e,{video:r.compactObject(e.video)}):e}},{"../utils":15}],15:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)};n.extractVersion=s,n.wrapPeerConnectionEvent=function(e,t,n){if(e.RTCPeerConnection){var i=e.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(e,i){if(e!==t)return r.apply(this,arguments);var o=function(e){var t=n(e);t&&i(t)};return this._eventMap=this._eventMap||{},this._eventMap[i]=o,r.apply(this,[e,o])};var o=i.removeEventListener;i.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return o.apply(this,arguments);var i=this._eventMap[n];return delete this._eventMap[n],o.apply(this,[e,i])},Object.defineProperty(i,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}},n.disableLog=function(e){return"boolean"!=typeof e?new Error("Argument type: "+(void 0===e?"undefined":i(e))+". Please use a boolean."):(r=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},n.disableWarnings=function(e){return"boolean"!=typeof e?new Error("Argument type: "+(void 0===e?"undefined":i(e))+". Please use a boolean."):(o=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},n.log=function(){if("object"===("undefined"==typeof window?"undefined":i(window))){if(r)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},n.deprecated=function(e,t){o&&console.warn(e+" is deprecated, please use "+t+" instead.")},n.detectBrowser=function(e){var t=e.navigator,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=s(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)n.browser="chrome",n.version=s(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=s(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=s(t.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return n},n.compactObject=function e(t){return l(t)?Object.keys(t).reduce((function(n,i){var r=l(t[i]),o=r?e(t[i]):t[i],a=r&&!Object.keys(o).length;return void 0===o||a?n:Object.assign(n,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},i,o))}),{}):t},n.walkStats=c,n.filterStats=function(e,t,n){var i=n?"outbound-rtp":"inbound-rtp",r=new Map;if(null===t)return r;var o=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((function(t){e.forEach((function(n){n.type===i&&n.trackId===t.id&&c(e,n,r)}))})),r};var r=!0,o=!0;function s(e,t,n){var i=e.match(t);return i&&i.length>=n&&parseInt(i[n],10)}function l(e){return"[object Object]"===Object.prototype.toString.call(e)}function c(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((function(i){i.endsWith("Id")?c(e,e.get(t[i]),n):i.endsWith("Ids")&&t[i].forEach((function(t){c(e,e.get(t),n)}))})))}},{}],16:[function(e,t,n){var i=e("sdp");function r(e,t,n,r,o){var a=i.writeRtpDescription(e.kind,t);if(a+=i.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=i.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var l="msid:"+(r?r.id:"-")+" "+s+"\r\n";a+="a="+l,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+l,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+l,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+i.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+i.localCName+"\r\n"),a}function o(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},i=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},r=function(e,t,n,r){var o=i(e.parameters.apt,n),a=i(t.parameters.apt,r);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach((function(i){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(i.name.toLowerCase()===a.name.toLowerCase()&&i.clockRate===a.clockRate){if("rtx"===i.name.toLowerCase()&&i.parameters&&a.parameters.apt&&!r(i,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(i.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<i.rtcpFeedback.length;t++)if(i.rtcpFeedback[t].type===e.type&&i.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var i=0;i<t.headerExtensions.length;i++){var r=t.headerExtensions[i];if(e.uri===r.uri){n.headerExtensions.push(r);break}}})),n}function a(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function s(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function l(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}t.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function c(t,n,i,r){var o=new Event("track");o.track=n,o.receiver=i,o.transceiver={receiver:i},o.streams=r,e.setTimeout((function(){t._dispatchEvent("track",o)}))}var u=function(n){var r=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){r[e]=o[e].bind(o)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw l("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var i=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var r="string"==typeof i;return r&&(i=[i]),i=i.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=r?i[0]:i,!!i.length}}))}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var a=n.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=i.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(u.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(u.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),u.prototype.onicecandidate=null,u.prototype.onaddstream=null,u.prototype.ontrack=null,u.prototype.onremovestream=null,u.prototype.onsignalingstatechange=null,u.prototype.oniceconnectionstatechange=null,u.prototype.onconnectionstatechange=null,u.prototype.onicegatheringstatechange=null,u.prototype.onnegotiationneeded=null,u.prototype.ondatachannel=null,u.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},u.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},u.prototype.getConfiguration=function(){return this._config},u.prototype.getLocalStreams=function(){return this.localStreams},u.prototype.getRemoteStreams=function(){return this.remoteStreams},u.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,i={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)i.iceTransport=this.transceivers[0].iceTransport,i.dtlsTransport=this.transceivers[0].dtlsTransport;else{var r=this._createIceAndDtlsTransports();i.iceTransport=r.iceTransport,i.dtlsTransport=r.dtlsTransport}return t||this.transceivers.push(i),i},u.prototype.addTrack=function(t,n){if(this._isClosed)throw l("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var i;if(this.transceivers.find((function(e){return e.track===t})))throw l("InvalidAccessError","Track already exists.");for(var r=0;r<this.transceivers.length;r++)this.transceivers[r].track||this.transceivers[r].kind!==t.kind||(i=this.transceivers[r]);return i||(i=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),i.track=t,i.stream=n,i.rtpSender=new e.RTCRtpSender(t,i.dtlsTransport),i.rtpSender},u.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var i=e.clone();e.getTracks().forEach((function(e,t){var n=i.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),i.getTracks().forEach((function(e){n.addTrack(e,i)}))}},u.prototype.removeTrack=function(t){if(this._isClosed)throw l("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw l("InvalidAccessError","Sender was not created by this connection.");var i=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(i)&&this.localStreams.indexOf(i)>-1&&this.localStreams.splice(this.localStreams.indexOf(i),1),this._maybeFireNegotiationNeeded()},u.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},u.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},u.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},u.prototype._createIceGatherer=function(t,n){var i=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var r=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(r,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;r.state=n?"completed":"gathering",null!==i.transceivers[t].bufferedCandidateEvents&&i.transceivers[t].bufferedCandidateEvents.push(e)},r.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),r},u.prototype._gather=function(t,n){var r=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var a=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(e){if(!(r.usingBundle&&n>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:n};var s=e.candidate,l=!s||0===Object.keys(s).length;if(l)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),s.component=1,s.ufrag=o.getLocalParameters().usernameFragment;var c=i.writeCandidate(s);a.candidate=Object.assign(a.candidate,i.parseCandidate(c)),a.candidate.candidate=c,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var u=i.getMediaSections(r._localDescription.sdp);u[a.candidate.sdpMLineIndex]+=l?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",r._localDescription.sdp=i.getDescription(r._localDescription.sdp)+u.join("");var d=r.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==r.iceGatheringState&&(r.iceGatheringState="gathering",r._emitGatheringStateChange()),l||r._dispatchEvent("icecandidate",a),d&&(r._dispatchEvent("icecandidate",new Event("icecandidate")),r.iceGatheringState="complete",r._emitGatheringStateChange())}},e.setTimeout((function(){a.forEach((function(e){o.onlocalcandidate(e)}))}),0)}},u.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var i=new e.RTCDtlsTransport(n);return i.ondtlsstatechange=function(){t._updateConnectionState()},i.onerror=function(){Object.defineProperty(i,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:i}},u.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var i=this.transceivers[e].dtlsTransport;i&&(delete i.ondtlsstatechange,delete i.onerror,delete this.transceivers[e].dtlsTransport)},u.prototype._transceive=function(e,n,r){var a=o(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:i.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),r&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},u.prototype.setLocalDescription=function(e){var t,n,r=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(l("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,r.signalingState)||r._isClosed)return Promise.reject(l("InvalidStateError","Can not set local "+e.type+" in state "+r.signalingState));if("offer"===e.type)t=i.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=i.parseRtpParameters(e);r.transceivers[t].localCapabilities=n})),r.transceivers.forEach((function(e,t){r._gather(e.mid,t)}));else if("answer"===e.type){t=i.splitSections(r._remoteDescription.sdp),n=t.shift();var s=i.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var a=r.transceivers[t],l=a.iceGatherer,c=a.iceTransport,u=a.dtlsTransport,d=a.localCapabilities,A=a.remoteCapabilities;if(!(i.isRejected(e)&&0===i.matchPrefix(e,"a=bundle-only").length||a.rejected)){var h=i.getIceParameters(e,n),p=i.getDtlsParameters(e,n);s&&(p.role="server"),r.usingBundle&&0!==t||(r._gather(a.mid,t),"new"===c.state&&c.start(l,h,s?"controlling":"controlled"),"new"===u.state&&u.start(p));var f=o(d,A);r._transceive(a,f.codecs.length>0,!1)}}))}return r._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?r._updateSignalingState("have-local-offer"):r._updateSignalingState("stable"),Promise.resolve()},u.prototype.setRemoteDescription=function(r){var u=this;if(-1===["offer","answer"].indexOf(r.type))return Promise.reject(l("TypeError",'Unsupported type "'+r.type+'"'));if(!a("setRemoteDescription",r.type,u.signalingState)||u._isClosed)return Promise.reject(l("InvalidStateError","Can not set remote "+r.type+" in state "+u.signalingState));var d={};u.remoteStreams.forEach((function(e){d[e.id]=e}));var A=[],h=i.splitSections(r.sdp),p=h.shift(),f=i.matchPrefix(p,"a=ice-lite").length>0,m=i.matchPrefix(p,"a=group:BUNDLE ").length>0;u.usingBundle=m;var g=i.matchPrefix(p,"a=ice-options:")[0];return u.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,h.forEach((function(a,l){var c=i.splitLines(a),h=i.getKind(a),g=i.isRejected(a)&&0===i.matchPrefix(a,"a=bundle-only").length,v=c[0].substr(2).split(" ")[2],y=i.getDirection(a,p),b=i.parseMsid(a),C=i.getMid(a)||i.generateIdentifier();if(g||"application"===h&&("DTLS/SCTP"===v||"UDP/DTLS/SCTP"===v))u.transceivers[l]={mid:C,kind:h,protocol:v,rejected:!0};else{var _,E,w,T,S,k,I,B,x;!g&&u.transceivers[l]&&u.transceivers[l].rejected&&(u.transceivers[l]=u._createTransceiver(h,!0));var D,P,R=i.parseRtpParameters(a);g||(D=i.getIceParameters(a,p),(P=i.getDtlsParameters(a,p)).role="client"),I=i.parseRtpEncodingParameters(a);var j=i.parseRtcpParameters(a),L=i.matchPrefix(a,"a=end-of-candidates",p).length>0,M=i.matchPrefix(a,"a=candidate:").map((function(e){return i.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===r.type||"answer"===r.type)&&!g&&m&&l>0&&u.transceivers[l]&&(u._disposeIceAndDtlsTransports(l),u.transceivers[l].iceGatherer=u.transceivers[0].iceGatherer,u.transceivers[l].iceTransport=u.transceivers[0].iceTransport,u.transceivers[l].dtlsTransport=u.transceivers[0].dtlsTransport,u.transceivers[l].rtpSender&&u.transceivers[l].rtpSender.setTransport(u.transceivers[0].dtlsTransport),u.transceivers[l].rtpReceiver&&u.transceivers[l].rtpReceiver.setTransport(u.transceivers[0].dtlsTransport)),"offer"!==r.type||g)"answer"!==r.type||g||(E=(_=u.transceivers[l]).iceGatherer,w=_.iceTransport,T=_.dtlsTransport,S=_.rtpReceiver,k=_.sendEncodingParameters,B=_.localCapabilities,u.transceivers[l].recvEncodingParameters=I,u.transceivers[l].remoteCapabilities=R,u.transceivers[l].rtcpParameters=j,M.length&&"new"===w.state&&(!f&&!L||m&&0!==l?M.forEach((function(e){s(_.iceTransport,e)})):w.setRemoteCandidates(M)),m&&0!==l||("new"===w.state&&w.start(E,D,"controlling"),"new"===T.state&&T.start(P)),!o(_.localCapabilities,_.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&_.sendEncodingParameters[0].rtx&&delete _.sendEncodingParameters[0].rtx,u._transceive(_,"sendrecv"===y||"recvonly"===y,"sendrecv"===y||"sendonly"===y),!S||"sendrecv"!==y&&"sendonly"!==y?delete _.rtpReceiver:(x=S.track,b?(d[b.stream]||(d[b.stream]=new e.MediaStream),n(x,d[b.stream]),A.push([x,S,d[b.stream]])):(d.default||(d.default=new e.MediaStream),n(x,d.default),A.push([x,S,d.default]))));else{(_=u.transceivers[l]||u._createTransceiver(h)).mid=C,_.iceGatherer||(_.iceGatherer=u._createIceGatherer(l,m)),M.length&&"new"===_.iceTransport.state&&(!L||m&&0!==l?M.forEach((function(e){s(_.iceTransport,e)})):_.iceTransport.setRemoteCandidates(M)),B=e.RTCRtpReceiver.getCapabilities(h),t<15019&&(B.codecs=B.codecs.filter((function(e){return"rtx"!==e.name}))),k=_.sendEncodingParameters||[{ssrc:1001*(2*l+2)}];var O,F=!1;"sendrecv"===y||"sendonly"===y?(F=!_.rtpReceiver,S=_.rtpReceiver||new e.RTCRtpReceiver(_.dtlsTransport,h),F&&(x=S.track,b&&"-"===b.stream||(b?(d[b.stream]||(d[b.stream]=new e.MediaStream,Object.defineProperty(d[b.stream],"id",{get:function(){return b.stream}})),Object.defineProperty(x,"id",{get:function(){return b.track}}),O=d[b.stream]):(d.default||(d.default=new e.MediaStream),O=d.default)),O&&(n(x,O),_.associatedRemoteMediaStreams.push(O)),A.push([x,S,O]))):_.rtpReceiver&&_.rtpReceiver.track&&(_.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===_.rtpReceiver.track.id}));n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)})),_.associatedRemoteMediaStreams=[]),_.localCapabilities=B,_.remoteCapabilities=R,_.rtpReceiver=S,_.rtcpParameters=j,_.sendEncodingParameters=k,_.recvEncodingParameters=I,u._transceive(u.transceivers[l],!1,F)}}})),void 0===u._dtlsRole&&(u._dtlsRole="offer"===r.type?"active":"passive"),u._remoteDescription={type:r.type,sdp:r.sdp},"offer"===r.type?u._updateSignalingState("have-remote-offer"):u._updateSignalingState("stable"),Object.keys(d).forEach((function(t){var n=d[t];if(n.getTracks().length){if(-1===u.remoteStreams.indexOf(n)){u.remoteStreams.push(n);var i=new Event("addstream");i.stream=n,e.setTimeout((function(){u._dispatchEvent("addstream",i)}))}A.forEach((function(e){var t=e[0],i=e[1];n.id===e[2].id&&c(u,t,i,[n])}))}})),A.forEach((function(e){e[2]||c(u,e[0],e[1],[])})),e.setTimeout((function(){u&&u.transceivers&&u.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},u.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},u.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},u.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},u.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},u.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},u.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(l("InvalidStateError","Can not call createOffer after close"));var o=n.transceivers.filter((function(e){return"audio"===e.kind})).length,a=n.transceivers.filter((function(e){return"video"===e.kind})).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(o=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(a=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)}));o>0||a>0;)o>0&&(n._createTransceiver("audio"),o--),a>0&&(n._createTransceiver("video"),a--);var c=i.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(r,o){var a=r.track,s=r.kind,l=r.mid||i.generateIdentifier();r.mid=l,r.iceGatherer||(r.iceGatherer=n._createIceGatherer(o,n.usingBundle));var c=e.RTCRtpSender.getCapabilities(s);t<15019&&(c.codecs=c.codecs.filter((function(e){return"rtx"!==e.name}))),c.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),r.remoteCapabilities&&r.remoteCapabilities.codecs&&r.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),c.headerExtensions.forEach((function(e){(r.remoteCapabilities&&r.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var u=r.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];a&&t>=15019&&"video"===s&&!u[0].rtx&&(u[0].rtx={ssrc:u[0].ssrc+1}),r.wantReceive&&(r.rtpReceiver=new e.RTCRtpReceiver(r.dtlsTransport,s)),r.localCapabilities=c,r.sendEncodingParameters=u})),"max-compat"!==n._config.bundlePolicy&&(c+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),c+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){c+=r(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),c+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,c+="a="+i.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(c+="a=end-of-candidates\r\n"))}));var u=new e.RTCSessionDescription({type:"offer",sdp:c});return Promise.resolve(u)},u.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(l("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(l("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var a=i.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(a+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n";var s=i.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,i){if(!(i+1>s)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?a+="m=application 0 DTLS/SCTP 5000\r\n":a+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var l;e.stream&&("audio"===e.kind?l=e.stream.getAudioTracks()[0]:"video"===e.kind&&(l=e.stream.getVideoTracks()[0]),l&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var c=o(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=r(e,c,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}}));var c=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(c)},u.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(r,o){if(!n._remoteDescription)return o(l("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var c=0;c<n.transceivers.length;c++)if(n.transceivers[c].mid===e.sdpMid){a=c;break}var u=n.transceivers[a];if(!u)return o(l("OperationError","Can not add ICE candidate"));if(u.rejected)return r();var d=Object.keys(e.candidate).length>0?i.parseCandidate(e.candidate):{};if("tcp"===d.protocol&&(0===d.port||9===d.port))return r();if(d.component&&1!==d.component)return r();if((0===a||a>0&&u.iceTransport!==n.transceivers[0].iceTransport)&&!s(u.iceTransport,d))return o(l("OperationError","Can not add ICE candidate"));var A=e.candidate.trim();0===A.indexOf("a=")&&(A=A.substr(2)),(t=i.getMediaSections(n._remoteDescription.sdp))[a]+="a="+(d.type?A:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=i.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var h=0;h<n.transceivers.length&&(n.transceivers[h].rejected||(n.transceivers[h].iceTransport.addRemoteCandidate({}),(t=i.getMediaSections(n._remoteDescription.sdp))[h]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=i.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));h++);r()}))},u.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw l("InvalidAccessError","Invalid selector.");return n.getStats()}var i=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&i.push(e[t].getStats())}))})),Promise.all(i).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var i=n.prototype.getStats;n.prototype.getStats=function(){return i.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var i;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(i=e[n]).type]||i.type,t.set(n,e[n])})),t}))}}}));var d=["createOffer","createAnswer"];return d.forEach((function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(d=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),u}},{sdp:17}],17:[function(e,t,n){var i={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};i.localCName=i.generateIdentifier(),i.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},i.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},i.getDescription=function(e){var t=i.splitSections(e);return t&&t[0]},i.getMediaSections=function(e){var t=i.splitSections(e);return t.shift(),t},i.matchPrefix=function(e,t){return i.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},i.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},i=8;i<t.length;i+=2)switch(t[i]){case"raddr":n.relatedAddress=t[i+1];break;case"rport":n.relatedPort=parseInt(t[i+1],10);break;case"tcptype":n.tcpType=t[i+1];break;case"ufrag":n.ufrag=t[i+1],n.usernameFragment=t[i+1];break;default:n[t[i]]=t[i+1]}return n},i.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},i.parseIceOptions=function(e){return e.substr(14).split(" ")},i.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},i.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},i.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},i.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},i.parseFmtp=function(e){for(var t,n={},i=e.substr(e.indexOf(" ")+1).split(";"),r=0;r<i.length;r++)n[(t=i[r].trim().split("="))[0].trim()]=t[1];return n},i.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var i=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?i.push(t+"="+e.parameters[t]):i.push(t)})),t+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return t},i.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},i.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},i.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},i=e.indexOf(":",t);return i>-1?(n.attribute=e.substr(t+1,i-t-1),n.value=e.substr(i+1)):n.attribute=e.substr(t+1),n},i.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},i.getMid=function(e){var t=i.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},i.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},i.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:i.matchPrefix(e+t,"a=fingerprint:").map(i.parseFingerprint)}},i.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},i.getIceParameters=function(e,t){var n=i.splitLines(e);return{usernameFragment:(n=n.concat(i.splitLines(t))).filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:n.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)}},i.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},i.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=i.splitLines(e)[0].split(" "),r=3;r<n.length;r++){var o=n[r],a=i.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=i.parseRtpMap(a),l=i.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=l.length?i.parseFmtp(l[0]):{},s.rtcpFeedback=i.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(i.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return i.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(i.parseExtmap(e))})),t},i.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=i.writeRtpMap(e),n+=i.writeFmtp(e),n+=i.writeRtcpFb(e)}));var r=0;return t.codecs.forEach((function(e){e.maxptime>r&&(r=e.maxptime)})),r>0&&(n+="a=maxptime:"+r+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=i.writeExtmap(e)})),n},i.parseRtpEncodingParameters=function(e){var t,n=[],r=i.parseRtpParameters(e),o=-1!==r.fecMechanisms.indexOf("RED"),a=-1!==r.fecMechanisms.indexOf("ULPFEC"),s=i.matchPrefix(e,"a=ssrc:").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),l=s.length>0&&s[0].ssrc,c=i.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));c.length>0&&c[0].length>1&&c[0][0]===l&&(t=c[0][1]),r.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var i={ssrc:l,codecPayloadType:parseInt(e.parameters.apt,10)};l&&t&&(i.rtx={ssrc:t}),n.push(i),o&&((i=JSON.parse(JSON.stringify(i))).fec={ssrc:l,mechanism:a?"red+ulpfec":"red"},n.push(i))}})),0===n.length&&l&&n.push({ssrc:l});var u=i.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=u}))),n},i.parseRtcpParameters=function(e){var t={},n=i.matchPrefix(e,"a=ssrc:").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var r=i.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=r.length>0,t.compound=0===r.length;var o=i.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},i.parseMsid=function(e){var t,n=i.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var r=i.matchPrefix(e,"a=ssrc:").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return r.length>0?{stream:(t=r[0].value.split(" "))[0],track:t[1]}:void 0},i.parseSctpDescription=function(e){var t,n=i.parseMLine(e),r=i.matchPrefix(e,"a=max-message-size:");r.length>0&&(t=parseInt(r[0].substr(19),10)),isNaN(t)&&(t=65536);var o=i.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};if(i.matchPrefix(e,"a=sctpmap:").length>0){var a=i.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:t}}},i.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},i.generateSessionId=function(){return Math.random().toString().substr(2,21)},i.writeSessionBoilerplate=function(e,t,n){var r=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||i.generateSessionId())+" "+r+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},i.writeMediaSection=function(e,t,n,r){var o=i.writeRtpDescription(e.kind,t);if(o+=i.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=i.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+r.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+i.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+i.localCName+"\r\n"),o},i.getDirection=function(e,t){for(var n=i.splitLines(e),r=0;r<n.length;r++)switch(n[r]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[r].substr(2)}return t?i.getDirection(t):"sendrecv"},i.getKind=function(e){return i.splitLines(e)[0].split(" ")[0].substr(2)},i.isRejected=function(e){return"0"===e.split(" ",2)[1]},i.parseMLine=function(e){var t=i.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},i.parseOLine=function(e){var t=i.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},i.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=i.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},"object"===a(t)&&(t.exports=i)},{}]},{},[1])(1)},"object"===a(t)?e.exports=j():(r=[],void 0===(o="function"==typeof(i=j)?i.apply(t,r):i)||(e.exports=o)),F.sessions={},F.isExtensionEnabled=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return!0;if(window.navigator.userAgent.match("Chrome")){var e=parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1],10),t=33;return window.navigator.userAgent.match("Linux")&&(t=35),e>=26&&e<=t||F.extension.isInstalled()}return!0};var O={extensionId:"hapfgfdkleiggjjpfpenajgdnfckjpaj",isInstalled:function(){return null!==document.querySelector("#janus-extension-installed")},getScreen:function(e){var t=window.setTimeout((function(){var t=new Error("NavigatorUserMediaError");return t.name='The required Chrome extension is not installed: click <a href="#">here</a> to install it. (NOTE: this will need you to refresh the page)',e(t)}),1e3);this.cache[t]=e,window.postMessage({type:"janusGetScreen",id:t},"*")},init:function(){var e={};this.cache=e,window.addEventListener("message",(function(t){if(t.origin==window.location.origin)if("janusGotScreen"==t.data.type&&e[t.data.id]){var n=e[t.data.id];if(delete e[t.data.id],""===t.data.sourceId){var i=new Error("NavigatorUserMediaError");i.name="You cancelled the request for permission, giving up...",n(i)}else n(null,t.data.sourceId)}else"janusGetScreenPending"==t.data.type&&(console.log("clearing ",t.data.id),window.clearTimeout(t.data.id))}))}};function F(e){if(void 0===F.initDone)return e.error("Library not initialized"),{};if(!F.isWebrtcSupported())return e.error("WebRTC not supported by this browser"),{};if(F.log("Library initialized: "+F.initDone),(e=e||{}).success="function"==typeof e.success?e.success:F.noop,e.error="function"==typeof e.error?e.error:F.noop,e.destroyed="function"==typeof e.destroyed?e.destroyed:F.noop,null===e.server||void 0===e.server)return e.error("Invalid server url"),{};var t=!1,n=null,i={},r=null,o=null,s=0,l=e.server;F.isArray(l)?(F.log("Multiple servers provided ("+l.length+"), will use the first that works"),l=null,o=e.server,F.debug(o)):0===l.indexOf("ws")?(t=!0,F.log("Using WebSockets to contact Janus: "+l)):(t=!1,F.log("Using REST API to contact Janus: "+l));var c=e.iceServers;null==c&&(c=[{urls:"stun:stun.l.google.com:19302"}]);var u=e.iceTransportPolicy,d=e.bundlePolicy,A=e.ipv6;null==A&&(A=!1);var h=!1;void 0!==e.withCredentials&&null!==e.withCredentials&&(h=!0===e.withCredentials);var p=10;void 0!==e.max_poll_events&&null!==e.max_poll_events&&(p=e.max_poll_events),p<1&&(p=1);var f=null;void 0!==e.token&&null!==e.token&&(f=e.token);var m=null;void 0!==e.apisecret&&null!==e.apisecret&&(m=e.apisecret),this.destroyOnUnload=!0,void 0!==e.destroyOnUnload&&null!==e.destroyOnUnload&&(this.destroyOnUnload=!0===e.destroyOnUnload);var g=25e3;void 0!==e.keepAlivePeriod&&null!==e.keepAlivePeriod&&(g=e.keepAlivePeriod),isNaN(g)&&(g=25e3);var v=6e4;function y(e){var t={high:9e5,medium:3e5,low:1e5};return null!=e&&(e.high&&(t.high=e.high),e.medium&&(t.medium=e.medium),e.low&&(t.low=e.low)),t}void 0!==e.longPollTimeout&&null!==e.longPollTimeout&&(v=e.longPollTimeout),isNaN(v)&&(v=6e4);var b=!1,C=null,_={},E=this,w=0,T={};function S(){if(null!=C)if(F.debug("Long poll..."),b){var t=l+"/"+C+"?rid="+(new Date).getTime();null!=p&&(t=t+"&maxev="+p),null!=f&&(t=t+"&token="+encodeURIComponent(f)),null!=m&&(t=t+"&apisecret="+encodeURIComponent(m)),F.httpAPICall(t,{verb:"GET",withCredentials:h,success:k,timeout:v,error:function(t,n){if(F.error(t+":",n),++w>3)return b=!1,void e.error("Lost connection to the server (is it down?)");S()}})}else F.warn("Is the server down? (connected=false)")}function k(e,i){if(w=0,t||null==C||!0===i||S(),t||!F.isArray(e))if("keepalive"!==e.rtcgw)if("ack"!==e.rtcgw)if("success"!==e.rtcgw)if("trickle"===e.rtcgw){if(null==(l=e.sender))return void F.warn("Missing sender...");if(null==(u=_[l]))return void F.debug("This handle is not attached to this session");var r=e.candidate;F.debug("Got a trickled candidate on session "+C),F.debug(r);var o=u.webrtcStuff;o.pc&&o.remoteSdp?(F.debug("Adding remote candidate:",r),r&&!0!==r.completed?o.pc.addIceCandidate(r):o.pc.addIceCandidate(F.endOfCandidates)):(F.debug("We didn't do setRemoteDescription (trickle got here before the offer?), caching candidate"),o.candidates||(o.candidates=[]),o.candidates.push(r),F.debug(o.candidates))}else{if("webrtcup"===e.rtcgw)return F.debug("Got a webrtcup event on session "+C),F.debug(e),null==(l=e.sender)?void F.warn("Missing sender..."):null==(u=_[l])?void F.debug("This handle is not attached to this session"):void u.webrtcState(!0);if("hangup"===e.rtcgw){if(F.debug("Got a hangup event on session "+C),F.debug(e),null==(l=e.sender))return void F.warn("Missing sender...");if(null==(u=_[l]))return void F.debug("This handle is not attached to this session");u.webrtcState(!1,e.reason),u.hangup()}else if("detached"===e.rtcgw){if(F.debug("Got a detached event on session "+C),F.debug(e),null==(l=e.sender))return void F.warn("Missing sender...");if(null==(u=_[l]))return;u.detached=!0,u.ondetached(),u.detach()}else if("media"===e.rtcgw){if(F.debug("Got a media event on session "+C),F.debug(e),null==(l=e.sender))return void F.warn("Missing sender...");if(null==(u=_[l]))return void F.debug("This handle is not attached to this session");u.mediaState(e.type,e.receiving)}else if("slowlink"===e.rtcgw){if(F.debug("Got a slowlink event on session "+C),F.debug(e),null==(l=e.sender))return void F.warn("Missing sender...");if(null==(u=_[l]))return void F.debug("This handle is not attached to this session");u.slowLink(e.uplink,e.lost)}else{var a,s;if("error"===e.rtcgw)return F.error("Ooops: "+e.error.code+" "+e.error.reason),F.debug(e),void(null!=(a=e.transaction)&&(null!=(s=T[a])&&s(e),delete T[a]));if("event"===e.rtcgw){var l;if(F.debug("Got a plugin event on session "+C),F.debug(e),null==(l=e.sender))return void F.warn("Missing sender...");var c=e.plugindata;if(null==c)return void F.warn("Missing plugindata...");F.debug("  -- Event is coming from "+l+" ("+c.plugin+")");var u,d=c.data;if(F.debug(d),null==(u=_[l]))return void F.warn("This handle is not attached to this session");var A=e.jsep;null!=A&&(F.debug("Handling SDP as well..."),F.debug(A));var h=u.onmessage;null!=h?(F.debug("Notifying application..."),h(d,A)):F.debug("No provided notification callback")}else{if("timeout"===e.rtcgw)return F.error("Timeout on session "+C),F.debug(e),void(t&&n.close(3504,"Gateway timeout"));F.warn("Unknown message/event  '"+e.rtcgw+"' on session "+C),F.debug(e)}}}else F.debug("Got a success on session "+C),F.debug(e),null!=(a=e.transaction)&&(null!=(s=T[a])&&s(e),delete T[a]);else F.debug("Got an ack on session "+C),F.debug(e),null!=(a=e.transaction)&&(null!=(s=T[a])&&s(e),delete T[a]);else F.vdebug("Got a keepalive on session "+C);else for(var p=0;p<e.length;p++)k(e[p],!0)}function I(){if(null!==l&&t&&b){r=setTimeout(I,g);var e={rtcgw:"keepalive",session_id:C,transaction:F.randomString(12)};null!=f&&(e.token=f),null!=m&&(e.apisecret=m),n.send(JSON.stringify(e))}}function B(a){var c=F.randomString(12),u={rtcgw:"create",transaction:c,token:window.EZUIKit.opt.stream,device:window.EZUIKit.opt.deviceSerial,channel:window.EZUIKit.opt.channelNo};if(a.reconnect&&(b=!1,u.rtcgw="claim",u.session_id=C,n&&(n.onopen=null,n.onerror=null,n.onclose=null,r&&(clearTimeout(r),r=null))),null!=f&&(u.token=f),null!=m&&(u.apisecret=m),null===l&&F.isArray(o)&&(0===(l=o[s]).indexOf("ws")?(t=!0,F.log("Server #"+(s+1)+": trying WebSockets to contact Janus ("+l+")")):(t=!1,F.log("Server #"+(s+1)+": trying REST API to contact Janus ("+l+")"))),t)for(var d in n=F.newWebSocket(l,"rtcgw-protocol"),i={error:function(){if(F.error("Error connecting to the Janus WebSockets server... "+l),F.isArray(o)&&!a.reconnect)return++s==o.length?void a.error("Error connecting to any of the provided Janus servers: Is the server down?"):(l=null,void setTimeout((function(){B(a)}),200));a.error("Error connecting to the Janus WebSockets server: Is the server down?")},open:function(){T[c]=function(e){if(F.debug(e),"success"!==e.rtcgw)return F.error("Ooops: "+e.error.code+" "+e.error.reason),void a.error(e.error.reason);r=setTimeout(I,g),b=!0,C=e.session_id?e.session_id:e.data.id,a.reconnect?F.log("Claimed session: "+C):F.log("Created session: "+C),F.sessions[C]=E,a.success()},n.send(JSON.stringify(u))},message:function(e){k(JSON.parse(e.data))},close:function(){null!==l&&b&&(b=!1,e.error("Lost connection to the server (is it down?)"))}})n.addEventListener(d,i[d]);else F.httpAPICall(l,{verb:"POST",withCredentials:h,body:u,success:function(e){if(F.debug(e),"success"!==e.rtcgw)return F.error("Ooops: "+e.error.code+" "+e.error.reason),void a.error(e.error.reason);b=!0,C=e.session_id?e.session_id:e.data.id,a.reconnect?F.log("Claimed session: "+C):F.log("Created session: "+C),F.sessions[C]=E,S(),a.success()},error:function(e,t){if(F.error(e+":",t),F.isArray(o)&&!a.reconnect)return++s==o.length?void a.error("Error connecting to any of the provided Janus servers: Is the server down?"):(l=null,void setTimeout((function(){B(a)}),200));""===t?a.error(e+": Is the server down?"):a.error(e+": "+t)}})}function x(e,i){if((i=i||{}).success="function"==typeof i.success?i.success:F.noop,i.error="function"==typeof i.error?i.error:F.noop,!b)return F.warn("Is the server down? (connected=false)"),void i.error("Is the server down? (connected=false)");var r=_[e];if(null==r||null===r.webrtcStuff||void 0===r.webrtcStuff)return F.warn("Invalid handle"),void i.error("Invalid handle");var o=i.message,a=i.jsep,s=F.randomString(12),c={rtcgw:"message",body:o,transaction:s};if(null!==r.token&&void 0!==r.token&&(c.token=r.token),null!=m&&(c.apisecret=m),null!=a&&(c.jsep=a),F.debug("Sending message to plugin (handle="+e+"):"),F.debug(c),t)return c.session_id=C,c.handle_id=e,T[s]=function(e){if(F.debug("Message sent!"),F.debug(e),"success"===e.rtcgw){var t=e.plugindata;if(null==t)return F.warn("Request succeeded, but missing plugindata..."),void i.success();F.log("Synchronous transaction successful ("+t.plugin+")");var n=t.data;return F.debug(n),void i.success(n)}"ack"===e.rtcgw?i.success():void 0!==e.error&&null!==e.error?(F.error("Ooops: "+e.error.code+" "+e.error.reason),i.error(e.error.code+" "+e.error.reason)):(F.error("Unknown error"),i.error("Unknown error"))},void n.send(JSON.stringify(c));F.httpAPICall(l+"/"+C+"/"+e,{verb:"POST",withCredentials:h,body:c,success:function(e){if(F.debug("Message sent!"),F.debug(e),"success"===e.rtcgw){var t=e.plugindata;if(null==t)return F.warn("Request succeeded, but missing plugindata..."),void i.success();F.log("Synchronous transaction successful ("+t.plugin+")");var n=t.data;return F.debug(n),void i.success(n)}"ack"===e.rtcgw?i.success():void 0!==e.error&&null!==e.error?(F.error("Ooops: "+e.error.code+" "+e.error.reason),i.error(e.error.code+" "+e.error.reason)):(F.error("Unknown error"),i.error("Unknown error"))},error:function(e,t){F.error(e+":",t),i.error(e+": "+t)}})}function D(e,i){if(b){var r=_[e];if(null!=r&&null!==r.webrtcStuff&&void 0!==r.webrtcStuff){var o={rtcgw:"trickle",candidate:i,transaction:F.randomString(12)};if(null!==r.token&&void 0!==r.token&&(o.token=r.token),null!=m&&(o.apisecret=m),F.vdebug("Sending trickle candidate (handle="+e+"):"),F.vdebug(o),t)return o.session_id=C,o.handle_id=e,void n.send(JSON.stringify(o));F.httpAPICall(l+"/"+C+"/"+e,{verb:"POST",withCredentials:h,body:o,success:function(e){F.vdebug("Candidate sent!"),F.vdebug(e),"ack"===e.rtcgw||F.error("Ooops: "+e.error.code+" "+e.error.reason)},error:function(e,t){F.error(e+":",t)}})}else F.warn("Invalid handle")}else F.warn("Is the server down? (connected=false)")}function P(e,t,n,i){var r=_[e];if(null!=r&&null!==r.webrtcStuff&&void 0!==r.webrtcStuff){var o=r.webrtcStuff,a=function(e){F.log("Received state change on data channel:",e);var t=e.target.label,n=o.dataChannel[t]?o.dataChannel[t].readyState:"null";if(F.log("State change on <"+t+"> data channel: "+n),"open"===n){if(o.dataChannel[t].pending&&o.dataChannel[t].pending.length>0){for(var i in F.log("Sending pending messages on <"+t+">:",o.dataChannel[t].pending.length),o.dataChannel[t].pending){var a=o.dataChannel[t].pending[i];F.log("Sending string on data channel <"+t+">: "+a),o.dataChannel[t].send(a)}o.dataChannel[t].pending=[]}r.ondataopen(t)}};o.dataChannel[t]=n||o.pc.createDataChannel(t,{ordered:!1}),o.dataChannel[t].onmessage=function(e){F.log("Received message on data channel:",e);var t=e.target.label;r.ondata(e.data,t)},o.dataChannel[t].onopen=a,o.dataChannel[t].onclose=a,o.dataChannel[t].onerror=function(e){F.error("Got error on data channel:",e)},o.dataChannel[t].pending=[],i&&o.dataChannel[t].pending.push(i)}else F.warn("Invalid handle")}function R(e,t){(t=t||{}).success="function"==typeof t.success?t.success:F.noop,t.error="function"==typeof t.error?t.error:F.noop;var n=_[e];if(null==n||null===n.webrtcStuff||void 0===n.webrtcStuff)return F.warn("Invalid handle"),void t.error("Invalid handle");var i=n.webrtcStuff,r=t.text;if(null==r)return F.warn("Invalid text"),void t.error("Invalid text");var o=t.label?t.label:F.dataChanDefaultLabel;return i.dataChannel[o]?"open"!==i.dataChannel[o].readyState?(i.dataChannel[o].pending.push(r),void t.success()):(F.log("Sending string on data channel <"+o+">: "+r),i.dataChannel[o].send(r),void t.success()):(P(e,o,!1,r),void t.success())}function j(e,t){(t=t||{}).success="function"==typeof t.success?t.success:F.noop,t.error="function"==typeof t.error?t.error:F.noop;var n=_[e];if(null==n||null===n.webrtcStuff||void 0===n.webrtcStuff)return F.warn("Invalid handle"),void t.error("Invalid handle");var i=n.webrtcStuff;if(null===i.dtmfSender||void 0===i.dtmfSender){if(void 0!==i.pc&&null!==i.pc){var r=i.pc.getSenders().find((function(e){return e.track&&"audio"===e.track.kind}));if(!r)return F.warn("Invalid DTMF configuration (no audio track)"),void t.error("Invalid DTMF configuration (no audio track)");i.dtmfSender=r.dtmf,i.dtmfSender&&(F.log("Created DTMF Sender"),i.dtmfSender.ontonechange=function(e){F.debug("Sent DTMF tone: "+e.tone)})}if(null===i.dtmfSender||void 0===i.dtmfSender)return F.warn("Invalid DTMF configuration"),void t.error("Invalid DTMF configuration")}var o=t.dtmf;if(null==o)return F.warn("Invalid DTMF parameters"),void t.error("Invalid DTMF parameters");var a=o.tones;if(null==a)return F.warn("Invalid DTMF string"),void t.error("Invalid DTMF string");var s=o.duration;null==s&&(s=500);var l=o.gap;null==l&&(l=50),F.debug("Sending DTMF string "+a+" (duration "+s+"ms, gap "+l+"ms)"),i.dtmfSender.insertDTMF(a,s,l),t.success()}function L(e,i){(i=i||{}).success="function"==typeof i.success?i.success:F.noop,i.error="function"==typeof i.error?i.error:F.noop;var r=!0;void 0!==i.asyncRequest&&null!==i.asyncRequest&&(r=!0===i.asyncRequest);var o=!0;void 0!==i.noRequest&&null!==i.noRequest&&(o=!0===i.noRequest),F.log("Destroying handle "+e+" (async="+r+")"),H(e);var a=_[e];if(null==a||a.detached)return delete _[e],void i.success();if(o)return delete _[e],void i.success();if(!b)return F.warn("Is the server down? (connected=false)"),void i.error("Is the server down? (connected=false)");var s={rtcgw:"detach",transaction:F.randomString(12)};if(null!==a.token&&void 0!==a.token&&(s.token=a.token),null!=m&&(s.apisecret=m),t)return s.session_id=C,s.handle_id=e,n.send(JSON.stringify(s)),delete _[e],void i.success();F.httpAPICall(l+"/"+C+"/"+e,{verb:"POST",async:r,withCredentials:h,body:s,success:function(t){F.log("Destroyed handle:"),F.debug(t),"success"!==t.rtcgw&&F.error("Ooops: "+t.error.code+" "+t.error.reason),delete _[e],i.success()},error:function(t,n){F.error(t+":",n),delete _[e],i.success()}})}function M(e,t,n,i,r){var o=_[e];if(null==o||null===o.webrtcStuff||void 0===o.webrtcStuff)return F.warn("Invalid handle"),void i.error("Invalid handle");var s=o.webrtcStuff;F.debug("streamsDone:",r),r&&(F.debug("  -- Audio tracks:",r.getAudioTracks()),F.debug("  -- Video tracks:",r.getVideoTracks()));var l=!1;if(s.myStream&&n.update&&!s.streamExternal){if((!n.update&&W(n)||n.update&&(n.addAudio||n.replaceAudio))&&r.getAudioTracks()&&r.getAudioTracks().length)if(s.myStream.addTrack(r.getAudioTracks()[0]),F.unifiedPlan){F.log((n.replaceAudio?"Replacing":"Adding")+" audio track:",r.getAudioTracks()[0]);var h=null;if((f=s.pc.getTransceivers())&&f.length>0)for(var p in f)if((g=f[p]).sender&&g.sender.track&&"audio"===g.sender.track.kind||g.receiver&&g.receiver.track&&"audio"===g.receiver.track.kind){h=g;break}h&&h.sender?h.sender.replaceTrack(r.getAudioTracks()[0]):s.pc.addTrack(r.getAudioTracks()[0],r)}else F.log((n.replaceAudio?"Replacing":"Adding")+" audio track:",r.getAudioTracks()[0]),s.pc.addTrack(r.getAudioTracks()[0],r);if((!n.update&&Y(n)||n.update&&(n.addVideo||n.replaceVideo))&&r.getVideoTracks()&&r.getVideoTracks().length)if(s.myStream.addTrack(r.getVideoTracks()[0]),F.unifiedPlan){F.log((n.replaceVideo?"Replacing":"Adding")+" video track:",r.getVideoTracks()[0]);var f,m=null;if((f=s.pc.getTransceivers())&&f.length>0)for(var p in f){var g;if((g=f[p]).sender&&g.sender.track&&"video"===g.sender.track.kind||g.receiver&&g.receiver.track&&"video"===g.receiver.track.kind){m=g;break}}m&&m.sender?m.sender.replaceTrack(r.getVideoTracks()[0]):s.pc.addTrack(r.getVideoTracks()[0],r)}else F.log((n.replaceVideo?"Replacing":"Adding")+" video track:",r.getVideoTracks()[0]),s.pc.addTrack(r.getVideoTracks()[0],r)}else s.myStream=r,l=!0;if(!s.pc){var v={iceServers:c,iceTransportPolicy:u,bundlePolicy:d};"chrome"===F.webRTCAdapter.browserDetails.browser&&(v.sdpSemantics=F.webRTCAdapter.browserDetails.version<72?"plan-b":"unified-plan");var b={optional:[{DtlsSrtpKeyAgreement:!0}]};if(!0===A&&b.optional.push({googIPv6:!0}),i.rtcConstraints&&"object"===a(i.rtcConstraints))for(var p in F.debug("Adding custom PeerConnection constraints:",i.rtcConstraints),i.rtcConstraints)b.optional.push(i.rtcConstraints[p]);"edge"===F.webRTCAdapter.browserDetails.browser&&(v.bundlePolicy="max-bundle"),F.log("Creating PeerConnection"),F.debug(b),s.pc=new RTCPeerConnection(v,b),F.debug(s.pc),s.pc.getStats&&(s.volume={},s.bitrate.value="0 kbits/sec"),F.log("Preparing local SDP and gathering candidates (trickle="+s.trickle+")"),s.pc.oniceconnectionstatechange=function(e){s.pc&&o.iceState(s.pc.iceConnectionState)},s.pc.onicecandidate=function(t){if(null==t.candidate||"edge"===F.webRTCAdapter.browserDetails.browser&&t.candidate.candidate.indexOf("endOfCandidates")>0)F.log("End of candidates."),s.iceDone=!0,!0===s.trickle?D(e,{completed:!0}):function(e,t){(t=t||{}).success="function"==typeof t.success?t.success:F.noop,t.error="function"==typeof t.error?t.error:F.noop;var n=_[e];if(null!=n&&null!==n.webrtcStuff&&void 0!==n.webrtcStuff){var i=n.webrtcStuff;F.log("Sending offer/answer SDP..."),null!==i.mySdp&&void 0!==i.mySdp?(i.mySdp={type:i.pc.localDescription.type,sdp:i.pc.localDescription.sdp},!1===i.trickle&&(i.mySdp.trickle=!1),F.debug(t),i.sdpSent=!0,t.success(i.mySdp)):F.warn("Local SDP instance is invalid, not sending anything...")}else F.warn("Invalid handle, not sending anything")}(e,i);else{var n={candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex};!0===s.trickle&&D(e,n)}},s.pc.ontrack=function(e){F.log("Handling Remote Track"),F.debug(e),e.streams&&(s.remoteStream=e.streams[0],o.onremotestream(s.remoteStream),e.track.onended||(F.log("Adding onended callback to track:",e.track),e.track.onended=function(e){F.log("Remote track muted/removed:",e),s.remoteStream&&(s.remoteStream.removeTrack(e.target),o.onremotestream(s.remoteStream))},e.track.onmute=e.track.onended,e.track.onunmute=function(e){F.log("Remote track flowing again:",e);try{s.remoteStream.addTrack(e.target),o.onremotestream(s.remoteStream)}catch(e){F.error(e)}}))}}if(l&&null!=r){F.log("Adding local stream");var C=!0===i.simulcast2;r.getTracks().forEach((function(e){if(F.log("Adding local track:",e),C)if("audio"===e.kind)s.pc.addTrack(e,r);else{F.log("Enabling rid-based simulcasting:",e);var t=y(i.simulcastMaxBitrates);s.pc.addTransceiver(e,{direction:"sendrecv",streams:[r],sendEncodings:[{rid:"h",active:!0,maxBitrate:t.high},{rid:"m",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:t.low,scaleResolutionDownBy:4}]})}else s.pc.addTrack(e,r)}))}(function(e){return F.debug("isDataEnabled:",e),"edge"==F.webRTCAdapter.browserDetails.browser?(F.warn("Edge doesn't support data channels yet"),!1):null!=e&&!0===e.data})(n)&&!s.dataChannel[F.dataChanDefaultLabel]&&(F.log("Creating data channel"),P(e,F.dataChanDefaultLabel,!1),s.pc.ondatachannel=function(t){F.log("Data channel created by Janus:",t),P(e,t.channel.label,t.channel)}),s.myStream&&o.onlocalstream(s.myStream),null==t?function(e,t,n){(n=n||{}).success="function"==typeof n.success?n.success:F.noop,n.error="function"==typeof n.error?n.error:F.noop,n.customizeSdp="function"==typeof n.customizeSdp?n.customizeSdp:F.noop;var i=_[e];if(null==i||null===i.webrtcStuff||void 0===i.webrtcStuff)return F.warn("Invalid handle"),void n.error("Invalid handle");var r=i.webrtcStuff,o=!0===n.simulcast;o?F.log("Creating offer (iceDone="+r.iceDone+", simulcast="+o+")"):F.log("Creating offer (iceDone="+r.iceDone+")");var a={};if(F.unifiedPlan){var s=null,l=null,c=r.pc.getTransceivers();if(c&&c.length>0)for(var u in c){var d=c[u];d.sender&&d.sender.track&&"audio"===d.sender.track.kind||d.receiver&&d.receiver.track&&"audio"===d.receiver.track.kind?s||(s=d):(d.sender&&d.sender.track&&"video"===d.sender.track.kind||d.receiver&&d.receiver.track&&"video"===d.receiver.track.kind)&&(l||(l=d))}var A=W(t),h=V(t);A||h?A&&h?s&&(s.setDirection?s.setDirection("sendrecv"):s.direction="sendrecv",F.log("Setting audio transceiver to sendrecv:",s)):A&&!h?s&&(s.setDirection?s.setDirection("sendonly"):s.direction="sendonly",F.log("Setting audio transceiver to sendonly:",s)):!A&&h&&(s?(s.setDirection?s.setDirection("recvonly"):s.direction="recvonly",F.log("Setting audio transceiver to recvonly:",s)):(s=r.pc.addTransceiver("audio",{direction:"recvonly"}),F.log("Adding recvonly audio transceiver:",s))):t.removeAudio&&s&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive",F.log("Setting audio transceiver to inactive:",s));var p=Y(t),f=J(t);p||f?p&&f?l&&(l.setDirection?l.setDirection("sendrecv"):l.direction="sendrecv",F.log("Setting video transceiver to sendrecv:",l)):p&&!f?l&&(l.setDirection?l.setDirection("sendonly"):l.direction="sendonly",F.log("Setting video transceiver to sendonly:",l)):!p&&f&&(l?(l.setDirection?l.setDirection("recvonly"):l.direction="recvonly",F.log("Setting video transceiver to recvonly:",l)):(l=r.pc.addTransceiver("video",{direction:"recvonly"}),F.log("Adding recvonly video transceiver:",l))):t.removeVideo&&l&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive",F.log("Setting video transceiver to inactive:",l))}else a.offerToReceiveAudio=V(t),a.offerToReceiveVideo=J(t);!0===n.iceRestart&&(a.iceRestart=!0),F.debug(a);var m=Y(t);if(m&&o&&"firefox"===F.webRTCAdapter.browserDetails.browser){F.log("Enabling Simulcasting for Firefox (RID)");var g=r.pc.getSenders().find((function(e){return"video"==e.track.kind}));if(g){var v=g.getParameters();v||(v={});var b=y(n.simulcastMaxBitrates);v.encodings=[{rid:"h",active:!0,maxBitrate:b.high},{rid:"m",active:!0,maxBitrate:b.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:b.low,scaleResolutionDownBy:4}],g.setParameters(v)}}r.pc.createOffer(a).then((function(e){F.debug(e);var t={type:e.type,sdp:e.sdp};n.customizeSdp(t),e.sdp=t.sdp,F.log("Setting local description"),m&&o&&("chrome"===F.webRTCAdapter.browserDetails.browser||"safari"===F.webRTCAdapter.browserDetails.browser?(F.log("Enabling Simulcasting for Chrome (SDP munging)"),e.sdp=function(e){for(var t=e.split("\r\n"),n=!1,i=[-1],r=[-1],o=null,a=null,s=null,l=null,c=-1,u=0;u<t.length;u++)if(A=t[u].match(/m=(\w+) */)){if("video"===A[1]){if(!(i[0]<0)){c=u;break}n=!0}else if(i[0]>-1){c=u;break}}else if(n){var d=t[u].match(/a=ssrc-group:FID (\d+) (\d+)/);if(d)i[0]=d[1],r[0]=d[2],t.splice(u,1),u--;else{if(i[0]){if((p=t[u].match("a=ssrc:"+i[0]+" cname:(.+)"))&&(o=p[1]),(p=t[u].match("a=ssrc:"+i[0]+" msid:(.+)"))&&(a=p[1]),(p=t[u].match("a=ssrc:"+i[0]+" mslabel:(.+)"))&&(s=p[1]),(p=t[u].match("a=ssrc:"+i[0]+" label:(.+)"))&&(l=p[1]),0===t[u].indexOf("a=ssrc:"+r[0])){t.splice(u,1),u--;continue}if(0===t[u].indexOf("a=ssrc:"+i[0])){t.splice(u,1),u--;continue}}0!=t[u].length||(t.splice(u,1),u--)}}if(i[0]<0)for(c=-1,n=!1,u=0;u<t.length;u++){var A;if(A=t[u].match(/m=(\w+) */)){if("video"===A[1]){if(!(i[0]<0)){c=u;break}n=!0}else if(i[0]>-1){c=u;break}}else if(n){if(i[0]<0){var h=t[u].match(/a=ssrc:(\d+)/);if(h){i[0]=h[1],t.splice(u,1),u--;continue}}else{var p;if((p=t[u].match("a=ssrc:"+i[0]+" cname:(.+)"))&&(o=p[1]),(p=t[u].match("a=ssrc:"+i[0]+" msid:(.+)"))&&(a=p[1]),(p=t[u].match("a=ssrc:"+i[0]+" mslabel:(.+)"))&&(s=p[1]),(p=t[u].match("a=ssrc:"+i[0]+" label:(.+)"))&&(l=p[1]),0===t[u].indexOf("a=ssrc:"+r[0])){t.splice(u,1),u--;continue}if(0===t[u].indexOf("a=ssrc:"+i[0])){t.splice(u,1),u--;continue}}0!=t[u].length||(t.splice(u,1),u--)}}if(i[0]<0)return F.warn("Couldn't find the video SSRC, simulcasting NOT enabled"),e;for(c<0&&(c=t.length),i[1]=Math.floor(4294967295*Math.random()),i[2]=Math.floor(4294967295*Math.random()),r[1]=Math.floor(4294967295*Math.random()),r[2]=Math.floor(4294967295*Math.random()),u=0;u<i.length;u++)o&&(t.splice(c,0,"a=ssrc:"+i[u]+" cname:"+o),c++),a&&(t.splice(c,0,"a=ssrc:"+i[u]+" msid:"+a),c++),s&&(t.splice(c,0,"a=ssrc:"+i[u]+" mslabel:"+s),c++),l&&(t.splice(c,0,"a=ssrc:"+i[u]+" label:"+l),c++),o&&(t.splice(c,0,"a=ssrc:"+r[u]+" cname:"+o),c++),a&&(t.splice(c,0,"a=ssrc:"+r[u]+" msid:"+a),c++),s&&(t.splice(c,0,"a=ssrc:"+r[u]+" mslabel:"+s),c++),l&&(t.splice(c,0,"a=ssrc:"+r[u]+" label:"+l),c++);return t.splice(c,0,"a=ssrc-group:FID "+i[2]+" "+r[2]),t.splice(c,0,"a=ssrc-group:FID "+i[1]+" "+r[1]),t.splice(c,0,"a=ssrc-group:FID "+i[0]+" "+r[0]),t.splice(c,0,"a=ssrc-group:SIM "+i[0]+" "+i[1]+" "+i[2]),(e=t.join("\r\n")).endsWith("\r\n")||(e+="\r\n"),e}(e.sdp)):"firefox"!==F.webRTCAdapter.browserDetails.browser&&F.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),r.mySdp=e.sdp,r.pc.setLocalDescription(e).catch(n.error),r.mediaConstraints=a,r.iceDone||r.trickle?(F.log("Offer ready"),F.debug(n),n.success(e)):F.log("Waiting for all candidates...")}),n.error)}(e,n,i):s.pc.setRemoteDescription(t).then((function(){if(F.log("Remote description accepted!"),s.remoteSdp=t.sdp,s.candidates&&s.candidates.length>0){for(var r=0;r<s.candidates.length;r++){var o=s.candidates[r];F.debug("Adding remote candidate:",o),o&&!0!==o.completed?s.pc.addIceCandidate(o):s.pc.addIceCandidate(F.endOfCandidates)}s.candidates=[]}!function(e,t,n){(n=n||{}).success="function"==typeof n.success?n.success:F.noop,n.error="function"==typeof n.error?n.error:F.noop,n.customizeSdp="function"==typeof n.customizeSdp?n.customizeSdp:F.noop;var i=_[e];if(null==i||null===i.webrtcStuff||void 0===i.webrtcStuff)return F.warn("Invalid handle"),void n.error("Invalid handle");var r=i.webrtcStuff,o=!0===n.simulcast;o?F.log("Creating answer (iceDone="+r.iceDone+", simulcast="+o+")"):F.log("Creating answer (iceDone="+r.iceDone+")");var a=null;if(F.unifiedPlan){a={};var s=null,l=null,c=r.pc.getTransceivers();if(c&&c.length>0)for(var u in c){var d=c[u];d.sender&&d.sender.track&&"audio"===d.sender.track.kind||d.receiver&&d.receiver.track&&"audio"===d.receiver.track.kind?s||(s=d):(d.sender&&d.sender.track&&"video"===d.sender.track.kind||d.receiver&&d.receiver.track&&"video"===d.receiver.track.kind)&&(l||(l=d))}var A=W(t),h=V(t);if(A||h){if(A&&h){if(s)try{s.setDirection?s.setDirection("sendrecv"):s.direction="sendrecv",F.log("Setting audio transceiver to sendrecv:",s)}catch(e){F.error(e)}}else if(A&&!h)try{s&&(s.setDirection?s.setDirection("sendonly"):s.direction="sendonly",F.log("Setting audio transceiver to sendonly:",s))}catch(e){F.error(e)}else if(!A&&h)if(s)try{s.setDirection?s.setDirection("recvonly"):s.direction="recvonly",F.log("Setting audio transceiver to recvonly:",s)}catch(e){F.error(e)}else s=r.pc.addTransceiver("audio",{direction:"recvonly"}),F.log("Adding recvonly audio transceiver:",s)}else if(t.removeAudio&&s)try{s.setDirection?s.setDirection("inactive"):s.direction="inactive",F.log("Setting audio transceiver to inactive:",s)}catch(e){F.error(e)}var p=Y(t),f=J(t);if(p||f){if(p&&f){if(l)try{l.setDirection?l.setDirection("sendrecv"):l.direction="sendrecv",F.log("Setting video transceiver to sendrecv:",l)}catch(e){F.error(e)}}else if(p&&!f){if(l)try{l.setDirection?l.setDirection("sendonly"):l.direction="sendonly",F.log("Setting video transceiver to sendonly:",l)}catch(e){F.error(e)}}else if(!p&&f)if(l)try{l.setDirection?l.setDirection("recvonly"):l.direction="recvonly",F.log("Setting video transceiver to recvonly:",l)}catch(e){F.error(e)}else l=r.pc.addTransceiver("video",{direction:"recvonly"}),F.log("Adding recvonly video transceiver:",l)}else if(t.removeVideo&&l)try{l.setDirection?l.setDirection("inactive"):l.direction="inactive",F.log("Setting video transceiver to inactive:",l)}catch(e){F.error(e)}}else a="firefox"==F.webRTCAdapter.browserDetails.browser||"edge"==F.webRTCAdapter.browserDetails.browser?{offerToReceiveAudio:V(t),offerToReceiveVideo:J(t)}:{mandatory:{OfferToReceiveAudio:V(t),OfferToReceiveVideo:J(t)}};F.debug(a);var m=Y(t);if(m&&o&&"firefox"===F.webRTCAdapter.browserDetails.browser){F.log("Enabling Simulcasting for Firefox (RID)");var g=r.pc.getSenders()[1];F.log(g);var v=g.getParameters();F.log(v);var b=y(n.simulcastMaxBitrates);g.setParameters({encodings:[{rid:"high",active:!0,priority:"high",maxBitrate:b.high},{rid:"medium",active:!0,priority:"medium",maxBitrate:b.medium},{rid:"low",active:!0,priority:"low",maxBitrate:b.low}]})}r.pc.createAnswer(a).then((function(e){F.debug(e);var t={type:e.type,sdp:e.sdp};n.customizeSdp(t),e.sdp=t.sdp,F.log("Setting local description"),m&&o&&("chrome"===F.webRTCAdapter.browserDetails.browser?F.warn("simulcast=true, but this is an answer, and video breaks in Chrome if we enable it"):"firefox"!==F.webRTCAdapter.browserDetails.browser&&F.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),r.mySdp=e.sdp,r.pc.setLocalDescription(e).catch(n.error),r.mediaConstraints=a,r.iceDone||r.trickle?n.success(e):F.log("Waiting for all candidates...")}),n.error)}(e,n,i)}),i.error)}function O(e,t,n){(n=n||{}).success="function"==typeof n.success?n.success:F.noop,n.error="function"==typeof n.error?n.error:G;var i=n.jsep;if(t&&i)return F.error("Provided a JSEP to a createOffer"),void n.error("Provided a JSEP to a createOffer");if(!(t||i&&i.type&&i.sdp))return F.error("A valid JSEP is required for createAnswer"),void n.error("A valid JSEP is required for createAnswer");n.media=n.media||{audio:!0,video:!0};var r=n.media,o=_[e];if(null==o||null===o.webrtcStuff||void 0===o.webrtcStuff)return F.warn("Invalid handle"),void n.error("Invalid handle");var s,l=o.webrtcStuff;if(l.trickle=(s=n.trickle,F.debug("isTrickleEnabled:",s),null==s||!0===s),void 0===l.pc||null===l.pc)r.update=!1,r.keepAudio=!1,r.keepVideo=!1;else if(void 0!==l.pc&&null!==l.pc){if(F.log("Updating existing media session"),r.update=!0,null!==n.stream&&void 0!==n.stream)n.stream!==l.myStream&&F.log("Renegotiation involves a new external stream");else{if(r.addAudio){if(r.keepAudio=!1,r.replaceAudio=!1,r.removeAudio=!1,r.audioSend=!0,l.myStream&&l.myStream.getAudioTracks()&&l.myStream.getAudioTracks().length)return F.error("Can't add audio stream, there already is one"),void n.error("Can't add audio stream, there already is one")}else r.removeAudio?(r.keepAudio=!1,r.replaceAudio=!1,r.addAudio=!1,r.audioSend=!1):r.replaceAudio&&(r.keepAudio=!1,r.addAudio=!1,r.removeAudio=!1,r.audioSend=!0);if(null===l.myStream||void 0===l.myStream?(r.replaceAudio&&(r.keepAudio=!1,r.replaceAudio=!1,r.addAudio=!0,r.audioSend=!0),W(r)&&(r.keepAudio=!1,r.addAudio=!0)):null===l.myStream.getAudioTracks()||void 0===l.myStream.getAudioTracks()||0===l.myStream.getAudioTracks().length?(r.replaceAudio&&(r.keepAudio=!1,r.replaceAudio=!1,r.addAudio=!0,r.audioSend=!0),W(r)&&(r.keepVideo=!1,r.addAudio=!0)):!W(r)||r.removeAudio||r.replaceAudio||(r.keepAudio=!0),r.addVideo){if(r.keepVideo=!1,r.replaceVideo=!1,r.removeVideo=!1,r.videoSend=!0,l.myStream&&l.myStream.getVideoTracks()&&l.myStream.getVideoTracks().length)return F.error("Can't add video stream, there already is one"),void n.error("Can't add video stream, there already is one")}else r.removeVideo?(r.keepVideo=!1,r.replaceVideo=!1,r.addVideo=!1,r.videoSend=!1):r.replaceVideo&&(r.keepVideo=!1,r.addVideo=!1,r.removeVideo=!1,r.videoSend=!0);null===l.myStream||void 0===l.myStream||null===l.myStream.getVideoTracks()||void 0===l.myStream.getVideoTracks()||0===l.myStream.getVideoTracks().length?(r.replaceVideo&&(r.keepVideo=!1,r.replaceVideo=!1,r.addVideo=!0,r.videoSend=!0),Y(r)&&(r.keepVideo=!1,r.addVideo=!0)):!Y(r)||r.removeVideo||r.replaceVideo||(r.keepVideo=!0),r.addData&&(r.data=!0)}if(W(r)&&r.keepAudio&&Y(r)&&r.keepVideo)return o.consentDialog(!1),void M(e,i,r,n,l.myStream)}if(r.update&&!l.streamExternal){if(r.removeAudio||r.replaceAudio){if(l.myStream&&l.myStream.getAudioTracks()&&l.myStream.getAudioTracks().length){var c=l.myStream.getAudioTracks()[0];F.log("Removing audio track:",c),l.myStream.removeTrack(c);try{c.stop()}catch(e){}}if(l.pc.getSenders()&&l.pc.getSenders().length){var u=!0;if(r.replaceAudio&&F.unifiedPlan&&(u=!1),u)for(var d in l.pc.getSenders())(c=l.pc.getSenders()[d])&&c.track&&"audio"===c.track.kind&&(F.log("Removing audio sender:",c),l.pc.removeTrack(c))}}if(r.removeVideo||r.replaceVideo){if(l.myStream&&l.myStream.getVideoTracks()&&l.myStream.getVideoTracks().length){c=l.myStream.getVideoTracks()[0],F.log("Removing video track:",c),l.myStream.removeTrack(c);try{c.stop()}catch(e){}}if(l.pc.getSenders()&&l.pc.getSenders().length){var A=!0;if(r.replaceVideo&&F.unifiedPlan&&(A=!1),A)for(var d in l.pc.getSenders())(c=l.pc.getSenders()[d])&&c.track&&"video"===c.track.kind&&(F.log("Removing video sender:",c),l.pc.removeTrack(c))}}}if(null!==n.stream&&void 0!==n.stream){var h=n.stream;if(F.log("MediaStream provided by the application"),F.debug(h),r.update&&l.myStream&&l.myStream!==n.stream&&!l.streamExternal){try{var p=l.myStream.getTracks();for(var f in p){var m=p[f];F.log(m),null!=m&&m.stop()}}catch(e){}l.myStream=null}return l.streamExternal=!0,o.consentDialog(!1),void M(e,i,r,n,h)}if(W(r)||Y(r)){if(!F.isGetUserMediaAvailable())return void n.error("getUserMedia not available");var g={mandatory:{},optional:[]};o.consentDialog(!0);var v=W(r);!0===v&&null!=r&&null!=r&&"object"===a(r.audio)&&(v=r.audio);var y=Y(r);if(!0===y&&null!=r&&null!=r){var b=!0===n.simulcast,C=!0===n.simulcast2;if(!b&&!C||i||void 0!==r.video&&!1!==r.video||(r.video="hires"),r.video&&"screen"!=r.video&&"window"!=r.video)if("object"===a(r.video))y=r.video;else{var E=0,w=0;"lowres"===r.video?(w=240,E=320):"lowres-16:9"===r.video?(w=180,E=320):"hires"===r.video||"hires-16:9"===r.video||"hdres"===r.video?(w=720,E=1280):"fhdres"===r.video?(w=1080,E=1920):"4kres"===r.video?(w=2160,E=3840):"stdres"===r.video?(w=480,E=640):"stdres-16:9"===r.video?(w=360,E=640):(F.log("Default video setting is stdres 4:3"),w=480,E=640),F.log("Adding media constraint:",r.video),y={height:{ideal:w},width:{ideal:E}},F.log("Adding video constraint:",y)}else if("screen"===r.video||"window"===r.video){var T=function(t,a){o.consentDialog(!1),t?n.error(t):M(e,i,r,n,a)},S=function(e,t,n){F.log("Adding media constraint (screen capture)"),F.debug(e),navigator.mediaDevices.getUserMedia(e).then((function(e){n?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(n){e.addTrack(n.getAudioTracks()[0]),t(null,e)})):t(null,e)})).catch((function(e){o.consentDialog(!1),t(e)}))};if(r.screenshareFrameRate||(r.screenshareFrameRate=3),navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return void navigator.mediaDevices.getDisplayMedia({video:!0}).then((function(t){o.consentDialog(!1),W(r)&&!r.keepAudio?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(o){t.addTrack(o.getAudioTracks()[0]),M(e,i,r,n,t)})):M(e,i,r,n,t)}),(function(e){o.consentDialog(!1),n.error(e)}));if("chrome"===F.webRTCAdapter.browserDetails.browser){var k=F.webRTCAdapter.browserDetails.version,I=33;window.navigator.userAgent.match("Linux")&&(I=35),k>=26&&k<=I?(g={video:{mandatory:{googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:r.screenshareFrameRate,maxFrameRate:r.screenshareFrameRate,chromeMediaSource:"screen"}},audio:W(r)&&!r.keepAudio},S(g,T)):F.extension.getScreen((function(e,t){if(e)return o.consentDialog(!1),n.error(e);(g={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:r.screenshareFrameRate,maxFrameRate:r.screenshareFrameRate},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}}).video.mandatory.chromeMediaSourceId=t,S(g,T,W(r)&&!r.keepAudio)}))}else if("firefox"===F.webRTCAdapter.browserDetails.browser){if(!(F.webRTCAdapter.browserDetails.version>=33)){var B=new Error("NavigatorUserMediaError");return B.name="Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)",o.consentDialog(!1),void n.error(B)}g={video:{mozMediaSource:r.video,mediaSource:r.video},audio:W(r)&&!r.keepAudio},S(g,(function(e,t){if(T(e,t),!e)var n=t.currentTime,i=window.setInterval((function(){t||window.clearInterval(i),t.currentTime==n&&(window.clearInterval(i),t.onended&&t.onended()),n=t.currentTime}),500)}))}return}}null!=r&&"screen"===r.video||navigator.mediaDevices.enumerateDevices().then((function(t){var s=t.some((function(e){return"audioinput"===e.kind})),l=function(e){if(F.debug("isScreenSendEnabled:",e),null==e)return!1;if("object"!==a(e.video)||"object"!==a(e.video.mandatory))return!1;var t=e.video.mandatory;return t.chromeMediaSource?"desktop"===t.chromeMediaSource||"screen"===t.chromeMediaSource:t.mozMediaSource?"window"===t.mozMediaSource||"screen"===t.mozMediaSource:!!t.mediaSource&&("window"===t.mediaSource||"screen"===t.mediaSource)}(r)||t.some((function(e){return"videoinput"===e.kind})),c=W(r),u=Y(r),d=function(e){return F.debug("isAudioSendRequired:",e),null!=e&&!1!==e.audio&&!1!==e.audioSend&&void 0!==e.failIfNoAudio&&null!==e.failIfNoAudio&&!0===e.failIfNoAudio}(r),A=function(e){return F.debug("isVideoSendRequired:",e),null!=e&&!1!==e.video&&!1!==e.videoSend&&void 0!==e.failIfNoVideo&&null!==e.failIfNoVideo&&!0===e.failIfNoVideo}(r);if(c||u||d||A){var p=!!c&&s,f=!!u&&l;if(!p&&!f)return o.consentDialog(!1),n.error("No capture device found"),!1;if(!p&&d)return o.consentDialog(!1),n.error("Audio capture is required, but no capture device found"),!1;if(!f&&A)return o.consentDialog(!1),n.error("Video capture is required, but no capture device found"),!1}var m={audio:!(!s||r.keepAudio)&&v,video:!(!l||r.keepVideo)&&y};F.debug("getUserMedia constraints",m),m.audio||m.video?navigator.mediaDevices.getUserMedia(m).then((function(t){o.consentDialog(!1),M(e,i,r,n,t)})).catch((function(e){o.consentDialog(!1),n.error({code:e.code,name:e.name,message:e.message})})):(o.consentDialog(!1),M(e,i,r,n,h))})).catch((function(e){o.consentDialog(!1),n.error("enumerateDevices error",e)}))}else M(e,i,r,n)}function U(e,t){(t=t||{}).success="function"==typeof t.success?t.success:F.noop,t.error="function"==typeof t.error?t.error:G;var n=t.jsep,i=_[e];if(null==i||null===i.webrtcStuff||void 0===i.webrtcStuff)return F.warn("Invalid handle"),void t.error("Invalid handle");var r=i.webrtcStuff;if(null!=n){if(null===r.pc)return F.warn("Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep"),void t.error("No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep");r.pc.setRemoteDescription(n).then((function(){if(F.log("Remote description accepted!"),r.remoteSdp=n.sdp,r.candidates&&r.candidates.length>0){for(var e=0;e<r.candidates.length;e++){var i=r.candidates[e];F.debug("Adding remote candidate:",i),i&&!0!==i.completed?r.pc.addIceCandidate(i):r.pc.addIceCandidate(F.endOfCandidates)}r.candidates=[]}t.success()}),t.error)}else t.error("Invalid JSEP")}function Q(e,t){var n=_[e];if(null==n||null===n.webrtcStuff||void 0===n.webrtcStuff)return F.warn("Invalid handle"),0;var i=t?"remote":"local",r=n.webrtcStuff;return r.volume[i]||(r.volume[i]={value:0}),r.pc.getStats&&"chrome"===F.webRTCAdapter.browserDetails.browser?!t||null!==r.remoteStream&&void 0!==r.remoteStream?t||null!==r.myStream&&void 0!==r.myStream?null===r.volume[i].timer||void 0===r.volume[i].timer?(F.log("Starting "+i+" volume monitor"),r.volume[i].timer=setInterval((function(){r.pc.getStats((function(e){for(var n=e.result(),o=0;o<n.length;o++){var a=n[o];"ssrc"==a.type&&(t&&a.stat("audioOutputLevel")?r.volume[i].value=parseInt(a.stat("audioOutputLevel")):!t&&a.stat("audioInputLevel")&&(r.volume[i].value=parseInt(a.stat("audioInputLevel"))))}}))}),200),0):r.volume[i].value:(F.warn("Local stream unavailable"),0):(F.warn("Remote stream unavailable"),0):(F.warn("Getting the "+i+" volume unsupported by browser"),0)}function N(e,t){var n=_[e];if(null==n||null===n.webrtcStuff||void 0===n.webrtcStuff)return F.warn("Invalid handle"),!0;var i=n.webrtcStuff;return null===i.pc||void 0===i.pc?(F.warn("Invalid PeerConnection"),!0):void 0===i.myStream||null===i.myStream?(F.warn("Invalid local MediaStream"),!0):t?null===i.myStream.getVideoTracks()||void 0===i.myStream.getVideoTracks()||0===i.myStream.getVideoTracks().length?(F.warn("No video track"),!0):!i.myStream.getVideoTracks()[0].enabled:null===i.myStream.getAudioTracks()||void 0===i.myStream.getAudioTracks()||0===i.myStream.getAudioTracks().length?(F.warn("No audio track"),!0):!i.myStream.getAudioTracks()[0].enabled}function q(e,t,n){var i=_[e];if(null==i||null===i.webrtcStuff||void 0===i.webrtcStuff)return F.warn("Invalid handle"),!1;var r=i.webrtcStuff;return null===r.pc||void 0===r.pc?(F.warn("Invalid PeerConnection"),!1):void 0===r.myStream||null===r.myStream?(F.warn("Invalid local MediaStream"),!1):t?null===r.myStream.getVideoTracks()||void 0===r.myStream.getVideoTracks()||0===r.myStream.getVideoTracks().length?(F.warn("No video track"),!1):(r.myStream.getVideoTracks()[0].enabled=!n,!0):null===r.myStream.getAudioTracks()||void 0===r.myStream.getAudioTracks()||0===r.myStream.getAudioTracks().length?(F.warn("No audio track"),!1):(r.myStream.getAudioTracks()[0].enabled=!n,!0)}function z(e){var t=_[e];if(null==t||null===t.webrtcStuff||void 0===t.webrtcStuff)return F.warn("Invalid handle"),"Invalid handle";var n=t.webrtcStuff;return null===n.pc||void 0===n.pc?"Invalid PeerConnection":n.pc.getStats?null===n.bitrate.timer||void 0===n.bitrate.timer?(F.log("Starting bitrate timer (via getStats)"),n.bitrate.timer=setInterval((function(){n.pc.getStats().then((function(e){e.forEach((function(e){if(e){var t=!1;if(("video"===e.mediaType||e.id.toLowerCase().indexOf("video")>-1)&&"inbound-rtp"===e.type&&e.id.indexOf("rtcp")<0?t=!0:"ssrc"!=e.type||!e.bytesReceived||"VP8"!==e.googCodecName&&""!==e.googCodecName||(t=!0),t)if(n.bitrate.bsnow=e.bytesReceived,n.bitrate.tsnow=e.timestamp,null===n.bitrate.bsbefore||null===n.bitrate.tsbefore)n.bitrate.bsbefore=n.bitrate.bsnow,n.bitrate.tsbefore=n.bitrate.tsnow;else{var i=n.bitrate.tsnow-n.bitrate.tsbefore;"safari"==F.webRTCAdapter.browserDetails.browser&&(i/=1e3);var r=Math.round(8*(n.bitrate.bsnow-n.bitrate.bsbefore)/i);"safari"===F.webRTCAdapter.browserDetails.browser&&(r=parseInt(r/1e3)),n.bitrate.value=r+" kbits/sec",n.bitrate.bsbefore=n.bitrate.bsnow,n.bitrate.tsbefore=n.bitrate.tsnow}}}))}))}),1e3),"0 kbits/sec"):n.bitrate.value:(F.warn("Getting the video bitrate unsupported by browser"),"Feature unsupported by browser")}function G(e){F.error("WebRTC error:",e)}function H(e,i){F.log("Cleaning WebRTC stuff");var r=_[e];if(null!=r){var o=r.webrtcStuff;if(null!=o){if(!0===i){var a={rtcgw:"hangup",transaction:F.randomString(12)};null!==r.token&&void 0!==r.token&&(a.token=r.token),null!=m&&(a.apisecret=m),F.debug("Sending hangup request (handle="+e+"):"),F.debug(a),t?(a.session_id=C,a.handle_id=e,n.send(JSON.stringify(a))):F.httpAPICall(l+"/"+C+"/"+e,{verb:"POST",withCredentials:h,body:a})}o.remoteStream=null,o.volume&&(o.volume.local&&o.volume.local.timer&&clearInterval(o.volume.local.timer),o.volume.remote&&o.volume.remote.timer&&clearInterval(o.volume.remote.timer)),o.volume={},o.bitrate.timer&&clearInterval(o.bitrate.timer),o.bitrate.timer=null,o.bitrate.bsnow=null,o.bitrate.bsbefore=null,o.bitrate.tsnow=null,o.bitrate.tsbefore=null,o.bitrate.value=null;try{if(!o.streamExternal&&null!==o.myStream&&void 0!==o.myStream){F.log("Stopping local stream tracks");var s=o.myStream.getTracks();for(var c in s){var u=s[c];F.log(u),null!=u&&u.stop()}}}catch(e){}o.streamExternal=!1,o.myStream=null;try{o.pc.close()}catch(e){}o.pc=null,o.candidates=null,o.mySdp=null,o.remoteSdp=null,o.iceDone=!1,o.dataChannel={},o.dtmfSender=null}r.oncleanup()}}function W(e){return F.debug("isAudioSendEnabled:",e),null==e||!1!==e.audio&&(void 0===e.audioSend||null===e.audioSend||!0===e.audioSend)}function V(e){return F.debug("isAudioRecvEnabled:",e),null==e||!1!==e.audio&&(void 0===e.audioRecv||null===e.audioRecv||!0===e.audioRecv)}function Y(e){return F.debug("isVideoSendEnabled:",e),null==e||!1!==e.video&&(void 0===e.videoSend||null===e.videoSend||!0===e.videoSend)}function J(e){return F.debug("isVideoRecvEnabled:",e),null==e||!1!==e.video&&(void 0===e.videoRecv||null===e.videoRecv||!0===e.videoRecv)}B(e),this.getServer=function(){return l},this.isConnected=function(){return b},this.reconnect=function(e){(e=e||{}).success="function"==typeof e.success?e.success:F.noop,e.error="function"==typeof e.error?e.error:F.noop,e.reconnect=!0,B(e)},this.getSessionId=function(){return C},this.destroy=function(o){!function(o){(o=o||{}).success="function"==typeof o.success?o.success:F.noop;var a=!0;void 0!==o.asyncRequest&&null!==o.asyncRequest&&(a=!0===o.asyncRequest);var s=!0;void 0!==o.notifyDestroyed&&null!==o.notifyDestroyed&&(s=!0===o.notifyDestroyed);var c=!1;if(void 0!==o.cleanupHandles&&null!==o.cleanupHandles&&(c=!0===o.cleanupHandles),F.log("Destroying session "+C+" (async="+a+")"),!b)return F.warn("Is the server down? (connected=false)"),void o.success();if(null==C)return F.warn("No session to destroy"),o.success(),void(s&&e.destroyed());if(c)for(var u in _)L(u,{noRequest:!0});var d={rtcgw:"destroy",transaction:F.randomString(12)};if(null!=f&&(d.token=f),null!=m&&(d.apisecret=m),t){d.session_id=C;var A=function(){for(var e in i)n.removeEventListener(e,i[e]);n.removeEventListener("message",p),n.removeEventListener("error",g),r&&clearTimeout(r),n.close()},p=function(t){var n=JSON.parse(t.data);n.session_id==d.session_id&&n.transaction==d.transaction&&(A(),o.success(),s&&e.destroyed())},g=function(t){A(),o.error("Failed to destroy the server: Is the server down?"),s&&e.destroyed()};return n.addEventListener("message",p),n.addEventListener("error",g),void n.send(JSON.stringify(d))}F.httpAPICall(l+"/"+C,{verb:"POST",async:a,withCredentials:h,body:d,success:function(t){F.log("Destroyed session:"),F.debug(t),C=null,b=!1,"success"!==t.rtcgw&&F.error("Ooops: "+t.error.code+" "+t.error.reason),o.success(),s&&e.destroyed()},error:function(t,n){F.error(t+":",n),C=null,b=!1,o.success(),s&&e.destroyed()}})}(o)},this.attach=function(e){!function(e){if((e=e||{}).success="function"==typeof e.success?e.success:F.noop,e.error="function"==typeof e.error?e.error:F.noop,e.consentDialog="function"==typeof e.consentDialog?e.consentDialog:F.noop,e.iceState="function"==typeof e.iceState?e.iceState:F.noop,e.mediaState="function"==typeof e.mediaState?e.mediaState:F.noop,e.webrtcState="function"==typeof e.webrtcState?e.webrtcState:F.noop,e.slowLink="function"==typeof e.slowLink?e.slowLink:F.noop,e.onmessage="function"==typeof e.onmessage?e.onmessage:F.noop,e.onlocalstream="function"==typeof e.onlocalstream?e.onlocalstream:F.noop,e.onremotestream="function"==typeof e.onremotestream?e.onremotestream:F.noop,e.ondata="function"==typeof e.ondata?e.ondata:F.noop,e.ondataopen="function"==typeof e.ondataopen?e.ondataopen:F.noop,e.oncleanup="function"==typeof e.oncleanup?e.oncleanup:F.noop,e.ondetached="function"==typeof e.ondetached?e.ondetached:F.noop,!b)return F.warn("Is the server down? (connected=false)"),void e.error("Is the server down? (connected=false)");var i=e.plugin;if(null==i)return F.error("Invalid plugin"),void e.error("Invalid plugin");var r=e.opaqueId,o=e.token?e.token:f,a=F.randomString(12),s={rtcgw:"attach",plugin:i,opaque_id:r,transaction:a};if(null!=o&&(s.token=o),null!=m&&(s.apisecret=m),t)return T[a]=function(t){if(F.debug(t),"success"!==t.rtcgw)return F.error("Ooops: "+t.error.code+" "+t.error.reason),void e.error("Ooops: "+t.error.code+" "+t.error.reason);var n=t.data.id;F.log("Created handle: "+n);var r={session:E,plugin:i,id:n,token:o,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return n},getPlugin:function(){return i},getVolume:function(){return Q(n,!0)},getRemoteVolume:function(){return Q(n,!0)},getLocalVolume:function(){return Q(n,!1)},isAudioMuted:function(){return N(n,!1)},muteAudio:function(){return q(n,!1,!0)},unmuteAudio:function(){return q(n,!1,!1)},isVideoMuted:function(){return N(n,!0)},muteVideo:function(){return q(n,!0,!0)},unmuteVideo:function(){return q(n,!0,!1)},getBitrate:function(){return z(n)},send:function(e){x(n,e)},data:function(e){R(n,e)},dtmf:function(e){j(n,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){O(n,!0,e)},createAnswer:function(e){O(n,!1,e)},handleRemoteJsep:function(e){U(n,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){H(n,!0===e)},detach:function(e){L(n,e)}};_[n]=r,e.success(r)},s.session_id=C,void n.send(JSON.stringify(s));F.httpAPICall(l+"/"+C,{verb:"POST",withCredentials:h,body:s,success:function(t){if(F.debug(t),"success"!==t.rtcgw)return F.error("Ooops: "+t.error.code+" "+t.error.reason),void e.error("Ooops: "+t.error.code+" "+t.error.reason);var n=t.data.id;F.log("Created handle: "+n);var r={session:E,plugin:i,id:n,token:o,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return n},getPlugin:function(){return i},getVolume:function(){return Q(n,!0)},getRemoteVolume:function(){return Q(n,!0)},getLocalVolume:function(){return Q(n,!1)},isAudioMuted:function(){return N(n,!1)},muteAudio:function(){return q(n,!1,!0)},unmuteAudio:function(){return q(n,!1,!1)},isVideoMuted:function(){return N(n,!0)},muteVideo:function(){return q(n,!0,!0)},unmuteVideo:function(){return q(n,!0,!1)},getBitrate:function(){return z(n)},send:function(e){x(n,e)},data:function(e){R(n,e)},dtmf:function(e){j(n,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){O(n,!0,e)},createAnswer:function(e){O(n,!1,e)},handleRemoteJsep:function(e){U(n,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){H(n,!0===e)},detach:function(e){L(n,e)}};_[n]=r,e.success(r)},error:function(e,t){F.error(e+":",t)}})}(e)}}F.useDefaultDependencies=function(e){var t=e&&e.fetch||fetch,n=e&&e.Promise||Promise,i=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new i(e,t)},extension:e&&e.extension||O,isArray:function(e){return Array.isArray(e)},webRTCAdapter:e&&e.adapter||window.adapter,httpAPICall:function(e,i){var r={method:i.verb,headers:{Accept:"application/json, text/plain, */*"},cache:"no-cache"};"POST"===i.verb&&(r.headers["Content-Type"]="application/json"),void 0!==i.withCredentials&&(r.credentials=!0===i.withCredentials?"include":i.withCredentials?i.withCredentials:"omit"),void 0!==i.body&&(r.body=JSON.stringify(i.body));var o=t(e,r).catch((function(e){return n.reject({message:"Probably a network error, is the server down?",error:e})}));if(void 0!==i.timeout){var s=new n((function(e,t){var n=setTimeout((function(){return clearTimeout(n),t({message:"Request timed out",timeout:i.timeout})}),i.timeout)}));o=n.race([o,s])}return o.then((function(e){return e.ok?a(i.success)===a(F.noop)?e.json().then((function(e){i.success(e)})).catch((function(t){return n.reject({message:"Failed to parse response body",error:t,response:e})})):void 0:n.reject({message:"API call failed",response:e})})).catch((function(e){a(i.error)===a(F.noop)&&i.error(e.message||"<< internal error >>",e)})),o}}},F.useOldDependencies=function(e){var t=e&&e.jQuery||jQuery,n=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new n(e,t)},isArray:function(e){return t.isArray(e)},extension:e&&e.extension||O,webRTCAdapter:e&&e.adapter||adapter,httpAPICall:function(e,n){var i=void 0!==n.body?{contentType:"application/json",data:JSON.stringify(n.body)}:{},r=void 0!==n.withCredentials?{xhrFields:{withCredentials:n.withCredentials}}:{};return t.ajax(t.extend(i,r,{url:e,type:n.verb,cache:!1,dataType:"json",async:n.async,timeout:n.timeout,success:function(e){a(n.success)===a(F.noop)&&n.success(e)},error:function(e,t,i){a(n.error)===a(F.noop)&&n.error(t,i)}}))}}},F.noop=function(){},F.dataChanDefaultLabel="JanusDataChannel",F.endOfCandidates=null,F.init=function(e){if((e=e||{}).callback="function"==typeof e.callback?e.callback:F.noop,!0===F.initDone)e.callback();else{if("undefined"!=typeof console&&void 0!==console.log||(console={log:function(){}}),F.trace=F.noop,F.debug=F.noop,F.vdebug=F.noop,F.log=F.noop,F.warn=F.noop,F.error=F.noop,!0===e.debug||"all"===e.debug)F.trace=console.trace.bind(console),F.debug=console.debug.bind(console),F.vdebug=console.debug.bind(console),F.log=console.log.bind(console),F.warn=console.warn.bind(console),F.error=console.error.bind(console);else if(Array.isArray(e.debug))for(var t in e.debug){var n=e.debug[t];switch(n){case"trace":F.trace=console.trace.bind(console);break;case"debug":F.debug=console.debug.bind(console);break;case"vdebug":F.vdebug=console.debug.bind(console);break;case"log":F.log=console.log.bind(console);break;case"warn":F.warn=console.warn.bind(console);break;case"error":F.error=console.error.bind(console);break;default:console.error("Unknown debugging option '"+n+"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')")}}F.log("Initializing library");var i=e.dependencies||F.useDefaultDependencies();F.isArray=i.isArray,F.webRTCAdapter=i.webRTCAdapter,F.httpAPICall=i.httpAPICall,F.newWebSocket=i.newWebSocket,F.extension=i.extension,F.extension.init(),F.listDevices=function(e,t){e="function"==typeof e?e:F.noop,null==t&&(t={audio:!0,video:!0}),F.isGetUserMediaAvailable()?navigator.mediaDevices.getUserMedia(t).then((function(t){navigator.mediaDevices.enumerateDevices().then((function(n){F.debug(n),e(n);try{var i=t.getTracks();for(var r in i){var o=i[r];null!=o&&o.stop()}}catch(e){}}))})).catch((function(t){F.error(t),e([])})):(F.warn("navigator.mediaDevices unavailable"),e([]))},F.attachMediaStream=function(e,t){"chrome"===F.webRTCAdapter.browserDetails.browser?F.webRTCAdapter.browserDetails.version>=52?e.srcObject=t:void 0!==e.src?e.src=URL.createObjectURL(t):F.error("Error attaching stream to element"):e.srcObject=t},F.reattachMediaStream=function(e,t){"chrome"===F.webRTCAdapter.browserDetails.browser?F.webRTCAdapter.browserDetails.version>=52?e.srcObject=t.srcObject:void 0!==e.src?e.src=t.src:F.error("Error reattaching stream to element"):e.srcObject=t.srcObject};var r=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0?"pagehide":"beforeunload",o=window["on"+r];if(window.addEventListener(r,(function(e){for(var t in F.log("Closing window"),F.sessions)null!==F.sessions[t]&&void 0!==F.sessions[t]&&F.sessions[t].destroyOnUnload&&(F.log("Destroying session "+t),F.sessions[t].destroy({asyncRequest:!1,notifyDestroyed:!1}));o&&"function"==typeof o&&o()})),F.safariVp8=!1,"safari"===F.webRTCAdapter.browserDetails.browser&&F.webRTCAdapter.browserDetails.version>=605)if(RTCRtpSender&&RTCRtpSender.getCapabilities&&RTCRtpSender.getCapabilities("video")&&RTCRtpSender.getCapabilities("video").codecs&&RTCRtpSender.getCapabilities("video").codecs.length){for(var t in RTCRtpSender.getCapabilities("video").codecs){var a=RTCRtpSender.getCapabilities("video").codecs[t];if(a&&a.mimeType&&"video/vp8"===a.mimeType.toLowerCase()){F.safariVp8=!0;break}}F.safariVp8?F.log("This version of Safari supports VP8"):F.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu")}else{var s=new RTCPeerConnection({},{});s.createOffer({offerToReceiveVideo:!0}).then((function(e){F.safariVp8=-1!==e.sdp.indexOf("VP8"),F.safariVp8?F.log("This version of Safari supports VP8"):F.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu"),s.close(),s=null}))}if(F.unifiedPlan=!1,"firefox"===F.webRTCAdapter.browserDetails.browser&&F.webRTCAdapter.browserDetails.version>=59)F.unifiedPlan=!0;else if("chrome"===F.webRTCAdapter.browserDetails.browser&&F.webRTCAdapter.browserDetails.version<72)F.unifiedPlan=!1;else if("currentDirection"in RTCRtpTransceiver.prototype){var l=new RTCPeerConnection;try{l.addTransceiver("audio"),F.unifiedPlan=!0}catch(e){}l.close()}else F.unifiedPlan=!1;F.initDone=!0,e.callback()}},F.isWebrtcSupported=function(){return void 0!==window.RTCPeerConnection&&null!==window.RTCPeerConnection},F.isGetUserMediaAvailable=function(){return void 0!==navigator.mediaDevices&&null!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia&&null!==navigator.mediaDevices.getUserMedia},F.randomString=function(e){for(var t="",n=0;n<e;n++){var i=Math.floor(62*Math.random());t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".substring(i,i+1)}return t},window.Janus=F;var U=null,Q=null,N="tts-"+Janus.randomString(12),q=null;Janus=window.Janus,Janus.init({debug:"all",callback:function(){window.stopTalk=function(){U.destroy()},window.startTalk=function(){Janus.isWebrtcSupported()?U=new Janus({server:window.EZUIKit.opt.rtcUrl,success:function(){U.attach({plugin:"rtcgw.plugin.tts",opaqueId:N,success:function(e){Q=e,Janus.log("Plugin attached! ("+Q.getPlugin()+", id="+Q.getId()+")");var t=window.EZUIKit.opt.talkLink;console.log("ttsUlr",t);var n={request:"start",url:t,codec:"opus",dir:"sendrecv",audio_debug:1};"gb28181"===window.EZUIKit.opt.talkType&&(n.devProto="gb28181"),Janus.debug("Trying a createOffer too (audio/video sendrecv)"),Q.createOffer({media:{audio:!0,video:!1,data:!1},simulcast:!1,simulcast2:!1,success:function(e){Janus.debug("Got SDP!"),Janus.debug(e),Q.send({message:n,jsep:e}),void 0!==window.EZUIKit.handleTalkSuccess&&window.EZUIKit.handleTalkSuccess()},error:function(e){Janus.error("WebRTC error:",e),void 0!==window.EZUIKit.handleTalkError&&window.EZUIKit.handleTalkError(e)}})},error:function(e){console.error("  -- Error attaching plugin...",e),bootbox.alert("Error attaching plugin... "+e),"undefined"!==window.EZUIKit.handleTalkError&&window.EZUIKit.handleTalkError(e)},consentDialog:function(e){Janus.debug("Consent dialog should be "+(e?"on":"off")+" now")},iceState:function(e){Janus.log("ICE state changed to "+e)},mediaState:function(e,t){Janus.log("Janus "+(t?"started":"stopped")+" receiving our "+e)},webrtcState:function(e){Janus.log("Janus says our WebRTC PeerConnection is "+(e?"up":"down")+" now")},slowLink:function(e,t){Janus.warn("Janus reports problems "+(e?"sending":"receiving")+" packets on this PeerConnection ("+t+" lost packets)")},onmessage:function(e,t){Janus.debug(" ::: Got a message :::"),Janus.debug(e),null!=t&&(Janus.debug("Handling SDP as well..."),Janus.debug(t),Q.handleRemoteJsep({jsep:t}));var n=e.result;if(null!=n){if("done"===n)return bootbox.alert("The TTS Test is over"),null!=q&&q.stop(),void(q=null);"msg"===n&&void 0!==window.EZUIKit.handleTalkMessage&&window.EZUIKit.handleTalkMessage(e),"slow_link"===n.status&&toastr.warning("Janus apparently missed many packets we sent, maybe we should reduce the bitrate","Packet loss?",{timeOut:2e3})}},onlocalstream:function(e){Janus.debug(" ::: Got a local stream :::"),Janus.debug(e),Janus.attachMediaStream(document.getElementById("myaudio"),e),"completed"!==Q.webrtcStuff.pc.iceConnectionState&&"connected"!==Q.webrtcStuff.pc.iceConnectionState&&(null==q?document.getElementById("audioright"):q.spin());var t=e.getAudioTracks();null==t||t.length},onremotestream:function(e){Janus.debug(" ::: Got a remote stream :::"),Janus.debug(e),Janus.attachMediaStream(document.getElementById("peeraudio"),e);var t=e.getAudioTracks();null==t||0===t.length||document.getElementById("peeraudio").play()},ondataopen:function(e){Janus.log("The DataChannel is available!")},ondata:function(e){Janus.debug("We got data from the DataChannel! "+e)},oncleanup:function(){Janus.log(" ::: Got a cleanup notification :::"),null!=q&&q.stop(),q=null}})},error:function(e){Janus.error(e),"undefined"!==window.EZUIKit.handleTalkError&&window.EZUIKit.handleTalkError(e)},destroyed:function(){}}):bootbox.alert("No WebRTC support... ")}}}),window.janus=U,window.tts=Q;var z,G,H=function(){function e(t){var n=this;s(this,e),this.jSPlugin=t;var i=document.createElement("div");i.id="audioleft";var r=document.createElement("div");r.id="audioright",r.style="display:none;";var o=document.createElement("audio");o.id="myaudio",o.muted=!0,o.setAttribute("autoplay",!0),o.setAttribute("controls",!0),i.appendChild(o),i.style="display:none;";var a=document.createElement("audio");a.id="peeraudio",a.setAttribute("autoplay",!0),a.setAttribute("controls",!0),r.appendChild(a),window.EZUIKit.handleTalkError=function(e){console.log("talk err",e),void 0!==n.jSPlugin.handleTalkError&&n.jSPlugin.handleTalkError(e)},window.EZUIKit.handleTalkSuccess=function(e){console.log("talk success",e),void 0!==n.jSPlugin.handleTalkSuccess&&n.jSPlugin.handleTalkSuccess(e)},window.EZUIKit.opt={rtcUrl:"",talkLink:"",ttsUrl:"",stream:"",deviceSerial:v(this.jSPlugin.url).deviceSerial,channelNo:v(this.jSPlugin.url).channelNo},document.body.appendChild(i),document.body.appendChild(r)}return c(e,[{key:"toString",value:function(){return"".concat(this.coreX,"-").concat(this.coreY)}},{key:"startTalk",value:function(){var e=this;if(this.jSPlugin.capacity&&this.jSPlugin.capacity.support_talk&&(!this.jSPlugin.capacity||"3"!==this.jSPlugin.capacity.support_talk&&"1"!==this.jSPlugin.capacity.support_talk))return"function"==typeof this.jSPlugin.params.handleError&&this.jSPlugin.params.handleError({msg:"设备不支持对讲",retcode:-1e3,id:this.jSPlugin.params.id,type:"handleError"}),console.log("设备不支持对讲"),!1;var t=new FormData;t.append("accessToken",this.jSPlugin.accessToken),t.append("deviceSerial",v(this.jSPlugin.url).deviceSerial),t.append("channelNo",v(this.jSPlugin.url).channelNo),fetch(this.jSPlugin.env.domain+"/api/lapp/live/talk/url",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(t){if(200==t.code){var n=t.data;if(n){var i=n.rtcUrl;if(-1===i.indexOf("ws")&&(i=i.replace("https","wss").replace("rtcgw","rtcgw-ws")),window.EZUIKit.opt.rtcUrl=i,window.EZUIKit.opt.ttsUrl="tts://"+n.ttsUrl,2===window.EZUIKit.opt.ttsUrl.split("?").length){var r="talk?dev="+window.EZUIKit.opt.deviceSerial+"&chann="+window.EZUIKit.opt.channelNo+"&encodetype=2";window.EZUIKit.opt.talkLink=window.EZUIKit.opt.ttsUrl.split("?")[0]+"/"+r,window.EZUIKit.opt.talkType="gb28181"}else r="talk://"+window.EZUIKit.opt.deviceSerial+":0:"+window.EZUIKit.opt.channelNo+":cas.ys7.com:6500",window.EZUIKit.opt.talkLink=window.EZUIKit.opt.ttsUrl.split("?")[0]+"/"+r;window.EZUIKit.opt.stream=n.stream,window.startTalk()}}else"function"==typeof e.jSPlugin.params.handleError&&e.jSPlugin.params.handleError({msg:t.msg,retcode:t.code,id:e.jSPlugin.params.id,type:"handleError"})})).catch((function(e){console.log("err",e)}))}},{key:"stopTalk",value:function(){window.stopTalk(),document.getElementById("myaudio")&&document.getElementById("myaudio").srcObject&&document.getElementById("myaudio").srcObject.getTracks()[0].stop()}}]),e}(),W=function(){function e(t){var n=this;s(this,e),this.jSPlugin=t;var i=document.createElement("style");i.innerHTML="\n    body{\n      padding: 0;\n      margin: 0;\n    }\n    #mobile-ez-ptz-container {\n      display: inline-block;\n      width: 375px;\n      text-align: center;\n    }\n    .live-ptz-title{\n      height: 25px;\n      font-size: 18px;\n      color: #2c2c2c;\n      text-align: center;\n      font-weight: 700;\n      margin: 24px 0;\n    }\n    #mobile-ez-ptz-container .mobile-ez-ptz-container {\n      position: relative;\n      width: 260px;\n      height: 260px;\n      background: rgba(255, 255, 255, 0.80);\n      box-shadow: 0px 0px 33px 4px rgba(0, 0, 0, 0.15);\n      border: 1px solid rgba(255, 255, 255, 0.80);\n      border-radius: 100%;\n      cursor: pointer;\n      overflow: hidden;\n      margin: auto;\n      /* background-image:linear-gradient(180deg, #d5e7f3 0%, rgba(100,143,252,0.00) 54%); */\n    }\n\n    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.top {\n      width: 0;\n      height: 0;\n      border-left: 6px solid transparent;\n      border-right: 6px solid transparent;\n      border-bottom: 6px solid #333333;\n      position: absolute;\n      display: inline-block;\n      left: calc(50% - 6px);\n      top: 10px;\n    }\n\n    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.top.active {\n      border-bottom-color: #1890FF;\n    }\n\n    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.bottom {\n      width: 0;\n      height: 0;\n      border-left: 6px solid transparent;\n      border-right: 6px solid transparent;\n      border-top: 6px solid #333333;\n      position: absolute;\n      display: inline-block;\n      left: calc(50% - 6px);\n      bottom: 10px;\n    }\n\n    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.bottom.active {\n      border-top-color: #1890FF;\n\n    }\n\n    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.right {\n      width: 0;\n      height: 0;\n      border-top: 6px solid transparent;\n      border-bottom: 6px solid transparent;\n      border-left: 6px solid #333333;\n      position: absolute;\n      display: inline-block;\n      top: calc(50% - 6px);\n      right: 10px;\n    }\n\n    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.right.active {\n      border-left-color: #1890FF;\n\n    }\n\n    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.left {\n      width: 0;\n      height: 0;\n      border-top: 6px solid transparent;\n      border-bottom: 6px solid transparent;\n      border-right: 6px solid #333333;\n      position: absolute;\n      display: inline-block;\n      top: calc(50% - 6px);\n      left: 10px;\n    }\n\n    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.left.active {\n      border-right-color: #1890FF;\n\n    }\n\n    #mobile-ez-ptz-container .mobile-ez-ptz-container .ez-ptz-main.center {\n      width: 52px;\n      height: 52px;\n      background: #FFFFFF;\n      border: 2px solid #eee;\n      border-radius: 100%;\n      top: calc(50% - 26px);\n      left: calc(50% - 26px);\n      position: absolute;\n      /* box-shadow: 0px -39px 40px 6px #1890ff; */\n    }\n\n    #mobile-ez-ptz-container .mobile-ez-ptz-wrap {\n      display: inline-block;\n      padding: 12px 24px;\n      border-radius: 100%;\n      overflow: hidden;\n    }\n\n    #mobile-ez-ptz-container .ez-ptz-close {\n      position: absolute;\n      color: #FFFFFF;\n      top: 0;\n      right: 0px;\n    }",document.getElementsByTagName("head")[0].appendChild(i);var r=document.createElement("div");r.className="mobile-ez-ptz-container",r.id="mobile-ez-ptz-container",r.style="display:inline-block;width: ".concat(this.jSPlugin.width,"px;text-align:center;");var o=document.createElement("div");o.className="live-ptz-title",o.id="live-ptz-title",o.innerHTML="云台控制";var a=document.createElement("div");a.id="mobile-ez-ptz-item",a.className="mobile-ez-ptz-wrap",a.innerHTML='\n    <div class="mobile-ez-ptz-container" id="mobile-ez-ptz-container">\n      <div class="ez-ptz-main center"></div>\n      <div class="mobile-ez-ptz-icon top active"></div>\n      <div class="mobile-ez-ptz-icon left active"></div>\n      <div class="mobile-ez-ptz-icon bottom active"></div>\n      <div class="mobile-ez-ptz-icon right active"></div>\n    </div>\n      ',r.appendChild(a),f(r,document.getElementById("".concat(this.jSPlugin.id,"-wrap"))),r.parentElement.insertBefore(o,r),document.getElementById("mobile-ez-ptz-item").ontouchstart=function(e){e.preventDefault(),console.log("触摸开始"),n._handlePtzTouch(e,"start")},document.getElementById("mobile-ez-ptz-item").ontouchend=function(e){e.preventDefault(),console.log("触摸结束",e),n._handlePtzTouch(e,"stop")},document.getElementById("mobile-ez-ptz-item").onmousedown=function(e){e.preventDefault(),console.log("触摸开始"),n._handlePtzTouch(e,"start")},document.getElementById("mobile-ez-ptz-item").onmouseup=function(e){e.preventDefault(),console.log("触摸结束",e),n._handlePtzTouch(e,"stop")}}return c(e,[{key:"show",value:function(){document.getElementById("mobile-ez-ptz-item").style="display: inline-block"}},{key:"hide",value:function(){document.getElementById("mobile-ez-ptz-item").style="display: none"}},{key:"_handlePtzTouch",value:function(e,t){var n,i=document.getElementById("mobile-ez-ptz-item").getBoundingClientRect(),r=i.left+130,o=i.top+130,a=(e.x||e.changedTouches[0].clientX)-r,s=(e.y||e.changedTouches[0].clientY)-o,l=this.jSPlugin.env.domain+"/api/lapp/device/ptz/start";n=Math.abs(a)>Math.abs(s)?a>0?3:2:s>0?1:0,console.log("direction",n),document.getElementById("mobile-ez-ptz-item").style="background-image:linear-gradient(".concat(0===n?180:1===n?0:2===n?90:270,"deg, #1d8dd8 0%, rgba(100,143,252,0.00) 30%)"),"stop"===t&&(l=this.jSPlugin.env.domain+"/api/lapp/device/ptz/stop",document.getElementById("mobile-ez-ptz-item").style="");var c=new FormData;c.append("deviceSerial",v(this.jSPlugin.url).deviceSerial),c.append("channelNo",v(this.jSPlugin.url).channelNo),c.append("speed",1),c.append("direction",n),c.append("accessToken",this.jSPlugin.accessToken),fetch(l,{method:"POST",body:c}).then((function(e){return e.json()})).then((function(e){200==e.code||60005!=e.code&&60002!=e.code&&60003!=e.code&&60004!=e.code||(document.getElementById("mobile-ez-ptz-item").style="background-image:linear-gradient(".concat(0===n?180:1===n?0:2===n?90:270,"deg, #f45656 0%, rgba(100,143,252,0.00) 30%)"))}))}}]),e}(),V={header:{color:"#FFFFFF",backgroundColor:"#000000",activeColor:"#FFFFFF",btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-0",iconId:"deviceID",part:"left",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-1",iconId:"deviceName",part:"left",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-2",iconId:"cloudRec",part:"right",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-3",iconId:"rec",part:"right",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"}]},footer:{color:"#FFFFFF",backgroundColor:"rgb(0 0 0 / 0%)",activeColor:"#FFFFFF",btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-0",iconId:"play",part:"left",defaultActive:1,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-1",iconId:"capturePicture",part:"left",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-2",iconId:"sound",part:"left",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-3",iconId:"pantile",part:"left",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-4",iconId:"recordvideo",part:"left",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-5",iconId:"talk",part:"left",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-6",iconId:"hd",part:"right",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-7",iconId:"webExpend",part:"right",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-8",iconId:"expend",part:"right",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"}]}},Y={header:{color:"#FFFFFF",backgroundColor:"#000000",activeColor:"#FFFFFF",btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-header-0",iconId:"deviceID",part:"left",defaultActive:1,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-header-1",iconId:"deviceName",part:"left",defaultActive:1,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"}]},footer:{color:"#FFFFFF",backgroundColor:"rgb(0 0 0 / 0%)",activeColor:"#FFFFFF",btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-0",iconId:"play",part:"left",defaultActive:1,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-1",iconId:"capturePicture",part:"left",defaultActive:0,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-2",iconId:"sound",part:"left",defaultActive:0,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-3",iconId:"pantile",part:"left",defaultActive:0,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-4",iconId:"recordvideo",part:"left",defaultActive:0,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-5",iconId:"talk",part:"left",defaultActive:0,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-6",iconId:"hd",part:"right",defaultActive:0,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-7",iconId:"webExpend",part:"right",defaultActive:0,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-8",iconId:"expend",part:"right",defaultActive:0,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"}]}},J={header:{color:"#FFFFFF",backgroundColor:"#000000",activeColor:"#FFFFFF",btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-0",iconId:"deviceID",part:"left",defaultActive:0,isrender:1,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-1",iconId:"deviceName",part:"left",defaultActive:0,isrender:1,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-2",iconId:"cloudRec",part:"right",defaultActive:0,isrender:1,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-3",iconId:"rec",part:"right",defaultActive:0,isrender:1,themeId:"f7896c8942c9476fb439370dd974f1c0"}]},footer:{color:"#FFFFFF",backgroundColor:"rgba(0 0 0 / 0%)",activeColor:"#FFFFFF",btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-0",iconId:"play",part:"left",defaultActive:1,isrender:1,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-1",iconId:"capturePicture",part:"left",defaultActive:0,isrender:1,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-2",iconId:"sound",part:"left",defaultActive:0,isrender:1,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-4",iconId:"recordvideo",part:"left",defaultActive:0,isrender:1,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-7",iconId:"webExpend",part:"right",defaultActive:0,isrender:1,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-8",iconId:"expend",part:"right",defaultActive:0,isrender:1,themeId:"f7896c8942c9476fb439370dd974f1c0"}]}},K={header:{color:"#FFFFFF",backgroundColor:"#000000",activeColor:"#FFFFFF",btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-header-0",iconId:"deviceID",part:"left",defaultActive:1,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-header-1",iconId:"deviceName",part:"left",defaultActive:1,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"}]},footer:{color:"#FFFFFF",backgroundColor:"rgb(0 0 0 / 0%)",activeColor:"#FFFFFF",btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-0",iconId:"play",part:"left",defaultActive:1,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-2",iconId:"sound",part:"left",defaultActive:0,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-3",iconId:"pantile",part:"left",defaultActive:0,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-5",iconId:"talk",part:"left",defaultActive:0,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-6",iconId:"hd",part:"right",defaultActive:0,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-7",iconId:"expend",part:"right",defaultActive:0,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"}]}},Z={header:{color:"#FFFFFF",backgroundColor:"#000000",activeColor:"#FFFFFF",btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-header-0",iconId:"deviceID",part:"left",defaultActive:1,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-header-1",iconId:"deviceName",part:"left",defaultActive:1,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"}]},footer:{color:"#FFFFFF",backgroundColor:"rgb(0 0 0 / 0%)",activeColor:"#FFFFFF",btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-0",iconId:"play",part:"left",defaultActive:1,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-2",iconId:"sound",part:"left",defaultActive:0,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f9a70c9a4fde425c9c7ec7815b9fec4b-footer-7",iconId:"expend",part:"right",defaultActive:0,isrender:1,themeId:"f9a70c9a4fde425c9c7ec7815b9fec4b"}]}},X=function(e){var t="";return Object.keys(e).map((function(n,i){t+="".concat(n,":").concat(e[n]).concat(i<Object.keys(e).length-1?";":"")})),t},ee=500,te=function(){function e(t){if(s(this,e),this.jSPlugin=t,this.isNeedRenderHeader=!1,this.isNeedRenderFooter=!1,this.decoderState={state:{isEditing:!1,play:!0,sound:!0,recordvideo:!1,recordTimer:null,recordCount:"00:00",talk:!1,pantile:!1,hd:!1,expend:!1,webExpend:!1,cloudRec:"cloud.rec"===v(t.url).type,rec:"rec"===v(t.url).type,type:v(t.url).type}},this.inited=!1,this.isMobile=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),this.themeData=V,this.jSPlugin.themeId)switch(this.jSPlugin.themeId){case"pcLive":this.themeData=Y,this.initThemeData(),this.renderThemeData();break;case"pcRec":this.themeData=J,this.initThemeData(),this.renderThemeData();break;case"mobileLive":this.themeData=K,this.initThemeData(),this.renderThemeData();break;case"mobileRec":this.themeData=Z,this.initThemeData(),this.renderThemeData();break;case"themeData":this.themeData=this.jSPlugin.params.themeData,this.initThemeData(),this.renderThemeData();break;default:this.fetchThemeData(this.jSPlugin.themeId)}this.jSPlugin.Talk||(this.jSPlugin.Talk=new H(this.jSPlugin))}return c(e,[{key:"fetchThemeData",value:function(e){var t=this,n="".concat(this.jSPlugin.env.domain,"/jssdk/ezopen/template/getDetail?accessToken=").concat(this.jSPlugin.accessToken,"&id=").concat(e);fetch(n,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log("get theme data",e),0===e.meta.code&&e.data&&(e.data.header&&(t.themeData.header=e.data.header),e.data.footer&&(t.themeData.footer=e.data.footer),t.initThemeData(),t.renderThemeData())})).catch((function(e){t.renderThemeData()}))}},{key:"changeTheme",value:function(e){if("string"==typeof e)switch(this.jSPlugin.themeId=e,this.jSPlugin.themeId){case"pcLive":this.themeData=Y,this.initThemeData(),this.renderThemeData();break;case"pcRec":this.themeData=J,this.initThemeData(),this.renderThemeData();break;case"mobileLive":this.themeData=K,this.initThemeData(),this.renderThemeData();break;case"mobileRec":this.themeData=Z,this.initThemeData(),this.renderThemeData();break;case"themeData":this.themeData=this.jSPlugin.params.themeData,this.initThemeData(),this.renderThemeData();break;default:this.fetchThemeData(e)}else"object"===a(e)&&(this.themeData=e,this.initThemeData(),this.renderThemeData())}},{key:"renderThemeData",value:function(){var e=this,t=this.themeData,n=t.header,i=t.footer;this.isNeedRenderHeader&&n&&(document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.background=n.backgroundColor.replace("-diy",""),document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.color=n.color.replace("-diy",""),n.btnList.map((function(t,n){t.isrender&&e.setDecoderState(u({},t.iconId,e.decoderState[t.iconId]))}))),this.isNeedRenderFooter&&i&&(document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.background=i.backgroundColor.replace("-diy",""),document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.color=i.color.replace("-diy",""),i.btnList.map((function(t,n){t.isrender&&e.setDecoderState(u({},t.iconId,e.decoderState[t.iconId]))})))}},{key:"setDecoderState",value:function(e){var t=this,n=this.themeData,i=n.header,r=n.footer;Object.keys(e).map((function(n,o){var a="#FFFFFF",s="#FFFFFF";switch(-1===i.btnList.findIndex((function(e){return e.iconId===n}))?(a=r.color.replace("-diy",""),s=r.activeColor.replace("-diy","")):(a=i.color.replace("-diy",""),s=i.activeColor.replace("-diy","")),n){case"play":e[n]?document.getElementById("".concat(t.jSPlugin.id,"-play"))&&(document.getElementById("".concat(t.jSPlugin.id,"-play-content")).children[0].children[0].style="display:inline-block",document.getElementById("".concat(t.jSPlugin.id,"-play-content")).children[0].children[1].style="display:none",document.getElementById("".concat(t.jSPlugin.id,"-play")).className=e[n]?"active":"",document.getElementById("".concat(t.jSPlugin.id,"-play-content")).childNodes[0].children[0].style.fill=e[n]?s:a):document.getElementById("".concat(t.jSPlugin.id,"-play"))&&(document.getElementById("".concat(t.jSPlugin.id,"-play-content")).children[0].children[1].style="display:inline-block",document.getElementById("".concat(t.jSPlugin.id,"-play-content")).children[0].children[0].style="display:none",document.getElementById("".concat(t.jSPlugin.id,"-play")).className=e[n]?"active":"",document.getElementById("".concat(t.jSPlugin.id,"-play-content")).childNodes[0].children[1].style.fill=e[n]?s:a);break;case"sound":document.getElementById("".concat(t.jSPlugin.id,"-sound"))&&(e[n]?(document.getElementById("".concat(t.jSPlugin.id,"-sound-content")).children[0].children[1].style="display:inline-block",document.getElementById("".concat(t.jSPlugin.id,"-sound-content")).children[0].children[0].style="display:none",document.getElementById("".concat(t.jSPlugin.id,"-sound")).className=e[n]?"active":"",document.getElementById("".concat(t.jSPlugin.id,"-sound-content")).childNodes[0].children[1].style.fill=e[n]?s:a):(document.getElementById("".concat(t.jSPlugin.id,"-sound-content")).children[0].children[0].style="display:inline-block",document.getElementById("".concat(t.jSPlugin.id,"-sound-content")).children[0].children[1].style="display:none",document.getElementById("".concat(t.jSPlugin.id,"-sound")).className=e[n]?"active":"",document.getElementById("".concat(t.jSPlugin.id,"-sound-content")).childNodes[0].children[0].style.fill=e[n]?s:a));break;case"recordvideo":document.getElementById("".concat(t.jSPlugin.id,"-recordvideo"))&&(document.getElementById("".concat(t.jSPlugin.id,"-recordvideo")).className=e[n]?"active":"",document.getElementById("".concat(t.jSPlugin.id,"-recordvideo-content")).childNodes[0].style.fill=e[n]?s:a);break;case"talk":document.getElementById("".concat(t.jSPlugin.id,"-talk"))&&(document.getElementById("".concat(t.jSPlugin.id,"-talk")).className=e[n]?"active":"",document.getElementById("".concat(t.jSPlugin.id,"-talk-content")).childNodes[1].style.fill=e[n]?s:a);break;case"pantile":document.getElementById("".concat(t.jSPlugin.id,"-pantile"))&&(document.getElementById("".concat(t.jSPlugin.id,"-pantile")).className=e[n]?"active":"",document.getElementById("".concat(t.jSPlugin.id,"-pantile-content")).childNodes[0].style.fill=e[n]?s:a);break;case"webExpend":e[n]?(document.getElementById("".concat(t.jSPlugin.id,"-webExpend"))&&(document.getElementById("".concat(t.jSPlugin.id,"-webExpend-content")).children[0].children[1].style="display:inline-block",document.getElementById("".concat(t.jSPlugin.id,"-webExpend-content")).children[0].children[0].style="display:none"),document.getElementById("".concat(t.jSPlugin.id,"-expend"))&&(document.getElementById("".concat(t.jSPlugin.id,"-expend")).className="disabled")):(document.getElementById("".concat(t.jSPlugin.id,"-webExpend"))&&(document.getElementById("".concat(t.jSPlugin.id,"-webExpend-content")).children[0].children[0].style="display:inline-block",document.getElementById("".concat(t.jSPlugin.id,"-webExpend-content")).children[0].children[1].style="display:none"),document.getElementById("".concat(t.jSPlugin.id,"-expend"))&&(document.getElementById("".concat(t.jSPlugin.id,"-expend")).className="")),document.getElementById("".concat(t.jSPlugin.id,"-webExpend"))&&(document.getElementById("".concat(t.jSPlugin.id,"-webExpend")).className=e[n]?"active":"",document.getElementById("".concat(t.jSPlugin.id,"-webExpend-content")).childNodes[0].childNodes[0].style.fill=e[n]?s:a,document.getElementById("".concat(t.jSPlugin.id,"-webExpend-content")).childNodes[0].childNodes[1].style.fill=e[n]?s:a);break;case"capturePicture":document.getElementById("".concat(t.jSPlugin.id,"-capturePicture"))&&(document.getElementById("".concat(t.jSPlugin.id,"-capturePicture")).className=e[n]?"active":"",document.getElementById("".concat(t.jSPlugin.id,"-capturePicture-content")).childNodes[0].style.fill=e[n]?s:a);break;case"expend":e[n]?(document.getElementById("".concat(t.jSPlugin.id,"-expend"))&&(document.getElementById("".concat(t.jSPlugin.id,"-expend-content")).children[0].children[1].style="display:inline-block",document.getElementById("".concat(t.jSPlugin.id,"-expend-content")).children[0].children[0].style="display:none"),document.getElementById("".concat(t.jSPlugin.id,"-webExpend"))&&(document.getElementById("".concat(t.jSPlugin.id,"-webExpend")).className="disabled")):(document.getElementById("".concat(t.jSPlugin.id,"-expend"))&&(document.getElementById("".concat(t.jSPlugin.id,"-expend-content")).children[0].children[0].style="display:inline-block",document.getElementById("".concat(t.jSPlugin.id,"-expend-content")).children[0].children[1].style="display:none"),document.getElementById("".concat(t.jSPlugin.id,"-webExpend"))&&(document.getElementById("".concat(t.jSPlugin.id,"-webExpend")).className="")),document.getElementById("".concat(t.jSPlugin.id,"-expend"))&&(document.getElementById("".concat(t.jSPlugin.id,"-expend")).className=e[n]?"active":"",document.getElementById("".concat(t.jSPlugin.id,"-expend-content")).childNodes[0].childNodes[0].style.fill=e[n]?s:a,document.getElementById("".concat(t.jSPlugin.id,"-expend-content")).childNodes[0].childNodes[1].style.fill=e[n]?s:a);break;case"hd":e[n]?document.getElementById("".concat(t.jSPlugin.id,"-hd"))&&(document.getElementById("".concat(t.jSPlugin.id,"-hd-content")).children[1].children[0].style="display:block",document.getElementById("".concat(t.jSPlugin.id,"-hd-content")).children[1].children[1].style="display:none"):document.getElementById("".concat(t.jSPlugin.id,"-hd"))&&(document.getElementById("".concat(t.jSPlugin.id,"-hd-content")).children[1].children[1].style="display:block",document.getElementById("".concat(t.jSPlugin.id,"-hd-content")).children[1].children[0].style="display:none");break;case"cloudRec":document.getElementById("".concat(t.jSPlugin.id,"-cloudRec"))&&(document.getElementById("".concat(t.jSPlugin.id,"-cloudRec")).className=e[n]?"active":"",document.getElementById("".concat(t.jSPlugin.id,"-cloudRec-content")).children[0].children[0].style.fill=e[n]?s:a),document.getElementById("".concat(t.jSPlugin.id,"-rec"))&&(document.getElementById("".concat(t.jSPlugin.id,"-rec")).className=e[n]?"active":"",document.getElementById("".concat(t.jSPlugin.id,"-rec-content")).children[0].children[0].style.fill=e[n]?a:s);break;case"rec":document.getElementById("".concat(t.jSPlugin.id,"-cloudRec"))&&(document.getElementById("".concat(t.jSPlugin.id,"-cloudRec")).className=e[n]?"active":"",document.getElementById("".concat(t.jSPlugin.id,"-cloudRec-content")).children[0].children[0].style.fill=e[n]?a:s),document.getElementById("".concat(t.jSPlugin.id,"-rec"))&&(document.getElementById("".concat(t.jSPlugin.id,"-rec")).className=e[n]?"active":"",document.getElementById("".concat(t.jSPlugin.id,"-rec-content")).children[0].children[0].style.fill=e[n]?s:a)}t.decoderState.state=Object.assign(t.decoderState.state,e)}))}},{key:"toString",value:function(){return"".concat(this.coreX,"-").concat(this.coreY)}},{key:"renderFooter",value:function(e,t){var n=this.matchBtn(e),i=document.createElement("div");i.innerHTML="".concat('<span id="'.concat(this.jSPlugin.id,"-").concat(n.id,'" style="position:relative;').concat("left"===n.part?"margin-right: 12px;":"margin-left: 12px;",'">')+'<span id="'.concat(this.jSPlugin.id,"-").concat(n.id,'-content" title="').concat(n.title,'" style="display:inline-block;">')).concat(n.domString,"</span>")+'<span id="'.concat(n.id,'-remove" title="移除" style="position: absolute;top: -10px;left: 38px;display: none;">')+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 15 15"><circle style="fill-rule:evenodd;clip-rule:evenodd;fill-opacity:0.8011;" cx="7.5" cy="7.6" r="7" /><rect x="3.9" y="3.5" class="st1" style="fill:none;" width="8.1" height="8.1" /><line style="fill:none;stroke:#ffffff;stroke-width:0.5833;stroke-linecap:round;" x1="4.9" y1="5" x2="10" y2="10.1" /><line style="fill:none;stroke:#ffffff;stroke-width:0.5833;stroke-linecap:round;" x1="4.9" y1="10.1" x2="10" y2="5" /></svg></span></span>',i.onclick=n.onclick,"left"===t?document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).childNodes[0].appendChild(i):document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).childNodes[1].appendChild(i)}},{key:"renderHeader",value:function(e,t){var n=this.matchBtn(e),i=document.createElement("div");i.innerHTML="".concat('<span id="'.concat(this.jSPlugin.id,"-").concat(n.id,'" style="position:relative;').concat("left"===n.part?"margin-right: 12px;":"margin-left: 12px;",'">')+'<span id="'.concat(this.jSPlugin.id,"-").concat(n.id,'-content" title="').concat(n.title,'" style="display:inline-block;height:').concat(this.width>ee?48:32,'px;">')).concat(n.domString,"</span>")+'<span id="'.concat(this.jSPlugin.id,"-").concat(n.id,'-remove" title="移除" style="position: absolute;top: -10px;left: 38px;display: none;">')+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 15 15"><circle style="fill-rule:evenodd;clip-rule:evenodd;fill-opacity:0.8011;" cx="7.5" cy="7.6" r="7" /><rect x="3.9" y="3.5" class="st1" style="fill:none;" width="8.1" height="8.1" /><line style="fill:none;stroke:#ffffff;stroke-width:0.5833;stroke-linecap:round;" x1="4.9" y1="5" x2="10" y2="10.1" /><line style="fill:none;stroke:#ffffff;stroke-width:0.5833;stroke-linecap:round;" x1="4.9" y1="10.1" x2="10" y2="5" /></svg></span></span>',i.onclick=n.onclick,"left"===t?document.getElementById("".concat(this.jSPlugin.id,"-headControl")).childNodes[0].appendChild(i):document.getElementById("".concat(this.jSPlugin.id,"-headControl")).childNodes[1].appendChild(i)}},{key:"matchBtn",value:function(e){var t=this,n=this.themeData,i=n.header,r=n.footer,o={title:"",id:"",domString:"",color:"#FFFFFF",activeColor:"#FFFFFF",onclick:function(){},onmoveleft:function(){},onmoveright:function(){},onremove:function(){}};switch(-1===i.btnList.findIndex((function(t){return t.iconId===e}))?(o.color=r.color,o.backgroundColor=r.backgroundColor,o.activeColor=r.activeColor):(o.color=i.color,o.backgroundColor=i.backgroundColor,o.activeColor=i.activeColor),e){case"play":return o.title="播放/结束播放",o.id=e,o.domString="<span>"+'<svg style="display:none" width="'.concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'"  fill="').concat(o.color,'" viewBox="-6 -6 32 32">\n            <path id="Stroke-1" class="st1" d="M10.5,1.7c-4.9,0-8.8,4-8.8,8.8s4,8.8,8.8,8.8s8.8-4,8.8-8.8S15.4,1.7,10.5,1.7z M10.5,2.7\n              c4.3,0,7.8,3.5,7.8,7.8s-3.5,7.8-7.8,7.8s-7.8-3.5-7.8-7.8S6.2,2.7,10.5,2.7z"/>\n            <path class="st2" d="M8.7,8C9,8,9.3,8.3,9.3,8.6v3.8C9.3,12.7,9,13,8.7,13C8.3,13,8,12.7,8,12.4V8.6C8,8.3,8.3,8,8.7,8z"/>\n            <path id="Rectangle-Copy-10" class="st2" d="M12.8,8c0.3,0,0.6,0.3,0.6,0.6v3.8c0,0.3-0.3,0.6-0.6,0.6c-0.3,0-0.6-0.3-0.6-0.6V8.6\n              C12.2,8.3,12.5,8,12.8,8z"/>\n          </svg>')+'<svg fill="'.concat(o.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M13,9.8L10.1,8C9.9,7.9,9.7,7.9,9.5,7.9c-0.6,0-1,0.4-1,1v3.7c0,0.2,0.1,0.4,0.2,0.5c0.3,0.5,0.9,0.6,1.4,0.3 l2.9-1.8c0.1-0.1,0.2-0.2,0.3-0.3C13.6,10.7,13.4,10.1,13,9.8z" /><path d="M10.5,1.9c-4.9,0-8.8,4-8.8,8.8c0,4.9,4,8.8,8.8,8.8s8.8-4,8.8-8.8C19.4,5.8,15.4,1.9,10.5,1.9z M10.5,18.5 c-4.3,0-7.8-3.5-7.8-7.8s3.5-7.8,7.8-7.8c4.3,0,7.8,3.5,7.8,7.8S14.9,18.5,10.5,18.5z" /></svg></span>',o.onclick=function(){var e=t.decoderState.state.play;e?t.jSPlugin.stop():t.jSPlugin.play(),t.setDecoderState({play:!e})},o;case"sound":return o.title="声音",o.id=e,o.domString="<span>"+'<svg style="display:none" fill="'.concat(o.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'" viewBox="-6 -6 32 32">\n            <path d="M8.5,4.2c0.8-0.7,2.1-0.2,2.2,0.9l0,0.1v10c0,1.1-1.2,1.7-2.1,1.1l-0.1-0.1l-3.3-2.8C5,13.2,5,12.9,5.1,12.7 c0.2-0.2,0.4-0.2,0.6-0.1l0.1,0.1l3.3,2.8c0.2,0.2,0.5,0.1,0.5-0.2l0-0.1v-10c0-0.3-0.3-0.4-0.5-0.3L9.2,5L5.9,7.8 C5.6,7.9,5.3,7.9,5.1,7.7C5,7.5,5,7.3,5.1,7.1L5.2,7L8.5,4.2z"/>\n            <path d="M5.5,6.9C5.8,6.9,6,7.1,6,7.4c0,0.2-0.2,0.4-0.4,0.5l-0.1,0h-2C3.4,7.9,3.3,8,3.2,8.2l0,0.1v4 c0,0.2,0.1,0.3,0.3,0.3l0.1,0h2C5.8,12.5,6,12.7,6,13c0,0.2-0.2,0.4-0.4,0.5l-0.1,0h-2c-0.7,0-1.3-0.5-1.3-1.2l0-0.1v-4 c0-0.7,0.5-1.3,1.2-1.3l0.1,0H5.5z"/>\n            <path d="M17.4,7.9c0.2-0.2,0.5-0.2,0.7,0c0.2,0.2,0.2,0.4,0.1,0.6l-0.1,0.1l-3.8,3.8c-0.2,0.2-0.5,0.2-0.7,0 c-0.2-0.2-0.2-0.4-0.1-0.6l0.1-0.1L17.4,7.9z"/>\n            <path d="M13.7,7.9c0.2-0.2,0.4-0.2,0.6-0.1l0.1,0.1l3.8,3.8c0.2,0.2,0.2,0.5,0,0.7c-0.2,0.2-0.4,0.2-0.6,0.1l-0.1-0.1 l-3.7-3.8C13.5,8.4,13.5,8.1,13.7,7.9z"/>\n            </svg>')+'<svg style="display:inline-block" width="'.concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'" fill="').concat(o.color,'" viewBox="-6 -6 32 32">\n              <path d="M13.2,7.1c0.1-0.2,0.5-0.3,0.7-0.2c1.1,0.7,1.9,2.2,1.9,3.7c0,1.6-0.7,3-1.9,3.7\n                c-0.2,0.1-0.5,0.1-0.7-0.2c-0.1-0.2-0.1-0.5,0.2-0.7c0.8-0.5,1.4-1.6,1.4-2.9c0-1.3-0.6-2.4-1.4-2.9C13.1,7.6,13,7.3,13.2,7.1z"/>\n              <path d="M15.7,4.5c0.2-0.2,0.5-0.2,0.7-0.1C18,5.8,19,8.2,19,10.7c0,2.5-1,4.8-2.7,6.3\n                c-0.2,0.2-0.5,0.2-0.7-0.1c-0.2-0.2-0.2-0.5,0.1-0.7c1.4-1.2,2.3-3.3,2.3-5.5c0-2.2-0.9-4.3-2.3-5.5C15.5,5,15.5,4.7,15.7,4.5z"/>\n              <path id="Stroke-5" class="st1" d="M8.5,4.7c0.8-0.7,2.1-0.2,2.2,0.9l0,0.1v10c0,1.1-1.2,1.7-2.1,1.1l-0.1-0.1l-3.3-2.8\n                C5,13.7,5,13.4,5.1,13.2c0.2-0.2,0.4-0.2,0.6-0.1l0.1,0.1l3.3,2.8c0.2,0.2,0.5,0.1,0.5-0.2l0-0.1v-10c0-0.3-0.3-0.4-0.5-0.3l-0.1,0\n                L5.9,8.3C5.6,8.4,5.3,8.4,5.1,8.2C5,8,5,7.7,5.1,7.6l0.1-0.1L8.5,4.7z"/>\n              <path  d="M5.5,7.4C5.8,7.4,6,7.6,6,7.9c0,0.2-0.2,0.4-0.4,0.5l-0.1,0h-2c-0.2,0-0.3,0.1-0.3,0.3l0,0.1v4\n                c0,0.2,0.1,0.3,0.3,0.3l0.1,0h2C5.8,13,6,13.2,6,13.5c0,0.2-0.2,0.4-0.4,0.5l-0.1,0h-2c-0.7,0-1.3-0.5-1.3-1.2l0-0.1v-4\n                c0-0.7,0.5-1.3,1.2-1.3l0.1,0H5.5z"/>\n            </svg>')+"</span>",o.onclick=function(){var e=t.decoderState.state,n=e.play,i=e.sound;n&&(i?(t.jSPlugin.closeSound(),t.setDecoderState({sound:!1})):(t.jSPlugin.openSound(),t.setDecoderState({sound:!0})))},o;case"recordvideo":return o.title="录屏",o.id=e,o.domString='<svg fill="'.concat(o.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M11.6,5.3H4.7c-1.4,0-2.5,1.1-2.5,2.5v5.9c0,1.4,1.1,2.5,2.5,2.5h6.9c1.4,0,2.5-1.1,2.5-2.5V7.7 C14.1,6.4,13,5.3,11.6,5.3z M4.7,6.3h6.9c0.8,0,1.5,0.7,1.5,1.5v5.9c0,0.8-0.7,1.5-1.5,1.5H4.7c-0.8,0-1.5-0.7-1.5-1.5V7.7 C3.3,6.9,3.9,6.3,4.7,6.3z" /><path d="M16.6,6.7c0.9-0.8,2.3-0.1,2.4,1l0,0.1v5.7c0,1.2-1.3,1.9-2.3,1.2l-0.1-0.1L13.3,12 c-0.2-0.2-0.2-0.5-0.1-0.7c0.2-0.2,0.4-0.2,0.6-0.1l0.1,0.1l3.3,2.7c0.3,0.2,0.7,0.1,0.8-0.3l0-0.1V7.8c0-0.4-0.4-0.6-0.7-0.4 l-0.1,0l-3.3,2.7c-0.2,0.2-0.5,0.1-0.7-0.1c-0.2-0.2-0.1-0.5,0-0.6l0.1-0.1L16.6,6.7z" /></svg>',o.onclick=function(){var e=t.decoderState.state,n=e.play,i=e.recordvideo;n&&(i?(t.jSPlugin.stopSave(),t.setDecoderState({recordvideo:!1})):(t.jSPlugin.startSave("".concat((new Date).getTime())),t.setDecoderState({recordvideo:!0})))},o;case"capturePicture":return o.title="截图",o.id=e,o.domString='<svg fill="'.concat(o.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M10.8,7.7c-2,0-3.7,1.6-3.7,3.7S8.7,15,10.8,15c2,0,3.7-1.6,3.7-3.7S12.8,7.7,10.8,7.7z M10.8,8.7c1.5,0,2.7,1.2,2.7,2.7S12.2,14,10.8,14c-1.5,0-2.7-1.2-2.7-2.7S9.3,8.7,10.8,8.7z" /><path d="M8.6,3.7l-0.1,0C8,3.7,7.7,4,7.5,4.3l-1,1.7l-1.3,0C4,6.1,3.1,7,3.1,8.2v7.1 c0,1.2,0.9,2.1,2.1,2.1h11.1c1.2,0,2.1-0.9,2.1-2.1V8.2l0-0.1c-0.1-1.1-1-1.9-2.1-1.9l-1.3,0l-1.1-1.8c-0.2-0.4-0.7-0.6-1.1-0.6H8.6 z M8.6,4.7h4.2c0.1,0,0.2,0.1,0.3,0.1l1.2,2c0.1,0.2,0.3,0.2,0.4,0.2h1.6c0.6,0,1.1,0.5,1.1,1.1v7.1c0,0.6-0.5,1.1-1.1,1.1H5.1 c-0.6,0-1.1-0.5-1.1-1.1V8.2c0-0.6,0.5-1.1,1.1-1.1h1.6c0.2,0,0.3-0.1,0.4-0.2l1.2-2C8.4,4.7,8.5,4.7,8.6,4.7z" /></svg>',o.onclick=function(){t.decoderState.state.play?t.jSPlugin.capturePicture("".concat((new Date).getTime())):console.log("视频未播放，无法截图")},o;case"talk":return o.title="对讲",o.id=e,o.domString="<div></div>"+'<svg fill="'.concat(o.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M10.1,2.7C8.5,2.7,7.2,4,7.2,5.6v5.2c0,1.6,1.3,2.9,2.9,2.9l0.2,0c1.5-0.1,2.7-1.4,2.7-2.9V5.6\tC13,4,11.7,2.7,10.1,2.7z M10.1,3.7c1.1,0,1.9,0.9,1.9,1.9v5.2c0,1-0.8,1.8-1.8,1.9l-0.1,0c-1,0-1.9-0.9-1.9-1.9V5.6 C8.2,4.5,9,3.7,10.1,3.7z" /><path d="M15.1,8.5c0.2,0,0.4,0.2,0.5,0.4l0,0.1v1.7c0,3-2.5,5.5-5.5,5.5c-3,0-5.4-2.3-5.5-5.3l0-0.2V9 c0-0.3,0.2-0.5,0.5-0.5c0.2,0,0.4,0.2,0.5,0.4l0,0.1v1.7c0,2.5,2,4.5,4.5,4.5c2.4,0,4.4-1.9,4.5-4.3l0-0.2V9 C14.6,8.7,14.8,8.5,15.1,8.5z" /><path d="M13.5,17.7c0.3,0,0.5,0.2,0.5,0.5c0,0.2-0.2,0.4-0.4,0.5l-0.1,0h-7c-0.3,0-0.5-0.2-0.5-0.5 c0-0.2,0.2-0.4,0.4-0.5l0.1,0H13.5z" /><path d="M10.1,15.2c0.2,0,0.4,0.2,0.5,0.4l0,0.1v2.5c0,0.3-0.2,0.5-0.5,0.5c-0.2,0-0.4-0.2-0.5-0.4l0-0.1 v-2.5C9.6,15.4,9.8,15.2,10.1,15.2z" /></svg>',o.onclick=function(){var e=t.decoderState.state,n=e.talk,i=e.sound;n?(console.log("结束对讲"),t.setDecoderState({talk:!1}),t.jSPlugin.Talk.stopTalk()):(console.log("开始对讲"),t.setDecoderState({talk:!0}),i&&(t.jSPlugin.closeSound(),t.setDecoderState({sound:!1})),t.jSPlugin.Talk.startTalk())},o;case"pantile":return o.title="云台控制",o.id=e,o.domString='<svg fill="'.concat(o.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M10.2,7.8c1.6,0,2.9,1.3,2.9,2.9s-1.3,2.9-2.9,2.9s-2.9-1.3-2.9-2.9S8.5,7.8,10.2,7.8z M10.2,8.8c-1.1,0-1.9,0.9-1.9,1.9s0.9,1.9,1.9,1.9s1.9-0.9,1.9-1.9S11.2,8.8,10.2,8.8z" /><path d="M8.8,3.5c0.7-0.6,1.8-0.6,2.5-0.1l0.1,0.1l1.4,1.1c0.2,0.2,0.3,0.5,0.1,0.7 c-0.2,0.2-0.4,0.2-0.6,0.1l-0.1,0l-1.4-1.1C10.5,3.9,10,3.9,9.6,4.2L9.4,4.3L8,5.4C7.8,5.5,7.5,5.5,7.3,5.3c-0.2-0.2-0.1-0.5,0-0.6 l0.1-0.1L8.8,3.5z" /><path d="M2.5,12.3c-0.6-0.7-0.6-1.8-0.1-2.5l0.1-0.1l1.1-1.4c0.2-0.2,0.5-0.3,0.7-0.1 c0.2,0.2,0.2,0.4,0.1,0.6l0,0.1l-1.1,1.4C3,10.6,3,11.1,3.2,11.5l0.1,0.1L4.4,13c0.2,0.2,0.1,0.5-0.1,0.7c-0.2,0.2-0.5,0.1-0.6,0 l-0.1-0.1L2.5,12.3z" /><path d="M17.7,12.3c0.6-0.7,0.6-1.8,0.1-2.5l-0.1-0.1l-1.1-1.4c-0.2-0.2-0.5-0.3-0.7-0.1 c-0.2,0.2-0.2,0.4-0.1,0.6l0,0.1l1.1,1.4c0.3,0.4,0.3,0.9,0.1,1.3l-0.1,0.1L15.8,13c-0.2,0.2-0.1,0.5,0.1,0.7c0.2,0.2,0.5,0.1,0.6,0 l0.1-0.1L17.7,12.3z" /><path d="M8.8,18.2c0.7,0.6,1.8,0.6,2.5,0.1l0.1-0.1l1.4-1.1c0.2-0.2,0.3-0.5,0.1-0.7 c-0.2-0.2-0.4-0.2-0.6-0.1l-0.1,0l-1.4,1.1c-0.4,0.3-0.9,0.3-1.3,0.1l-0.1-0.1L8,16.3c-0.2-0.2-0.5-0.1-0.7,0.1 c-0.2,0.2-0.1,0.5,0,0.6l0.1,0.1L8.8,18.2z" /></svg>',o.onclick=function(){t.decoderState.state.pantile?(console.log("隐藏云台"),t.Ptz.hide(),t.setDecoderState({pantile:!1})):(console.log("显示云台"),t.Ptz.show(),t.setDecoderState({pantile:!0}))},o;case"expend":return o.title="全局全屏",o.id=e,o.domString='<span><svg fill="'.concat(o.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M3.4,7.6c-0.3,0-0.5-0.2-0.5-0.5V5.3c0-1.2,1-2.3,2.2-2.3h1.8c0.3,0,0.5,0.2,0.5,0.5S7.2,4.1,6.9,4.1H5.2 c-0.7,0-1.2,0.6-1.2,1.3v1.8C3.9,7.4,3.7,7.6,3.4,7.6z" /><path d="M6.9,18.1H5.2c-1.2,0-2.2-1-2.2-2.2v-1.8c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v1.8c0,0.7,0.6,1.2,1.2,1.2 h1.8c0.3,0,0.5,0.2,0.5,0.5S7.2,18.1,6.9,18.1z" /><path d="M15.7,18.1h-1.8c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h1.8c0.7,0,1.2-0.6,1.2-1.2v-1.8 c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v1.8C17.9,17.1,16.9,18.1,15.7,18.1z" /><path d="M17.4,7.6c-0.3,0-0.5-0.2-0.5-0.5V5.3c0-0.7-0.6-1.3-1.2-1.3h-1.8c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h1.8 c1.2,0,2.2,1,2.2,2.3v1.8C17.9,7.4,17.7,7.6,17.4,7.6z" /></svg>'+'<svg style="display:none" width="'.concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'" fill="').concat(o.color,'" viewBox="-6 -6 32 32">\n            <path class="st1" d="M5.7,8.1H3.9c-0.3,0-0.6-0.2-0.6-0.6S3.6,7,3.9,7h1.9c0.7,0,1.3-0.6,1.3-1.3V3.8c0-0.3,0.2-0.6,0.6-0.6\n              s0.6,0.2,0.6,0.6v1.9C8.2,7,7.1,8.1,5.7,8.1z"/>\n            <path class="st1" d="M7.6,17.7c-0.3,0-0.6-0.2-0.6-0.6v-1.9c0-0.7-0.6-1.3-1.3-1.3H3.9c-0.3,0-0.6-0.2-0.6-0.6s0.2-0.6,0.6-0.6h1.9\n              c1.3,0,2.4,1.1,2.4,2.4v1.9C8.2,17.5,7.9,17.7,7.6,17.7z"/>\n            <path class="st1" d="M13.4,17.7c-0.3,0-0.6-0.2-0.6-0.6v-1.9c0-1.3,1.1-2.4,2.4-2.4h1.9c0.3,0,0.6,0.2,0.6,0.6S17.5,14,17.2,14\n              h-1.9c-0.7,0-1.3,0.6-1.3,1.3v1.9C14,17.5,13.8,17.7,13.4,17.7z"/>\n            <path class="st1" d="M17.2,8.1h-1.9c-1.3,0-2.4-1.1-2.4-2.4V3.8c0-0.3,0.2-0.6,0.6-0.6S14,3.5,14,3.8v1.9C14,6.4,14.6,7,15.3,7h1.9\n              c0.3,0,0.6,0.2,0.6,0.6S17.5,8.1,17.2,8.1z"/>\n          </svg>\n          </span>'),o.onclick=function(){var e,n,i,r=t.decoderState.state,o=r.webExpend,a=r.expend;if(!r.play)return!1;if(o)return console.log("正在网站全屏"),!1;if(a)t.isMobile?(s=parseInt(getComputedStyle(document.getElementById("".concat(t.jSPlugin.id,"-wrap"))).height,10)-parseInt(getComputedStyle(document.getElementById(t.jSPlugin.id)).height,10),function(e,t,n){var i="";i+="width:"+t+"px;",i+="height:"+n+"px;",i+="-webkit-transform: rotate(0); transform: rotate(0);",i+="-webkit-transform-origin: 0 0;",i+="transform-origin: 0 0;",e.style.cssText=i}(document.getElementById("".concat(t.jSPlugin.id,"-wrap")),t.jSPlugin.width,t.jSPlugin.height+s),t.jSPlugin.jSPlugin.JS_Resize(t.jSPlugin.width,t.jSPlugin.height)):(console.log("取消全局全屏"),g().then((function(e){console.log("取消全屏",e,t.jSPlugin),t.jSPlugin.jSPlugin.JS_Resize(t.jSPlugin.width,t.jSPlugin.height)})));else if(console.log("执行全局全屏"),t.isMobile){var s=parseInt(getComputedStyle(document.getElementById("".concat(t.jSPlugin.id,"-wrap"))).height,10)-parseInt(getComputedStyle(document.getElementById(t.jSPlugin.id)).height,10);e=document.getElementById("".concat(t.jSPlugin.id,"-wrap")),n=document.documentElement.clientWidth,i="",i+="width:"+document.documentElement.clientHeight+"px;",i+="height:"+n+"px;",i+="-webkit-transform: rotate(90.001deg); transform: rotate(90.001deg);",i+="-webkit-transform-origin: "+n/2+"px "+n/2+"px;",i+="transform-origin: "+n/2+"px "+n/2+"px;",i+="position: fixed;top: 0;left: 0;z-index:10",e.style.cssText=i,setTimeout((function(){var e=document.documentElement.clientWidth,n=document.documentElement.clientHeight;t.jSPlugin.jSPlugin.JS_Resize(n,e-s)}),100)}else m(document.getElementById("".concat(t.jSPlugin.id))).then((function(e){console.log("全屏promise",window.screen.availWidth),t.jSPlugin.jSPlugin.JS_Resize(window.screen.availWidth,window.screen.availHeight)})).catch((function(e){console.log(e)}));t.setDecoderState({expend:!a})},o;case"webExpend":return o.title="网页全屏",o.id=e,o.domString='<span><svg fill="'.concat(o.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M3.1,7.6c-0.3,0-0.5-0.2-0.5-0.5V5.3c0-1.2,1-2.3,2.2-2.3h1.8c0.3,0,0.5,0.2,0.5,0.5S6.8,4.1,6.6,4.1H4.8 c-0.7,0-1.2,0.6-1.2,1.3v1.8C3.6,7.4,3.3,7.6,3.1,7.6z" /><path d="M15.3,18.1h-1.8c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h1.8c0.7,0,1.2-0.6,1.2-1.2v-1.8 c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v1.8C17.6,17.1,16.6,18.1,15.3,18.1z" /><circle class="st2" cx="10.2" cy="10.4" r="1.1"/></svg>'+'<svg fill="'.concat(o.color,'" style="display:none;" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'" viewBox="-6 -6 32 32">\n          <path class="st1" d="M5.4,8.1H3.5C3.2,8.1,3,7.9,3,7.6s0.2-0.5,0.5-0.5h1.9c0.8,0,1.4-0.6,1.4-1.4V3.8c0-0.3,0.2-0.5,0.5-0.5\n            s0.5,0.2,0.5,0.5v1.9C7.7,7,6.7,8.1,5.4,8.1z"/>\n          <path class="st1" d="M13.1,17.7c-0.3,0-0.5-0.2-0.5-0.5v-1.9c0-1.3,1.1-2.4,2.4-2.4h1.9c0.3,0,0.5,0.2,0.5,0.5s-0.2,0.5-0.5,0.5H15\n            c-0.8,0-1.4,0.6-1.4,1.4v1.9C13.6,17.4,13.4,17.7,13.1,17.7z"/>\n            <circle class="st2" cx="10.2" cy="10.4" r="1.1"/>\n          ')+"</svg></span>",o.onclick=function(){var e=t.decoderState.state,n=e.webExpend,i=e.expend;if(!e.play)return!1;if(i)return console.log("正在全局全屏"),!1;if(n)console.log("取消网页全屏"),g().then((function(e){t.jSPlugin.jSPlugin.JS_Resize(t.jSPlugin.width,t.jSPlugin.height)}));else{console.log("执行网页全屏");var r=0,o=0;m(document.getElementById("".concat(t.jSPlugin.id,"-wrap"))).then((function(e){console.log("全屏promise",window.screen.availWidth),document.getElementById("".concat(t.jSPlugin.id,"-ez-iframe-footer-container"))&&(r=parseInt(window.getComputedStyle(document.getElementById("".concat(t.jSPlugin.id,"-ez-iframe-footer-container"))).height,10)),document.getElementById("".concat(t.jSPlugin.id,"-headControl"))&&(o=parseInt(window.getComputedStyle(document.getElementById("".concat(t.jSPlugin.id,"-headControl"))).height,10)),console.log("this.jSPlugin.JS_Resiz",r,o,document.body.clientWidth),t.jSPlugin.jSPlugin.JS_Resize(window.screen.availWidth,window.screen.availHeight-r-o)})).catch((function(e){console.log(e)}))}t.setDecoderState({webExpend:!n})},o;case"hd":return o.title="画面清晰度",o.id=e,o.domString='<ul id="'.concat(this.jSPlugin.id,'-hdSelect" class="select" style="display:none;width: 60px;background: #fff;box-shadow: 0 3px 20px 0 rgb(0 0 0 / 10%);border-radius: 2px;padding: 6px 0;position: absolute;top: -120px;">')+'<li class="selectOption" style="width: 60px;height: 32px;text-align: center;line-height: 32px;list-style: none;cursor: pointer;font-size: 13px;color: rgba(0, 0, 0, .85);" name="option" id="'.concat(this.jSPlugin.id,'-select-hd">高清</li>')+'<li class="selectOption" style="width: 60px;height: 32px;text-align: center;line-height: 32px;list-style: none;cursor: pointer;font-size: 13px;color: rgba(0, 0, 0, .85);" name="option" id="'.concat(this.jSPlugin.id,'-select-sd">标清</li>')+"</ul>"+'<span><svg fill="'.concat(o.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M17.4,16.5H3.1c-0.8,0-1.4-0.6-1.4-1.4V5.4c0-0.9,0.7-1.6,1.6-1.6h14.1c0.8,0,1.4,0.6,1.4,1.4v9.8 C18.8,15.9,18.2,16.5,17.4,16.5z M3.3,5C3.1,5,2.9,5.2,2.9,5.4v9.7c0,0.2,0.1,0.3,0.3,0.3h14.3c0.2,0,0.3-0.1,0.3-0.3V5.3 c0-0.2-0.1-0.3-0.3-0.3H3.3z" /><path d="M13.3,13.6h-1.6c-0.4,0-0.7-0.3-0.7-0.7V7.4c0-0.4,0.3-0.7,0.7-0.7h1.6c1.2,0,2.2,1,2.2,2.2v2.4 C15.6,12.6,14.6,13.6,13.3,13.6z M12.2,12.5h1.1c0.6,0,1.1-0.5,1.1-1.1V9c0-0.6-0.5-1.1-1.1-1.1h-1.1V12.5z" /><path d="M5.5,13.6c-0.3,0-0.6-0.2-0.6-0.6V7.3C5,7,5.2,6.8,5.5,6.8S6.1,7,6.1,7.3v5.7C6.1,13.4,5.8,13.6,5.5,13.6z" /><path d="M9.2,13.6c-0.3,0-0.6-0.2-0.6-0.6V7.3c0-0.3,0.2-0.6,0.6-0.6S9.8,7,9.8,7.3v5.7C9.8,13.4,9.5,13.6,9.2,13.6z" /><rect x="5.6" y="9.6" width="3.6" height="1.1" /></svg>'+'<svg style="display:none" fill="'.concat(o.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'" viewBox="-6 -8 40 44">\n                <path d="M24.1,23.8h-20c-1.1,0-1.9-0.9-1.9-1.9V8.4c0-1.2,1-2.2,2.1-2.2h19.7c1.1,0,1.9,0.9,1.9,1.9v13.8\n                    C26,23,25.1,23.8,24.1,23.8z M4.3,7.7C4,7.7,3.7,8,3.7,8.4v13.5c0,0.2,0.2,0.4,0.4,0.4h20c0.2,0,0.4-0.2,0.4-0.4V8.2\n                    c0-0.2-0.2-0.4-0.4-0.4H4.3z"/>\n                <path d="M18.4,19.8h-2.2c-0.5,0-0.9-0.4-0.9-0.9v-7.8c0-0.5,0.4-0.9,0.9-0.9h2.2c1.7,0,3.1,1.4,3.1,3.1v3.3\n                C21.5,18.4,20.1,19.8,18.4,19.8z M16.7,18.3h1.6c0.9,0,1.6-0.7,1.6-1.6v-3.3c0-0.9-0.7-1.6-1.6-1.6h-1.6V18.3z"/>\n                <path d="M10.5,19.8c1.2,0,2.1-0.3,2.7-0.9c0.6-0.6,0.9-1.3,0.9-2.1c0-0.8-0.3-1.4-0.9-1.8c-0.4-0.2-1.1-0.5-2.2-0.8\n                    l0,0l-1-0.2c-0.4-0.1-0.8-0.2-1-0.4c-0.4-0.2-0.6-0.5-0.6-0.9c0-0.4,0.1-0.6,0.4-0.9s0.7-0.3,1.3-0.3c0.8,0,1.4,0.2,1.8,0.6\n                    c0.2,0.3,0.3,0.6,0.4,0.9l0,0h1.4c0-0.6-0.2-1.1-0.5-1.6c-0.6-0.8-1.6-1.2-2.9-1.2c-1,0-1.8,0.3-2.4,0.8c-0.6,0.5-0.9,1.2-0.9,2\n                    c0,0.7,0.3,1.3,1,1.7c0.4,0.2,0.9,0.4,1.7,0.6l0,0l1.2,0.3c0.6,0.2,1.1,0.3,1.3,0.4c0.3,0.2,0.5,0.5,0.5,0.9c0,0.5-0.2,0.9-0.6,1.1\n                    s-0.9,0.4-1.5,0.4c-0.9,0-1.6-0.2-2-0.7c-0.2-0.3-0.3-0.6-0.4-1.1l0,0H6.8c0,0.9,0.3,1.6,0.9,2.2C8.2,19.5,9.2,19.8,10.5,19.8z"/>\n                <defs>\n                  <filter id="Adobe_OpacityMaskFilter" filterUnits="userSpaceOnUse" x="15.2" y="10.3" width="6.2" height="9.5">\n                    <feColorMatrix  type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0"/>\n                  </filter>\n                </defs>\n                <mask maskUnits="userSpaceOnUse" x="15.2" y="10.3" width="6.2" height="9.5" id="mask-2_2_">\n                  <g class="st2">\n                    <path id="path-1_2_" class="st3" d="M24.1,23.1h-20c-0.6,0-1.2-0.5-1.2-1.2V8.2C2.9,7.5,3.5,7,4.1,7h19.7c0.8,0,1.4,0.6,1.4,1.4\n                      v13.5C25.2,22.6,24.7,23.1,24.1,23.1z"/>\n                  </g>\n                </mask>\n                <defs>\n                  <filter id="Adobe_OpacityMaskFilter_1_" filterUnits="userSpaceOnUse" x="6.8" y="10.3" width="7.3" height="9.5">\n                    <feColorMatrix  type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0"/>\n                  </filter>\n                </defs>\n                <mask maskUnits="userSpaceOnUse" x="6.8" y="10.3" width="7.3" height="9.5" id="mask-2_3_">\n                  <g class="st5">\n                    <path id="path-1_3_" class="st3" d="M24.1,23.1h-20c-0.6,0-1.2-0.5-1.2-1.2V8.2C2.9,7.5,3.5,7,4.1,7h19.7c0.8,0,1.4,0.6,1.4,1.4\n                      v13.5C25.2,22.6,24.7,23.1,24.1,23.1z"/>\n                  </g>\n                </mask>\n                </svg>\n                ')+"</span>",o.onclick=function(e){var n=t.decoderState.state.hd;n&&e.target.id==="".concat(t.jSPlugin.id,"-select-sd")?(console.log("切换到标清"),t.jSPlugin.changePlayUrl({hd:!1}),t.setDecoderState({hd:!1})):n||e.target.id!=="".concat(t.jSPlugin.id,"-select-hd")||(t.jSPlugin.changePlayUrl({hd:!0}),t.setDecoderState({hd:!0})),document.getElementById("".concat(t.jSPlugin.id,"-hdSelect"))&&(document.getElementById("".concat(t.jSPlugin.id,"-hdSelect")).style.display="none"===document.getElementById("".concat(t.jSPlugin.id,"-hdSelect")).style.display?"block":"none")},o;case"deviceName":return o.title="设备名称",o.id=e,o.domString="<span>设备名称</span>",o.onclick=function(){},o;case"deviceID":return o.title="设备序列号",o.id=e,o.domString="<span>设备序列号</span>",o.onclick=function(){},o;case"cloudRec":return o.title="云存储回放",o.id=e,o.domString='\n        <span>\n          <svg fill="'.concat(o.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg"  width="').concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'" viewBox="-10 0 40 15">\n\t<path d="M9.5,13.1c-0.3,0-0.5-0.2-0.5-0.5V8.8c0-0.3,0.2-0.5,0.5-0.5S10,8.5,10,8.8v3.8C10,12.8,9.8,13.1,9.5,13.1z"/>\n\t<path d="M7.6,10.6c-0.1,0-0.3-0.1-0.4-0.2C7,10.2,7,9.9,7.3,9.7l1.9-1.7c0.2-0.2,0.5-0.2,0.7,0l1.8,1.7\n\t\tc0.2,0.2,0.2,0.5,0,0.7c-0.2,0.2-0.5,0.2-0.7,0L9.5,9.1l-1.6,1.4C7.8,10.6,7.7,10.6,7.6,10.6z"/>\n\t<path d="M13.2,15.7H5.6c-2.1-0.1-3.8-1.8-3.8-3.9c0-1.8,1.3-3.4,3-3.8c0.4-2.2,2.3-3.9,4.6-3.9c2.3,0,4.2,1.7,4.6,3.8\n\t\tc1.8,0.4,3.1,1.9,3.1,3.8C17.1,13.9,15.4,15.7,13.2,15.7z M5.6,14.7h7.6c1.6,0,2.9-1.3,2.9-2.9c0-1.5-1.1-2.7-2.6-2.9l-0.4,0l0-0.4\n\t\tc-0.2-1.9-1.7-3.3-3.6-3.3C7.5,5.1,6,6.6,5.8,8.5l0,0.4l-0.4,0c-1.4,0.2-2.5,1.4-2.5,2.9C2.8,13.3,4.1,14.6,5.6,14.7z"/>\n          </svg>\n        </span>\n        '),o.onclick=function(){console.log("点击云回放"),t.setDecoderState({type:"cloud.rec",cloudRec:!0,rec:!1}),t.jSPlugin.changePlayUrl({type:"cloud.rec"}),console.log(t.jSPlugin);var e=p("begin",t.jSPlugin.url)||(new Date).Format("yyyyMMdd");t.Rec.renderRec("".concat(e.slice(0,4),"-").concat(e.slice(4,6),"-").concat(e.slice(6,8)))},o;case"rec":return o.title="本地存储",o.id=e,o.domString="\n        <span>\n        <svg fill=".concat(o.color,' version="1.1" xmlns="http://www.w3.org/2000/svg"  width="').concat(this.jSPlugin.width>ee?48:32,'" height="').concat(this.jSPlugin.width>ee?48:32,'" viewBox="0 0 40 15">\n          <path d="M13,16.3H5.5c-1.1,0-2-0.9-2-2V3.8c0-1.1,0.9-2,2-2h5.4c0.5,0,1,0.2,1.4,0.6l2.1,2.1C14.8,4.8,15,5.3,15,5.9\n  v8.4C15,15.4,14.1,16.3,13,16.3z M5.5,2.8c-0.6,0-1,0.4-1,1v10.5c0,0.6,0.4,1,1,1H13c0.6,0,1-0.4,1-1V5.9c0-0.3-0.1-0.5-0.3-0.7\n  L11.6,3c-0.2-0.2-0.4-0.3-0.7-0.3H5.5z"/>\n<path d="M6.3,7.3C6,7.3,5.8,7,5.8,6.8V4.5C5.8,4.2,6,4,6.3,4s0.5,0.2,0.5,0.5v2.2C6.8,7,6.6,7.3,6.3,7.3z"/>\n<path d="M8.5,7.3C8.3,7.3,8,7,8,6.8V4.5C8,4.2,8.3,4,8.5,4S9,4.2,9,4.5v2.2C9,7,8.8,7.3,8.5,7.3z"/>\n<path d="M10.8,7.3c-0.3,0-0.5-0.2-0.5-0.5V4.5c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v2.2C11.3,7,11.1,7.3,10.8,7.3z"\n  />\n        </svg>\n      </span>\n        '),o.onclick=function(){console.log("点击本地回放"),t.setDecoderState({type:"rec",cloudRec:!1,rec:!0}),t.jSPlugin.changePlayUrl({type:"rec"}),console.log(t.jSPlugin);var e=p("begin",t.jSPlugin.url)||(new Date).Format("yyyyMMdd");t.Rec.renderRec("".concat(e.slice(0,4),"-").concat(e.slice(4,6),"-").concat(e.slice(6,8)))},o;default:return o}}},{key:"initThemeData",value:function(){var e=this,t=this.themeData,n=t.header,i=t.footer,r=this.jSPlugin.id;if(this.header=k,this.footer=I,this.isNeedRenderHeader=S.findIndex(n.btnList,(function(e){return e.isrender>0}))>=0,this.isNeedRenderFooter=S.findIndex(i.btnList,(function(e){return e.isrender>0}))>=0,["date-switch-container-wrap","rec-type-container-wrap","mobile-rec-wrap","mobile-ez-ptz-container"].forEach((function(e,t){document.getElementById(e)&&document.getElementById(e).parentElement.removeChild(document.getElementById(e))})),this.isNeedRenderHeader)if(document.getElementById("".concat(this.jSPlugin.id,"-headControl")))document.getElementById("".concat(this.jSPlugin.id,"-headControl")).innerHTML="<div id='".concat(this.jSPlugin.id,"}-headControl-left' style='display:flex'></div><div id='").concat(this.jSPlugin.id,"}-headControl-right' style='display:flex'></div>");else{var o=document.createElement("div");o.setAttribute("id","".concat(this.jSPlugin.id,"-headControl")),o.setAttribute("class","head-message"),o.innerHTML="<div id='".concat(this.jSPlugin.id,"-headControl-left' style='display:flex'></div><div id='").concat(this.jSPlugin.id,"}-headControl-right' style='display:flex'></div>");var a={height:this.jSPlugin.width>ee?"48px":"32px","line-height":this.jSPlugin.width>ee?"48px":"32px",display:"flex","justify-content":"space-between",top:0,"z-index":1,background:"#000000",color:"#FFFFFF",width:"100%"};o.style=X(a),document.getElementById("".concat(r,"-wrap")).insertBefore(o,document.getElementById(r))}else document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&document.getElementById("".concat(this.jSPlugin.id,"-headControl")).parentElement.removeChild(document.getElementById("".concat(this.jSPlugin.id,"-headControl")));if(this.isNeedRenderFooter)if(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")))document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).innerHTML='<div id="'.concat(this.jSPlugin.id,"-audioControls\" style='display:flex;justify-content: space-between;height: ").concat(this.jSPlugin.width>ee?48:32,"px;width:100%;'><div id='").concat(this.jSPlugin.id,"-audioControls-left' style='display:flex'></div><div id='").concat(this.jSPlugin.id,"-audioControls-right' style='display:flex'></div></div>"));else{var s=document.createElement("div");s.setAttribute("id","".concat(this.jSPlugin.id,"-ez-iframe-footer-container")),s.setAttribute("class","ez-iframe-footer-container");var l={"min-height":this.jSPlugin.width>ee?"48px":"32px","max-height":this.jSPlugin.width>ee?"96px":"80px",position:"relative","margin-top":this.jSPlugin.width>ee?"-48px":"-32px",display:"flex","flex-wrap":"wrap","justify-content":"space-between",top:0,"z-index":1,color:"#FFFFFF",width:"100%"};s.style=X(l),s.innerHTML='<div id="'.concat(this.jSPlugin.id,"-audioControls\" style='display:flex;height:").concat(this.jSPlugin.width>ee?48:32,"px;justify-content: space-between;width:100%;'><div id='").concat(this.jSPlugin.id,"-audioControls-left' style='display:flex'></div><div id='").concat(this.jSPlugin.id,"-audioControls-right' style='display:flex'></div></div>"),f(s,document.getElementById(r))}else document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).parentElement.removeChild(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")));this.isNeedRenderHeader&&document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&(document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.background=n.backgroundColor,document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.color=n.color,n.btnList.map((function(t,n){t.isrender&&e.renderHeader(t.iconId,t.part)}))),this.isNeedRenderFooter&&document.getElementById("".concat(this.jSPlugin.id,"-audioControls"))&&(document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.background=i.backgroundColor,document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.color=i.color,i.btnList.map((function(t,n){t.isrender&&e.renderFooter(t.iconId,t.part)}))),(S.findIndex(this.themeData.header.btnList,(function(e){return"cloudRec"===e.iconId&&1===e.isrender||"rec"===e.iconId&&1===e.isrender}))>=0||this.isMobile&&-1!==v(this.jSPlugin.url).type.indexOf("rec"))&&!this.jSPlugin.disabledTimeLine&&(this.isMobile?this.Rec=new L(this.jSPlugin):this.Rec=new x(this.jSPlugin)),(S.findIndex(this.themeData.header.btnList,(function(e){return"pantile"===e.iconId&&1===e.isrender}))>=0||this.isMobile&&-1!==v(this.jSPlugin.url).type.indexOf("live"))&&!this.jSPlugin.disabledPTZ?(this.MobilePtz=new W(this.jSPlugin),this.Ptz=new M(this.jSPlugin)):this.Ptz=new M(this.jSPlugin),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange"].forEach((function(t){window.addEventListener(t,(function(t){return i=(n=e.decoderState.state).expend,r=n.webExpend,void(document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||(e.jSPlugin.jSPlugin.JS_Resize(e.jSPlugin.width,e.jSPlugin.height),i&&e.setDecoderState({expend:!1}),r&&e.setDecoderState({webExpend:!1})));var n,i,r}))})),this.inited=!0,this.getDeviceInfo()}},{key:"getDeviceInfo",value:function(){var e=this;y(this.jSPlugin.env.domain+"/api/lapp/device/info","POST",{accessToken:this.jSPlugin.accessToken,deviceSerial:v(this.jSPlugin.url).deviceSerial},0,(function(t){200==t.code&&t.data&&(document.getElementById("".concat(e.jSPlugin.id,"-deviceName-content"))&&(document.getElementById("".concat(e.jSPlugin.id,"-deviceName-content")).style.maxWidth="160px",document.getElementById("".concat(e.jSPlugin.id,"-deviceName-content")).style.overflow="hidden",document.getElementById("".concat(e.jSPlugin.id,"-deviceName-content")).style.textOverflow="ellipsis",document.getElementById("".concat(e.jSPlugin.id,"-deviceName-content")).innerHTML=t.data.deviceName),document.getElementById("".concat(e.jSPlugin.id,"-deviceID-content"))&&(document.getElementById("".concat(e.jSPlugin.id,"-deviceID-content")).style.maxWidth="160px",document.getElementById("".concat(e.jSPlugin.id,"-deviceID-content")).style.overflow="hidden",document.getElementById("".concat(e.jSPlugin.id,"-deviceID-content")).style.textOverflow="ellipsis",document.getElementById("".concat(e.jSPlugin.id,"-deviceID-content")).innerHTML=v(e.jSPlugin.url).deviceSerial))}))}}]),e}(),ne=function(){function e(t){s(this,e),this.params=t,this.state={}}return c(e,[{key:"dclog",value:function(e){var t=this.params,n="https://log.ys7.com/statistics.do?";if(t.env)switch(t.env){case"test12":n="https://test12dclog.ys7.com/statistics.do?";break;case"online":break;default:n=t.env}var i=Object.assign({},{systemName:"open_website_monitor"},{bn:"ezuikit-js"},e,{un:e.url},{st:(new Date).getTime(),h:window.location.pathname});Object.keys(i).forEach((function(e,t){var r=i[e];"string"==typeof i[e]&&(r=i[e].replace("%","%25")),void 0!==i[e]&&(n+="".concat(0===t?"":"&").concat(e,"=").concat(encodeURIComponent(r)))})),(new Image).src=n}}]),e}();z="undefined"!=typeof window?window:void 0,G=function(e,t){var n;function i(e,t){for(var n=document.getElementsByTagName("head")[0].getElementsByTagName("script"),i=!1,r=0;r<n.length;r++)n[r].getAttribute("src")==e&&(i=!0,t());if(!i){var o=document.createElement("script");o.setAttribute("src",e),o.onload=t,document.getElementsByTagName("head")[0].appendChild(o)}}function r(e,t,n,i,r,o){var a=e,s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState&&200==s.status){var e=JSON.parse(s.responseText);r(e)}},s.open(t,a,!0);var l=new FormData;for(var c in n)l.append(c,n[c]);s.send(l)}var o={EZUIKitPlayer:void 0,EZUIKitTalk:void 0,opt:{apiDomain:"https://open.ys7.com/api/lapp/live/talk/url",filePath:"https://open.ys7.com/assets/ezuikit_v2.6.4",accessToken:"",url:"",deviceSerial:"",channelNo:"",id:"",talkLink:"",rtcUrl:"",ttsUrl:"",stream:"",isReliesReady:!1,template:"simple",plugin:[],audio:1,autoplay:1,videoLoading:!1},state:(n={countTimer:void 0,recodeTime:0,recodeTimer:void 0},u(n,"recodeTime",0),u(n,"fetchDefaultList",!1),u(n,"page",0),u(n,"pageSize",5),n),handleTalkSuccess:function(){},handleTalkError:function(){}},s="https://open.ys7.com",l=s,c=function(t){var n=this;this.opt={id:t.id,apiDomain:s+"/api/lapp/live/talk/url",filePath:l+"/assets/ezuikit_v2.6.4",decoderVersion:"",accessToken:"",url:"",deviceSerial:"",channelNo:"",talkLink:"",rtcUrl:"",ttsUrl:"",stream:"",isReliesReady:!1,template:"simple",plugin:[],audio:1,autoplay:1,fullScreenStatus:0,bSupporDoubleClickFull:!0,videoLoading:!1},this.params=t,t.id&&(this.opt.id=t.id),t.accessToken&&(this.opt.accessToken=t.accessToken),void 0!==t.audio&&(this.opt.audio=t.audio),void 0!==t.decoderVersion&&(this.opt.decoderVersion=t.decoderVersion),void 0!==t.env&&(void 0!==t.env.domain&&(s=t.env.domain,this.opt.apiDomain=s+"/api/lapp/live/talk/url"),void 0!==t.env.filePathDomain&&(l=t.env.filePathDomain,this.opt.filePathDomain=t.env.filePathDomain)),t.url&&(this.opt.url=t.url,this.opt.deviceSerial=t.url.split("/")[3],this.opt.channelNo=t.url.split("/")[4].split(".")[0]),void 0!==t.template&&(this.opt.template=t.template),t.plugin&&(this.opt.plugin=t.plugin),void 0!==t.autoplay&&(this.opt.autoplay=t.autoplay?1:0),void 0!==t.bSupporDoubleClickFull&&(this.opt.bSupporDoubleClickFull=t.bSupporDoubleClickFull),void 0!==t.handleTalkSuccess&&(e.EZUIKit.handleTalkSuccess=t.handleTalkSuccess),void 0!==t.handleTalkError&&(e.EZUIKit.handleTalkError=t.handleTalkError);var c=this.opt.id,u=document.getElementById(c);u.style.fontSize=0,u.style.overflowY="auto",u.style.position="relative";var d=document.createElement("iframe");d.src=function(){switch(n.opt.template){case"simple":var e=s+"/ezopen/h5/iframe?bSupporDoubleClickFull=0&url="+n.opt.url.replace("?","&")+"&autoplay="+n.opt.autoplay+"&audio="+n.opt.audio+"&accessToken="+t.accessToken+"&templete=0&id="+c+"&decoderVersion="+n.opt.decoderVersion;return void 0!==t.controls&&t.controls&&(console.log("typeof",a(t.controls)),t.controls.length>0&&(e+="&controls="+t.controls.join(","))),t.websocketParams&&(e+="&websocketParams="+JSON.stringify(t.websocketParams)),e;case"standard":return s+"/ezopen/h5/iframe?bSupporDoubleClickFull=0&url="+n.opt.url.replace("?","&")+"&autoplay="+n.opt.autoplay+"&audio="+n.opt.audio+"&accessToken="+t.accessToken+"&templete=1&id="+c+"&decoderVersion="+n.opt.decoderVersion;case"security":return s+"/ezopen/h5/iframe_se?bSupporDoubleClickFull=0&url="+n.opt.url.replace("?","&")+"&autoplay="+n.opt.autoplay+"&audio="+n.opt.audio+"&accessToken="+t.accessToken+"&templete=0&id="+c+"&decoderVersion="+n.opt.decoderVersion;case"theme":return e=s+"/jssdk/theme.html?url=".concat(t.url,"&accessToken=").concat(t.accessToken,"&id=").concat(c,"&isMobile=").concat(t.isMobile),void 0!==t.isMobile&&(e+="&isMobile="+t.isMobile),void 0!==t.autoplay&&(e+="&autoplay="+t.autoplay),void 0!==t.domain&&"https://test12open.ys7.com"==t.domain&&(e+="&env=test12"),void 0!==t.env&&void 0!==t.env.domain&&"https://test12open.ys7.com"==t.env.domain&&(e+="&env=test12"),void 0!==t.header&&(e+="&header="+t.header),e;default:return s+"/ezopen/h5/iframe?bSupporDoubleClickFull=0&url="+n.opt.url.replace("?","&")+"&autoplay="+n.opt.autoplay+"&audio="+n.opt.audio+"&accessToken="+t.accessToken+"&templete=0&id="+c+"&decoderVersion="+n.opt.decoderVersion}}();var A=document.getElementById(c).offsetHeight,h=document.getElementById(c).offsetWidth;function p(e){n.opt.fullScreenStatus=e?1:0,t.fullScreenChangeCallBack&&t.fullScreenChangeCallBack({data:e,id:n.opt.id})}t.height&&(A=parseInt(t.height),/\%$/.test(t.height)&&(h=document.getElementById(c).offsetWidth*(parseInt(t.height)/100))),t.width&&(h=parseInt(t.width),/\%$/.test(t.width)&&(h=document.getElementById(c).offsetWidth*(parseInt(t.width)/100))),d.width=h,d.height=A,d.id="EZUIKitPlayer-"+c,d.setAttribute("allowfullscreen",!0),d.setAttribute("allow","autoplay"),d.setAttribute("frameborder",0),u.appendChild(d),i(n.opt.filePath+"/js/jquery.js",(function(){i("https://open.ys7.com/assets/layer/layer.js",(function(){if(g().headerContainer){var a=document.createElement("div");a.setAttribute("class","panel-top");var l=document.createElement("div");if(l.setAttribute("class","contros"),a.appendChild(l),u.insertBefore(a,d),g().capturePictureModule){var c=document.createElement("span");c.innerHTML='<span title="截图"><svg id="capturePicture" title="截图" t="1578882764585" class="icon" viewBox="0 0 1024 1024" version="1.1"  xmlns="http://www.w3.org/2000/svg" p-id="5958" width="24" height="24">  <path    d="M887.296 315.904h-153.6c-51.2 0-68.096-102.4-119.296-102.4H392.704c-34.304 0-51.2 102.4-102.4 102.4h-153.6c-29.696 0-51.2 21.504-51.2 51.2v439.296c0 25.6 21.504 47.104 51.2 47.104h751.104c29.696 0 51.2-21.504 51.2-51.2v-435.2c-0.512-30.208-21.504-51.2-51.712-51.2zM512 768c-115.2 0-204.8-89.6-204.8-200.704s89.6-200.704 204.8-200.704 204.8 89.6 204.8 200.704-93.696 200.704-204.8 200.704z m247.296-354.304c-12.8 0-25.6-12.8-25.6-25.6s12.8-25.6 25.6-25.6 25.6 12.8 25.6 25.6c0 17.408-12.8 25.6-25.6 25.6zM256 264.704c0-8.704-8.704-16.896-16.896-16.896h-51.2c-8.704 0-16.896 8.704-16.896 16.896V281.6H256v-16.896z m256 148.992c-85.504 0-153.6 68.096-153.6 153.6s68.096 153.6 153.6 153.6 153.6-68.096 153.6-153.6-68.096-153.6-153.6-153.6z"    fill="#ffffff" p-id="5959"></path></svg></span>',c.onclick=function(){n.capturePicture()},l.appendChild(c)}if(console.log("matchHeaderOpt().saveModule",g().saveModule),g().saveModule){var A=document.createElement("span");A.innerHTML='<span title="开始录像">  <svg id="startSave" t="1578882716693" class="icon" viewBox="0 0 1024 1024" version="1.1"    xmlns="http://www.w3.org/2000/svg" p-id="3782" width="24" height="24">    <path      d="M915.2 729.6l-128-76.8c-25.6-12.8-44.8-32-44.8-51.2V435.2c0-25.6 19.2-38.4 44.8-51.2l128-76.8c25.6-12.8 44.8 0 44.8 19.2V704c0 32-19.2 38.4-44.8 25.6z m-332.8 89.6H96c-51.2 0-89.6-38.4-89.6-89.6V332.8c0-51.2 38.4-89.6 89.6-89.6h486.4c51.2 0 89.6 38.4 89.6 89.6v396.8c0 51.2-38.4 89.6-89.6 89.6zM192 364.8c-32 6.4-57.6 32-64 64-12.8 57.6 38.4 115.2 96 102.4 32-6.4 57.6-32 64-70.4 12.8-57.6-38.4-108.8-96-96z m0 0"      p-id="3783" fill="#ffffff"></path>  </svg></span>',A.onclick=function(){n.startSave(),document.getElementById("startSave").setAttribute("class","icon hide"),document.getElementById("stopSave").setAttribute("class","icon")},l.appendChild(A);var h=document.createElement("span");h.innerHTML='<span title="结束录像"> <svg id="stopSave" t="1578882716693" class="icon hide" viewBox="0 0 1024 1024" version="1.1"   xmlns="http://www.w3.org/2000/svg" p-id="3782" width="24" height="24">   <path     d="M915.2 729.6l-128-76.8c-25.6-12.8-44.8-32-44.8-51.2V435.2c0-25.6 19.2-38.4 44.8-51.2l128-76.8c25.6-12.8 44.8 0 44.8 19.2V704c0 32-19.2 38.4-44.8 25.6z m-332.8 89.6H96c-51.2 0-89.6-38.4-89.6-89.6V332.8c0-51.2 38.4-89.6 89.6-89.6h486.4c51.2 0 89.6 38.4 89.6 89.6v396.8c0 51.2-38.4 89.6-89.6 89.6zM192 364.8c-32 6.4-57.6 32-64 64-12.8 57.6 38.4 115.2 96 102.4 32-6.4 57.6-32 64-70.4 12.8-57.6-38.4-108.8-96-96z m0 0"     p-id="3783" fill="red"></path> </svg> </span>',h.onclick=function(){n.stopSave(),document.getElementById("stopSave").setAttribute("class","icon hide"),document.getElementById("startSave").setAttribute("class","icon")},l.appendChild(h)}if(g().zoomModule){var p=document.createElement("span");p.innerHTML='<span title="开启电子放大">  <svg id="enableZoom" t="1578882639834" class="icon" viewBox="0 0 1000 1000" version="1.1"    xmlns="http://www.w3.org/2000/svg" p-id="2227" width="24" height="24">    <path      d="M830.6119 441.1089c0-193.7756-157.0939-350.8641-350.8775-350.8641S128.8559 247.3333 128.8559 441.1089 285.9508 791.972 479.7344 791.972 830.6119 634.8845 830.6119 441.1089zM483.2821 710.4863c-146.7975 0-265.8187-118.9953-265.8187-265.8088S336.4847 178.8697 483.2821 178.8697s265.8197 118.9953 265.8197 265.8078S630.0796 710.4863 483.2821 710.4863zM770.6031 653.5739l-72.6417 75.9485 141.6917 160.1814 82.0737-90.0739L770.6031 653.5739zM527.5849 267.4727h-88.60655762279428v132.90489048425167H306.0690340253259v88.60292721534799h132.90933675248866v132.9038911617923h88.60655762279428V488.9794719180395h132.90933675248866v-88.60292721534799H527.5849284006089V267.4726535408993z"      p-id="2228" fill="#ffffff"></path>  </svg></span>',p.onclick=function(){n.enableZoom(),document.getElementById("enableZoom").setAttribute("class","icon hide"),document.getElementById("closeZoom").setAttribute("class","icon")},l.appendChild(p);var f=document.createElement("span");f.innerHTML='<span title="关闭电子放大">  <svg id="closeZoom" t="1578882639834" class="icon hide" viewBox="0 0 1000 1000" version="1.1"    xmlns="http://www.w3.org/2000/svg" p-id="2227" width="24" height="24">    <path      d="M830.6119 441.1089c0-193.7756-157.0939-350.8641-350.8775-350.8641S128.8559 247.3333 128.8559 441.1089 285.9508 791.972 479.7344 791.972 830.6119 634.8845 830.6119 441.1089zM483.2821 710.4863c-146.7975 0-265.8187-118.9953-265.8187-265.8088S336.4847 178.8697 483.2821 178.8697s265.8197 118.9953 265.8197 265.8078S630.0796 710.4863 483.2821 710.4863zM770.6031 653.5739l-72.6417 75.9485 141.6917 160.1814 82.0737-90.0739L770.6031 653.5739zM527.5849 267.4727h-88.60655762279428v132.90489048425167H306.0690340253259v88.60292721534799h132.90933675248866v132.9038911617923h88.60655762279428V488.9794719180395h132.90933675248866v-88.60292721534799H527.5849284006089V267.4726535408993z"      p-id="2228" fill="red"></path>  </svg></span>',f.onclick=function(){n.closeZoom(),document.getElementById("closeZoom").setAttribute("class","icon hide"),document.getElementById("enableZoom").setAttribute("class","icon")},l.appendChild(f)}}function m(){var e={footerContainer:!1,talkModule:!1,broadcastModule:!1,hdModule:!1,fullScreenModule:!1};switch(n.opt.template){case"simple":case"standard":var i;t.footer&&t.footer instanceof Array&&(e={footerContainer:!0,talkModule:-1!==(i=t.footer).indexOf("talk"),broadcastModule:-1!==i.indexOf("broadcast"),hdModule:-1!==i.indexOf("hd"),fullScreenModule:-1!==i.indexOf("fullScreen")});break;case"security":break;case"voice":e={footerContainer:!0,talkModule:!0,broadcastModule:!0,hdModule:!0,fullScreenModule:!0}}return e}function g(){var e={headerContainer:!1,capturePictureModule:!1,saveModule:!1,zoomModule:!1};switch(n.opt.template){case"simple":if(t.header&&t.header instanceof Array){var i=t.header;e={headerContainer:!0,capturePictureModule:-1!==i.indexOf("capturePicture"),saveModule:-1!==i.indexOf("save"),zoomModule:-1!==i.indexOf("zoom")}}break;case"standard":case"security":break;case"voice":e={headerContainer:!0,capturePictureModule:!0,saveModule:!0,zoomModule:!0}}return e}if(m().footerContainer||-1!==n.opt.plugin.indexOf("talk")){var v=n.opt.filePath+"/npm/css/recoder.css",y=n.opt.filePath+"/npm/js/recoder.js",b=n.opt.filePath+"/recorder.js";if(function(e,t){for(var n=document.getElementsByTagName("head")[0].getElementsByTagName("link"),i=!1,r=0;r<n.length;r++)n[r].getAttribute("href")==e&&(i=!0);if(!i){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=e,o.onload=t,document.getElementsByTagName("head")[0].appendChild(o)}}(v,(function(){})),i(y,(function(){i(b,(function(){}))})),(-1!==n.opt.plugin.indexOf("talk")||m().talkModule)&&r(n.opt.apiDomain,"POST",{accessToken:n.opt.accessToken,deviceSerial:n.opt.deviceSerial,channelNo:n.opt.channelNo},0,(function(t){if(console.log("data",t),200==t.code){var r=t.data;if(r){var a=r.rtcUrl;-1===a.indexOf("ws")&&(a=a.replace("https","wss").replace("rtcgw","rtcgw-ws")),n.opt.rtcUrl=a,n.opt.ttsUrl="tts://"+r.ttsUrl;var s="talk://"+n.opt.deviceSerial+":0:"+n.opt.channelNo+":cas.ys7.com:6500";if(n.opt.talkLink=n.opt.ttsUrl+"/"+s,n.opt.stream=r.stream,console.log("_this.opt",n.opt),!n.opt.isReliesReady){var l=n.opt.filePath+"/npm/js/adapeter.js",c=n.opt.filePath+"/npm/js/janus.js",u=n.opt.filePath+"/npm/js/tts.js";console.log("加载jquery.js"),i(l,(function(){console.log("加载adapeter.js"),i(c,(function(){console.log("加载janus.js"),i(u,(function(){console.log("加载tts.js"),n.opt.isReliesReady=!0}))}))}))}if(!document.getElementById("audioleft")){var d=document.createElement("div");d.style.display="none",d.id="audioleft",document.body.appendChild(d)}if(!document.getElementById("audioright")){var A=document.createElement("div");A.style.display="none",A.id="audioright",document.body.appendChild(A)}}}o.opt=n.opt,e.EZUIKit&&(e.EZUIKit.opt=n.opt)})),m().footerContainer){var C=function(e,t){if(clearInterval(o.state.countTimer),"add"===e){var n=t;o.state.countTimer=setInterval((function(){++n,document.getElementById("time-area").innerHTML=i(n)}),1e3)}else"sub"===e?(n=t,o.state.countTimer=setInterval((function(){n>0?(n--,document.getElementById("time-area").innerHTML=i(n)):(clearInterval(o.state.countTimer),o.state.countTimer=void 0,console.log("倒计时结束，开启声音"))}),1e3)):"destory"===e&&(clearInterval(o.state.countTimer),o.state.countTimer=void 0,document.getElementById("time-area").innerHTML="00:00");function i(e){var t,n,i,r=parseInt(e),o=0,a=0;return r>59&&(o=parseInt(r/60),r=parseInt(r%60),o>59&&(a=parseInt(o/60),o=parseInt(o%60))),t=parseInt(r)>9?parseInt(r):"0"+parseInt(r),n=parseInt(o)>9?parseInt(o):"0"+parseInt(o),i=parseInt(a)>9?parseInt(a):"0"+parseInt(a),a>0?i+":"+n+":"+t:o>0?n+":"+t:"00:"+t}},_=document.createElement("div");if(_.setAttribute("class","audio-controls"),u.appendChild(_),m().hdModule||m().fullScreenModule){var E=document.createElement("div");if(E.setAttribute("class","contros"),_.appendChild(E),m().hdModule){var w=document.createElement("span");w.setAttribute("id","video-hd"),w.innerHTML=-1===n.opt.url.indexOf(".hd")?"标清":"高清",w.onclick=function(){if(n.opt.videoLoading)return layer.msg("视频加载中，请稍后"),!1;var e=n.stop();n.opt.videoLoading=!0,e.then((function(e){n.opt.videoLoading=!1,-1===n.opt.url.indexOf(".hd")?(n.opt.url=n.opt.url.replace(".live",".hd.live"),w.innerHTML=-1===n.opt.url.indexOf(".hd")?"标清":"高清"):(n.opt.url=n.opt.url.replace(".hd.live",".live"),w.innerHTML=-1===n.opt.url.indexOf(".hd")?"标清":"高清"),n.play(n.opt.url)})).catch((function(e){console.log("error",e)}))},E.appendChild(w)}if(m().fullScreenModule){var T=document.createElement("span");T.setAttribute("class","hide"),T.setAttribute("id","ezuikit-open-sound"),T.setAttribute("title","打开声音"),T.setAttribute("style","vertical-align: top;"),T.innerHTML='<svg t="1590476263239" class="icon" viewBox="0 0 1178 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2273" width="16" height="16"><path d="M665.6 51.2 665.6 51.2c-10.24-30.72-40.96-51.2-71.68-51.2-5.12 0-15.36 0-20.48 5.12l0 0L358.4 153.6 51.2 209.92l0 0C20.48 220.16 0 250.88 0 281.6 0 286.72 0 291.84 0 307.2l0 0 0 409.6 0 0c0 15.36 0 20.48 0 25.6 0 30.72 20.48 61.44 51.2 71.68l0 0L358.4 870.4l97.28 71.68 107.52 76.8 0 0c5.12 5.12 15.36 5.12 25.6 5.12 40.96 0 76.8-35.84 76.8-76.8 0-10.24 0-10.24 0-25.6l0 0L665.6 51.2zM563.2 870.4l-153.6-102.4-307.2-51.2L102.4 307.2l307.2-51.2 153.6-102.4L563.2 870.4z" p-id="2274" fill="#FF0000"></path><path d="M1049.6 537.6l112.64-112.64c20.48-20.48 20.48-56.32 0-76.8-20.48-20.48-56.32-20.48-76.8 0L972.8 460.8l-112.64-112.64c0 0 0 0 0 0-20.48-20.48-56.32-20.48-76.8 0 0 0 0 0 0 0-20.48 20.48-20.48 56.32 0 76.8l112.64 112.64-112.64 112.64c-20.48 20.48-20.48 56.32 0 76.8 20.48 20.48 56.32 20.48 76.8 0L972.8 614.4l112.64 112.64c20.48 20.48 56.32 20.48 76.8 0s20.48-56.32 0-76.8L1049.6 537.6z" p-id="2275" fill="#FF0000"></path></svg>',T.onclick=function(){n.openSound(0),T.setAttribute("class","hide"),S.setAttribute("class","")};var S=document.createElement("span");T.setAttribute("id","ezuikit-close-sound"),S.setAttribute("class","hide"),S.setAttribute("title","关闭声音"),S.setAttribute("style","vertical-align: top;"),S.innerHTML='<svg t="1590414410633" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20545" width="16" height="16"><path d="M840.533333 98.133333c-17.066667-17.066667-42.666667-17.066667-59.733333 0-17.066667 17.066667-17.066667 42.666667 0 59.733334C883.2 256 938.666667 392.533333 938.666667 533.333333c0 140.8-55.466667 277.333333-157.866667 375.466667-17.066667 17.066667-17.066667 42.666667 0 59.733333 8.533333 8.533333 21.333333 12.8 29.866667 12.8 8.533333 0 21.333333-4.266667 29.866666-12.8 115.2-110.933333 183.466667-268.8 183.466667-435.2 0-166.4-68.266667-324.266667-183.466667-435.2zM571.733333 12.8c-17.066667-8.533333-34.133333-4.266667-46.933333 8.533333L281.6 256H42.666667c-25.6 0-42.666667 17.066667-42.666667 42.666667v426.666666c0 25.6 17.066667 42.666667 42.666667 42.666667h238.933333l243.2 234.666667c8.533333 8.533333 17.066667 12.8 29.866667 12.8 4.266667 0 12.8 0 17.066666-4.266667 17.066667-8.533333 25.6-21.333333 25.6-38.4V51.2c0-17.066667-8.533333-34.133333-25.6-38.4zM512 870.4l-183.466667-179.2c-8.533333-4.266667-17.066667-8.533333-29.866666-8.533333H85.333333V341.333333h213.333334c12.8 0 21.333333-4.266667 29.866666-12.8L512 153.6v716.8z" p-id="20546" fill="#ffffff"></path><path d="M759.466667 349.866667c-12.8-21.333333-38.4-25.6-59.733334-8.533334-21.333333 12.8-25.6 38.4-8.533333 59.733334 21.333333 29.866667 34.133333 76.8 34.133333 123.733333 0 46.933333-12.8 93.866667-34.133333 123.733333-12.8 21.333333-8.533333 46.933333 8.533333 59.733334 8.533333 4.266667 17.066667 8.533333 25.6 8.533333 12.8 0 25.6-4.266667 34.133334-17.066667 34.133333-46.933333 51.2-106.666667 51.2-174.933333 0-68.266667-17.066667-128-51.2-174.933333z" p-id="20547" fill="#ffffff"></path></svg>',S.onclick=function(){n.closeSound(0),T.setAttribute("class",""),S.setAttribute("class","hide")},E.appendChild(T),E.appendChild(S)}if(1==n.opt.audio?S.setAttribute("class",""):(T.setAttribute("class",""),n.closeSound(0)),m().fullScreenModule){var k=document.createElement("span");k.setAttribute("title","全屏"),k.setAttribute("style","vertical-align: top;"),k.innerHTML='<svg id="fullScreen" t="1578020167938" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5035" width="16" height="16"> <path d="M348.373333 625.706667l-128 128-64 64v-128a33.28 33.28 0 0 0-35.413333-35.413334A33.493333 33.493333 0 0 0 85.333333 689.706667v213.333333A33.706667 33.706667 0 0 0 120.96 938.666667h213.333333a35.626667 35.626667 0 0 0 0-71.04h-128l64-64 128-128a35.2 35.2 0 0 0-49.92-49.92zM206.293333 156.373333h128a33.28 33.28 0 0 0 35.413334-35.413333A33.493333 33.493333 0 0 0 334.293333 85.333333H113.706667c-7.04 0-14.08 7.04-21.333334 14.293334a26.026667 26.026667 0 0 0-7.04 21.333333v213.333333a33.493333 33.493333 0 0 0 35.626667 35.413334 33.28 33.28 0 0 0 35.413333-35.413334v-128l192 192a35.2 35.2 0 0 0 49.92-49.92zM903.04 85.333333h-213.333333a33.493333 33.493333 0 0 0-35.413334 35.626667 33.28 33.28 0 0 0 35.413334 35.413333h128l-64 64-128 128a35.2 35.2 0 0 0 49.92 49.92l128-128 64-64v128a35.626667 35.626667 0 0 0 71.04 0v-213.333333A33.706667 33.706667 0 0 0 903.04 85.333333zM903.04 654.293333a33.28 33.28 0 0 0-35.413333 35.413334v128l-64-64-128-128a35.2 35.2 0 0 0-49.92 49.92l128 128 64 64h-128a35.626667 35.626667 0 0 0 0 71.04h213.333333A33.706667 33.706667 0 0 0 938.666667 903.04v-213.333333a33.493333 33.493333 0 0 0-35.626667-35.413334z" p-id="5036" fill="#ffffff"></path></svg>',k.onclick=function(){n.fullScreen()},E.appendChild(k)}}if(m().talkModule){var I=document.createElement("div"),B=document.createElement("div");I.setAttribute("class","ptp-talk off"),I.innerHTML='<span title="对讲"><svg t="1581930496966" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"  p-id="1641" width="16" height="16">  <path    d="M715.648 647.872c-30.208-22.336-61.568 39.36-100.992 77.44-39.36 38.08-34.112 31.488-123.392-17.088S311.488 540.224 280 491.648C248.448 443.072 265.472 424.704 265.472 424.704s78.72-62.976 97.152-81.344c18.368-18.368 13.12-30.208 13.12-30.208l-128.64-190.144c-23.616-5.184-64.32 5.12-128.576 57.6C54.208 233.088 30.592 353.856 151.296 575.68c120.768 221.824 347.84 330.752 485.568 374.08 137.856 43.328 228.416-61.696 249.408-103.68 21.056-41.984 13.12-85.312 13.12-85.312S745.856 670.208 715.648 647.872z"    p-id="1642" fill="#ffffff"></path>  <path    d="M715.328 64C580.992 64 472.192 172.864 472.192 307.2s108.8 243.2 243.136 243.2 243.2-108.864 243.2-243.2S849.6 64 715.328 64zM715.328 461.056c-84.992 0-153.856-68.864-153.856-153.856s68.864-153.856 153.856-153.856 153.856 68.928 153.856 153.856S800.32 461.056 715.328 461.056z"    p-id="1643" fill="#ffffff"></path>  <path    d="M777.472 277.376c-18.176 0-32.96-14.784-32.96-33.024 0-8.448 3.136-16.064 8.32-21.888-11.52-5.12-24.128-8-37.568-8-51.2 0-92.672 41.472-92.672 92.736s41.472 92.736 92.672 92.736S808.064 358.4 808.064 307.2c0-13.696-3.072-26.688-8.384-38.4C793.728 274.112 786.048 277.376 777.472 277.376zM715.328 340.928c-18.624 0-33.664-15.104-33.664-33.728 0-18.624 15.04-33.728 33.664-33.728 18.688 0 33.728 15.104 33.728 33.728C749.056 325.824 734.016 340.928 715.328 340.928z"    p-id="1644" fill="#ffffff"></path> </svg> </span> <span>开启对讲</span>',I.onclick=function(){if(console.log("EZUIKit.state.countTimer",o.state.countTimer),o.state.countTimer)return e.layer.msg("语音设备正忙，请稍后重试"),!1;C("add",0),console.log("开始对讲，关闭声音"),n.closeSound(0),console.log(n.opt),n.startTalk(),this.setAttribute("class","ptp-talk off hide"),B.setAttribute("class","ptp-talk on")},B.setAttribute("class","ptp-talk on hide"),B.innerHTML='<span title="对讲"> <svg t="1581930496966" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"    p-id="1641" width="16" height="16">    <path      d="M715.648 647.872c-30.208-22.336-61.568 39.36-100.992 77.44-39.36 38.08-34.112 31.488-123.392-17.088S311.488 540.224 280 491.648C248.448 443.072 265.472 424.704 265.472 424.704s78.72-62.976 97.152-81.344c18.368-18.368 13.12-30.208 13.12-30.208l-128.64-190.144c-23.616-5.184-64.32 5.12-128.576 57.6C54.208 233.088 30.592 353.856 151.296 575.68c120.768 221.824 347.84 330.752 485.568 374.08 137.856 43.328 228.416-61.696 249.408-103.68 21.056-41.984 13.12-85.312 13.12-85.312S745.856 670.208 715.648 647.872z"      p-id="1642" fill="#ff0000"></path>    <path      d="M715.328 64C580.992 64 472.192 172.864 472.192 307.2s108.8 243.2 243.136 243.2 243.2-108.864 243.2-243.2S849.6 64 715.328 64zM715.328 461.056c-84.992 0-153.856-68.864-153.856-153.856s68.864-153.856 153.856-153.856 153.856 68.928 153.856 153.856S800.32 461.056 715.328 461.056z"      p-id="1643" fill="#ff0000"></path>    <path      d="M777.472 277.376c-18.176 0-32.96-14.784-32.96-33.024 0-8.448 3.136-16.064 8.32-21.888-11.52-5.12-24.128-8-37.568-8-51.2 0-92.672 41.472-92.672 92.736s41.472 92.736 92.672 92.736S808.064 358.4 808.064 307.2c0-13.696-3.072-26.688-8.384-38.4C793.728 274.112 786.048 277.376 777.472 277.376zM715.328 340.928c-18.624 0-33.664-15.104-33.664-33.728 0-18.624 15.04-33.728 33.664-33.728 18.688 0 33.728 15.104 33.728 33.728C749.056 325.824 734.016 340.928 715.328 340.928z"      p-id="1644" fill="#ff0000"></path>  </svg> </span><span>关闭对讲</span>',B.onclick=function(){console.log(n.opt),n.stopTalk(),C("destory",0),n.openSound(0),this.setAttribute("class","ptp-talk on hide"),I.setAttribute("class","ptp-talk off")},_.appendChild(I),_.appendChild(B)}if(m().broadcastModule){var x=function e(t){r(s+"/api/lapp/voice/query","POST",{accessToken:n.opt.accessToken,pageStart:t,pageSize:o.state.pageSize,default:o.state.fetchDefaultList?"true":"false"},0,(function(n){console.log("data",n),200==n.code&&(D(n.data,5),o.state.page=n.page.page,0!=t||0!=n.data.length||o.state.fetchDefaultList||(o.state.fetchDefaultList=!0,e(0)))}))},D=function(e){if(console.log("renderVoliceList",e),e&&e.length>0){for(var t=0;t<e.length;t++){var n=document.createElement("li");n.innerHTML="<li class='voice-item' id='voice-item-"+t+"' data-time="+(e[t].duration||20)+" data-url="+e[t].fileUrl+">"+(e[t].voiceName.length>10?e[t].voiceName.substr(0,10)+"...":e[t].voiceName)+"</li>",document.getElementsByClassName("voice-list-ul")[0].append(n),n.onclick=function(e){console.log("点击元素",e.target,e.target.dataset.url);var t=e.target.dataset.url,n=e.target.dataset.time;P(t,n)}}e.length===o.state.pageSize?document.getElementById("voice-list-end").innerHTML="向下滚动加载更多":document.getElementById("voice-list-end").innerHTML="没有更多数据了"}},P=function(t,i){console.log("播放语音",t,i),r(s+"/api/lapp/voice/send","POST",{accessToken:n.opt.accessToken,deviceSerial:n.opt.deviceSerial,channelNo:n.opt.channelNo,fileUrl:t},0,(function(t){console.log("data.data",t.data),200==t.code?C("sub",parseInt(i)):"10001"==t.code?e.layer.msg("未找到当前语音"):e.layer.msg(t.msg||"发送失败，请稍后再试")}))},R=document.createElement("div"),j=document.createElement("div");R.setAttribute("class","broadcast off"),j.setAttribute("class","broadcast on hide"),R.innerHTML=' <span title="语音播报">  <svg t="1583561695846" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"    p-id="1126" width="16" height="16">    <path      d="M513.82044445 964.38044445c-8.192 0-15.47377778-2.73066667-21.84533334-8.192 0 0-46.42133333-41.87022222-99.21422222-86.47111112-89.20177778-73.728-117.41866667-88.29155555-123.79022222-90.112H35.04355555c-14.56355555 0-26.39644445-11.83288889-26.39644444-27.30666666V271.70133333c0-14.56355555 11.83288889-27.30666667 26.39644444-27.30666666H246.21511111c7.28177778-2.73066667 37.31911111-15.47377778 137.44355556-91.02222222 58.25422222-43.69066667 111.04711111-86.47111111 111.04711111-86.47111112 5.46133333-4.55111111 12.74311111-7.28177778 20.02488889-7.28177778 4.55111111 0 10.01244445 0.91022222 14.56355555 3.6408889 10.92266667 5.46133333 18.20444445 17.29422222 18.20444445 30.03733333v837.40444444c0 12.74311111-7.28177778 25.48622222-19.11466667 30.94755556-5.46133333 1.82044445-10.01244445 2.73066667-14.56355555 2.73066667zM270.79111111 724.992c19.11466667 0 48.24177778 8.192 167.48088889 106.496 16.384 13.65333333 33.67822222 28.21688889 51.88266667 43.69066667l5.46133333 4.55111111V139.71911111l-5.46133333 3.64088889c-22.75555555 17.29422222-44.60088889 34.58844445-65.536 50.06222222C293.54666667 291.72622222 264.41955555 299.008 245.30488889 299.008H82.37511111c-20.02488889 0-21.84533333 12.74311111-21.84533333 26.39644445V694.04444445c0 23.66577778 6.37155555 30.03733333 28.21688889 30.03733333h180.224l1.82044444 0.91022222z m520.64711111 162.01955555c-14.56355555 0-26.39644445-11.83288889-26.39644444-27.30666666 0-11.83288889 8.192-20.02488889 16.384-24.576 112.86755555-67.35644445 182.04444445-191.14666667 182.04444444-324.03911111 0-132.89244445-70.08711111-256.68266667-182.04444444-324.03911111-10.01244445-5.46133333-15.47377778-14.56355555-15.47377778-24.576 0-14.56355555 11.83288889-27.30666667 26.39644445-27.30666667 5.46133333 0 10.01244445 1.82044445 16.384 5.46133333 128.34133333 76.45866667 207.53066667 218.45333333 207.53066666 369.55022222 0 152.00711111-80.09955555 293.09155555-208.44088889 369.55022223-6.37155555 5.46133333-10.92266667 7.28177778-16.384 7.28177777z m-90.112-152.91733333c-14.56355555 0-26.39644445-11.83288889-26.39644444-27.30666667 0-10.01244445 4.55111111-18.20444445 12.74311111-23.66577777 61.89511111-34.58844445 100.12444445-100.12444445 100.12444444-171.12177778 0-70.08711111-37.31911111-134.71288889-96.48355555-170.21155555-8.192-4.55111111-12.74311111-13.65333333-12.74311111-23.66577778 0-14.56355555 11.83288889-27.30666667 26.39644444-27.30666667 4.55111111 0 11.83288889 2.73066667 15.47377778 4.55111111 74.63822222 44.60088889 121.96977778 127.43111111 121.96977778 215.72266667 0 90.112-48.24177778 173.85244445-125.61066667 218.45333333-1.82044445 0-9.10222222 4.55111111-15.47377778 4.55111111z"      fill="#ffffff" p-id="1127"></path>  </svg></span><span>语音播报</span>',R.onclick=function(){this.setAttribute("class","broadcast off hide"),j.setAttribute("class","broadcast on")},j.innerHTML='<div class="pop-hover">  <div class="pop-hover-content">    <div class="vioce-list" id="voice-list">      <ul class="voice-list-ul">      </ul>      <div id="voice-list-end"></div>    </div>    <div id="voice-custom" style="text-align: center;">自定义语音</div>  </div></div><span title="语音播报">  <svg t="1583561695846" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"    p-id="1126" width="16" height="16">    <path      d="M513.82044445 964.38044445c-8.192 0-15.47377778-2.73066667-21.84533334-8.192 0 0-46.42133333-41.87022222-99.21422222-86.47111112-89.20177778-73.728-117.41866667-88.29155555-123.79022222-90.112H35.04355555c-14.56355555 0-26.39644445-11.83288889-26.39644444-27.30666666V271.70133333c0-14.56355555 11.83288889-27.30666667 26.39644444-27.30666666H246.21511111c7.28177778-2.73066667 37.31911111-15.47377778 137.44355556-91.02222222 58.25422222-43.69066667 111.04711111-86.47111111 111.04711111-86.47111112 5.46133333-4.55111111 12.74311111-7.28177778 20.02488889-7.28177778 4.55111111 0 10.01244445 0.91022222 14.56355555 3.6408889 10.92266667 5.46133333 18.20444445 17.29422222 18.20444445 30.03733333v837.40444444c0 12.74311111-7.28177778 25.48622222-19.11466667 30.94755556-5.46133333 1.82044445-10.01244445 2.73066667-14.56355555 2.73066667zM270.79111111 724.992c19.11466667 0 48.24177778 8.192 167.48088889 106.496 16.384 13.65333333 33.67822222 28.21688889 51.88266667 43.69066667l5.46133333 4.55111111V139.71911111l-5.46133333 3.64088889c-22.75555555 17.29422222-44.60088889 34.58844445-65.536 50.06222222C293.54666667 291.72622222 264.41955555 299.008 245.30488889 299.008H82.37511111c-20.02488889 0-21.84533333 12.74311111-21.84533333 26.39644445V694.04444445c0 23.66577778 6.37155555 30.03733333 28.21688889 30.03733333h180.224l1.82044444 0.91022222z m520.64711111 162.01955555c-14.56355555 0-26.39644445-11.83288889-26.39644444-27.30666666 0-11.83288889 8.192-20.02488889 16.384-24.576 112.86755555-67.35644445 182.04444445-191.14666667 182.04444444-324.03911111 0-132.89244445-70.08711111-256.68266667-182.04444444-324.03911111-10.01244445-5.46133333-15.47377778-14.56355555-15.47377778-24.576 0-14.56355555 11.83288889-27.30666667 26.39644445-27.30666667 5.46133333 0 10.01244445 1.82044445 16.384 5.46133333 128.34133333 76.45866667 207.53066667 218.45333333 207.53066666 369.55022222 0 152.00711111-80.09955555 293.09155555-208.44088889 369.55022223-6.37155555 5.46133333-10.92266667 7.28177778-16.384 7.28177777z m-90.112-152.91733333c-14.56355555 0-26.39644445-11.83288889-26.39644444-27.30666667 0-10.01244445 4.55111111-18.20444445 12.74311111-23.66577777 61.89511111-34.58844445 100.12444445-100.12444445 100.12444444-171.12177778 0-70.08711111-37.31911111-134.71288889-96.48355555-170.21155555-8.192-4.55111111-12.74311111-13.65333333-12.74311111-23.66577778 0-14.56355555 11.83288889-27.30666667 26.39644444-27.30666667 4.55111111 0 11.83288889 2.73066667 15.47377778 4.55111111 74.63822222 44.60088889 121.96977778 127.43111111 121.96977778 215.72266667 0 90.112-48.24177778 173.85244445-125.61066667 218.45333333-1.82044445 0-9.10222222 4.55111111-15.47377778 4.55111111z"      fill="#ff0000" p-id="1127"></path>  </svg></span><span>语音播报</span>',j.onclick=function(){this.setAttribute("class","broadcast on hide"),R.setAttribute("class","broadcast off")},_.appendChild(R),_.appendChild(j),document.getElementById("voice-custom").onclick=function(){console.log("显示自定义语音"),L.setAttribute("class","speak off")},x(0);var L=document.createElement("div"),M=document.createElement("div");L.setAttribute("class","speak off hide"),M.setAttribute("class","speak on hide"),L.setAttribute("id","startSpeak"),M.setAttribute("id","stopSpeak"),L.innerHTML='<span title="按住说话">  <svg t="1581994757678" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"    p-id="1639" width="16" height="16">    <path      d="M757.059829 393.846154v-52.512821h262.564103v52.512821H757.059829z m-420.102564 481.367521v96.273504h175.042735a8.752137 8.752137 0 0 1 8.752137 8.752137v35.008547a8.752137 8.752137 0 0 1-8.752137 8.752137H109.401709a8.752137 8.752137 0 0 1-8.752136-8.752137v-35.008547a8.752137 8.752137 0 0 1 8.752136-8.752137h175.042735v-96.273504C129.767932 875.213675 4.376068 749.821812 4.376068 595.145299V463.863248a26.25641 26.25641 0 1 1 52.512821 0v113.777778c0 140.174222 113.637744 253.811966 253.811966 253.811965s253.811966-113.637744 253.811966-253.811965V463.863248a26.25641 26.25641 0 1 1 52.51282 0v131.282051c0 154.676513-125.391863 280.068376-280.068376 280.068376z m-26.25641-96.273504c-111.178393 0-201.299145-90.120752-201.299146-201.299145V201.299145C109.401709 90.120752 199.522462 0 310.700855 0s201.299145 90.120752 201.299145 201.299145v376.341881c0 111.178393-90.120752 201.299145-201.299145 201.299145z m691.418803-280.068376H757.059829v-52.512821h245.059829v52.512821z m-17.504273 105.025641H757.059829v-52.512821h227.555556v52.512821z m-17.504274 105.025641H757.059829v-52.512821h210.051282v52.512821z m-8.752137 105.025641H757.059829v-52.512821h201.299145v52.512821z m-17.504273 105.025641H757.059829v-52.512821h183.794872v52.512821z m-26.25641 105.025641H757.059829v-52.512821h157.538462v52.512821z"      p-id="1640" fill="#ffffff"></path>  </svg></span><span>按住说话</span>',M.innerHTML='<span title="按住说话"><svg t="1581994757678" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"  p-id="1639" width="16" height="16">  <path    d="M757.059829 393.846154v-52.512821h262.564103v52.512821H757.059829z m-420.102564 481.367521v96.273504h175.042735a8.752137 8.752137 0 0 1 8.752137 8.752137v35.008547a8.752137 8.752137 0 0 1-8.752137 8.752137H109.401709a8.752137 8.752137 0 0 1-8.752136-8.752137v-35.008547a8.752137 8.752137 0 0 1 8.752136-8.752137h175.042735v-96.273504C129.767932 875.213675 4.376068 749.821812 4.376068 595.145299V463.863248a26.25641 26.25641 0 1 1 52.512821 0v113.777778c0 140.174222 113.637744 253.811966 253.811966 253.811965s253.811966-113.637744 253.811966-253.811965V463.863248a26.25641 26.25641 0 1 1 52.51282 0v131.282051c0 154.676513-125.391863 280.068376-280.068376 280.068376z m-26.25641-96.273504c-111.178393 0-201.299145-90.120752-201.299146-201.299145V201.299145C109.401709 90.120752 199.522462 0 310.700855 0s201.299145 90.120752 201.299145 201.299145v376.341881c0 111.178393-90.120752 201.299145-201.299145 201.299145z m691.418803-280.068376H757.059829v-52.512821h245.059829v52.512821z m-17.504273 105.025641H757.059829v-52.512821h227.555556v52.512821z m-17.504274 105.025641H757.059829v-52.512821h210.051282v52.512821z m-8.752137 105.025641H757.059829v-52.512821h201.299145v52.512821z m-17.504273 105.025641H757.059829v-52.512821h183.794872v52.512821z m-26.25641 105.025641H757.059829v-52.512821h157.538462v52.512821z"    p-id="1640" fill="#ff0000"></path></svg></span><span>松开发送</span>',_.appendChild(L),_.appendChild(M),document.getElementById("voice-list").onscroll=function(e){var t=this.scrollHeight;console.log("sum",t,this.scrollTop,document.getElementById("voice-list").clientHeight),t<=this.scrollTop+this.clientHeight&&(console.log("拖动到底，执行加载",o.state.page),x(++o.state.page))};var O,F=document.createElement("div");F.setAttribute("class","time-area"),F.setAttribute("id","time-area"),F.innerHTML="00:00",_.appendChild(F),document.getElementById("startSpeak").onmousedown=function(){if(o.state.countTimer)return e.layer.msg("语音设备正忙，请稍后重试"),!1;var t;function i(n){var i=t.createMediaStreamSource(n);O=new e.Recorder(i)}console.log("按住说话"),L.setAttribute("class","speak off hide"),M.setAttribute("class","speak on"),function(){console.log("run init");try{e.AudioContext=e.AudioContext||e.webkitAudioContext,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia,e.URL=e.URL||e.webkitURL,t=new AudioContext,console.log("Audio context set up."),console.log("navigator.getUserMedia "+(navigator.getUserMedia?"available.":"not present!"))}catch(t){console.log("err",t),e.layer.msg("No web audio support in this browser!")}navigator.getUserMedia({audio:!0},i,(function(e){console.log("No live audio input: "+e)}))}(),C("add",0),setTimeout((function(){o.state.recodeTime=0,O&&O.record()}),1e3),o.state.recodeTimer&&clearInterval(o.state.recodeTimer),o.state.recodeTimer=setInterval((function(){o.state.recodeTime>=59?(n.stopTalk(),C("destory",0),this.setAttribute("class","ptp-talk on hide"),I.setAttribute("class","ptp-talk off"),e.layer.msg("不超过1分钟")):o.state.recodeTime=o.state.recodeTime+1}),1e3)},document.getElementById("stopSpeak").onmouseup=function(){console.log("松开发送"),M.setAttribute("class","speak on hide"),function(){if(C("destory",0),o.state.recodeTime<1)return e.layer.msg("说话时间过短"),clearInterval(o.state.recodeTimer),!1;clearInterval(o.state.recodeTimer),function(){try{O&&O.stop(),O&&O.exportWAV((function(t){if(console.log("wav_file",t),t.size<1e3)return e.layer.msg("录音失败，请重试"),o.state.recodeTime=0,!1;C("sub",o.state.recodeTime+2);var i=new FormData;i.append("voiceFile",t),i.append("accessToken",n.opt.accessToken),i.append("deviceSerial",n.opt.deviceSerial),i.append("channelNo",n.opt.channelNo),r(s+"/api/lapp/voice/sendonce","POST",{voiceFile:t,accessToken:n.opt.accessToken,deviceSerial:n.opt.deviceSerial,channelNo:n.opt.channelNo},0,(function(t){console.log("data.data",t.data),200==t.code?C("sub",o.state.recodeTime+2):"10001"==t.code?e.layer.msg("未找到当前语音"):e.layer.msg(t.msg||"发送失败，请稍后再试")}))})),O&&O.clear()}catch(e){console.log(e)}}()}()}}}}}))})),n=this,e.addEventListener("message",(function(e){e.origin;var i=n.opt.id;if(e.data.type)switch(e.data.type){case"openSound":i==e.data.id&&t.openSoundCallBack&&t.openSoundCallBack(e.data);break;case"closeSound":i==e.data.id&&t.closeSoundCallBack&&t.closeSoundCallBack(e.data);break;case"capturePicture":i==e.data.id&&t.capturePictureCallBack&&t.capturePictureCallBack(e.data);break;case"startSave":i==e.data.id&&t.startSaveCallBack&&t.startSaveCallBack(e.data);break;case"stopSave":i==e.data.id&&t.stopSaveCallBack&&t.stopSaveCallBack(e.data);break;case"fullScreen":i==e.data.id&&t.fullScreenCallBack&&t.fullScreenCallBack(e.data);break;case"getOSDTime":i==e.data.id&&t.getOSDTimeCallBack&&t.getOSDTimeCallBack(e.data);break;case"handleSuccess":i==e.data.id&&t.handleSuccess&&t.handleSuccess(e.data);break;case"handleError":i==e.data.id&&t.handleError&&t.handleError(e.data);break;case"dblclick":i==e.data.id&&n.opt.bSupporDoubleClickFull&&(0===n.opt.fullScreenStatus?n.fullScreen():n.cancelFullScreen());break;case"startTalk":n.startTalk(),n.closeSound();break;case"stopTalk":n.stopTalk(),n.openSound();break;case"clickEventHandle":console.log("event.data",e.data),t.clickEventHandle&&t.clickEventHandle(e.data);break;case"removeEventHandle":t.removeEventHandle&&t.removeEventHandle(e.data);break;case"esc":t.clickEventHandle&&t.clickEventHandle(e.data)}})),void 0!==document.fullScreen?document.addEventListener("fullscreenchange",(function(){p(document.fullscreen||!1)})):void 0!==document.webkitIsFullScreen?document.addEventListener("webkitfullscreenchange",(function(){p(document.webkitIsFullScreen||!1)})):void 0!==document.mozFullScreen&&document.addEventListener("mozfullscreenchange",(function(){p(document.mozFullScreen||!1)}))};return c.prototype.play=function(t){var n="EZUIKitPlayer-"+this.opt.id,i=document.getElementById(n).contentWindow;"object"===a(t)&&t.url&&(this.opt.url=t.url),"object"===a(t)&&t.accessToken&&(this.opt.accessToken=t.accessToken),"string"==typeof t&&(this.opt.url=t),i.postMessage({action:"play",accessToken:this.opt.accessToken,url:this.opt.url},s+"/ezopen/h5/iframe");var r=this;return this.opt.videoLoading=!0,new Promise((function(t,n){e.addEventListener("message",(function(e){r.opt.id==e.data.id&&"handleSuccess"===e.data.type&&(setTimeout((function(){r.opt.videoLoading=!1}),1e3),t(e.data))}))}))},c.prototype.stop=function(){var t="EZUIKitPlayer-"+this.opt.id;document.getElementById(t).contentWindow.postMessage("stop",s+"/ezopen/h5/iframe");var n=this;return new Promise((function(t,i){e.addEventListener("message",(function(e){n.opt.id==e.data.id&&"stop"===e.data.type&&t(e.data)}))}))},c.prototype.openSound=function(){var t="EZUIKitPlayer-"+this.opt.id;document.getElementById(t).contentWindow.postMessage("openSound",s+"/ezopen/h5/iframe");var n=this;return new Promise((function(t,i){e.addEventListener("message",(function(e){n.opt.id==e.data.id&&"openSound"===e.data.type&&t(e.data)}))}))},c.prototype.closeSound=function(){var t="EZUIKitPlayer-"+this.opt.id;document.getElementById(t).contentWindow.postMessage("closeSound",s+"/ezopen/h5/iframe");var n=this;return new Promise((function(t,i){e.addEventListener("message",(function(e){n.opt.id==e.data.id&&"closeSound"===e.data.type&&t(e.data)}))}))},c.prototype.startSave=function(t){var n="EZUIKitPlayer-"+this.opt.id;document.getElementById(n).contentWindow.postMessage({action:"startSave",fileName:t||"default"},s+"/ezopen/h5/iframe");var i=this;return new Promise((function(t,n){e.addEventListener("message",(function(e){i.opt.id==e.data.id&&"startSave"===e.data.type&&t(e.data)}))}))},c.prototype.stopSave=function(){var t="EZUIKitPlayer-"+this.opt.id;document.getElementById(t).contentWindow.postMessage("stopSave",s+"/ezopen/h5/iframe");var n=this;return new Promise((function(t,i){e.addEventListener("message",(function(e){n.opt.id==e.data.id&&"stopSave"===e.data.type&&t(e.data)}))}))},c.prototype.fullScreen=function(){if(1===this.opt.fullScreenStatus)return!1;var t="EZUIKitPlayer-"+this.opt.id,n=document.getElementById(t).contentWindow;if(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)){var i=document.documentElement.clientWidth,r=document.documentElement.clientHeight,o=(document.body,"");o+="width:"+r+"px;",o+="height:"+i+"px;",o+="-webkit-transform: rotate(90deg); transform: rotate(90deg);",o+="-webkit-transform-origin: "+i/2+"px "+i/2+"px;",o+="transform-origin: "+i/2+"px "+i/2+"px;",o+="position: fixed;top: 0;left: 0;z-index:10",document.getElementById(t).style.cssText=o,setTimeout((function(){n.postMessage("autoResize",s+"/ezopen/h5/iframe")}),500)}else!function(t){var n=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullScreen;if(n)n.call(t);else if(void 0!==e.ActiveXObject){var i=new ActiveXObject("WScript.Shell");null!==i&&i.SendKeys("{F11}")}}(document.getElementById(t));this.params.fullScreenCallBack&&this.params.fullScreenCallBack(this.opt.id),this.opt.fullScreenStatus=1},c.prototype.cancelFullScreen=function(){if(0===this.opt.fullScreenStatus)return!1;var e="EZUIKitPlayer-"+this.opt.id,t=document.getElementById(e).contentWindow;if(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)){var n=document.getElementById(e).width,i=document.getElementById(e).height,r=(document.body,"");r+="width:"+n+"px;",r+="height:"+i+"px;",r+="-webkit-transform: rotate(0); transform: rotate(0);",r+="-webkit-transform-origin: 0 0;",r+="transform-origin: 0 0;",document.getElementById(e).style.cssText=r,setTimeout((function(){t.postMessage("autoResize",s+"/ezopen/h5/iframe")}),500);var o=e+"cancel-full-screen",a=document.getElementById(o);a&&document.body.removeChild(a)}else document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen&&document.mozCancelFullScreen();this.params.cancelFullScreenCallBack&&this.params.cancelFullScreenCallBack(this.opt.id),this.opt.fullScreenStatus=0},c.prototype.capturePicture=function(t,n){var i="EZUIKitPlayer-"+this.opt.id;document.getElementById(i).contentWindow.postMessage({action:"capturePicture",fileName:t||"default",isUndownload:n},s+"/ezopen/h5/iframe");var r=this;return new Promise((function(t,n){e.addEventListener("message",(function(e){r.opt.id==e.data.id&&"capturePicture"===e.data.type&&t(e.data)}))}))},c.prototype.enableZoom=function(){var e="EZUIKitPlayer-"+this.opt.id;document.getElementById(e).contentWindow.postMessage("enableZoom",s+"/ezopen/h5/iframe")},c.prototype.closeZoom=function(){var e="EZUIKitPlayer-"+this.opt.id;document.getElementById(e).contentWindow.postMessage("closeZoom",s+"/ezopen/h5/iframe")},c.prototype.getOSDTime=function(){var t="EZUIKitPlayer-"+this.opt.id;document.getElementById(t).contentWindow.postMessage("getOSDTime",s+"/ezopen/h5/iframe");var n=this;return new Promise((function(t,i){e.addEventListener("message",(function(e){n.opt.id==e.data.id&&"getOSDTime"===e.data.type&&t(e.data)}))}))},c.prototype.autoResize=function(){var e="EZUIKitPlayer-"+this.opt.id;document.getElementById(e).contentWindow.postMessage("autoResize",s+"/ezopen/h5/iframe")},c.prototype.reSize=function(e,t){var n="EZUIKitPlayer-"+this.opt.id,i=document.getElementById(n).contentWindow,r=document.getElementById(this.opt.id);r.style.width=e+"px",r.style.height=t+"px",document.getElementById(this.opt.id).style.width=e+"px",document.getElementById(this.opt.id).style.height=t+"px";var o=document.getElementById(n);o.setAttribute("width",e),o.setAttribute("height",t),o.style.width=e+"px",o.style.height=t+"px",setTimeout((function(){i.postMessage({action:"autoResize"},s+"/ezopen/h5/iframe")}),500)},c.prototype.startTalk=function(){console.log("执行开始对讲"),console.log(this.opt);var t=this;o.opt=this.opt,e.EZUIKit&&(e.EZUIKit.opt=this.opt),r(t.opt.apiDomain,"POST",{accessToken:t.opt.accessToken,deviceSerial:t.opt.deviceSerial,channelNo:t.opt.channelNo},0,(function(n){if(200==n.code){var i=n.data;if(i){var r=i.rtcUrl;-1===r.indexOf("ws")&&(r=r.replace("https","wss").replace("rtcgw","rtcgw-ws")),t.opt.rtcUrl=r,t.opt.ttsUrl="tts://"+i.ttsUrl;var o="talk://"+t.opt.deviceSerial+":0:"+t.opt.channelNo+":cas.ys7.com:6500";t.opt.talkLink=t.opt.ttsUrl+"/"+o,t.opt.stream=i.stream,e.startTalk()}}}))},c.prototype.stopTalk=function(){console.log("执行结束对讲"),e.stopTalk()},c.prototype.edit=function(){var e="EZUIKitPlayer-"+this.opt.id;document.getElementById(e).contentWindow.postMessage("edit",s+"/ezopen/h5/iframe")},c.prototype.btnReRender=function(e){var t="EZUIKitPlayer-"+this.opt.id;document.getElementById(t).contentWindow.postMessage({action:"btnReRender",data:e},s+"/ezopen/h5/iframe")},c.prototype.changePlayUrl=function(e){var t="EZUIKitPlayer-"+this.opt.id;document.getElementById(t).contentWindow.postMessage({action:"changePlayUrl",data:e},s+"/ezopen/h5/iframe")},c.prototype.fetchThemeData=function(){var e="EZUIKitPlayer-"+this.opt.id;document.getElementById(e).contentWindow.postMessage({action:"fetchThemeData"},s+"/ezopen/h5/iframe")},c.prototype.setThemeData=function(e,t,n){var i="EZUIKitPlayer-"+this.opt.id;document.getElementById(i).contentWindow.postMessage({action:"setThemeData",data:{accessToken:e,header:t,footer:n}},s+"/ezopen/h5/iframe")},o.EZUIKitPlayer=c,e.EZUIKitV3=o,o},"object"===a(e)&&"object"===a(e.exports)?e.exports=z.document?G(z):function(e){if(!e.document)throw new Error("EZUIPlayer requires a window with a document");return G(e)}:G(z);var ie,re=EZUIKitV3,oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),ae=(ie=void 0,function(e){return e&&(ie=e),ie});!function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ae())return ae();if(void 0!==e.unique)return e.unique;e.unique=this,this.oAudioContext=null,this.currentVolume=.8,this.bSetVolume=!1,this.gainNode=null,this.iWndNum=-1,this.mVolumes=new Map;var t=window.AudioContext||window.webkitAudioContext;this.oAudioContext=new t,this.writeString=function(e,t,n){for(var i=0;i<n.length;i++)e.setUint8(t+i,n.charCodeAt(i))},this.setBufferToDataview=function(e,t,n){for(var i=0;i<n.length;i++,t++)e.setUint8(t,n[i])},ae(this)}oe(e,[{key:"Play",value:function(e,t,n){var i=new ArrayBuffer(44+t),r=new DataView(i),o=n.samplesPerSec,a=n.channels,s=n.bitsPerSample;this.writeString(r,0,"RIFF"),r.setUint32(4,32+2*t,!0),this.writeString(r,8,"WAVE"),this.writeString(r,12,"fmt "),r.setUint32(16,16,!0),r.setUint16(20,1,!0),r.setUint16(22,a,!0),r.setUint32(24,o,!0),r.setUint32(28,2*o,!0),r.setUint16(32,a*s/8,!0),r.setUint16(34,s,!0),this.writeString(r,36,"data"),r.setUint32(40,t,!0),this.setBufferToDataview(r,44,e);var l=this;return this.oAudioContext.decodeAudioData(r.buffer,(function(e){var t=l.oAudioContext.createBufferSource();if(null==t)return-1;t.buffer=e,t.start(0),(null==l.gainNode||l.bSetVolume)&&(l.gainNode=l.oAudioContext.createGain(),l.bSetVolume=!1),l.gainNode.gain.value=l.currentVolume,l.gainNode.connect(l.oAudioContext.destination),t.connect(l.gainNode)}),(function(e){return console.log("decode error"),-1})),0}},{key:"Stop",value:function(){return null!=this.gainNode&&(this.gainNode.disconnect(),this.gainNode=null),!0}},{key:"SetVolume",value:function(e){return this.bSetVolume=!0,this.currentVolume=e,this.mVolumes.set(this.iWndNum,e),!0}},{key:"SetWndNum",value:function(e){this.iWndNum=e;var t=this.mVolumes.get(e);return null==t&&(t=.8),this.currentVolume=t,!0}},{key:"GetVolume",value:function(){var e=this.mVolumes.get(this.iWndNum);return null==e&&(e=.8),e}}]),window.AudioRenderer=e}();var se=["attribute vec4 vertexPos;","attribute vec2 texturePos;","varying vec2 textureCoord;","void main()","{","gl_Position = vertexPos;","textureCoord = texturePos;","}"].join("\n"),le=["precision highp float;","varying highp vec2 textureCoord;","uniform sampler2D ySampler;","uniform sampler2D uSampler;","uniform sampler2D vSampler;","const mat4 YUV2RGB = mat4","(","1.1643828125, 0, 1.59602734375, -.87078515625,","1.1643828125, -.39176171875, -.81296875, .52959375,","1.1643828125, 2.017234375, 0, -1.081390625,","0, 0, 0, 1",");","void main(void) {","highp float y = texture2D(ySampler,  textureCoord).r;","highp float u = texture2D(uSampler,  textureCoord).r;","highp float v = texture2D(vSampler,  textureCoord).r;","gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;","}"].join("\n");window.SuperRender=function(){function e(e){this.canvasElement=document.getElementById(e),this.initContextGL(),this.contextGL&&(this.YUVProgram=this.initProgram(se,le),this.initBuffers(),this.initTextures())}return e.prototype.initContextGL=function(){var e=this.canvasElement,t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){t=null}t&&"function"==typeof t.getParameter||(t=null),this.contextGL=t,console.log("WebGL1.0")},e.prototype.initProgram=function(e,t){var n=this.contextGL,i=n.createShader(n.VERTEX_SHADER);n.shaderSource(i,e),n.compileShader(i),n.getShaderParameter(i,n.COMPILE_STATUS)||console.log("Vertex shader failed to compile: "+n.getShaderInfoLog(i));var r=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(r,t),n.compileShader(r),n.getShaderParameter(r,n.COMPILE_STATUS)||console.log("Fragment shader failed to compile: "+n.getShaderInfoLog(r));var o=n.createProgram();return n.attachShader(o,i),n.attachShader(o,r),n.linkProgram(o),n.getProgramParameter(o,n.LINK_STATUS)||console.log("Program failed to compile: "+n.getProgramInfoLog(o)),n.deleteShader(i),n.deleteShader(r),o},e.prototype.initBuffers=function(){var e=this.contextGL,t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null);var n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this.vertexPosBuffer=t,this.texturePosBuffer=n},e.prototype.initTexture=function(){var e=this.contextGL,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindTexture(e.TEXTURE_2D,null),t},e.prototype.initTextures=function(){var e=this.contextGL,t=this.YUVProgram;e.useProgram(t);var n=this.initTexture(),i=e.getUniformLocation(t,"ySampler");e.uniform1i(i,0),this.yTextureRef=n;var r=this.initTexture(),o=e.getUniformLocation(t,"uSampler");e.uniform1i(o,1),this.uTextureRef=r;var a=this.initTexture(),s=e.getUniformLocation(t,"vSampler");e.uniform1i(s,2),this.vTextureRef=a,e.useProgram(null)},e.prototype.SR_DisplayFrameData=function(e,t,n,i,r){if(!(e<=0||t<=0)){var o=this.contextGL;if(null==n)return o.clearColor(0,0,0,0),void o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT);var a=this.canvasElement;this.nWindowWidth=a.width,this.nWindowHeight=a.height;var s=this.nWindowWidth,l=this.nWindowHeight;o.clearColor(.8,.8,1,1),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,s,l),this.updateFrameData(e,t,n,i,r);var c=this.YUVProgram;o.useProgram(c);var u=this.vertexPosBuffer;o.bindBuffer(o.ARRAY_BUFFER,u);var d=o.getAttribLocation(c,"vertexPos");o.enableVertexAttribArray(d),o.vertexAttribPointer(d,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,null);var A=this.texturePosBuffer;o.bindBuffer(o.ARRAY_BUFFER,A);var h=o.getAttribLocation(c,"texturePos");o.enableVertexAttribArray(h),o.vertexAttribPointer(h,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,null),o.drawArrays(o.TRIANGLE_STRIP,0,4),o.disableVertexAttribArray(d),o.disableVertexAttribArray(h),o.useProgram(null)}},e.prototype.updateFrameData=function(e,t,n,i,r){var o=this.contextGL,a=this.yTextureRef,s=this.uTextureRef,l=this.vTextureRef,c=n;if(e==i&&t==r){var u=e*t,d=c.subarray(0,u);o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,a),o.texImage2D(o.TEXTURE_2D,0,o.LUMINANCE,e,t,0,o.LUMINANCE,o.UNSIGNED_BYTE,d);var A=e/2*t/2,h=c.subarray(e*t,e*t+A);o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,s),o.texImage2D(o.TEXTURE_2D,0,o.LUMINANCE,e/2,t/2,0,o.LUMINANCE,o.UNSIGNED_BYTE,h);var p=A,f=c.subarray(e*t+e*t/4,e*t+e*t/4+p);o.activeTexture(o.TEXTURE2),o.bindTexture(o.TEXTURE_2D,l),o.texImage2D(o.TEXTURE_2D,0,o.LUMINANCE,e/2,t/2,0,o.LUMINANCE,o.UNSIGNED_BYTE,f)}else{u=i*r,d=new Uint8Array(u);for(var m=0;m<r;m++)for(var g=c.subarray(m*e,m*e+i),v=0;v<i;v++)d[m*i+v]=g[v];for(o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,a),o.texImage2D(o.TEXTURE_2D,0,o.LUMINANCE,i,r,0,o.LUMINANCE,o.UNSIGNED_BYTE,d),d=null,g=null,A=i/2*r/2,h=new Uint8Array(A),m=0;m<r/2;m++){var y=c.subarray(e*t+m*e/2,e*t+m*e/2+i/2);for(v=0;v<i/2;v++)h[m*i/2+v]=y[v]}for(o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,s),o.texImage2D(o.TEXTURE_2D,0,o.LUMINANCE,i/2,r/2,0,o.LUMINANCE,o.UNSIGNED_BYTE,h),h=null,y=null,p=A,f=new Uint8Array(p),m=0;m<r/2;m++){var b=c.subarray(e*t*5/4+m*e/2,e*t*5/4+m*e/2+i/2);for(v=0;v<i/2;v++)f[m*i/2+v]=b[v]}o.activeTexture(o.TEXTURE2),o.bindTexture(o.TEXTURE_2D,l),o.texImage2D(o.TEXTURE_2D,0,o.LUMINANCE,i/2,r/2,0,o.LUMINANCE,o.UNSIGNED_BYTE,f),f=null,b=null}},e.prototype.SR_SetDisplayRect=function(e){var t=this.contextGL,n=this.nWindowWidth,i=this.nWindowHeight,r=null;if(e&&n>0&&i>0){var o=e.left/n,a=e.top/i,s=e.right/n,l=e.bottom/i;r=new Float32Array([s,a,o,a,s,l,o,l])}else r=new Float32Array([1,0,0,0,1,1,0,1]);var c=this.texturePosBuffer;t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferSubData(t.ARRAY_BUFFER,0,r),t.bindBuffer(t.ARRAY_BUFFER,null)},e.prototype.SR_Destroy=function(){var e=this.contextGL,t=this.YUVProgram;e.deleteProgram(t);var n=this.vertexPosBuffer,i=this.texturePosBuffer;e.deleteBuffer(n),e.deleteBuffer(i);var r=this.yTextureRef,o=this.uTextureRef,a=this.vTextureRef;e.deleteTexture(r),e.deleteTexture(o),e.deleteTexture(a)},e}();var ce=function(e,t){if(void 0===e)return t.themeData?{templateType:"themeData",templateId:"themeData"}:{templateType:"local",templateId:""};if("string"==typeof e){if(32===e.length)return{templateType:"remote",templateId:e};if(-1!==["simple","standard","security","voice","theme"].indexOf(e))return"simple"===e&&void 0===t.header&&void 0===t.footer?{templateType:"local",templateId:""}:{templateType:"iframe",templateId:e};if(-1!==["pcLive","pcRec","mobileLive","mobileRec","noData",""].indexOf(e))return{templateType:"local",templateId:e}}},ue=function(){var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return window.SharedArrayBuffer&&!e},de=function(){function e(t){var n=this;s(this,e);var i=t.autoplay,r=void 0===i||i;if(this.params=t,window.EZUIKit[t.id]={state:{EZUIKitPlayer:{init:window.EZUIKit[t.id]&&window.EZUIKit[t.id].state&&window.EZUIKit[t.id].state.EZUIKitPlayer.init||!1,themeInit:window.EZUIKit[t.id]&&window.EZUIKit[t.id].state&&window.EZUIKit[t.id].state.EZUIKitPlayer.themeInit||!1,talkInit:window.EZUIKit[t.id]&&window.EZUIKit[t.id].state&&window.EZUIKit[t.id].state.EZUIKitPlayer.talkInit||!1}}},"iframe"===ce(this.params.template,t).templateType)return new re.EZUIKitPlayer(t);this.Monitor=new ne({env:void 0!==t.disableMonitor&&t.disableMonitor?"test12":"online"}),this.id=t.id,this.width=t.width,this.height=t.height,this.url=t.url,this.accessToken=t.accessToken,this.themeId=ce(t.template,t).templateId,this.id=t.id,this.audio=!0,this.poster=t.poster,this.speed=1,this.disabledTimeLine=!1,this.disabledPTZ=!1,this.enableSharedArrayBufferGuide=!1,this.capacity={},this.env={domain:"https://open.ys7.com"},this.staticPath=ue()?"https://open.ys7.com/assets/ezuikit_v5.0":"https://open.ys7.com/assets/ezuikit_v4.0","string"==typeof t.staticPath&&(this.staticPath=t.staticPath),void 0!==t.audio&&(this.audio=t.audio),void 0!==t.disabledTimeLine&&(this.disabledTimeLine=t.disabledTimeLine),void 0!==t.disabledPTZ&&(this.disabledPTZ=t.disabledPTZ),void 0!==t.enableSharedArrayBufferGuide&&(this.enableSharedArrayBufferGuide=t.enableSharedArrayBufferGuide);var o="".concat(this.staticPath,"/js/jsPlugin-4.0.2.min.js");if(ue())console.log("启用多线程解析视频"),o="".concat(this.staticPath,"/jsPlugin-2.0.0.min.js");else if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&91<function(){for(var e=navigator.userAgent.split(" "),t="",n=0;n<e.length;n++)/chrome/i.test(e[n])&&(t=e[n]);return!!t&&Number(t.split("/")[1].split(".")[0])}<106&&this.enableSharedArrayBufferGuide){console.log("提示用户开启谷歌实验室特性");var a="".concat(this.id,"-wrap"),l=document.createElement("div"),c=document.createElement("span");c.innerHTML="您当前浏览器可以开启谷歌实验室多线程特性，获取更好播放体验，避免浏览器卡顿及崩溃,详见",l.appendChild(c);var u=document.createElement("a");u.href="https://open.ys7.com/help/384",u.setAttribute("target","_blank"),l.appendChild(u),u.innerHTML="开启说明",l.id="".concat(this.id,"-guide"),l.style="font-size:12px;color:red;",setTimeout((function(){document.getElementById(a)&&document.getElementById(a).insertBefore(l,document.getElementById(n.id))}),5e3)}A(o,(function(){if(r){n.initTime=(new Date).getTime(),n.Monitor.dclog({url:n.url,action:0,text:"startInit"});var e=n.initEZUIKitPlayer(t),i=n._getRealUrlPromise(t.accessToken,t.url);Promise.all([e,i]).then((function(e){e[1]&&n._pluginPlay(e[1],(function(){console.log("自动播放成功"),n.Monitor.dclog({url:n.url,action:202,d:(new Date).getTime()-n.initTime,text:"autoPlaySuccess"})}),(function(){console.log("自动播放失败"),n.Monitor.dclog({url:n.url,action:402,d:(new Date).getTime()-n.initTime,text:"autoPlayError"})})),window.EZUIKit[t.id].state.EZUIKitPlayer.init=!0,document.getElementById("".concat(t.id,"canvas_draw0"))&&(document.getElementById("".concat(t.id,"canvas_draw0")).style.border="none")}))}else n.initTime=(new Date).getTime(),n.Monitor.dclog({url:n.url,action:0,text:"startInit"}),(e=n.initEZUIKitPlayer(t)).then((function(e){console.log("初始化成功",e),window.EZUIKit[t.id].state.EZUIKitPlayer.init=!0,document.getElementById("".concat(t.id,"canvas_draw0"))&&(document.getElementById("".concat(t.id,"canvas_draw0")).style.border="none"),n.Monitor.dclog({url:n.url,action:201,d:(new Date).getTime()-n.initTime,text:"initSuccess"})}))}),(function(){return!!window.JSPlugin})),t.plugin&&-1!==t.plugin.indexOf("talk")&&(this.Talk=new H(this),window.EZUIKit[t.id].state.EZUIKitPlayer.talkInit=!0),this.getDeviceCapacity()}return c(e,[{key:"initEZUIKitPlayer",value:function(e){var t=this,n=e.id,i=e.width,r=void 0===i?600:i,o=e.height,a=void 0===o?400:o;if(!document.getElementById("".concat(n,"-wrap"))){var s=document.createElement("div");s.id="".concat(n,"-wrap"),s.style="display:inline-block;width:".concat(r,"px;position:relative;"),document.getElementById(n).parentNode.insertBefore(s,document.getElementById(n)),document.getElementById(n).parentNode.removeChild(document.getElementById(n)),s.innerHTML="<div id=".concat(n,"></div>"),document.getElementById(n).style="display:inline-block;width:".concat(r,"px;height:").concat(a,"px;"),document.getElementById(n).style.verticalAlign="top"}return new Promise((function(i,o){var s=new window.JSPlugin({szId:n,iType:2,iWidth:r,iHeight:a,iMaxSplit:1,iCurrentSplit:1,szBasePath:"",staticPath:e.staticPath,oStyle:{border:"none",background:"#000000"}});s.EventCallback={loadEventHandler:function(){},zoomEventResponse:function(){},windowEventSelect:function(e){},pluginErrorHandler:function(e,n,i){console.log(e,n,i),1003===n&&(console.log("断流"),t.pluginStatus.loadingSetText({text:"连接断开，请重试",color:"red"}),"function"==typeof t.params.handleError&&t.params.handleError({msg:"连接断开，请重试",retcode:1003,id:t.params.id,type:"handleError"}))},windowEventOver:function(e){},windowEventOut:function(e){},windowEventUp:function(e){},windowFullCcreenChange:function(e){},firstFrameDisplay:function(e,n,i){console.log(n,i),s.JS_SetCanFullScreen(!1),t.pluginStatus.loadingClear()},performanceLack:function(){},mouseEvent:function(e,t,n){}};var l=new _(t,n);l.loadingStart(n),l.loadingSetText({text:"初始化播放器完成"}),t.env={domain:"https://open.ys7.com"},void 0!==e.env&&(t.env=Object.assign(t.env,e.env)),void 0!==e.handleTalkSuccess&&(t.handleTalkSuccess=e.handleTalkSuccess),void 0!==e.handleTalkError&&(t.handleTalkError=e.handleTalkError),t.errorHander=new w,t.jSPlugin=s,t.themeId&&!window.EZUIKit[e.id].state.EZUIKitPlayer.themeInit&&(t.Theme=new te(t,n),window.EZUIKit[e.id].state.EZUIKitPlayer.themeInit=!0),t.pluginStatus=l,i({meta:{retcode:200,msg:"初始化成功"}})}))}},{key:"_getRealUrlPromise",value:function(e,t){var n=this,i=this.env.domain;return this.env&&(i=this.env.domain),new Promise((function(a,s){return function(a,s){var l="",c=i+"/api/lapp/live/url/ezopen",u=new FormData;u.append("ezopen",t),u.append("isFlv","false"),u.append("userAgent",window.navigator.userAgent),u.append("isHttp","false"),u.append("accessToken",e),fetch(c,{method:"POST",body:u}).then((function(e){return e.json()})).then((function(e){if(200==e.code||0==e.retcode){var c="",u="";e.ext&&e.ext.token?(l+=e.data,u=e.ext.token,c=e.data):e.data&&e.data.token&&(l+=e.data.url,u=e.data.token,c=e.data.url);var d=-1!==t.indexOf("live")?"live":"playback";l="live"===d?l+"&ssn="+u+"&auth=1&biz=4&cln=100":l+"&ssn="+u+"&auth=1&cln=100",console.log(l);var A=p("checkCode",l);if(A&&(void 0!==n.jSPlugin.decoderVersion&&"2.0"===n.jSPlugin.decoderVersion?n.validateCode=A:n.jSPlugin.JS_SetSecretKey(0,A)),-1!==l.indexOf("playback")){var h=p("begin",c)||p("begin",t),f=p("end",c)||p("end",t);if(h)l=l.replace("&begin="+p("begin",c),"&begin="+r(h,"000000")),p("begin",l)||(l+="&begin="+r(h,"000000"));else{var m=new Date;l=l+"&begin="+m.Format("yyyyMMdd")+"T000000Z"}if(f?(l=l.replace("&end="+p("end",c),"&end="+r(f,"235959")),p("end",l)||(l+="&end="+r(f,"235959"))):l=l+"&end="+r(p("begin",l).substr(0,8),"235959"),p("stream",c)||(l=l.replace("stream","&stream")),-1!==t.indexOf(".cloud")){var g=o(p("begin",l)),v=o(p("end",l)),b=p("serial",l),C=p("chn",l),_=i+"/api/lapp/video/by/time",E={accessToken:n.accessToken,recType:1,deviceSerial:b,channelNo:C,startTime:g,endTime:v,version:"2.0"};y(_,"POST",E,0,(function(e){if(200==e.code){var t=[];if(e.data&&e.data.files&&e.data.files.length>0){var n=e.data.files,i=(new Date).getTime();if(e.data.isAll){t=o(n);var r=JSON.stringify(t).replace("\\","");l+="&recSlice="+r.replace("\\","")+"&r="+Math.random(),a(l)}else!function e(){E.startTime=i,y(_,"POST",E,0,(function(r){if(r.data&&r.data.files&&r.data.files.length>0)if(0==r.data.isAll)r.data.files&&(n=n.concat(r.data.files)),i=r.data.nextFileTime>0?r.data.nextFileTime:(new Date).getTime(),e();else{t=o(n);var s=JSON.stringify(t).replace("\\","");l+="&recSlice="+s.replace("\\","")+"&r="+Math.random(),a(l)}else t=o(n),s=JSON.stringify(t).replace("\\",""),l+="&recSlice="+s.replace("\\","")+"&r="+Math.random(),a(l)}))}()}else s({retcode:-1,msg:"未找到录像片段"})}else s({retcode:-1,msg:"未找到录像片段"});function o(e){var t=[];return e.forEach((function(e,n){0==t.length||e.downloadPath!==t[t.length-1].downloadPath?t.push({downloadPath:e.downloadPath,ownerId:e.ownerId,iStorageVersion:e.iStorageVersion,videoType:e.videoType,iPlaySpeed:0,startTime:e.startTime,endTime:e.endTime}):t[t.length-1].endTime=e.endTime})),t}}))}else if(-1!==t.indexOf("alarmId")){console.log("进入alarmId回放");var w=p("alarmId",l);g=o(p("begin",l)),v=o(p("end",l)),b=p("serial",l),C=p("chn",l),_=i+"/api/lapp/video/by/id",E={accessToken:n.accessToken,deviceSerial:b,channelNo:C,alarmId:w},y(_,"POST",E,0,(function(e){if(200==e.code){var t=[];if(e.data){t=function(e){var t=[];return e.forEach((function(e,n){0==t.length||e.downloadPath!==t[t.length-1].downloadPath?t.push({downloadPath:e.downloadPath,ownerId:e.ownerId,iStorageVersion:e.iStorageVersion,videoType:e.videoType,iPlaySpeed:0,startTime:e.startTime,endTime:e.endTime}):t[t.length-1].endTime=e.endTime})),console.log("downloadPathArr",t),t}([e.data]);var n=JSON.stringify(t).replace("\\","");l+="&recSlice="+n.replace("\\",""),console.log("realUrl",l,e.data.recType),l=1==e.data.recType?l.replace("/playback","/cloudplayback"):l.replace("/cloudplayback","/playback"),a(l)}}}))}else a(l)}else a(l)}else n.pluginStatus.loadingSetText({text:e.msg,color:"red"}),"function"==typeof n.params.handleError&&n.params.handleError({retcode:e.code,msg:e.msg,id:n.params.id,type:"handleError"}),a(l)}))}(a,s)}));function r(e,t){if(/^[0-9]{8}T[0-9]{6}Z$/.test(e))return e;if(/[0-9]{8,14}/.test(e)){var n=6-(14-e.length),i=t.length,r=e+t.substring(n,i);return r.slice(0,8)+"T"+r.slice(8)+"Z"}throw new Error("回放时间格式有误，请确认")}function o(e){var t=e.slice(0,4),n=e.slice(4,6),i=e.slice(6,8),r=e.slice(9,11),o=e.slice(11,13),a=e.slice(13,15);return new Date((t+"-"+n+"-"+i+" "+r+":"+o+":"+a).replace(/-/g,"/")).getTime()}}},{key:"_pluginPlay",value:function(e,t,n){var i=this;function r(e){var t=e.split("?")[0].replace("/live","").replace("/playback",""),n=(-1===e.indexOf("/live")?-1!==e.indexOf("cloudplayback")?"/cloudplayback?":"/playback?":"/live?")+e.split("?")[1];return-1!==n.indexOf("/playback")&&(n=n.replace("stream=2","stream=1")),{websocketConnectUrl:t,websocketStreamingParam:n}}console.log("get real url result ===",e);var o=r(e).websocketConnectUrl;this.env&&this.env.wsUrl&&(o=this.env.wsUrl);var a={playURL:r(e).websocketStreamingParam};this.jSPlugin.JS_Play(o,a,0).then((function(){console.log("播放成功"),i.validateCode&&void 0!==i.jSPlugin.decoderVersion&&"2.0"===i.jSPlugin.decoderVersion&&i.jSPlugin.JS_SetSecretKey(0,i.validateCode),i.pluginStatus.loadingClear(),i.pluginStatus.setPlayStatus({play:!0,loading:!1}),i.Theme&&i.Theme.setDecoderState({play:!0}),i.audio&&setTimeout((function(){i.openSound()}),500),"function"==typeof i.params.handleSuccess&&i.params.handleSuccess({retcode:0,id:i.params.id,type:"handleSuccess"}),t(),i.Monitor.dclog({url:i.url,action:211,d:(new Date).getTime()-i.playStartTime,text:"startPlaySuccess"})}),(function(e){var t=i.errorHander.matchErrorInfo(e.oError.errorCode),r=t?t.description:"播放失败，请检查设备及客户端网络";i.pluginStatus.loadingSetText({text:r,color:"red"}),"function"==typeof i.params.handleError&&i.params.handleError({retcode:e.oError.errorCode,msg:r,id:i.params.id,type:"handleError"}),n(),i.Monitor.dclog({url:i.url,action:411,d:(new Date).getTime()-i.playStartTime,text:"startPlayError"})}))}},{key:"play",value:function(e){var t=this;return this.pluginStatus.setPlayStatus({play:!1,loading:!0}),this.playStartTime=(new Date).getTime(),this.Monitor.dclog({url:this.url,action:1,d:(new Date).getTime()-this.initTime,text:"startPlay"}),e&&("string"==typeof e.url&&(this.url=e.url),"string"==typeof e.accessToken&&(this.accessToken=e.accessToken),!this.Theme||"string"!=typeof e.url&&"string"!=typeof e.accessToken||this.Theme.getDeviceInfo()),new Promise((function(e,n){t._getRealUrlPromise(t.accessToken,t.url).then((function(i){t._pluginPlay(i,(function(){return e(!0)}),(function(){return n(!1)}))})).catch((function(e){var i=e.msg?e.msg:"播放失败，请检查设备及客户端网络";t.pluginStatus.loadingSetText({text:i,color:"red"}),"function"==typeof t.params.handleError&&t.params.handleError({retcode:e.oError.errorCode,msg:i,id:t.params.id,type:"handleError"}),n(!1)}))}))}},{key:"stop",value:function(){var e=this;return this.pluginStatus.setPlayStatus({loading:!0}),this.jSPlugin.JS_Stop(0).then((function(){console.log("停止成功"),e.pluginStatus.setPlayStatus({play:!1,loading:!1}),e.Theme&&e.Theme.setDecoderState({play:!1})}))}},{key:"changePlayUrl",value:function(e){var t=this,n=function(e,t){if(t.url)return t.url;var n=e.split("/")[4].split(".")[e.split("/")[4].split(".").length-1].split("?")[0];"rec"===n&&-1!==e.indexOf(".cloud.rec")&&(n="cloud.rec"),t.type&&(n=t.type);var i=e.split("/")[3];t.deviceSerial&&(i=t.deviceSerial);var r=e.split("/")[4].split(".")[0];t.channelNo&&(r=t.channelNo);var o=2===e.split("/")[2].split("@").length?e.split("/")[2].split("@")[0]:"";void 0!==t.validCode&&(o=t.validCode);var a=void 0===t.hd?-1!==e.indexOf(".hd"):t.hd,s="ezopen://".concat(o?"".concat(o,"@"):"","open.ys7.com/").concat(i,"/").concat(r).concat(a?".hd":"",".").concat(n);return"live"===n||(s="ezopen://".concat(o?"".concat(o,"@"):"","open.ys7.com/").concat(i,"/").concat(r,".").concat(n),t.begin&&t.end?s+="?begin=".concat(t.begin,"&end=").concat(t.end):t.begin?s+="?begin=".concat(t.begin):p("begin",e)&&(s+="?begin=".concat(p("begin",e)))),s}(this.url,e);return console.log("changePlayUrl",n),this.url=n,new Promise((function(i,r){t.stop().then((function(){if(console.log("changePlayUrl stop success"),e.accessToken)return t.accessToken=e.accessToken,t.play({accessToken:e.accessToken,url:n}).then((function(){console.log("changePlayUrl replay success"),i(n)})).catch((function(e){r(n)}));t.play(n).then((function(){console.log("changePlayUrl replay success"),i(n)})).catch((function(e){r(n)}))})).catch((function(o){if(console.log("切换过程停止失败",o),e.accessToken)return t.accessToken=e.accessToken,t.play({accessToken:e.accessToken,url:n}).then((function(){i(n)})).catch((function(e){r(n)}));t.play(n).then((function(){i(n)})).catch((function(e){r(n)}))}))}))}},{key:"getOSDTime",value:function(){var e=this;return new Promise((function(t,n){e.jSPlugin.JS_GetOSDTime(0).then((function(n){t({code:0,retcode:0,data:n}),"function"==typeof e.params.getOSDTimeCallBack&&e.params.getOSDTimeCallBack({id:e.id,type:"getOSDTime",code:0,data:n})})).catch((function(t){n({code:-1,retcode:-1,data:t}),"function"==typeof e.params.getOSDTimeCallBack&&e.params.getOSDTimeCallBack({id:e.id,type:"getOSDTime",code:-1,data:-1})}))}))}},{key:"capturePicture",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.jSPlugin.JS_CapturePicture(0,e,"JPEG",n,!!n);return h(i)?("function"==typeof this.params.capturePictureCallBack&&i.then((function(){t.params.capturePictureCallBack({id:t.id,type:"capturePicture",code:0})})).catch((function(){t.params.capturePictureCallBack({id:t.id,type:"capturePicture",code:-1})})),i):new Promise((function(e){e(i)}))}},{key:"startSave",value:function(e){var t=this,n=this.jSPlugin.JS_StartSave(0,e);return h(n)?("function"==typeof this.params.startSaveCallBack&&n.then((function(){t.params.startSaveCallBack({id:t.id,type:"startSave",code:0})})).catch((function(){t.params.startSaveCallBack({id:t.id,type:"startSave",code:-1})})),n):(this.Theme&&this.Theme.setDecoderState({recordvideo:!0}),new Promise((function(e){e(n)})))}},{key:"stopSave",value:function(){var e=this,t=this.jSPlugin.JS_StopSave(0);return h(t)?("function"==typeof this.params.startSaveCallBack&&t.then((function(){e.params.stopSaveCallBack({id:e.id,type:"stopSave",code:0})})).catch((function(){e.params.stopSaveCallBack({id:e.id,type:"stopSave",code:-1})})),t):(this.Theme&&this.Theme.setDecoderState({recordvideo:!1}),new Promise((function(e){e(t)})))}},{key:"openSound",value:function(){var e=this.jSPlugin.JS_OpenSound(0);return console.log("打开声音",e),h(e)?e:(this.Theme&&this.Theme.setDecoderState({sound:!0}),"function"==typeof this.params.openSoundCallBack&&this.params.openSoundCallBack({id:this.id,type:"openSound",code:e}),new Promise((function(t){t(e)})))}},{key:"closeSound",value:function(){var e=this.jSPlugin.JS_CloseSound(0);return h(e)?e:(this.Theme&&this.Theme.setDecoderState({sound:!1}),"function"==typeof this.params.closeSoundCallBack&&this.params.closeSoundCallBack({id:this.id,type:"closeSound",code:e}),new Promise((function(t){t(e)})))}},{key:"enableZoom",value:function(){var e=this.jSPlugin.JS_EnableZoom(0);return h(e)?e:new Promise((function(t){t(e)}))}},{key:"closeZoom",value:function(){var e=this.jSPlugin.JS_DisableZoom(0);return h(e)?e:new Promise((function(t){t(e)}))}},{key:"setPoster",value:function(e){this.pluginStatus.setPoster(e)}},{key:"reSize",value:function(e,t){this.width=e,this.height=t,document.getElementById("".concat(this.id,"-wrap")).style="width:".concat(e,"px;position:relative;"),this.jSPlugin.JS_Resize(e,t)}},{key:"fast",value:function(){var e=this,t=this.speed;if(1===t)t=2;else{if(2!==t)return"function"==typeof this.params.handleError&&this.params.handleError({msg:"播放速度最大为4倍速度",retcode:1003,id:this.id,type:"handleError"}),new Promise((function(n,i){e.speed=t,i({code:-1,data:{speed:t,result:"播放速度最大为4倍速度"}})}));t=4}var n=this.jSPlugin.JS_Fast(0);return new Promise((function(i){e.speed=t,i({code:0,data:{speed:t,result:n}})}))}},{key:"slow",value:function(){var e=this,t=this.speed;if(4===t)t=2;else{if(2!==t)return"function"==typeof this.params.handleError&&this.params.handleError({msg:"播放速度最小为1倍速度",retcode:1003,id:this.id,type:"handleError"}),new Promise((function(n,i){e.speed=t,i({code:-1,data:{speed:t,result:"播放速度最小为1倍速度"}})}));t=1}var n=this.jSPlugin.JS_Slow(0);return new Promise((function(i){e.speed=t,i({code:0,data:{speed:t,result:n}})}))}},{key:"seek",value:function(e,t){var n=this.url,i=(p(n,"begin")||(new Date).Format("yyyyMMdd")).substr(0,8);if(t=r(i,"235959"),6===e.length)e=r(i,e);else{if(16!==e.length)return this.params.handleError({msg:"seek时间格式错误",retcode:-1,id:this.id,type:"handleError"}),!1;if(e.substr(0,8)!==i)return this.params.handleError({msg:"seek时间不能跨日期",retcode:-1,id:this.id,type:"handleError"}),!1}function r(e,t){if(/^[0-9]{8}T[0-9]{6}Z$/.test(e))return e;if(/[0-9]{8,14}/.test(e)){var n=6-(14-e.length),i=t.length,r=e+t.substring(n,i);return r.slice(0,8)+"T"+r.slice(8)+"Z"}throw new Error("回放时间格式有误，请确认")}var o=this.jSPlugin.JS_Seek(0,e,t);return console.log("seekRT",o),h(o)?o:new Promise((function(e){e(o)}))}},{key:"fullScreen",value:function(){var e=this;m(document.getElementById("".concat(this.id))).then((function(t){console.log("全屏promise",window.screen.availWidth),e.jSPlugin.JS_Resize(window.screen.availWidth,window.screen.availHeight),"function"==typeof e.params.fullScreenCallBack&&e.params.fullScreenCallBack({id:e.id,type:"fullScreen",code:0})})),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange"].forEach((function(t){window.addEventListener(t,(function(t){return(n=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen)||e.jSPlugin.JS_Resize(e.width,e.height),void("function"==typeof e.params.fullScreenChangeCallBack&&e.params.fullScreenChangeCallBack({id:e.id,type:"fullScreen",code:n}));var n}))}))}},{key:"cancelFullScreen",value:function(){var e=this;g().then((function(t){console.log("取消全屏",t,e.jSPlugin),e.jSPlugin.JS_Resize(e.width,e.height)}))}},{key:"startTalk",value:function(){this.Talk.startTalk()}},{key:"stopTalk",value:function(){this.Talk.stopTalk()}},{key:"destroy",value:function(){var e=this.jSPlugin.JS_DestroyWorker(0);return this.Theme&&(this.Theme=null,window.EZUIKit[this.params.id].state.EZUIKitPlayer.themeInit=!1),h(e)?e:new Promise((function(t){t(e)}))}},{key:"getDeviceCapacity",value:function(){var e=this,t=this.env.domain;this.env&&(t=this.env.domain);var n=t+"/api/lapp/device/capacity",i={accessToken:this.accessToken,deviceSerial:v(this.url).deviceSerial};y(n,"POST",i,0,(function(t){200==t.code&&t.data&&(e.capacity=t.data)}))}}]),e}();!function(t,n){"object"===a(e)&&"object"===a(e.exports)?e.exports=t.document?n(t):function(e){if(!e.document)throw new Error("EZUIPlayer requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:void 0,(function(e,t){var n={Core:d,HLS:b,FLV:C,EZUIKitPlayer:de};return e.EZUIKit=n,n}))},905:(e,t,n)=>{e.exports=n.p+"8eb26cae0e985004fee3ab6164f08666.ttf"},1007:(e,t,n)=>{e.exports=n.p+"a113f25237e889c7a1d2b0ac39eb5f51.png"},9144:(e,t,n)=>{var i,r=void 0!==n.g?n.g:"undefined"!=typeof window?window:{},o=n(5893);"undefined"!=typeof document?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"])||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=i},8908:(e,t,n)=>{var i;i="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},e.exports=i},7376:e=>{e.exports=function(e){if(!e)return!1;var n=t.call(e);return"[object Function]"===n||"function"==typeof e&&"[object RegExp]"!==n||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},7537:(e,t)=>{function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var n,o=String(e);return(n=i[o.toLowerCase()])?n:(n=r[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var o;if(o=i[t.toLowerCase()])return o===n;if(o=r[t.toLowerCase()])return o===n}else if("number"==typeof t)return t===n;return!1}};var i=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)i[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)i[o-48]=o;for(o=1;o<13;o++)i["f"+o]=o+111;for(o=0;o<10;o++)i["numpad "+o]=o+96;var a=t.names=t.title={};for(o in i)a[i[o]]=o;for(var s in r)i[s]=r[s]},4221:(e,t,n)=>{var i=n(6894).getUint64;e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},r=12;0===n.version?(n.earliestPresentationTime=t.getUint32(r),n.firstOffset=t.getUint32(r+4),r+=8):(n.earliestPresentationTime=i(e.subarray(r)),n.firstOffset=i(e.subarray(r+8)),r+=16),r+=2;var o=t.getUint16(r);for(r+=2;o>0;r+=12,o--)n.references.push({referenceType:(128&e[r])>>>7,referencedSize:2147483647&t.getUint32(r),subsegmentDuration:t.getUint32(r+4),startsWithSap:!!(128&e[r+8]),sapType:(112&e[r+8])>>>4,sapDeltaTime:268435455&t.getUint32(r+8)});return n}},1489:e=>{var t,n,i,r,o,a,s,l=9e4;t=function(e){return e*l},n=function(e,t){return e*t},i=function(e){return e/l},r=function(e,t){return e/t},o=function(e,n){return t(r(e,n))},a=function(e,t){return n(i(e),t)},s=function(e,t,n){return i(n?e:e-t)},e.exports={ONE_SECOND_IN_TS:l,secondsToVideoTs:t,secondsToAudioTs:n,videoTsToSeconds:i,audioTsToSeconds:r,audioTsToVideoTs:o,videoTsToAudioTs:a,metadataTsToSeconds:s}},6894:e=>{var t=Math.pow(2,32);e.exports={getUint64:function(e){var n,i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.getBigUint64?(n=i.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(n):n:i.getUint32(0)*t+i.getUint32(4)},MAX_UINT32:t}},5294:function(e,t,n){e.exports=function(e,t){"use strict";function n(e,t){return e(t={exports:{}},t.exports),t.exports}function i(e){return function(){return e}}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e};var o=r,a=function(e){};a=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")};var s,l=function(e,t,n,i,r,o,s,l){if(a(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,s,l],d=0;(c=new Error(t.replace(/%s/g,(function(){return u[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}},c=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=0,o="Warning: "+e.replace(/%s/g,(function(){return n[r++]}));"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};s=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];c.apply(void 0,[t].concat(i))}};var u=s,d=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var p=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))A.call(n,a)&&(r[a]=n[a]);if(d){i=d(n);for(var s=0;s<i.length;s++)h.call(n,i[s])&&(r[i[s]]=n[i[s]])}}return r},f="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",m=l,g=u,v=f,y={};var b=function(e,t,n,i,r){for(var o in e)if(e.hasOwnProperty(o)){var a;try{m("function"==typeof e[o],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",i||"React class",n,o,typeof e[o]),a=e[o](t,o,i,n,null,v)}catch(e){a=e}if(g(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",i||"React class",n,o,typeof a),a instanceof Error&&!(a.message in y)){y[a.message]=!0;var s=r?r():"";g(!1,"Failed %s type: %s%s",n,a.message,null!=s?s:"")}}},C=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";var r="<<anonymous>>",a={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),symbol:d("symbol"),any:c(o.thatReturnsNull),arrayOf:function(e){return c((function(t,n,i,r,o){if("function"!=typeof e)return new s("Property `"+o+"` of component `"+i+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new s("Invalid "+r+" `"+o+"` of type `"+h(a)+"` supplied to `"+i+"`, expected an array.");for(var l=0;l<a.length;l++){var c=e(a,l,i,r,o+"["+l+"]",f);if(c instanceof Error)return c}return null}))},element:c((function(t,n,i,r,o){var a=t[n];return e(a)?null:new s("Invalid "+r+" `"+o+"` of type `"+h(a)+"` supplied to `"+i+"`, expected a single ReactElement.")})),instanceOf:function(e){return c((function(t,n,i,o,a){if(!(t[n]instanceof e)){var l=e.name||r;return new s("Invalid "+o+" `"+a+"` of type `"+((c=t[n]).constructor&&c.constructor.name?c.constructor.name:r)+"` supplied to `"+i+"`, expected instance of `"+l+"`.")}var c;return null}))},node:c((function(e,t,n,i,r){return A(e[t])?null:new s("Invalid "+i+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return c((function(t,n,i,r,o){if("function"!=typeof e)return new s("Property `"+o+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var a=t[n],l=h(a);if("object"!==l)return new s("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+i+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var u=e(a,c,i,r,o+"."+c,f);if(u instanceof Error)return u}return null}))},oneOf:function(e){if(!Array.isArray(e))return u(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull;return c((function(t,n,i,r,o){for(var a=t[n],l=0;l<e.length;l++)if(c=a,u=e[l],c===u?0!==c||1/c==1/u:c!=c&&u!=u)return null;var c,u;return new s("Invalid "+r+" `"+o+"` of value `"+a+"` supplied to `"+i+"`, expected one of "+JSON.stringify(e)+".")}))},oneOfType:function(e){if(!Array.isArray(e))return u(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return u(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",g(n),t),o.thatReturnsNull}return c((function(t,n,i,r,o){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,n,i,r,o,f))return null;return new s("Invalid "+r+" `"+o+"` supplied to `"+i+"`.")}))},shape:function(e){return c((function(t,n,i,r,o){var a=t[n],l=h(a);if("object"!==l)return new s("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+i+"`, expected `object`.");for(var c in e){var u=e[c];if(u){var d=u(a,c,i,r,o+"."+c,f);if(d)return d}}return null}))},exact:function(e){return c((function(t,n,i,r,o){var a=t[n],l=h(a);if("object"!==l)return new s("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+i+"`, expected `object`.");var c=p({},t[n],e);for(var u in c){var d=e[u];if(!d)return new s("Invalid "+r+" `"+o+"` key `"+u+"` supplied to `"+i+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var A=d(a,u,i,r,o+"."+u,f);if(A)return A}return null}))}};function s(e){this.message=e,this.stack=""}function c(e){var n={},i=0;function o(o,a,c,d,A,h,p){if(d=d||r,h=h||c,p!==f)if(t)l(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!=typeof console){var m=d+":"+c;!n[m]&&i<3&&(u(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,d),n[m]=!0,i++)}return null==a[c]?o?null===a[c]?new s("The "+A+" `"+h+"` is marked as required in `"+d+"`, but its value is `null`."):new s("The "+A+" `"+h+"` is marked as required in `"+d+"`, but its value is `undefined`."):null:e(a,c,d,A,h)}var a=o.bind(null,!1);return a.isRequired=o.bind(null,!0),a}function d(e){return c((function(t,n,i,r,o,a){var l=t[n];return h(l)!==e?new s("Invalid "+r+" `"+o+"` of type `"+m(l)+"` supplied to `"+i+"`, expected `"+e+"`."):null}))}function A(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(A);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e[i]);if("function"==typeof t)return t}(t);if(!r)return!1;var o,a=r.call(t);if(r!==t.entries){for(;!(o=a.next()).done;)if(!A(o.value))return!1}else for(;!(o=a.next()).done;){var s=o.value;if(s&&!A(s[1]))return!1}return!0;default:return!1}}function h(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function m(e){if(null==e)return""+e;var t=h(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function g(e){var t=m(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return s.prototype=Error.prototype,a.checkPropTypes=b,a.PropTypes=a,a},_=n((function(e){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=C((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}),!0)})),E=n((function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],i=0;i<arguments.length;i++){var r=arguments[i];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var a in r)t.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=n:window.classNames=n}()}));function w(e,t){for(var n=0,i=e.length;n<i;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function T(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function S(e){return"number"==typeof e&&!isNaN(e)}function k(e){return parseInt(e,10)}function I(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}var B=["Moz","Webkit","O","ms"];function x(e,t){return t?""+t+function(e){for(var t="",n=!0,i=0;i<e.length;i++)n?(t+=e[i].toUpperCase(),n=!1):"-"===e[i]?n=!0:t+=e[i];return t}(e):e}var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<B.length;n++)if(x(e,B[n])in t)return B[n];return""}(),P=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},R=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),j=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},M=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},O=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},F=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},U="";function Q(e,t){return U||(U=w(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return T(e[t])}))),!!T(e[U])&&e[U](t)}function N(e,t,n){var i=e;do{if(Q(i,t))return!0;if(i===n)return!1;i=i.parentNode}while(i);return!1}function q(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function z(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function G(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=k(n.borderTopWidth))+k(n.borderBottomWidth)}function H(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=k(n.borderLeftWidth))+k(n.borderRightWidth)}function W(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=k(n.paddingTop))-k(n.paddingBottom)}function V(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=k(n.paddingLeft))-k(n.paddingRight)}function Y(e,t,n){var i="translate("+e.x+n+","+e.y+n+")";return t&&(i="translate("+("string"==typeof t.x?t.x:t.x+n)+", "+("string"==typeof t.y?t.y:t.y+n)+")"+i),i}function J(e){if(e){var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&(n=e.body,i="react-draggable-transparent-selection",n.classList?n.classList.add(i):n.className.match(new RegExp("(?:^|\\s)"+i+"(?!\\S)"))||(n.className+=" "+i))}var n,i}function K(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)"+n+"(?!\\S)","g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}var t,n}function Z(){return L({touchAction:"none"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function X(e){return"both"===e.props.axis||"x"===e.props.axis}function $(e){return"both"===e.props.axis||"y"===e.props.axis}function ee(e,t,n){var i="number"==typeof t?function(e,t){return e.targetTouches&&w(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&w(e.changedTouches,(function(e){return t===e.identifier}))}(e,t):null;if("number"==typeof t&&!i)return null;var r,o,a,s=ie(n);return r=i||e,o=n.props.offsetParent||s.offsetParent||s.ownerDocument.body,a=o===o.ownerDocument.body?{left:0,top:0}:o.getBoundingClientRect(),{x:r.clientX+o.scrollLeft-a.left,y:r.clientY+o.scrollTop-a.top}}function te(e,t,n){var i=e.state,r=!S(i.lastX),o=ie(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:t,y:n}}function ne(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function ie(t){var n=e.findDOMNode(t);if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var re={start:"touchstart",move:"touchmove",stop:"touchend"},oe={start:"mousedown",move:"mousemove",stop:"mouseup"},ae=oe,se=function(n){function i(){var t,n,r;P(this,i);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=O(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(a))),r.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},r.handleDragStart=function(t){if(r.props.onMouseDown(t),!r.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode(r);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var i=n.ownerDocument;if(!(r.props.disabled||!(t.target instanceof i.defaultView.Node)||r.props.handle&&!N(t.target,r.props.handle,n)||r.props.cancel&&N(t.target,r.props.cancel,n))){var o=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}(t);r.setState({touchIdentifier:o});var a=ee(t,o,r);if(null!=a){var s=a.x,l=a.y,c=te(r,s,l);r.props.onStart,!1!==r.props.onStart(t,c)&&(r.props.enableUserSelectHack&&J(i),r.setState({dragging:!0,lastX:s,lastY:l}),q(i,ae.move,r.handleDrag),q(i,ae.stop,r.handleDragStop))}}},r.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t,n,i,o=ee(e,r.state.touchIdentifier,r);if(null!=o){var a=o.x,s=o.y;if(Array.isArray(r.props.grid)){var l=a-r.state.lastX,c=s-r.state.lastY,u=(t=r.props.grid,n=l,i=c,[Math.round(n/t[0])*t[0],Math.round(i/t[1])*t[1]]),d=F(u,2);if(l=d[0],c=d[1],!l&&!c)return;a=r.state.lastX+l,s=r.state.lastY+c}var A=te(r,a,s);if(!1!==r.props.onDrag(e,A))r.setState({lastX:a,lastY:s});else try{r.handleDragStop(new MouseEvent("mouseup"))}catch(e){var h=document.createEvent("MouseEvents");h.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(h)}}},r.handleDragStop=function(t){if(r.state.dragging){var n=ee(t,r.state.touchIdentifier,r);if(null!=n){var i=n.x,o=n.y,a=te(r,i,o),s=e.findDOMNode(r);s&&r.props.enableUserSelectHack&&K(s.ownerDocument),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),r.props.onStop(t,a),s&&(z(s.ownerDocument,ae.move,r.handleDrag),z(s.ownerDocument,ae.stop,r.handleDragStop))}}},r.onMouseDown=function(e){return ae=oe,r.handleDragStart(e)},r.onMouseUp=function(e){return ae=oe,r.handleDragStop(e)},r.onTouchStart=function(e){return ae=re,r.handleDragStart(e)},r.onTouchEnd=function(e){return ae=re,r.handleDragStop(e)},O(r,n)}return M(i,n),R(i,[{key:"componentWillUnmount",value:function(){var t=e.findDOMNode(this);if(t){var n=t.ownerDocument;z(n,oe.move,this.handleDrag),z(n,re.move,this.handleDrag),z(n,oe.stop,this.handleDragStop),z(n,re.stop,this.handleDragStop),this.props.enableUserSelectHack&&K(n)}}},{key:"render",value:function(){return t.cloneElement(t.Children.only(this.props.children),{style:Z(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),i}(t.Component);se.displayName="DraggableCore",se.propTypes={allowAnyClick:_.bool,disabled:_.bool,enableUserSelectHack:_.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:_.arrayOf(_.number),scale:_.number,handle:_.string,cancel:_.string,onStart:_.func,onDrag:_.func,onStop:_.func,onMouseDown:_.func,className:I,style:I,transform:I},se.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var le=function(n){function i(e){P(this,i);var t=O(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t.onDragStart=function(e,n){if(!1===t.props.onStart(e,ne(t,n)))return!1;t.setState({dragging:!0,dragged:!0})},t.onDrag=function(e,n){if(!t.state.dragging)return!1;var i=ne(t,n),r={x:i.x,y:i.y};if(t.props.bounds){var o=r.x,a=r.y;r.x+=t.state.slackX,r.y+=t.state.slackY;var s=function(e,t,n){if(!e.props.bounds)return[t,n];var i=e.props.bounds;i="string"==typeof i?i:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(i);var r=ie(e);if("string"==typeof i){var o,a=r.ownerDocument,s=a.defaultView;if(!((o="parent"===i?r.parentNode:a.querySelector(i))instanceof s.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');var l=s.getComputedStyle(r),c=s.getComputedStyle(o);i={left:-r.offsetLeft+k(c.paddingLeft)+k(l.marginLeft),top:-r.offsetTop+k(c.paddingTop)+k(l.marginTop),right:V(o)-H(r)-r.offsetLeft+k(c.paddingRight)-k(l.marginRight),bottom:W(o)-G(r)-r.offsetTop+k(c.paddingBottom)-k(l.marginBottom)}}return S(i.right)&&(t=Math.min(t,i.right)),S(i.bottom)&&(n=Math.min(n,i.bottom)),S(i.left)&&(t=Math.max(t,i.left)),S(i.top)&&(n=Math.max(n,i.top)),[t,n]}(t,r.x,r.y),l=F(s,2),c=l[0],u=l[1];r.x=c,r.y=u,r.slackX=t.state.slackX+(o-r.x),r.slackY=t.state.slackY+(a-r.y),i.x=r.x,i.y=r.y,i.deltaX=r.x-t.state.x,i.deltaY=r.y-t.state.y}if(!1===t.props.onDrag(e,i))return!1;t.setState(r)},t.onDragStop=function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,ne(t,n)))return!1;var i={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var r=t.props.position,o=r.x,a=r.y;i.x=o,i.y=a}t.setState(i)},t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return M(i,n),R(i,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&e.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,n,i,r={},o=null,a=!Boolean(this.props.position)||this.state.dragging,s=this.props.position||this.props.defaultPosition,l={x:X(this)&&a?this.state.x:s.x,y:$(this)&&a?this.state.y:s.y};this.state.isElementSVG?(n=l,i=this.props.positionOffset,o=Y(n,i,"")):r=function(e,t){var n=Y(e,t,"px");return j({},x("transform",D),n)}(l,this.props.positionOffset);var c=this.props,u=c.defaultClassName,d=c.defaultClassNameDragging,A=c.defaultClassNameDragged,h=t.Children.only(this.props.children),p=E(h.props.className||"",u,(j(e={},d,this.state.dragging),j(e,A,this.state.dragged),e));return t.createElement(se,L({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(h,{className:p,style:L({},h.props.style,r),transform:o}))}}]),i}(t.Component);return le.displayName="Draggable",le.propTypes=L({},se.propTypes,{axis:_.oneOf(["both","x","y","none"]),bounds:_.oneOfType([_.shape({left:_.number,right:_.number,top:_.number,bottom:_.number}),_.string,_.oneOf([!1])]),defaultClassName:_.string,defaultClassNameDragging:_.string,defaultClassNameDragged:_.string,defaultPosition:_.shape({x:_.number,y:_.number}),positionOffset:_.shape({x:_.oneOfType([_.number,_.string]),y:_.oneOfType([_.number,_.string])}),position:_.shape({x:_.number,y:_.number}),className:I,style:I,transform:I}),le.defaultProps=L({},se.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),le.default=le,le.DraggableCore=se,le}(n(1533),n(7363))},5974:e=>{e.exports=function(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(e){i=e}return[i,n]}},3379:(e,t,n)=>{"use strict";var i,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},i=[],r=0;r<e.length;r++){var s=e[r],l=t.base?s[0]+t.base:s[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=a(u),A={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(o[d].references++,o[d].updater(A)):o.push({identifier:u,updater:f(A,t),references:1}),i.push(u)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var a=r(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function A(e,t,n){var i=n.css,r=n.media,o=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var h=null,p=0;function f(e,t){var n,i,r;if(t.singleton){var o=p++;n=h||(h=l(t)),i=d.bind(null,n,o,!1),r=d.bind(null,n,o,!0)}else n=l(t),i=A.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=a(n[i]);o[r].references--}for(var l=s(e,t),c=0;c<n.length;c++){var u=a(n[c]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=l}}}},5920:e=>{e.exports='<svg viewBox="0 0 48 47" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>编组 25</title><desc>Created with Sketch.</desc><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="图标" transform="translate(-592.000000, -1497.000000)" stroke-width="2.5"><g id="编组-25" transform="translate(594.000000, 1499.000000)"><circle id="椭圆形" stroke="#4359C7" cx="22.5" cy="21.5" r="7.5"></circle><polygon id="路径-170" stroke="#575757" points="15 9 29 9 22 0"></polygon><polygon id="路径-170" stroke="#575757" transform="translate(22.000000, 38.500000) scale(-1, -1) translate(-22.000000, -38.500000) " points="15 43 29 43 22 34"></polygon><polygon id="路径-170" stroke="#575757" transform="translate(39.000000, 21.500000) rotate(-270.000000) translate(-39.000000, -21.500000) " points="32 26 46 26 39 17"></polygon><polygon id="路径-170" stroke="#575757" transform="translate(5.000000, 21.500000) scale(-1, -1) rotate(-270.000000) translate(-5.000000, -21.500000) " points="-2 26 12 26 5 17"></polygon></g></g></g></svg>'},5769:e=>{e.exports='<svg viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>云台控制按钮</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="画板" transform="translate(-912.000000, -848.000000)"><g id="云台控制按钮" transform="translate(913.000000, 849.000000)"><circle id="椭圆形" fill="#D0E4FF" cx="10" cy="11" r="10"></circle><circle id="椭圆形" stroke="#646669" stroke-width="1.5" cx="12" cy="12" r="12"></circle><circle id="椭圆形" stroke="#646669" stroke-width="1.5" cx="12" cy="12" r="4"></circle><g id="编组-20" transform="translate(9.448690, 3.014455)" stroke="#4359C7"><path d="M1.1642312,0 L4.21554031,0 C4.49168269,8.37451888e-16 4.71554031,0.223857625 4.71554031,0.5 C4.71554031,0.628126538 4.66635357,0.751363906 4.57813105,0.844278897 L3.05247649,2.45108144 C2.86233651,2.65133477 2.5458602,2.65953326 2.34560686,2.46939328 C2.33934584,2.46344845 2.33323985,2.45734246 2.32729502,2.45108144 L0.801640469,0.844278897 C0.611500485,0.644025563 0.619698974,0.327549249 0.819952308,0.137409265 C0.912867299,0.0491867385 1.03610467,-2.54019293e-16 1.1642312,0 Z" id="路径-62"></path><path d="M1.1642312,15 L4.21554031,15 C4.49168269,15 4.71554031,15.2238576 4.71554031,15.5 C4.71554031,15.6281265 4.66635357,15.7513639 4.57813105,15.8442789 L3.05247649,17.4510814 C2.86233651,17.6513348 2.5458602,17.6595333 2.34560686,17.4693933 C2.33934584,17.4634485 2.33323985,17.4573425 2.32729502,17.4510814 L0.801640469,15.8442789 C0.611500485,15.6440256 0.619698974,15.3275492 0.819952308,15.1374093 C0.912867299,15.0491867 1.03610467,15 1.1642312,15 Z" id="路径-62备份" transform="translate(2.689886, 16.416479) scale(1, -1) translate(-2.689886, -16.416479) "></path></g><g id="编组-20" transform="translate(12.138576, 11.930934) rotate(-90.000000) translate(-12.138576, -11.930934) translate(9.448690, 3.014455)" stroke="#4359C7"><path d="M1.1642312,0 L4.21554031,0 C4.49168269,8.37451888e-16 4.71554031,0.223857625 4.71554031,0.5 C4.71554031,0.628126538 4.66635357,0.751363906 4.57813105,0.844278897 L3.05247649,2.45108144 C2.86233651,2.65133477 2.5458602,2.65953326 2.34560686,2.46939328 C2.33934584,2.46344845 2.33323985,2.45734246 2.32729502,2.45108144 L0.801640469,0.844278897 C0.611500485,0.644025563 0.619698974,0.327549249 0.819952308,0.137409265 C0.912867299,0.0491867385 1.03610467,-2.54019293e-16 1.1642312,0 Z" id="路径-62"></path><path d="M1.1642312,15 L4.21554031,15 C4.49168269,15 4.71554031,15.2238576 4.71554031,15.5 C4.71554031,15.6281265 4.66635357,15.7513639 4.57813105,15.8442789 L3.05247649,17.4510814 C2.86233651,17.6513348 2.5458602,17.6595333 2.34560686,17.4693933 C2.33934584,17.4634485 2.33323985,17.4573425 2.32729502,17.4510814 L0.801640469,15.8442789 C0.611500485,15.6440256 0.619698974,15.3275492 0.819952308,15.1374093 C0.912867299,15.0491867 1.03610467,15 1.1642312,15 Z" id="路径-62备份" transform="translate(2.689886, 16.416479) scale(1, -1) translate(-2.689886, -16.416479) "></path></g></g></g></g></svg>'},6426:e=>{e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>全屏</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="画板" transform="translate(-1170.000000, -274.000000)"><g id="全屏" transform="translate(1170.000000, 274.000000)"><path d="M6,3 L18,3 C19.6568542,3 21,4.34314575 21,6 L21,18 C21,19.6568542 19.6568542,21 18,21 L6,21 C4.34314575,21 3,19.6568542 3,18 L3,6 C3,4.34314575 4.34314575,3 6,3 Z" id="矩形" fill="#D0E4FF"></path><g id="quanping" fill="#646669" fill-rule="nonzero"><path d="M22.6577181,24 L19.1946309,24 C18.7498378,24 18.3892617,23.639424 18.3892617,23.1946309 C18.3892617,22.7498378 18.7498378,22.3892617 19.1946309,22.3892617 L21.852349,22.3892617 C22.1488777,22.3892617 22.3892617,22.1488777 22.3892617,21.852349 L22.3892617,19.1946309 C22.3892617,18.7498378 22.7498378,18.3892617 23.1946309,18.3892617 C23.639424,18.3892617 24,18.7498378 24,19.1946309 L24,22.6577181 C24,23.3990399 23.3990399,24 22.6577181,24 Z M23.1946309,5.61073826 C22.7498378,5.61073826 22.3892617,5.25016221 22.3892617,4.80536913 L22.3892617,2.14765101 C22.3892617,1.85112228 22.1488777,1.61073826 21.852349,1.61073826 L19.1946309,1.61073826 C18.7498378,1.61073826 18.3892617,1.25016221 18.3892617,0.805369128 C18.3892617,0.36057604 18.7498378,0 19.1946309,0 L22.6577181,0 C23.3990399,0 24,0.600960067 24,1.34228188 L24,4.80536913 C24,5.25016221 23.639424,5.61073826 23.1946309,5.61073826 Z M18.9798658,6.36241611 L18.9798658,17.6375839 C18.9798658,18.3789057 18.3789057,18.9798658 17.6375839,18.9798658 L6.36241611,18.9798658 C5.6210943,18.9798658 5.02013423,18.3789057 5.02013423,17.6375839 L5.02013423,6.36241611 C5.02013423,5.6210943 5.6210943,5.02013423 6.36241611,5.02013423 L17.6375839,5.02013423 C18.3789057,5.02013423 18.9798658,5.6210943 18.9798658,6.36241611 Z M17.3691275,7.16778523 C17.3691275,6.87125651 17.1287435,6.63087248 16.8322148,6.63087248 L7.16778523,6.63087248 C6.87125651,6.63087248 6.63087248,6.87125651 6.63087248,7.16778523 L6.63087248,16.8322148 C6.63087248,17.1287435 6.87125651,17.3691275 7.16778523,17.3691275 L16.8322148,17.3691275 C17.1287435,17.3691275 17.3691275,17.1287435 17.3691275,16.8322148 L17.3691275,7.16778523 Z M4.80536913,1.61073826 L2.14765101,1.61073826 C1.85112228,1.61073826 1.61073826,1.85112228 1.61073826,2.14765101 L1.61073826,4.80536913 C1.61073826,5.25016221 1.25016221,5.61073826 0.805369128,5.61073826 C0.36057604,5.61073826 0,5.25016221 0,4.80536913 L0,1.34228188 C0,0.600960067 0.600960067,0 1.34228188,0 L4.80536913,0 C5.25016221,0 5.61073826,0.36057604 5.61073826,0.805369128 C5.61073826,1.25016221 5.25016221,1.61073826 4.80536913,1.61073826 Z M0.805369128,18.3892617 C1.0189663,18.3892617 1.22381509,18.4741129 1.3748511,18.6251489 C1.52588711,18.7761849 1.61073826,18.9810337 1.61073826,19.1946309 L1.61073826,21.852349 C1.61073826,22.1488777 1.85112228,22.3892617 2.14765101,22.3892617 L4.80536913,22.3892617 C5.25016221,22.3892617 5.61073826,22.7498378 5.61073826,23.1946309 C5.61073826,23.639424 5.25016221,24 4.80536913,24 L1.34228188,24 C0.600960067,24 0,23.3990399 0,22.6577181 L0,19.1946309 C0,18.7498378 0.36057604,18.3892617 0.805369128,18.3892617 Z" id="形状"></path></g><g id="quanping" transform="translate(5.020134, 5.020134)" fill="#4359C7" fill-rule="nonzero"><path d="M13.9597315,1.34228188 L13.9597315,12.6174497 C13.9597315,13.3587715 13.3587715,13.9597315 12.6174497,13.9597315 L1.34228188,13.9597315 C0.600960067,13.9597315 0,13.3587715 0,12.6174497 L0,1.34228188 C0,0.600960067 0.600960067,0 1.34228188,0 L12.6174497,0 C13.3587715,0 13.9597315,0.600960067 13.9597315,1.34228188 Z M12.3489933,2.14765101 C12.3489933,1.85112228 12.1086093,1.61073826 11.8120805,1.61073826 L2.14765101,1.61073826 C1.85112228,1.61073826 1.61073826,1.85112228 1.61073826,2.14765101 L1.61073826,11.8120805 C1.61073826,12.1086093 1.85112228,12.3489933 2.14765101,12.3489933 L11.8120805,12.3489933 C12.1086093,12.3489933 12.3489933,12.1086093 12.3489933,11.8120805 L12.3489933,2.14765101 Z" id="形状"></path></g></g></g></g></svg>'},9984:e=>{e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>分屏</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="画板" transform="translate(-1088.000000, -274.000000)"><g id="分屏" transform="translate(1088.000000, 274.000000)"><path d="M5,3 L19,3 C20.1045695,3 21,3.8954305 21,5 L21,19 C21,20.1045695 20.1045695,21 19,21 L5,21 C3.8954305,21 3,20.1045695 3,19 L3,5 C3,3.8954305 3.8954305,3 5,3 Z" id="矩形" fill="#D0E4FF"></path><g id="split-screen-compare" fill="#646669" fill-rule="nonzero"><path d="M9,1.5 C9.4125,1.5 9.75,1.8375 9.75,2.25 L9.75,9 C9.75,9.4125 9.4125,9.75 9,9.75 L2.25,9.75 C1.8375,9.75 1.5,9.4125 1.5,9 L1.5,2.25 C1.5,1.8375 1.8375,1.5 2.25,1.5 L9,1.5 M9,0 L2.25,0 C1.0078125,0 0,1.0078125 0,2.25 L0,9 C0,10.2421875 1.0078125,11.25 2.25,11.25 L9,11.25 C10.2421875,11.25 11.25,10.2421875 11.25,9 L11.25,2.25 C11.25,1.0078125 10.2421875,0 9,0 Z M21.75,1.5 C22.1625,1.5 22.5,1.8375 22.5,2.25 L22.5,9 C22.5,9.4125 22.1625,9.75 21.75,9.75 L15,9.75 C14.5875,9.75 14.25,9.4125 14.25,9 L14.25,2.25 C14.25,1.8375 14.5875,1.5 15,1.5 L21.75,1.5 M21.75,0 L15,0 C13.7578125,0 12.75,1.0078125 12.75,2.25 L12.75,9 C12.75,10.2421875 13.7578125,11.25 15,11.25 L21.75,11.25 C22.9921875,11.25 24,10.2421875 24,9 L24,2.25 C24,1.0078125 22.9921875,0 21.75,0 Z M9,14.25 C9.4125,14.25 9.75,14.5875 9.75,15 L9.75,21.75 C9.75,22.1625 9.4125,22.5 9,22.5 L2.25,22.5 C1.8375,22.5 1.5,22.1625 1.5,21.75 L1.5,15 C1.5,14.5875 1.8375,14.25 2.25,14.25 L9,14.25 M9,12.75 L2.25,12.75 C1.0078125,12.75 0,13.7578125 0,15 L0,21.75 C0,22.9921875 1.0078125,24 2.25,24 L9,24 C10.2421875,24 11.25,22.9921875 11.25,21.75 L11.25,15 C11.25,13.7578125 10.2421875,12.75 9,12.75 Z M21.75,14.25 C22.1625,14.25 22.5,14.5875 22.5,15 L22.5,21.75 C22.5,22.1625 22.1625,22.5 21.75,22.5 L15,22.5 C14.5875,22.5 14.25,22.1625 14.25,21.75 L14.25,15 C14.25,14.5875 14.5875,14.25 15,14.25 L21.75,14.25 M21.75,12.75 L15,12.75 C13.7578125,12.75 12.75,13.7578125 12.75,15 L12.75,21.75 C12.75,22.9921875 13.7578125,24 15,24 L21.75,24 C22.9921875,24 24,22.9921875 24,21.75 L24,15 C24,13.7578125 22.9921875,12.75 21.75,12.75 Z" id="形状"></path></g><g id="split-screen-compare" fill="#4359C7" fill-rule="nonzero"><path d="M9,1.5 C9.4125,1.5 9.75,1.8375 9.75,2.25 L9.75,9 C9.75,9.4125 9.4125,9.75 9,9.75 L2.25,9.75 C1.8375,9.75 1.5,9.4125 1.5,9 L1.5,2.25 C1.5,1.8375 1.8375,1.5 2.25,1.5 L9,1.5 M9,0 L2.25,0 C1.0078125,0 0,1.0078125 0,2.25 L0,9 C0,10.2421875 1.0078125,11.25 2.25,11.25 L9,11.25 C10.2421875,11.25 11.25,10.2421875 11.25,9 L11.25,2.25 C11.25,1.0078125 10.2421875,0 9,0 Z M21.75,1.5 C22.1625,1.5 22.5,1.8375 22.5,2.25 L22.5,9 C22.5,9.4125 22.1625,9.75 21.75,9.75 L15,9.75 C14.5875,9.75 14.25,9.4125 14.25,9 L14.25,2.25 C14.25,1.8375 14.5875,1.5 15,1.5 L21.75,1.5 M21.75,0 L15,0 C13.7578125,0 12.75,1.0078125 12.75,2.25 L12.75,9 C12.75,10.2421875 13.7578125,11.25 15,11.25 L21.75,11.25 C22.9921875,11.25 24,10.2421875 24,9 L24,2.25 C24,1.0078125 22.9921875,0 21.75,0 Z" id="形状"></path></g></g></g></g></svg>'},8114:e=>{e.exports='<svg viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>回放</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="画板" transform="translate(-1087.000000, -415.000000)"><g id="回放" transform="translate(1088.000000, 416.000000)"><circle id="椭圆形" fill="#D0E4FF" cx="14" cy="12" r="10"></circle><g id="系统时间" stroke-width="1.5"><path d="M0,12 C0,18.627417 5.372583,24 12,24 C18.627417,24 24,18.627417 24,12 C24,5.372583 18.627417,0 12,0 C8.79866817,0 5.89012824,1.25359117 3.73848822,3.29666552" id="路径" stroke="#646669"></path><polyline id="路径-43" stroke="#4359C7" stroke-linecap="round" points="12 5 12 12.4053955 18 16"></polyline><polyline id="路径-14" stroke="#646669" stroke-linecap="round" points="6.60529436 4.44268731 2.9455948 3.96982911 3.20710658 0.222102743"></polyline></g></g></g></g></svg>'},8306:e=>{e.exports='<svg viewBox="0 0 25 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>回放时间轴</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="画板" transform="translate(-1169.000000, -416.000000)"><g id="回放时间轴" transform="translate(1181.500000, 427.000000) rotate(-90.000000) translate(-1181.500000, -427.000000) translate(1171.000000, 415.000000)"><circle id="椭圆形" fill="#D0E4FF" cx="8.5" cy="12.5" r="8.5"></circle><g id="编组-13" transform="translate(11.000000, 13.279099)" stroke="#4359C7" stroke-width="1.5"><path d="M0,4.72090085 C0,6.93003985 1.790861,8.72090085 4,8.72090085 C6.209139,8.72090085 8,6.93003985 8,4.72090085 C8,2.51176185 6.209139,0.720900847 4,0.720900847 C2.93288939,0.720900847 1.96337608,1.13876457 1.24616274,1.81978935" id="路径"></path><polyline id="路径-14" stroke-linecap="round" points="2.79601456 2.35664822 1 1.60886466 1.75807547 0"></polyline></g><g id="shijianzhou" transform="translate(1.000000, 0.000000)" fill="#646669" fill-rule="nonzero"><path d="M3.39628565,13.8854722 L3.39628565,10.1998598 C4.4151955,9.7712492 5.09430773,8.82845214 5.09430773,7.71425959 C5.09430773,6.60006705 4.41495399,5.65702618 3.39628565,5.31423521 L3.39628565,0.857221223 C3.39628565,0.343034773 3.05672954,0 2.54715386,0 C2.03757819,0 1.69802207,0.342790967 1.69802207,0.857221223 L1.69802207,5.31423521 C0.679112227,5.65702618 0,6.59982324 0,7.71425959 C0,8.82869594 0.679353732,9.77149301 1.69802207,10.114284 L1.69802207,13.7998964 C0.679112227,14.1426873 0,15.0854844 0,16.1999208 C0,17.3143571 0.679353732,18.2571542 1.69802207,18.5999451 L1.69802207,23.1427788 C1.69802207,23.6569652 2.03757819,24 2.54715386,24 C3.05672954,24 3.39628565,23.657209 3.39628565,23.1427788 L3.39628565,18.685521 C4.4151955,18.34273 5.09430773,17.399933 5.09430773,16.2854966 C5.09430773,15.1710603 4.4151955,14.228507 3.39628565,13.8854722 L3.39628565,13.8854722 Z M2.54715386,6.85703837 C3.05648803,6.85703837 3.39628565,7.19982934 3.39628565,7.71425959 C3.39628565,8.22868985 3.05672954,8.57148082 2.54715386,8.57148082 C2.03757819,8.57148082 1.69802207,8.22868985 1.69802207,7.71425959 C1.69802207,7.19982934 2.03781969,6.85703837 2.54715386,6.85703837 Z M2.54715386,17.1427178 C2.03781969,17.1427178 1.69802207,16.7999269 1.69802207,16.2854966 C1.69802207,15.7710663 2.03757819,15.4282754 2.54715386,15.4282754 C3.05672954,15.4282754 3.39628565,15.7710663 3.39628565,16.2854966 C3.39628565,16.7999269 3.05672954,17.1427178 2.54715386,17.1427178 Z M18.9767431,5.38664554 L8.74175864,5.38664554 C8.23000942,5.38664554 7.7182602,5.7294365 7.7182602,6.24386676 C7.7182602,6.75829702 8.12761127,7.10108798 8.74175864,7.10108798 L18.9767431,7.10108798 C19.4882508,7.10108798 20,6.75829702 20,6.24386676 C20,5.7294365 19.5906489,5.38664554 18.9767431,5.38664554 Z M16.9292632,10.5294853 C17.4410124,10.5294853 17.9527616,10.1866943 17.9527616,9.67226404 C17.9527616,9.15783379 17.543652,8.81504282 16.9292632,8.81504282 L8.74175864,8.81504282 C8.23000942,8.81504282 7.7182602,9.15783379 7.7182602,9.67226404 C7.7182602,10.1866943 8.12761127,10.5294853 8.74175864,10.5294853 L16.9292632,10.5294853 L16.9292632,10.5294853 Z" id="形状"></path></g></g></g></g></svg>'},5686:e=>{e.exports='<svg viewBox="0 0 18 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="图标" transform="translate(-268.000000, -823.000000)" fill="#9299B9" fill-rule="nonzero"><g id="国标设备" transform="translate(268.000000, 823.428250)"><path d="M11.2187165,5.02531827e-13 C11.410769,0.00904718025 12.8031496,0.140231294 12.8031496,2.04240094 L12.8031496,2.04240094 L12.8031496,12.0173951 C12.8031496,14.0003759 11.1968504,14.0003759 11.1968504,14.0003759 L1.60029901,14.0002856 C1.49361241,13.9978466 0,13.9295551 0,12.0173951 L0,12.0173951 L0,1.9823106 C0,0.140971322 1.3850233,0.0094470873 1.58288377,5.2499129e-05 Z M17.3858268,1.64886355 C17.480315,1.53581134 17.6220472,1.53581134 17.7637795,1.59233745 C17.9055118,1.64886355 18,1.81844183 18,1.98802014 L18,1.98802014 L18,12.5584005 C18,12.7279788 17.9527559,12.8975571 17.8110236,12.9540832 C17.7165354,13.0106093 17.6692913,13.0106093 17.6220472,13.0106093 C17.5275591,13.0106093 17.4330709,12.9540832 17.3858268,12.8975571 L17.3858268,12.8975571 L13.8822435,9.95820003 C13.7877553,9.90167392 13.7405112,9.73209562 13.7405112,9.61904342 L13.7405112,9.61904342 L13.7405112,4.92737726 C13.7405112,4.81432506 13.7877553,4.70127287 13.8822435,4.58822068 L13.8822435,4.58822068 Z M4.20068359,5.70391302 C3.58544922,5.70391302 3.58544922,5.70391302 3.22167969,5.87725287 C2.75537109,6.10186224 2.75537109,6.10186224 2.51367188,6.53521185 C2.27197266,6.96856146 2.27197266,6.96856146 2.27197266,7.55449896 C2.27197266,8.11113959 2.27197266,8.11113959 2.49291992,8.54082709 C2.71386719,8.97051459 2.71386719,8.97051459 3.11547852,9.18779974 C3.51708984,9.4050849 3.51708984,9.4050849 4.15429688,9.4050849 C4.671875,9.4050849 4.671875,9.4050849 5.04907227,9.28423529 C5.35083008,9.1875556 5.35083008,9.1875556 5.72524414,8.95415716 L5.91699219,8.82891302 L5.91699219,7.30303412 L4.20800781,7.30303412 L4.20800781,8.04766302 L4.94775391,8.04766302 L4.94775391,8.38457709 C4.73046875,8.51397162 4.73046875,8.51397162 4.56201172,8.56768255 C4.39355469,8.62139349 4.39355469,8.62139349 4.20800781,8.62139349 C3.81738281,8.62139349 3.81738281,8.62139349 3.59887695,8.37237005 C3.38037109,8.12334662 3.38037109,8.12334662 3.38037109,7.54229193 C3.38037109,6.99541693 3.38037109,6.99541693 3.59643555,6.74273138 C3.8125,6.49004584 3.8125,6.49004584 4.17626953,6.49004584 C4.42041016,6.49004584 4.42041016,6.49004584 4.57788086,6.59746771 C4.69598389,6.67803412 4.69598389,6.67803412 4.7625885,6.81215887 L4.80126953,6.9075263 L5.86816406,6.71709662 C5.77050781,6.37041693 5.77050781,6.37041693 5.57641602,6.14458685 C5.38232422,5.91875677 5.38232422,5.91875677 5.08813477,5.8113349 C4.79394531,5.70391302 4.79394531,5.70391302 4.20068359,5.70391302 Z M9.02148438,5.76494818 L6.95117188,5.76494818 L6.95117188,9.34404974 L8.86035156,9.34404974 C8.98242188,9.34404974 8.98242188,9.34404974 9.35595703,9.29522162 C9.63671875,9.25860052 9.63671875,9.25860052 9.77587891,9.17803412 C10.0004883,9.04863959 10.0004883,9.04863959 10.1298828,8.82647162 C10.2592773,8.60430365 10.2592773,8.60430365 10.2592773,8.32598334 C10.2592773,7.98418646 10.2592773,7.98418646 10.0773926,7.75835638 C9.89550781,7.5325263 9.89550781,7.5325263 9.50976562,7.43975287 C9.76367188,7.35186224 9.76367188,7.35186224 9.89550781,7.20049505 C10.0932617,6.97344427 10.0932617,6.97344427 10.0932617,6.65606146 C10.0932617,6.27764349 10.0932617,6.27764349 9.81616211,6.02129584 C9.57864816,5.80156927 9.57864816,5.80156927 9.16445611,5.77017976 L9.02148438,5.76494818 Z M8.62841797,7.84990912 C8.91894531,7.84990912 8.91894531,7.84990912 9.03491211,7.94634466 C9.15087891,8.04278021 9.15087891,8.04278021 9.15087891,8.20147162 C9.15087891,8.37237005 9.15087891,8.37237005 9.03369141,8.47368841 C8.91650391,8.57500677 8.91650391,8.57500677 8.63085938,8.57500677 L8.06689453,8.57500677 L8.06689453,7.84990912 L8.62841797,7.84990912 Z M8.55517578,6.49004584 C8.80664062,6.49004584 8.80664062,6.49004584 8.90795898,6.57793646 C9.00927734,6.66582709 9.00927734,6.66582709 9.00927734,6.82207709 C9.00927734,6.99053412 9.00927734,6.99053412 8.90795898,7.07964544 C8.80664062,7.16875677 8.80664062,7.16875677 8.54785156,7.16875677 L8.06689453,7.16875677 L8.06689453,6.49004584 L8.55517578,6.49004584 Z" id="形状结合"></path></g></g></g></svg>'},3625:e=>{e.exports='<svg viewBox="0 0 24 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>无插件视频</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="画板" transform="translate(-832.000000, -922.000000)"><g id="无插件视频" transform="translate(832.000000, 922.000000)"><path d="M5,3 L15,3 C15.5522847,3 16,3.44771525 16,4 L16,12 C16,12.5522847 15.5522847,13 15,13 L13.6792616,13 L13.6792616,13 C13.0081259,11.2464763 12.2972226,10.0653676 11.5465519,9.4566741 C10.7958811,8.84798058 9.34703047,8.27781793 7.2,7.74618614 L4,8.48605978 L4,4 C4,3.44771525 4.44771525,3 5,3 Z" id="矩形" fill="#D0E4FF"></path><g><g id="ishipinshixiao" fill-rule="nonzero"><path d="M23.4208221,2.66210826 C23.0275531,2.43797887 22.5310014,2.45322577 22.0582841,2.70175019 L19.4031228,4.09760363 L19.4031228,1.49724531 C19.4022469,0.670687924 18.7041609,0.000840425039 17.8427586,0 L2.52036414,0 C1.65896187,0.000840425039 0.960875855,0.670687924 0.96,1.49724531 L0.96,6.38844994 C0.96,6.80948138 1.31570205,7.1507948 1.75448276,7.1507948 C2.19326347,7.1507948 2.54896552,6.80948138 2.54896552,6.38844994 L2.52036414,1.52468972 L17.8141572,1.49724531 L17.8427586,14.702583 L15.1415172,14.702583 C14.7027365,14.702583 14.3470345,15.0438964 14.3470345,15.4649279 C14.3470345,15.8859593 14.7027365,16.2272727 15.1415172,16.2272727 L17.8427586,16.2272727 C18.7042894,16.2260123 19.4022478,15.5559463 19.4031228,14.7292651 L19.4031228,11.3940063 L22.0574897,12.7898597 C22.3077517,12.9217454 22.5651641,12.9873071 22.8090703,12.9873071 C23.0267586,12.9873071 23.2349131,12.9354676 23.4208221,12.830264 C23.7886676,12.6206192 24,12.2417338 24,11.7889009 L24,3.70270899 C24,3.25063849 23.7886676,2.87175309 23.4208221,2.66210826 Z M22.4110345,11.2369633 L19.4031228,9.65586002 L19.4031228,5.83651226 L22.4110345,4.25540902 L22.4110345,11.2369633 L22.4110345,11.2369633 Z" id="形状" fill="#646669"></path><path d="M7.2,6.68181818 C3.2304,6.68181818 0,9.89306818 0,13.8409091 C0,17.78875 3.2304,21 7.2,21 C11.1696,21 14.4,17.78875 14.4,13.8409091 C14.4,9.89306818 11.1696,6.68181818 7.2,6.68181818 Z M7.2,19.4090909 C4.112,19.4090909 1.6,16.9105682 1.6,13.8409091 C1.6,10.77125 4.112,8.27272727 7.2,8.27272727 C10.288,8.27272727 12.8,10.77125 12.8,13.8409091 C12.8,16.9105682 10.288,19.4090909 7.2,19.4090909 Z" id="形状" fill="#4359C7"></path><path d="M7.2,10.8181818 C6.83165514,10.8181818 6.53305263,11.0831975 6.53305263,11.4101109 L6.53305263,14.2052001 C6.53305263,14.5321135 6.83165514,14.7971292 7.2,14.7971292 C7.56834486,14.7971292 7.86694737,14.5321135 7.86694737,14.2052001 L7.86694737,11.4101109 C7.86694737,11.0831975 7.56834486,10.8181818 7.2,10.8181818 Z" id="路径" fill="#4359C7"></path><path d="M6.53305263,16.1550239 C6.53305263,16.5212759 6.83165514,16.8181818 7.2,16.8181818 C7.56834486,16.8181818 7.86694737,16.5212759 7.86694737,16.1550239 C7.86694737,15.7887719 7.56834486,15.491866 7.2,15.491866 C6.83165514,15.491866 6.53305263,15.7887719 6.53305263,16.1550239 Z" id="路径" fill="#4359C7"></path></g><path d="M14.5414311,3.03224428 L14.5414311,3.62414211 M14.5414311,7.30611474 L14.5414311,8.84170839" id="形状" stroke="#646669" stroke-width="1.5" stroke-linecap="round"></path><path d="M14.5414311,7 C15.3698582,7 16.0414311,6.32842712 16.0414311,5.5 C16.0414311,4.67157288 15.3698582,4 14.5414311,4 C13.7130039,4 13.0414311,4.67157288 13.0414311,5.5 C13.0414311,6.32842712 13.7130039,7 14.5414311,7 Z" id="椭圆形" stroke="#646669"></path></g></g></g></g></svg>'},5763:e=>{e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>日历</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="画板" transform="translate(-1170.000000, -488.000000)"><g id="日历" transform="translate(1170.000000, 489.409566)"><g transform="translate(0.000000, 1.681343)"><path d="M1,0.909090909 L20,0.909090909 L20,14.9090909 C20,16.0136604 19.1045695,16.9090909 18,16.9090909 L1,16.9090909 L1,16.9090909 L1,0.909090909 Z" id="矩形" fill="#D0E4FF"></path><g id="rili-xianxing2-0" fill-rule="nonzero"><path d="M21.9747014,20.9090909 L2.02529858,20.9090909 C0.908395599,20.9090909 0,20.0102259 0,18.9050411 L0,2.00404985 C0,0.898865028 0.908395599,0 2.02529858,0 L21.9747014,0 C23.0911337,0 24,0.898865028 24,2.00404985 L24,18.9050411 C24,20.0097601 23.0911337,20.9090909 21.9747014,20.9090909 Z M1.70189307,1.45454545 C1.54833866,1.45454545 1.42345422,1.57811965 1.42345422,1.73006302 L1.42345422,19.1790279 C1.42345422,19.3309713 1.54833866,19.4545455 1.70189307,19.4545455 L22.2981069,19.4545455 C22.4516613,19.4545455 22.5765458,19.3309713 22.5765458,19.1790279 L22.5765458,1.73006302 C22.5765458,1.57811965 22.4516613,1.45454545 22.2981069,1.45454545 L1.70189307,1.45454545 Z" id="形状" fill="#646669"></path><path d="M22.9774901,5.23827799 L0.785469059,5.23827799" id="形状" stroke="#646669" stroke-width="1.5" fill="#646669"></path><path d="M8.96891318,16.6818182 L8.96891318,10.802421 L7.30434783,12.0973272 L7.30434783,10.6585425 L8.96891318,9.36363636 L10.4615676,9.36363636 L10.4615676,16.6818182 L8.96891318,16.6818182 L8.96891318,16.6818182 Z M15.2029978,16.6818182 L15.2029978,10.802421 L13.5384324,12.0973272 L13.5384324,10.6585425 L15.2029978,9.36363636 L16.6956522,9.36363636 L16.6956522,16.6818182 L15.2029978,16.6818182 L15.2029978,16.6818182 Z" id="形状" fill="#4359C7"></path></g></g><line x1="6.36657369" y1="0" x2="6.36657369" y2="4.68813652" id="路径-67" stroke="#646669" stroke-width="1.5" stroke-linecap="round"></line><line x1="18.3665737" y1="0" x2="18.3665737" y2="4.68813652" id="路径-67备份" stroke="#646669" stroke-width="1.5" stroke-linecap="round"></line></g></g></g></svg>'},9646:e=>{e.exports='<svg viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>暂停 选中</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="弹窗" transform="translate(-1321.000000, -22.000000)" fill="#FFFFFF" fill-rule="nonzero"><g id="暂停-选中" transform="translate(1321.000000, 22.000000)"><path d="M7,0 C3.13367552,0 0,3.13367552 0,7 C0,10.8663245 3.13367552,14 7,14 C10.8663245,14 14,10.8663245 14,7 C14,3.13367552 10.8663245,0 7,0 Z M11.2428029,11.2428029 C10.6913635,11.7942424 10.0493193,12.2269583 9.3354162,12.5284535 C8.59651863,12.8408837 7.81075653,13.0002232 7,13.0002232 C6.18924347,13.0002232 5.40348137,12.8424459 4.6645838,12.5284535 C3.95068065,12.2269583 3.30863647,11.7942424 2.75719705,11.2428029 C2.20575764,10.6913635 1.77304173,10.0493193 1.47154653,9.3354162 C1.15911627,8.59651863 0.999776836,7.81075653 0.999776836,7 C0.999776836,6.18924347 1.15755412,5.40348137 1.47154653,4.6645838 C1.77304173,3.95068065 2.20575764,3.30863647 2.75719705,2.75719705 C3.30863647,2.20575764 3.95068065,1.77304173 4.6645838,1.47154653 C5.40348137,1.15911627 6.18924347,0.999776836 7,0.999776836 C7.81075653,0.999776836 8.59651863,1.15755412 9.3354162,1.47154653 C10.0493193,1.77304173 10.6913635,2.20575764 11.2428029,2.75719705 C11.7942424,3.30863647 12.2269583,3.95068065 12.5284535,4.6645838 C12.8408837,5.40348137 13.0002232,6.18924347 13.0002232,7 C13.0002232,7.81075653 12.8408837,8.59651863 12.5284535,9.3354162 C12.2269583,10.0508815 11.7942424,10.6913635 11.2428029,11.2428029 Z M7.99977684,9.99933051 L8.99955367,9.99933051 L8.99955367,4.00066949 L7.99977684,4.00066949 L7.99977684,9.99933051 Z M4.99888418,9.99933051 L5.99866101,9.99933051 L5.99866101,4.00066949 L4.99888418,4.00066949 L4.99888418,9.99933051 Z" id="形状"></path></g></g></g></svg>'},2492:e=>{e.exports='<svg viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="图标" transform="translate(-347.000000, -58.000000)" fill="#9299B9" fill-rule="nonzero"><g id="概览" transform="translate(347.000000, 58.000000)"><path d="M9.9837,0 L17.1,0 C17.5970563,0 18,0.402943725 18,0.9 L18,6.0003 L9.9837,6.0003 L9.9837,0 Z M9.9837,18 L9.9837,8.0163 L18,8.0163 L18,17.1 C18,17.5970563 17.5970563,18 17.1,18 L9.9837,18 L9.9837,18 Z M0,17.1 L0,11.9997 L8.0163,11.9997 L8.0163,18 L0.9,18 C0.402943725,18 0,17.5970563 0,17.1 L0,17.1 Z M0,9.9837 L0,0.9 C0,0.402943725 0.402943725,0 0.9,0 L8.0163,0 L8.0163,9.9837 L0,9.9837 Z" id="形状"></path></g></g></g></svg>'},2737:e=>{e.exports='<svg viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="图标" transform="translate(-347.000000, -99.000000)" fill="#9299B9"><g id="流数据" transform="translate(347.000000, 99.000000)"><g id="编组-12"><path d="M3.68336686,2.29872183 C3.57536194,2.54462915 3.51541552,2.81642561 3.51541552,3.10222331 L3.51541552,3.10222331 L3.51541552,12.4841879 C3.51541552,13.5887574 4.41084602,14.4841879 5.51541552,14.4841879 L5.51541552,14.4841879 L14.8970618,14.4841879 C15.1822109,14.4841879 15.4534223,14.4245133 15.6988887,14.3169712 C15.3903335,15.0215625 14.6864762,15.5135698 13.8677044,15.5135698 L4.48605811,15.5135698 C3.38148861,15.5135698 2.48605811,14.6181393 2.48605811,13.5135698 L2.48605811,4.13160521 C2.48605811,3.32828193 2.95967424,2.63557764 3.64290857,2.31749025 Z" id="形状结合" transform="translate(9.043029, 8.956785) scale(-1, -1) translate(-9.043029, -8.956785) "></path><path d="M6.08336686,-0.101278169 C5.97536194,0.144629146 5.91541552,0.416425612 5.91541552,0.702223315 L5.91541552,0.702223315 L5.91541552,10.0841879 C5.91541552,11.1887574 6.81084602,12.0841879 7.91541552,12.0841879 L7.91541552,12.0841879 L17.2970618,12.0841879 C17.5822109,12.0841879 17.8534223,12.0245133 18.0988887,11.9169712 C17.7903335,12.6215625 17.0864762,13.1135698 16.2677044,13.1135698 L6.88605811,13.1135698 C5.78148861,13.1135698 4.88605811,12.2181393 4.88605811,11.1135698 L4.88605811,1.73160521 C4.88605811,0.928281934 5.35967424,0.235577636 6.04290857,-0.0825097539 Z" id="形状结合" transform="translate(11.443029, 6.556785) scale(-1, -1) translate(-11.443029, -6.556785) "></path><path d="M11.2,4.8 C12.3045695,4.8 13.2,5.6954305 13.2,6.8 L13.2,16 C13.2,17.1045695 12.3045695,18 11.2,18 L2,18 C0.8954305,18 8.94280938e-16,17.1045695 0,16 L0,6.8 C-1.06988736e-15,5.6954305 0.8954305,4.8 2,4.8 L11.2,4.8 Z M6.75,6.75 C5.25845014,6.77042117 4.02342231,7.02945812 3.28685199,7.78685199 C2.52945812,8.52342231 2.27042117,9.75845014 2.25,11.25 C2.27042117,12.7415499 2.52945812,13.9765777 3.28685199,14.713148 C4.02342231,15.4705419 5.25845014,15.7295788 6.75,15.75 C8.24154986,15.7295788 9.47657769,15.4705419 10.213148,14.713148 C10.9705419,13.9765777 11.2295788,12.7415499 11.25,11.25 C11.2295788,9.75845014 10.9705419,8.52342231 10.213148,7.78685199 C9.47657769,7.02945812 8.24154986,6.77042117 6.75,6.75 Z" id="形状结合"></path></g><path d="M9,10.7423002 L5.75706935,9.0741437 C5.33815745,8.85865499 4.8228918,9.13865464 4.8228918,9.58184351 L4.8228918,12.9181565 C4.8228918,13.3613454 5.33815745,13.641345 5.75706935,13.4258563 L9,11.7576998 C9.4305224,11.536167 9.4305224,10.963833 9,10.7423002 Z" id="路径备份" fill-rule="nonzero"></path></g></g></g></svg>'},2915:e=>{e.exports='<svg viewBox="0 0 42 42" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>编组 24</title><desc>Created with Sketch.</desc><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="图标" transform="translate(-525.000000, -1501.000000)" stroke-width="2.5"><g id="编组-24" transform="translate(527.000000, 1503.000000)"><circle id="椭圆形" stroke="#575757" cx="19" cy="19" r="19"></circle><path d="M16,12.5465019 L16,25.4534981 C16,25.6191835 16.1343146,25.7534981 16.3,25.7534981 C16.3570552,25.7534981 16.4129274,25.737228 16.4610626,25.7065965 L26.6022739,19.2530984 C26.7420563,19.164146 26.7832621,18.9787198 26.6943097,18.8389374 C26.6707361,18.8018931 26.6393181,18.7704752 26.6022739,18.7469016 L16.4610626,12.2934035 C16.3212802,12.2044511 16.135854,12.2456569 16.0469016,12.3854393 C16.01627,12.4335746 16,12.4894467 16,12.5465019 Z" id="路径-184" stroke="#4359C7"></path></g></g></g></svg>'},8491:e=>{e.exports='<svg viewBox="0 0 12 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>清除 选中</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="弹窗" transform="translate(-1235.000000, -22.000000)" fill="#FFFFFF"><g id="清除-选中" transform="translate(1235.000000, 22.000000)"><g id="清除" fill-rule="nonzero"><path d="M1.52934464,13.9813809 C1.50602123,13.9813809 1.48192037,13.9813809 1.45859697,13.977502 C1.01933945,13.9255238 0.4238151,13.683476 0.152486126,13.2715293 C0.00533104494,13.0587891 -0.0380672205,12.7912606 0.034314184,12.5430586 C0.0879580282,12.3622986 0.201465273,12.2117945 0.372503604,11.983711 C0.789215161,11.4282424 1.56432975,10.3948846 1.49591443,8.79597292 C1.39562377,6.51203497 2.73205506,4.61366671 4.93533968,3.84330314 L4.93533968,1.87356181 C4.9242555,0.88178597 5.69760179,0.0570869182 6.69003741,0.00234634519 C7.1937603,-0.0231383724 7.68570794,0.159862178 8.04979212,0.508164123 C8.41369659,0.855958501 8.6200092,1.33661131 8.6212156,1.83942687 L8.6212156,3.87123172 C10.6524102,4.65154332 11.9945115,6.59693515 12,8.76882011 C12,10.9107877 11.0211943,12.8487215 9.44686425,13.8277737 C9.26761569,13.9397884 9.06050356,13.9994518 8.84900756,14 L1.52934464,13.9813809 Z M9.001547,13.0180017 C10.2767906,12.2090465 11.1017506,10.5215577 11.1017506,8.70748632 C11.0959693,6.77219652 9.80100591,5.10380544 8.12453825,4.54786418 C7.83746801,4.45266748 7.63403923,4.20293332 7.63393069,3.90237666 L7.63393069,1.4396132 C7.6339162,1.26267775 7.31736957,0.761151423 6.76945063,0.794125679 C6.22153168,0.827099935 5.8474915,1.14458556 5.85497234,1.49829389 L5.85497234,3.89902348 C5.85474388,4.20464627 5.6434645,4.4515103 5.35092348,4.54786418 C4.37487857,4.86934291 2.33130042,6.27391456 2.43463044,8.67898428 C2.52787947,10.8434632 1.50550037,12.2492847 0.983809801,12.9459083 C1.04598204,12.9699566 1.11043801,12.9876514 1.17618846,12.9987209 L9.001547,13.0180017 Z" id="形状"></path><polygon id="路径" points="2.4 7.77777778 11.2 7.77777778 11.2 8.73943969 2.4 8.73943969"></polygon></g><path d="M8.12159763,8 C8.39774,8 8.62159763,8.22385763 8.62159763,8.5 L8.62159763,10.0520361 C8.62159763,10.3281785 8.39774,10.5520361 8.12159763,10.5520361 C7.84545525,10.5520361 7.62159763,10.3281785 7.62159763,10.0520361 L7.62159763,8.5 C7.62159763,8.22385763 7.84545525,8 8.12159763,8 Z" id="矩形"></path><rect id="矩形备份-3" x="4.50332197" y="8" width="1" height="3.67429421" rx="0.5"></rect></g></g></g></svg>'},9107:e=>{e.exports='<svg viewBox="0 0 26 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>视频</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="画板" transform="translate(-831.000000, -849.000000)"><g id="视频" transform="translate(832.000000, 850.000000)"><rect id="矩形" fill="#D0E4FF" x="3" y="3" width="18" height="17" rx="2"></rect><g id="shipin" fill-rule="nonzero" stroke-width="0.4"><path d="M20.0004896,23 L3.99951037,23 C1.7917595,22.9973396 0.00264402129,21.1971623 0,18.9757612 L0,4.02571681 C0.00146888557,1.80372452 1.79117193,0.00266036894 3.99951037,0 L20.0004896,0 C22.2085343,0.00266036894 23.9976498,1.80283773 24,4.02423884 L24,18.9739876 C23.9985311,21.1962755 22.2091218,22.9973396 20.0004896,23 Z M3.99951037,1.15016258 C2.4225035,1.15282295 1.14485765,2.4389595 1.14309497,4.02571681 L1.14309497,18.9754655 C1.14485765,20.5619273 2.42279727,21.847177 3.99951037,21.8480638 L20.0004896,21.8480638 C21.576909,21.8462903 22.854261,20.5616317 22.856905,18.9754655 L22.856905,4.02571681 C22.854261,2.43955068 21.576909,1.1543009 20.0004896,1.15164055 L3.99951037,1.15164055 L3.99951037,1.15016258 Z" id="形状" stroke="#646669" fill="#646669"></path><path d="M22.5050825,7.85842201 L20.3714446,7.85842201 C20.1808922,7.85842201 20.0048712,7.74876307 19.9094579,7.57082595 C19.814045,7.39299656 19.814045,7.17375879 19.9094579,6.9959294 C20.004597,6.81799227 20.1808922,6.70833333 20.3714446,6.70833333 L22.5050825,6.70833333 C22.6956349,6.70833333 22.8719301,6.81799227 22.9670692,6.9959294 C23.0624821,7.17375879 23.0624821,7.39299656 22.9670692,7.57082595 C22.8719301,7.74876307 22.6956349,7.85842201 22.5050825,7.85842201 Z M22.5050825,14.7577717 L20.3714446,14.7577717 C20.1745862,14.7687081 19.9881464,14.6617093 19.8867013,14.4796341 C19.7852437,14.297423 19.7852487,14.0697493 19.8867143,13.8875434 C19.9881799,13.7053374 20.1745708,13.5982924 20.3714446,13.6091609 L22.5050825,13.6091609 C22.7998218,13.6091609 23.04,13.8663126 23.04,14.1843531 C23.0394824,14.3367915 22.982998,14.4828077 22.8828971,14.5904754 C22.7825852,14.6981514 22.6466389,14.7583484 22.5050825,14.7577717 Z M20.3714446,11.3089836 C20.1745862,11.3199199 19.9881464,11.2129212 19.8867013,11.030846 C19.7852585,10.8486501 19.7852585,10.6210019 19.8867013,10.438806 C19.9881464,10.2564352 20.1745862,10.1494365 20.3714446,10.1606684 L22.5050825,10.1606684 C22.7998218,10.1606684 23.04,10.4178201 23.04,10.7340871 C23.04,10.8869002 22.9835197,11.0335062 22.8831713,11.1413916 C22.7827094,11.2490415 22.6467288,11.3093164 22.5050825,11.3089836 L20.3714446,11.3089836 Z M22.5050825,18.2083333 L20.3714446,18.2083333 C20.0764311,18.2083333 19.8373496,17.9505905 19.8373496,17.63255 C19.8373496,17.3145096 20.0764311,17.0567668 20.3714446,17.0567668 L22.5050825,17.0567668 C22.800055,17.0567668 23.0391775,17.3145537 23.0391775,17.6325501 C23.0391775,17.9505464 22.800055,18.2083333 22.5050825,18.2083333 L22.5050825,18.2083333 Z M9.95110985,17.6331412 C9.21686641,17.6331412 8.64,16.9264175 8.64,16.0213618 L8.64,8.89500925 C8.64,7.9914315 9.210012,7.28470776 9.93986863,7.28470776 C10.1800469,7.28470776 10.4213218,7.36480902 10.6417593,7.51791772 L15.6994848,11.0834586 C16.1107488,11.3695768 16.3564106,11.8750128 16.3564106,12.4363129 C16.3564106,13.0159386 16.1008785,13.5397004 15.6715188,13.8391196 L10.6587582,17.4002268 C10.4482849,17.5489804 10.2027619,17.6297915 9.95110985,17.6331412 L9.95110985,17.6331412 Z M9.93986863,8.43361414 C9.82910151,8.43361414 9.70544812,8.62278317 9.70544812,8.89382695 L9.70544812,16.0187016 C9.70544812,16.2956569 9.83184328,16.4818702 9.94973898,16.4818702 C9.99415549,16.4786189 10.036927,16.4623622 10.0733924,16.4348735 L15.086153,12.8737663 C15.2169286,12.7719972 15.292654,12.6071763 15.2884949,12.4333571 C15.2884949,12.2654696 15.2254344,12.1200459 15.1171349,12.0443783 L10.0594094,8.48031524 C10.024352,8.45309592 9.98296236,8.43692619 9.93986863,8.43361414 Z" id="形状" stroke="#646669" fill="#646669"></path><path d="M9.95110985,17.6331412 C9.21686641,17.6331412 8.64,16.9264175 8.64,16.0213618 L8.64,8.89500925 C8.64,7.9914315 9.210012,7.28470776 9.93986863,7.28470776 C10.1800469,7.28470776 10.4213218,7.36480902 10.6417593,7.51791772 L15.6994848,11.0834586 C16.1107488,11.3695768 16.3564106,11.8750128 16.3564106,12.4363129 C16.3564106,13.0159386 16.1008785,13.5397004 15.6715188,13.8391196 L10.6587582,17.4002268 C10.4482849,17.5489804 10.2027619,17.6297915 9.95110985,17.6331412 L9.95110985,17.6331412 Z M9.93986863,8.43361414 C9.82910151,8.43361414 9.70544812,8.62278317 9.70544812,8.89382695 L9.70544812,16.0187016 C9.70544812,16.2956569 9.83184328,16.4818702 9.94973898,16.4818702 C9.99415549,16.4786189 10.036927,16.4623622 10.0733924,16.4348735 L15.086153,12.8737663 C15.2169286,12.7719972 15.292654,12.6071763 15.2884949,12.4333571 C15.2884949,12.2654696 15.2254344,12.1200459 15.1171349,12.0443783 L10.0594094,8.48031524 C10.024352,8.45309592 9.98296236,8.43692619 9.93986863,8.43361414 Z" id="形状" stroke="#4359C7" fill="#4359C7"></path></g></g></g></g></svg>'},2966:e=>{e.exports='<svg viewBox="0 0 18 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>运行</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="菜单图标" transform="translate(-346.000000, -703.000000)" fill="#9299B9" fill-rule="nonzero"><g id="运行" transform="translate(346.000000, 703.000000)"><path d="M16.5163876,0 L1.48918249,0 C0.665619446,0 0,0.670962851 0,1.50113723 L0,10.4681577 C0,11.2983321 0.665619446,11.9692949 1.48918249,11.9692949 L16.5107468,11.9692949 C17.3343098,11.9692949 17.9999649,11.2983321 17.9999649,10.4681577 L17.9999649,1.50682335 C18.0055701,0.676648976 17.3399507,0 16.5163876,0 Z M7.67477209,8.88741471 C7.32503984,9.09211524 6.8850541,8.83623958 6.8850541,8.42683851 L6.8850541,3.6732373 C6.8850541,3.26383624 7.32503984,3.00796058 7.67477209,3.21266111 L11.7587423,5.58946171 C12.1084745,5.79416224 12.1084745,6.30591357 11.7587423,6.5106141 L7.67477209,8.88741471 Z M12.8329173,15 L5.17265282,15 C4.78343467,15 4.46754747,14.681577 4.46754747,14.2892343 C4.46754747,13.8968916 4.78343467,13.5784685 5.17265282,13.5784685 L12.8329173,13.5784685 C13.2221354,13.5784685 13.5380226,13.8968916 13.5380226,14.2892343 C13.5380226,14.681577 13.2221354,15 12.8329173,15 Z" id="形状"></path></g></g></g></svg>'},1439:e=>{e.exports='<svg viewBox="0 0 24 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>通道选择器</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="画板" transform="translate(-1088.000000, -346.000000)"><g id="通道选择器" transform="translate(1088.000000, 346.000000)"><circle id="椭圆形" fill="#D0E4FF" cx="14.5000011" cy="10.5" r="9.5"></circle><g id="tongdaoguanli" fill="#646669" fill-rule="nonzero"><path d="M18.8293891,16.0188509 L16.1581539,14.4245924 C16.2844358,14.0285944 16.351291,13.6179299 16.3542624,13.204332 C16.346834,11.203809 15.0023024,9.4599513 13.0828163,8.95982054 L13.0828163,6.40783367 C14.584829,5.8725031 15.4851452,4.32517773 15.2162389,2.74118588 C14.9473325,1.15719403 13.5849729,0 11.9923343,0 C10.3996957,0 9.03733598,1.1586607 8.76842965,2.74118588 C8.49952332,4.32517773 9.39983955,5.8725031 10.9018523,6.40783367 L10.9018523,8.95982054 C8.98088053,9.45848464 7.63783454,11.203809 7.63040618,13.204332 C7.6348632,13.6179299 7.70023269,14.0300611 7.82651468,14.4245924 L5.15527941,16.0188509 C4.60774263,15.6225016 3.94742669,15.4069238 3.26847809,15.402854 C1.46338864,15.402854 1.12565431e-06,16.8797798 1.12565431e-06,18.7013704 C-0.00148229113,20.522961 1.46338864,22 3.26847809,22 C5.07653888,22 6.53992414,20.522961 6.53992417,18.7013704 C6.53596576,18.4036209 6.4920024,18.1077065 6.40918518,17.8213749 L8.91699669,16.315116 C9.72558816,17.133283 10.8344553,17.5946367 11.9923343,17.5946367 C13.1502132,17.5946367 14.2590804,17.133283 15.0676718,16.315116 L17.5754833,17.8213749 C17.1979839,19.1808123 17.7273818,20.627716 18.89773,21.435223 C20.0610098,22.2272189 21.5971929,22.1832191 22.7129313,21.3222902 C23.8335853,20.4486274 24.2782006,18.9745876 23.8242128,17.6380425 C23.3863188,16.3082373 22.1326156,15.4066148 20.7161904,15.402854 C20.0372418,15.4069238 19.3769259,15.6225016 18.8293891,16.0188509 Z M3.21452655,20.7981699 C2.50177504,20.7950724 1.84593072,20.4133378 1.49814587,19.7991493 C1.1431043,19.177853 1.1431043,18.4184868 1.49814587,17.7971905 C1.8462791,17.1823933 2.50304827,16.8005617 3.21651081,16.7981699 C4.31181966,16.7981699 5.20076597,17.6933707 5.20076597,18.796211 C5.20711542,19.3216117 5.00149567,19.8279259 4.62925577,20.203487 C4.25701587,20.579048 3.748734,20.7930049 3.21651081,20.7981699 L3.21452655,20.7981699 Z M11.9284193,1.28824973 C12.6367983,1.28824973 13.2916026,1.67022817 13.6467842,2.28727029 C14.0018258,2.90856659 14.0018258,3.66793287 13.6467842,4.28922917 C13.298651,4.90402637 12.6418818,5.28585789 11.9284193,5.28824973 C10.8311261,5.28824973 9.94416411,4.39304895 9.94416411,3.29020862 C9.93781464,2.76480795 10.1434344,2.25849375 10.5156743,1.88293268 C10.8879142,1.50737162 11.3961961,1.2934147 11.9284193,1.28824973 L11.9284193,1.28824973 Z M11.9165651,15.7768521 C10.4799219,15.7768521 9.316642,14.6035248 9.316642,13.1544656 C9.316642,11.7068731 10.4799219,10.5320791 11.9165651,10.5320791 C13.3517226,10.5320791 14.5164881,11.7054064 14.5164881,13.1544656 C14.5164881,14.6020582 13.3517226,15.7768521 11.9165651,15.7768521 Z M20.7667343,20.7079704 C20.0532051,20.7051827 19.3966591,20.3227325 19.0492105,19.7074809 C18.6943427,19.0864887 18.6943427,18.3274941 19.0492105,17.7065019 C19.3971733,17.0920057 20.053621,16.710361 20.7667343,16.7079704 C21.8615071,16.7079704 22.7500183,17.602733 22.7500183,18.7050335 C22.7563646,19.230177 22.5508455,19.7362434 22.1787878,20.1116206 C21.8067301,20.4869978 21.298697,20.70085 20.7667343,20.7060125 L20.7667343,20.7079704 Z" id="形状"></path></g><path d="M12.0000011,16.4463418 C13.7949266,16.4463418 15.2500011,14.9912673 15.2500011,13.1963418 C15.2500011,11.4014164 13.7949266,9.94634185 12.0000011,9.94634185 C10.2050757,9.94634185 8.75000113,11.4014164 8.75000113,13.1963418 C8.75000113,14.9912673 10.2050757,16.4463418 12.0000011,16.4463418 Z" id="椭圆形" stroke="#4359C7" stroke-width="2.3"></path></g></g></g></svg>'},3765:e=>{e.exports='<svg viewBox="0 0 12 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>重置 选中</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="弹窗" transform="translate(-1146.000000, -66.000000)" fill="#FFFFFF" fill-rule="nonzero"><g id="重置-选中" transform="translate(1146.000000, 66.000000)"><path d="M11.8805564,5.23527897 C11.7185989,4.37559786 11.4029191,3.57400332 10.9417521,2.85372997 C10.4956828,2.1581434 9.93432172,1.56856481 9.27139412,1.09951583 C8.60846652,0.630466848 7.8782854,0.305182106 7.10143857,0.135278916 C6.2957688,-0.0418850953 5.47500129,-0.0447894234 4.66246892,0.125113767 C3.54660942,0.358912175 2.53506151,0.90202152 1.70880392,1.70652039 L0.40490906,0.286303974 C0.277264616,0.146896228 0.0521711872,0.241286889 0.0494261454,0.435876868 L0,4.05176529 C-0.00135712823,4.1722949 0.0892292517,4.27249422 0.203148487,4.27394638 L3.62072555,4.32622429 C3.80464335,4.32912862 3.90071981,4.09533021 3.77170285,3.9544703 L2.39780942,2.45728919 C3.08681491,1.79365023 3.92817023,1.34638371 4.85462184,1.15179373 C6.20518242,0.868621747 7.57907584,1.15905455 8.72238576,1.96790991 C9.8670682,2.77821744 10.643915,4.00965253 10.9115566,5.43858193 C11.1791982,6.86751133 10.904694,8.32112752 10.1401999,9.53078015 C9.37433319,10.7418849 8.21043546,11.5638098 6.85987489,11.8469818 C5.79891623,12.0691629 4.71874227,11.9384681 3.7360173,11.467967 C2.77388015,11.007631 1.98056306,10.2612187 1.4384173,9.30859905 C1.29842017,9.06173117 0.99372053,8.98040998 0.760391975,9.12998288 C0.527063421,9.27810361 0.451574771,9.60048402 0.591571904,9.8473519 C0.912741796,10.4122437 1.31214538,10.9219533 1.78154753,11.3605068 C2.24408708,11.7947039 2.76564502,12.1519362 3.32837859,12.4220387 C4.12855828,12.80541 4.98226629,13 5.84695446,13 C6.24773056,13 6.65125171,12.9578872 7.05202782,12.8736617 C7.86456019,12.7023064 8.62219173,12.3683086 9.3029621,11.8803815 C9.96039962,11.4084282 10.5176431,10.8144931 10.9609674,10.1130979 C11.4042916,9.4117027 11.7103638,8.63915144 11.8723212,7.81577444 C12.0397688,6.96335415 12.0425138,6.09496007 11.8805564,5.23527897 Z" id="路径"></path></g></g></g></svg>'},4571:e=>{e.exports='<svg viewBox="0 0 24 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>预览</title><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="画板" transform="translate(-915.000000, -924.000000)"><g id="预览" transform="translate(915.000000, 924.000000)"><path d="M15.4064625,14.619811 C19.2724558,14.619811 22.8550822,10.8638043 22.4064625,7.61981098 C21.9578429,4.37581771 19.2724558,1.57435644 15.4064625,1.57435644 C11.5404693,1.57435644 8.40646253,3.75381773 8.40646253,7.61981098 C8.40646253,11.4858042 11.5404693,14.619811 15.4064625,14.619811 Z" id="椭圆形" fill="#D0E4FF"></path><g id="yulan" fill-rule="nonzero"><path d="M11.9064625,13.619811 C8.86889641,13.619811 6.40646253,11.1573771 6.40646253,8.11981098 C6.40646253,5.08224486 8.86889641,2.61981098 11.9064625,2.61981098 C14.9440287,2.61981098 17.4064625,5.08224486 17.4064625,8.11981098 C17.4064625,11.1573771 14.9440287,13.619811 11.9064625,13.619811 Z M11.9064625,12.0483824 C14.0761526,12.0483824 15.835034,10.2895011 15.835034,8.11981098 C15.835034,5.95012089 14.0761526,4.19123955 11.9064625,4.19123955 C9.73677244,4.19123955 7.9778911,5.95012089 7.9778911,8.11981098 C7.9778911,10.2895011 9.73677244,12.0483824 11.9064625,12.0483824 Z" id="形状" fill="#4359C7"></path><path d="M12,16 C7.57579398,16 3.61283337,13.4378182 0.12761802,8.40581818 C-0.04253934,8.16043107 -0.04253934,7.83956893 0.12761802,7.59418182 C3.61283337,2.56145455 7.57504399,0 12,0 C16.424206,0 20.3871666,2.56218182 23.872382,7.59418182 C24.0425393,7.83956893 24.0425393,8.16043107 23.872382,8.40581818 C20.3871666,13.4385455 16.424956,16 12,16 Z M11.9682106,14.6652655 C15.7144233,14.6652655 19.1568891,12.5110837 22.3098578,8.11981098 C19.1568891,3.72853825 15.7144233,1.57435644 11.9682106,1.57435644 C8.2219978,1.57435644 4.77953202,3.72853825 1.62656336,8.11981098 C4.77953202,12.5110837 8.2219978,14.6652655 11.9682106,14.6652655 Z" id="形状" fill="#646669"></path></g></g></g></g></svg>'},3028:e=>{e.exports='<svg viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>编组 16</title><desc>Created with Sketch.</desc><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="图标" transform="translate(-572.000000, -131.000000)"><g id="画面管理" transform="translate(571.000000, 131.000000)"><g id="编组-16" transform="translate(2.113677, 1.000000)"><circle id="椭圆形" stroke="#FFFFFF" cx="8.88632315" cy="7" r="7"></circle><circle id="椭圆形" stroke="#FFFFFF" cx="8.88632315" cy="10" r="2"></circle><circle id="椭圆形" fill="#FFFFFF" cx="8.88632315" cy="4" r="1"></circle><path d="M7.14319829,13.6907967 L2.82970695,18.5" id="路径-28" stroke="#FFFFFF"></path><path d="M15.4774001,13.6907967 L11.1639088,18.5" id="路径-28" stroke="#FFFFFF" transform="translate(13.320654, 16.095398) scale(-1, 1) translate(-13.320654, -16.095398) "></path><path d="M2.27373675e-13,18.5 L18.211481,18.5" id="路径-29" stroke="#FFFFFF" stroke-linecap="round"></path></g></g></g></g></svg>'},7339:e=>{e.exports='<svg viewBox="0 0 18 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="图标" transform="translate(-110.000000, -742.000000)" fill="#9299B9" fill-rule="nonzero"><g id="录制管理" transform="translate(110.000000, 742.000000)"><path d="M11.6721755,7.62347877 L11.6093008,7.62347877 C12.8589024,6.93374702 13.7071998,5.59726149 13.7071998,4.06120416 C13.7071998,1.8181735 11.9001964,0 9.67143441,0 C7.57266834,0 5.84717088,1.61411382 5.65465595,3.67556985 C5.14492162,2.89351665 4.26769926,2.37523898 3.26941861,2.37523898 C1.6908141,2.37523898 0.41388817,3.6612591 0.41388817,5.24913276 C0.41388817,6.2360928 0.909304492,7.10652912 1.66186683,7.62347875 L1.59336718,7.62347875 C0.713032196,7.62347875 0,8.34123664 0,9.22689958 L0,14.3970142 C0,15.2822192 0.713032196,16 1.59336718,16 L11.6721755,16 C12.5516434,16 13.2654093,15.2822192 13.2654093,14.3970142 L13.2654093,9.2268996 C13.2654093,8.34121379 12.5516211,7.62347877 11.6721755,7.62347877 M4.85756105,7.62347877 C5.45616039,7.216344 5.89777301,6.59404443 6.0564494,5.85977767 C6.42660541,6.61149209 7.02558269,7.22440382 7.756379,7.62347877 L4.85756105,7.62347877 Z M6.8548338,4.06118127 C6.8548338,2.4961819 8.11572979,1.22843373 9.67054507,1.22843373 C11.2256938,1.22843373 12.4857227,2.4961819 12.4878793,4.06118127 C12.4857227,5.62629512 11.2256938,6.89491339 9.67054507,6.89491339 C8.11572979,6.89491339 6.8548338,5.62631802 6.8548338,4.06118127 M9.67006736,3.061021 C9.12074874,3.06180246 8.67734211,3.50883238 8.67581453,4.06110325 C8.67734211,4.6135695 9.12074874,5.06003388 9.67006736,5.061021 C10.2185373,5.06003388 10.6631521,4.61356951 10.6635414,4.06110325 C10.6631521,3.50882209 10.2185274,3.06180246 9.67006736,3.061021 M13.9832882,10.8838999 L13.9832882,13.0815025 L18,15.1982781 L18,8.57778744 L13.9832882,10.8838999 Z" id="形状"></path></g></g></g></svg>'},8274:e=>{e.exports='<svg viewBox="0 0 80 65" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="linearGradient-1"><stop stop-color="#E9EEF8" offset="0%"></stop><stop stop-color="#DFDFFF" offset="100%"></stop></linearGradient><path d="M0,40.599138 C0,47.1225575 5.20737937,63.8396362 38.2415573,63.8396362 C71.2757353,63.8396362 80,44.3649703 80,33.3747777 C80,22.384585 71.6750887,18.0020081 55.1808217,15.3824845 C42.538961,13.3747777 42.538961,-1.61176599 28.20897,0.142471556 C13.8789791,1.8967091 15.3575165,13.3747777 9,22.0258465 C4.63724187,27.6769153 0,34.0757186 0,40.599138 Z" id="path-2"></path><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="linearGradient-4"><stop stop-color="#B0C5F6" offset="0%"></stop><stop stop-color="#6D82F1" offset="100%"></stop></linearGradient><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="linearGradient-5"><stop stop-color="#B9C2D8" offset="0%"></stop><stop stop-color="#AEBFF3" offset="100%"></stop></linearGradient></defs><g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="画板" transform="translate(0.000000, -7.000000)"><g id="编组" transform="translate(0.000000, 7.625222)"><g id="sheyingshipin-fill"><mask id="mask-3" fill="white"><use xlink:href="#path-2"></use></mask><use id="蒙版" fill="url(#linearGradient-1)" xlink:href="#path-2"></use><g mask="url(#mask-3)" fill="url(#linearGradient-4)" fill-rule="nonzero" id="形状"><g transform="translate(19.000000, 28.374778)"><path d="M43,6.42705885 C42.9667344,5.69698414 42.5627035,5.03240577 41.925,4.65882354 L41.82825,4.60588235 C41.2008782,4.23982633 40.4278934,4.21192335 39.775,4.53176472 C39.6011548,4.61774077 39.4386885,4.72442175 39.29125,4.84941178 L34.4,9.10588236 L34.4,5.29411766 C34.4,2.37025721 31.9935305,0 29.025,0 L5.37500001,0 C2.40646948,0 0,2.37025721 0,5.29411766 L0,30.7058823 C0,33.6297428 2.40646948,36 5.37500001,36 L29.025,36 C31.9935305,36 34.4,33.6297428 34.4,30.7058823 L34.4,26.8941176 L39.474,31.3411765 L39.732,31.4682353 C40.4193183,31.7946907 41.2272292,31.7588818 41.882,31.3729412 C42.5536779,30.926383 42.9564684,30.1805318 42.957,29.3823529 L42.957,6.42705885 L43,6.42705885 Z M15.75,13 L9.25,13 C7.45507456,13 6,11.6568542 6,10 C6,8.34314575 7.45507456,7 9.25,7 L15.75,7 C17.5449254,7 19,8.34314575 19,10 C19,11.6568542 17.5449254,13 15.75,13 Z"></path></g></g></g><rect id="矩形" fill="#527FFF" transform="translate(53.500000, 14.874778) rotate(-270.000000) translate(-53.500000, -14.874778) " x="50" y="14.3747777" width="7" height="1" rx="0.5"></rect><rect id="矩形" stroke="#9AAAEF" x="3.5" y="28.8747777" width="4" height="4" rx="2"></rect><rect id="矩形备份" fill="#527FFF" x="50" y="14.3747777" width="7" height="1" rx="0.5"></rect><path d="M75,54.8747777 C75,54.0463506 74.3284271,53.3747777 73.5,53.3747777 C72.6715729,53.3747777 72,54.0463506 72,54.8747777" id="路径" stroke="#B0B8D1" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="bevel"></path><circle id="椭圆形" fill="#B0B8D1" cx="71.5" cy="50.8747777" r="1"></circle><circle id="椭圆形备份" fill="#B0B8D1" cx="74.5" cy="50.8747777" r="1"></circle><path d="M74,48.3747777 C77.3137085,48.3747777 80,51.0610692 80,54.3747777 C80,57.6884862 77.3137085,60.3747777 74,60.3747777 C70.6862915,60.3747777 68,57.6884862 68,54.3747777 C68,52.3127992 69.0401424,50.493759 70.6243613,49.4137229 C69.6315596,50.2393355 69,51.4833023 69,52.8747777 C69,55.3600591 71.0147186,57.3747777 73.5,57.3747777 C75.9852814,57.3747777 78,55.3600591 78,52.8747777 C78,50.4696339 76.1131154,48.5051957 73.7388934,48.3810102 C73.8248262,48.3766639 73.9121928,48.3747777 74,48.3747777 Z" id="形状结合" fill="url(#linearGradient-5)"></path></g></g></g></svg>'},9945:function(e){var t,n,i,r,o;t=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var r=o.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return i.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var c={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var u=s.path,d=u.substring(0,u.lastIndexOf("/")+1)+a.path;c.path=o.normalizePath(d)}else c.path=s.path,a.params||(c.params=s.params,a.query||(c.query=s.query));return null===c.path&&(c.path=i.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(c)},parseURL:function(e){var n=t.exec(e);return n?{scheme:n[1]||"",netLoc:n[2]||"",path:n[3]||"",params:n[4]||"",query:n[5]||"",fragment:n[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=o},3407:(e,t,n)=>{var i=n(8908),r=e.exports={WebVTT:n(3706),VTTCue:n(2230),VTTRegion:n(3710)};i.vttjs=r,i.WebVTT=r.WebVTT;var o=r.VTTCue,a=r.VTTRegion,s=i.VTTCue,l=i.VTTRegion;r.shim=function(){i.VTTCue=o,i.VTTRegion=a},r.restore=function(){i.VTTCue=s,i.VTTRegion=l},i.VTTCue||r.shim()},3706:(e,t,n)=>{var i=n(9144),r=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function o(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function a(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function s(){this.values=r(null)}function l(e,t,n,i){var r=i?e.split(i):[e];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(n);2===a.length&&t(a[0].trim(),a[1].trim())}}function c(e,t,n){var i=e;function r(){var t=a(e);if(null===t)throw new o(o.Errors.BadTimeStamp,"Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=r(),c(),"--\x3e"!==e.substr(0,3))throw new o(o.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),c(),t.endTime=r(),c(),function(e,t){var i=new s;l(e,(function(e,t){switch(e){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===t){i.set(e,n[r].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];i.integer(e,a),i.percent(e,a)&&i.set("snapToLines",!1),i.alt(e,a,["auto"]),2===o.length&&i.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=t.split(","),i.percent(e,o[0]),2===o.length&&i.alt("positionAlign",o[1],["start","center","end"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical","");try{t.line=i.get("line","auto")}catch(e){}t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100);try{t.align=i.get("align","center")}catch(e){t.align=i.get("align","middle")}try{t.position=i.get("position","auto")}catch(e){t.position=i.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=i.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}o.prototype=r(Error.prototype),o.prototype.constructor=o,o.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var u=i.createElement&&i.createElement("textarea"),d={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},A={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},h={v:"title",lang:"lang"},p={rt:"ruby"};function f(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function i(e,t){return!p[t.localName]||p[t.localName]===e.localName}function r(t,n){var i=d[t];if(!i)return null;var r=e.document.createElement(i),o=h[t];return o&&n&&(r[o]=n.trim()),r}for(var o,s,l=e.document.createElement("div"),c=l,f=[];null!==(o=n());)if("<"!==o[0])c.appendChild(e.document.createTextNode((s=o,u.innerHTML=s,s=u.textContent,u.textContent="",s)));else{if("/"===o[1]){f.length&&f[f.length-1]===o.substr(2).replace(">","")&&(f.pop(),c=c.parentNode);continue}var m,g=a(o.substr(1,o.length-2));if(g){m=e.document.createProcessingInstruction("timestamp",g),c.appendChild(m);continue}var v=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v)continue;if(!(m=r(v[1],v[3])))continue;if(!i(c,m))continue;if(v[2]){var y=v[2].split(".");y.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(A.hasOwnProperty(n)){var i=t?"background-color":"color",r=A[n];m.style[i]=r}})),m.className=y.join(" ")}f.push(v[1]),c.appendChild(m),c=m}return l}var m=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function g(e){for(var t=0;t<m.length;t++){var n=m[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function v(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function i(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function r(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):n}return"ruby"===t.tagName?r(e):t.childNodes?(i(e,t),r(e)):void 0}for(i(t,e);n=r(t);)for(var o=0;o<n.length;o++)if(g(n.charCodeAt(o)))return"rtl";return"ltr"}function y(){}function b(e,t,n){y.call(this),this.cue=t,this.cueDiv=f(e,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={direction:v(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function C(e){var t,n,i,r;if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,r=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||n,this.bottom=e.bottom||r+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight}function _(e,t,n,i){var r=new C(t),o=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return-1*++i}(o),s=[];if(o.snapToLines){var l;switch(o.vertical){case"":s=["+y","-y"],l="height";break;case"rl":s=["+x","-x"],l="width";break;case"lr":s=["-x","+x"],l="width"}var c=r.lineHeight,u=c*Math.round(a),d=n[l]+c,A=s[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/c)*c),a<0&&(u+=""===o.vertical?n.height:n.width,s=s.reverse()),r.move(A,u)}else{var h=r.lineHeight/n.height*100;switch(o.lineAlign){case"center":a-=h/2;break;case"end":a-=h}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],r=new C(t)}var p=function(e,t){for(var r,o=new C(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(i);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);a>l&&(r=new C(e),a=l),e=new C(o)}return r||o}(r,s);t.move(p.toCSSCompatValues(n))}function E(){}y.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},y.prototype.formatStyle=function(e,t){return 0===e?0:e+t},b.prototype=r(y.prototype),b.prototype.constructor=b,C.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},C.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},C.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},C.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},C.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},C.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},C.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},C.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},E.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},E.convertCueToDOMTree=function(e,t){return e&&t?f(e,t):null},E.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var r=[],o=C.getSimpleBoxPosition(i),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,s,l=0;l<t.length;l++)s=t[l],n=new b(e,s,a),i.appendChild(n.div),_(0,n,o,r),s.displayState=n.div,r.push(C.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)i.appendChild(t[s].displayState)},E.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},E.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof o))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t,n=this;function i(){for(var e=n.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var i=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),i}e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));try{var r;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var u=(r=i()).match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new o(o.Errors.BadSignature);n.state="HEADER"}for(var d=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(d?d=!1:r=i(),n.state){case"HEADER":/:/.test(r)?(t=r).match(/X-TIMESTAMP-MAP/)?l(t,(function(e,t){"X-TIMESTAMP-MAP"===e&&function(e){var t=new s;l(e,(function(e,n){switch(e){case"MPEGT":t.integer(e+"S",n);break;case"LOCA":t.set(e+"L",a(n))}}),/[^\d]:/,/,/),n.ontimestampmap&&n.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}(t)}),/=/):l(t,(function(e,t){"Region"===e&&function(e){var t=new s;if(l(e,(function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var r=new s;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;t.set(e+"X",r.get("x")),t.set(e+"Y",r.get("y"));break;case"scroll":t.alt(e,n,["up"])}}),/=/,/\s/),t.has("id")){var i=new(n.vttjs.VTTRegion||n.window.VTTRegion);i.width=t.get("width",100),i.lines=t.get("lines",3),i.regionAnchorX=t.get("regionanchorX",0),i.regionAnchorY=t.get("regionanchorY",100),i.viewportAnchorX=t.get("viewportanchorX",0),i.viewportAnchorY=t.get("viewportanchorY",100),i.scroll=t.get("scroll",""),n.onregion&&n.onregion(i),n.regionList.push({id:t.get("id"),region:i})}}(t)}),/:/):r||(n.state="ID");continue;case"NOTE":r||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){n.state="NOTE";break}if(!r)continue;n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,"");try{n.cue.align="center"}catch(e){n.cue.align="middle"}if(n.state="CUE",-1===r.indexOf("--\x3e")){n.cue.id=r;continue}case"CUE":try{c(r,n.cue,n.regionList)}catch(e){n.reportOrThrowError(e),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var A=-1!==r.indexOf("--\x3e");if(!r||A&&(d=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(n.state="ID");continue}}}catch(e){n.reportOrThrowError(e),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new o(o.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=E},2230:e=>{var t={"":1,lr:1,rl:1},n={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function i(e){return"string"==typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}function r(e,n,r){this.hasBeenReset=!1;var o="",a=!1,s=e,l=n,c=r,u=null,d="",A=!0,h="auto",p="start",f="auto",m="auto",g=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return o},set:function(e){o=""+e}},pauseOnExit:{enumerable:!0,get:function(){return a},set:function(e){a=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(e){u=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){var n=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===n)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=n,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return A},set:function(e){A=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");h=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return p},set:function(e){var t=i(e);t?(p=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return f},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");f=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(e){var t=i(e);t?(m=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return g},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");g=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(e){var t=i(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=t,this.hasBeenReset=!0}}}),this.displayState=void 0}r.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=r},3710:e=>{var t={"":!0,up:!0};function n(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,i=3,r=0,o=100,a=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!n(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");i=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!n(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!n(e))throw new Error("RegionAnchorY must be between 0 and 100.");r=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!n(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!n(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var n=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);!1===n?console.warn("Scroll: an invalid or illegal string was specified."):l=n}}})}},8034:e=>{var t=arguments[3],n=arguments[4],i=arguments[5],r=JSON.stringify;e.exports=function(e,o){for(var a,s=Object.keys(i),l=0,c=s.length;l<c;l++){var u=s[l],d=i[u].exports;if(d===e||d&&d.default===e){a=u;break}}if(!a){a=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var A={};for(l=0,c=s.length;l<c;l++)A[u=s[l]]=u;n[a]=["function(require,module,exports){"+e+"(self); }",A]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[a]=a,n[h]=["function(require,module,exports){var f = require("+r(a)+");(f.default ? f.default : f)(self);}",p];var f={};!function e(t){for(var i in f[t]=!0,n[t][1]){var r=n[t][1][i];f[r]||e(r)}}(h);var m="("+t+")({"+Object.keys(f).map((function(e){return r(e)+":["+n[e][0]+","+r(n[e][1])+"]"})).join(",")+"},{},["+r(h)+"])",g=window.URL||window.webkitURL||window.mozURL||window.msURL,v=new Blob([m],{type:"text/javascript"});if(o&&o.bare)return v;var y=g.createObjectURL(v),b=new Worker(y);return b.objectURL=y,b}},8074:(e,t,n)=>{var i={"./云台控制.svg":5920,"./云台控制按钮.svg":5769,"./全屏.svg":6426,"./分屏.svg":9984,"./回放.svg":8114,"./回放时间轴.svg":8306,"./国标设备.svg":5686,"./无插件视频.svg":3625,"./日历.svg":5763,"./暂停.svg":9646,"./概览.svg":2492,"./流列表.svg":2737,"./海康视频.svg":2915,"./清除.svg":8491,"./视频.svg":9107,"./运行.svg":2966,"./通道选择器.svg":1439,"./重置.svg":3765,"./预览.svg":4571};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=8074},7363:e=>{"use strict";e.exports=React},1533:e=>{"use strict";e.exports=ReactDOM},2611:e=>{"use strict";e.exports=_},8488:e=>{"use strict";e.exports=moment},5907:e=>{"use strict";e.exports=xadminUi},5893:()=>{},434:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7061:(e,t,n)=>{var i=n(8698).default;function r(){"use strict";e.exports=r=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function A(e,t,n,i){var r=t&&t.prototype instanceof f?t:f,o=Object.create(r.prototype),s=new I(i||[]);return a(o,"_invoke",{value:w(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=A;var p={};function f(){}function m(){}function g(){}var v={};d(v,l,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(B([])));b&&b!==n&&o.call(b,l)&&(v=b);var C=g.prototype=f.prototype=Object.create(v);function _(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(r,a,s,l){var c=h(e[r],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==i(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var r;a(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}})}function w(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=h(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function T(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var r=h(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function B(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return m.prototype=g,a(C,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:m,configurable:!0}),m.displayName=d(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,d(e,u,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},_(E.prototype),d(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new E(A(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(C),d(C,u,"Generator"),d(C,l,(function(){return this})),d(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=B,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var s=o.call(r,"catchLoc"),l=o.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:B(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},8698:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4687:(e,t,n)=>{var i=n(7061)();e.exports=i;try{regeneratorRuntime=i}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},907:(e,t,n)=>{"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{Z:()=>i})},5861:(e,t,n)=>{"use strict";function i(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,l,"next",e)}function l(e){i(a,r,o,s,l,"throw",e)}s(void 0)}))}}n.d(t,{Z:()=>r})},5671:(e,t,n)=>{"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:()=>i})},3144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(9142);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,i.Z)(r.key),r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},4942:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(9142);function r(e,t,n){return(t=(0,i.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(181);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||(0,i.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(1002);function r(e){var t=function(e,t){if("object"!==(0,i.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==(0,i.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===(0,i.Z)(t)?t:String(t)}},1002:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{Z:()=>i})},181:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(907);function r(e,t){if(e){if("string"==typeof e)return(0,i.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.Z)(e,t):void 0}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&!e;)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{"use strict";const e=xadmin;var t=__webpack_require__(5907),n=__webpack_require__(5861),i=__webpack_require__(885),r=__webpack_require__(4687),o=__webpack_require__.n(r),a=__webpack_require__(7363),s=__webpack_require__.n(a);const l=antd;var c=__webpack_require__(7484),u=__webpack_require__.n(c);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},d.apply(this,arguments)}__webpack_require__(8778);var A=__webpack_require__(4942),h=__webpack_require__(2611),p=__webpack_require__.n(h),f=__webpack_require__(8908),m=__webpack_require__.n(f),g=__webpack_require__(9144),v=__webpack_require__.n(g),y=__webpack_require__(7537),b=__webpack_require__.n(y);function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,E(e,t)}var T=__webpack_require__(5974),S=__webpack_require__.n(T),k=__webpack_require__(9603),I=__webpack_require__.n(k),B=__webpack_require__(3407),x=__webpack_require__.n(B);function D(e,t,n){return D=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&E(r,n.prototype),r},D.apply(null,arguments)}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}var R=__webpack_require__(9945),j=__webpack_require__.n(R);const L=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=m().location&&m().location.href||"");var n="function"==typeof m().URL,i=/^\/\//.test(e),r=!m().location&&!/\/\//i.test(e);if(n?e=new(m().URL)(e,m().location||"http://example.com"):/\/\//i.test(e)||(e=j().buildAbsoluteURL(m().location&&m().location.href||"",e)),n){var o=new URL(t,e);return r?o.href.slice(18):i?o.href.slice(o.protocol.length):o.href}return j().buildAbsoluteURL(e,t)};var M=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();function O(e){for(var t,n=(t=e,m().atob?m().atob(t):Buffer.from(t,"base64").toString("binary")),i=new Uint8Array(n.length),r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}var F,U,Q,N=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return w(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(M),q=String.fromCharCode(9),z=function(e){var t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),n},G=function(e){for(var t,n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},r=n.length;r--;)""!==n[r]&&((t=/([^=]*)=(.*)/.exec(n[r]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),i[t[0]]=t[1]);return i},H=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}w(t,e);var n=t.prototype;return n.push=function(e){var t,n,i=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((function(t,n){var i=n(e);return i===e?t:t.concat([i])}),[e]).forEach((function(e){for(var r=0;r<i.customParsers.length;r++)if(i.customParsers[r].call(i,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))i.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void i.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void i.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(e))return n=d(z(t[1]),{type:"tag",tagType:"byterange"}),void i.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void i.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var o=G(t[1]);o.URI&&(n.uri=o.URI),o.BYTERANGE&&(n.byterange=z(o.BYTERANGE))}i.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=G(t[1]),n.attributes.RESOLUTION){var a=n.attributes.RESOLUTION.split("x"),s={};a[0]&&(s.width=parseInt(a[0],10)),a[1]&&(s.height=parseInt(a[1],10)),n.attributes.RESOLUTION=s}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}i.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=G(t[1])),void i.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))i.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))i.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void i.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=G(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void i.trigger("data",n);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=G(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void i.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void i.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void i.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void i.trigger("data",n);if((t=/^#EXT-X-SKIP:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"skip"}).attributes=G(t[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(q)),void i.trigger("data",n);if((t=/^#EXT-X-PART:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"part"}).attributes=G(t[1]),["DURATION"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["INDEPENDENT","GAP"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=z(n.attributes.BYTERANGE)),void i.trigger("data",n);if((t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"server-control"}).attributes=G(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),void i.trigger("data",n);if((t=/^#EXT-X-PART-INF:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"part-inf"}).attributes=G(t[1]),["PART-TARGET"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),void i.trigger("data",n);if((t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"preload-hint"}).attributes=G(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(e){if(n.attributes.hasOwnProperty(e)){n.attributes[e]=parseInt(n.attributes[e],10);var t="BYTERANGE-LENGTH"===e?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[t]=n.attributes[e],delete n.attributes[e]}})),void i.trigger("data",n);if((t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"rendition-report"}).attributes=G(t[1]),["LAST-MSN","LAST-PART"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseInt(n.attributes[e],10))})),void i.trigger("data",n);i.trigger("data",{type:"tag",data:e.slice(4)})}}}else i.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))},n.addParser=function(e){var t=this,n=e.expression,i=e.customType,r=e.dataParser,o=e.segment;"function"!=typeof r&&(r=function(e){return e}),this.customParsers.push((function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:r(e),customType:i,segment:o}),!0}))},n.addTagMapper=function(e){var t=e.expression,n=e.map;this.tagMappers.push((function(e){return t.test(e)?n(e):e}))},t}(M),W=function(e){var t={};return Object.keys(e).forEach((function(n){var i;t[(i=n,i.toLowerCase().replace(/-(\w)/g,(function(e){return e[1].toUpperCase()})))]=e[n]})),t},V=function(e){var t=e.serverControl,n=e.targetDuration,i=e.partTargetDuration;if(t){var r="#EXT-X-SERVER-CONTROL",o="holdBack",a="partHoldBack",s=n&&3*n,l=i&&2*i;n&&!t.hasOwnProperty(o)&&(t[o]=s,this.trigger("info",{message:r+" defaulting HOLD-BACK to targetDuration * 3 ("+s+")."})),s&&t[o]<s&&(this.trigger("warn",{message:r+" clamping HOLD-BACK ("+t[o]+") to targetDuration * 3 ("+s+")"}),t[o]=s),i&&!t.hasOwnProperty(a)&&(t[a]=3*i,this.trigger("info",{message:r+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+t[a]+")."})),i&&t[a]<l&&(this.trigger("warn",{message:r+" clamping PART-HOLD-BACK ("+t[a]+") to partTargetDuration * 2 ("+l+")."}),t[a]=l)}},Y=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new N,t.parseStream=new H,t.lineStream.pipe(t.parseStream);var n,i,r=C(t),o=[],a={},s=!1,l=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var A=0,h=0;return t.on("end",(function(){a.uri||!a.parts&&!a.preloadHints||(!a.map&&n&&(a.map=n),!a.key&&i&&(a.key=i),a.timeline||"number"!=typeof u||(a.timeline=u),t.manifest.preloadSegment=a)})),t.parseStream.on("data",(function(e){var t,p;({tag:function(){({version:function(){e.version&&(this.manifest.version=e.version)},"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(a.byterange=t,t.length=e.length,"offset"in e||(e.offset=A)),"offset"in e&&(a.byterange=t,t.offset=e.offset),A=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(a.duration=e.duration),0===e.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("com.apple.streamingkeydelivery"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:e.attributes});if("com.microsoft.playready"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:e.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:O(e.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(i.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else i=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,u=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange),i&&(n.key=i)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||c,e.attributes?(a.attributes||(a.attributes={}),d(a.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],(p={default:/yes/i.test(e.attributes.DEFAULT)}).default?p.autoselect=!0:p.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(p.language=e.attributes.LANGUAGE),e.attributes.URI&&(p.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(p.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(p.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(p.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=p}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){u+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),a.dateTimeString=e.dateTimeString,a.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):(this.manifest.targetDuration=e.duration,V.call(this,this.manifest))},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=e.data},"cue-out-cont":function(){a.cueOutCont=e.data},"cue-in":function(){a.cueIn=e.data},skip:function(){this.manifest.skip=W(e.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",e.attributes,["SKIPPED-SEGMENTS"])},part:function(){var t=this;s=!0;var n=this.manifest.segments.length,i=W(e.attributes);a.parts=a.parts||[],a.parts.push(i),i.byterange&&(i.byterange.hasOwnProperty("offset")||(i.byterange.offset=h),h=i.byterange.offset+i.byterange.length);var r=a.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+r+" for segment #"+n,e.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((function(e,n){e.hasOwnProperty("lastPart")||t.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+n+" lacks required attribute(s): LAST-PART"})}))},"server-control":function(){var t=this.manifest.serverControl=W(e.attributes);t.hasOwnProperty("canBlockReload")||(t.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),V.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var t=this.manifest.segments.length,n=W(e.attributes),i=n.type&&"PART"===n.type;a.preloadHints=a.preloadHints||[],a.preloadHints.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=i?h:0,i&&(h=n.byterange.offset+n.byterange.length)));var r=a.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+r+" for segment #"+t,e.attributes,["TYPE","URI"]),n.type)for(var o=0;o<a.preloadHints.length-1;o++){var s=a.preloadHints[o];s.type&&s.type===n.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+r+" for segment #"+t+" has the same TYPE "+n.type+" as preload hint #"+o})}},"rendition-report":function(){var t=W(e.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);var n=this.manifest.renditionReports.length-1,i=["LAST-MSN","URI"];s&&i.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+n,e.attributes,i)},"part-inf":function(){this.manifest.partInf=W(e.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",e.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),V.call(this,this.manifest)}}[e.tagType]||l).call(r)},uri:function(){a.uri=e.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),i&&(a.key=i),a.timeline=u,n&&(a.map=n),h=0,a={}},comment:function(){},custom:function(){e.segment?(a.custom=a.custom||{},a.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(r)})),t}w(t,e);var n=t.prototype;return n.warnOnMissingAttributes_=function(e,t,n){var i=[];n.forEach((function(e){t.hasOwnProperty(e)||i.push(e)})),i.length&&this.trigger("warn",{message:e+" lacks required attribute(s): "+i.join(", ")})},n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n"),this.trigger("end")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(M),J={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},K=["video","audio","text"],Z=["Video","Audio","Text"],X=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):e},$=function(e){void 0===e&&(e="");var t=e.split(","),n=[];return t.forEach((function(e){var t;e=e.trim(),K.forEach((function(i){var r=J[i].exec(e.toLowerCase());if(r&&!(r.length<=1)){t=i;var o=e.substring(0,r[1].length),a=e.replace(o,"");n.push({type:o,details:a,mediaType:i})}})),t||n.push({type:e,details:"",mediaType:"unknown"})})),n},ee=function(e){return void 0===e&&(e=""),J.audio.test(e.trim().toLowerCase())},te=function(e){if(e&&"string"==typeof e){var t,n=e.toLowerCase().split(",").map((function(e){return X(e.trim())})),i="video";1===n.length&&ee(n[0])?i="audio":1===n.length&&(void 0===(t=n[0])&&(t=""),J.text.test(t.trim().toLowerCase()))&&(i="application");var r="mp4";return n.every((function(e){return J.mp4.test(e)}))?r="mp4":n.every((function(e){return J.webm.test(e)}))?r="webm":n.every((function(e){return J.ogg.test(e)}))&&(r="ogg"),i+"/"+r+';codecs="'+e+'"'}},ne=function(e){return void 0===e&&(e=""),m().MediaSource&&m().MediaSource.isTypeSupported&&m().MediaSource.isTypeSupported(te(e))||!1},ie=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<Z.length;t++)if(J["muxer"+Z[t]].test(e))return!0;return!1}))},re="mp4a.40.2",oe=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,ae=/^application\/dash\+xml/i,se=function(e){return oe.test(e)?"hls":ae.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null},le=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},ce=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||le(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},ue=m().BigInt||Number,de=[ue("0x1"),ue("0x100"),ue("0x10000"),ue("0x1000000"),ue("0x100000000"),ue("0x10000000000"),ue("0x1000000000000"),ue("0x100000000000000"),ue("0x10000000000000000")],Ae=(F=new Uint16Array([65484]),255===(U=new Uint8Array(F.buffer,F.byteOffset,F.byteLength))[0]||U[0],function(e,t){var n=void 0===t?{}:t,i=n.signed,r=void 0!==i&&i,o=n.le,a=void 0!==o&&o;e=ce(e);var s=a?"reduce":"reduceRight",l=(e[s]?e[s]:Array.prototype[s]).call(e,(function(t,n,i){var r=a?i:Math.abs(i+1-e.length);return t+ue(n)*de[r]}),ue(0));if(r){var c=de[e.length]/ue(2)-ue(1);(l=ue(l))>c&&(l-=c,l-=c,l-=ue(2))}return Number(l)}),he=function(e,t){if("string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},pe=function(e,t,n){var i=void 0===n?{}:n,r=i.offset,o=void 0===r?0:r,a=i.mask,s=void 0===a?[]:a;e=ce(e);var l=(t=ce(t)).every?t.every:Array.prototype.every;return t.length&&e.length-o>=t.length&&l.call(t,(function(t,n){return t===(s[n]?s[n]&e[o+n]:e[o+n])}))},fe=__webpack_require__(3969),me=function(e){return!!e&&"object"==typeof e},ge=function e(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.reduce((function(t,n){return"object"!=typeof n||Object.keys(n).forEach((function(i){Array.isArray(t[i])&&Array.isArray(n[i])?t[i]=t[i].concat(n[i]):me(t[i])&&me(n[i])?t[i]=e(t[i],n[i]):t[i]=n[i]})),t}),{})},ve=function(e){return Object.keys(e).map((function(t){return e[t]}))},ye=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},be=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},Ce=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},_e=function(e){var t=e.baseUrl,n=void 0===t?"":t,i=e.source,r=void 0===i?"":i,o=e.range,a=void 0===o?"":o,s=e.indexRange,l=void 0===s?"":s,c={uri:r,resolvedUri:L(n||"",r)};if(a||l){var u,d=(a||l).split("-"),A=m().BigInt?m().BigInt(d[0]):parseInt(d[0],10),h=m().BigInt?m().BigInt(d[1]):parseInt(d[1],10);A<Number.MAX_SAFE_INTEGER&&"bigint"==typeof A&&(A=Number(A)),h<Number.MAX_SAFE_INTEGER&&"bigint"==typeof h&&(h=Number(h)),"bigint"==typeof(u="bigint"==typeof h||"bigint"==typeof A?m().BigInt(h)-m().BigInt(A)+m().BigInt(1):h-A+1)&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),c.byterange={length:u,offset:A}}return c},Ee=function(e){return e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e},we={static:function(e){var t=e.duration,n=e.timescale,i=void 0===n?1:n,r=e.sourceDuration,o=e.periodDuration,a=Ee(e.endNumber),s=t/i;return"number"==typeof a?{start:0,end:a}:"number"==typeof o?{start:0,end:o/s}:{start:0,end:r/s}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,i=e.availabilityStartTime,r=e.timescale,o=void 0===r?1:r,a=e.duration,s=e.periodStart,l=void 0===s?0:s,c=e.minimumUpdatePeriod,u=void 0===c?0:c,d=e.timeShiftBufferDepth,A=void 0===d?1/0:d,h=Ee(e.endNumber),p=(t+n)/1e3,f=i+l,m=p+u-f,g=Math.ceil(m*o/a),v=Math.floor((p-f-A)*o/a),y=Math.floor((p-f)*o/a);return{start:Math.max(0,v),end:"number"==typeof h?h:Math.min(g,y)}}},Te=function(e){var t=e.type,n=e.duration,i=e.timescale,r=void 0===i?1:i,o=e.periodDuration,a=e.sourceDuration,s=we[t](e),l=function(e,t){for(var n=[],i=e;i<t;i++)n.push(i);return n}(s.start,s.end).map(function(e){return function(t){var n=e.duration,i=e.timescale,r=void 0===i?1:i,o=e.periodStart,a=e.startNumber;return{number:(void 0===a?1:a)+t,duration:n/r,timeline:o,time:t*n}}}(e));if("static"===t){var c=l.length-1,u="number"==typeof o?o:a;l[c].duration=u-n/r*c}return l},Se=function(e){var t=e.baseUrl,n=e.initialization,i=void 0===n?{}:n,r=e.sourceDuration,o=e.indexRange,a=void 0===o?"":o,s=e.periodStart,l=e.presentationTime,c=e.number,u=void 0===c?0:c,d=e.duration;if(!t)throw new Error("NO_BASE_URL");var A=_e({baseUrl:t,source:i.sourceURL,range:i.range}),h=_e({baseUrl:t,source:t,indexRange:a});if(h.map=A,d){var p=Te(e);p.length&&(h.duration=p[0].duration,h.timeline=p[0].timeline)}else r&&(h.duration=r,h.timeline=s);return h.presentationTime=l||s,h.number=u,[h]},ke=function(e,t,n){var i,r=e.sidx.map?e.sidx.map:null,o=e.sidx.duration,a=e.timeline||0,s=e.sidx.byterange,l=s.offset+s.length,c=t.timescale,u=t.references.filter((function(e){return 1!==e.referenceType})),d=[],A=e.endList?"static":"dynamic",h=e.sidx.timeline,p=h,f=e.mediaSequence||0;i="bigint"==typeof t.firstOffset?m().BigInt(l)+t.firstOffset:l+t.firstOffset;for(var g=0;g<u.length;g++){var v,y=t.references[g],b=y.referencedSize,C=y.subsegmentDuration;v="bigint"==typeof i?i+m().BigInt(b)-m().BigInt(1):i+b-1;var _=Se({baseUrl:n,timescale:c,timeline:a,periodStart:h,presentationTime:p,number:f,duration:C,sourceDuration:o,indexRange:i+"-"+v,type:A})[0];r&&(_.map=r),d.push(_),i+="bigint"==typeof i?m().BigInt(b):b,p+=C/c,f++}return e.segments=d,e},Ie=["AUDIO","SUBTITLES"],Be=function(e){return(t=e,n=function(e){return e.timeline},ve(t.reduce((function(e,t){return t.forEach((function(t){e[n(t)]=t})),e}),{}))).sort((function(e,t){return e.timeline>t.timeline?1:-1}));var t,n},xe=function(e){var t,n,i=[];return t=e,n=function(e,t,n,r){i=i.concat(e.playlists||[])},Ie.forEach((function(e){for(var i in t.mediaGroups[e])for(var r in t.mediaGroups[e][i]){var o=t.mediaGroups[e][i][r];n(o)}})),i},De=function(e){var t=e.playlist,n=e.mediaSequence;t.mediaSequence=n,t.segments.forEach((function(e,n){e.number=t.mediaSequence+n}))},Pe=function(e){return e&&e.uri+"-"+(n="bigint"==typeof(t=e.byterange).offset||"bigint"==typeof t.length?m().BigInt(t.offset)+m().BigInt(t.length)-m().BigInt(1):t.offset+t.length-1,t.offset+"-"+n);var t,n},Re=function(e){return ve(e.reduce((function(e,t){var n,i=t.attributes.id+(t.attributes.lang||"");e[i]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),(n=e[i].segments).push.apply(n,t.segments)),t.attributes.contentProtection&&(e[i].attributes.contentProtection=t.attributes.contentProtection)):(e[i]=t,e[i].attributes.timelineStarts=[]);return e[i].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e}),{})).map((function(e){var t;return e.discontinuityStarts=(t=e.segments||[],"discontinuity",t.reduce((function(e,t,n){return t.discontinuity&&e.push(n),e}),[])),e}))},je=function(e,t){var n=Pe(e.sidx),i=n&&t[n]&&t[n].sidx;return i&&ke(e,i,e.sidx.resolvedUri),e},Le=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e)e[n]=je(e[n],t);return e},Me=function(e){var t,n=e.attributes,i=e.segments,r=e.sidx,o=e.discontinuityStarts,a={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuityStarts:o,timelineStarts:n.timelineStarts,segments:i};return n.frameRate&&(a.attributes["FRAME-RATE"]=n.frameRate),n.contentProtection&&(a.contentProtection=n.contentProtection),r&&(a.sidx=r),a},Oe=function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType},Fe=function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType},Ue=function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType},Qe=function(e){return e?Object.keys(e).reduce((function(t,n){var i=e[n];return t.concat(i.playlists)}),[]):[]},Ne=function(e){var t,n=e.dashPlaylists,i=e.locations,r=e.sidxMapping,o=void 0===r?{}:r,a=e.previousManifest;if(!n.length)return{};var s=n[0].attributes,l=s.sourceDuration,c=s.type,u=s.suggestedPresentationDelay,d=s.minimumUpdatePeriod,A=Re(n.filter(Oe)).map(Me),h=Re(n.filter(Fe)),p=Re(n.filter(Ue)),f=n.map((function(e){return e.attributes.captionServices})).filter(Boolean),m={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:l,playlists:Le(A,o)};d>=0&&(m.minimumUpdatePeriod=1e3*d),i&&(m.locations=i),"dynamic"===c&&(m.suggestedPresentationDelay=u);var g,v,y,b,C,_,E,w=0===m.playlists.length,T=h.length?function(e,t,n){var i;void 0===t&&(t={}),void 0===n&&(n=!1);var r=e.reduce((function(e,r){var o=r.attributes.role&&r.attributes.role.value||"",a=r.attributes.lang||"",s=r.attributes.label||"main";if(a&&!r.attributes.label){var l=o?" ("+o+")":"";s=""+r.attributes.lang+l}e[s]||(e[s]={language:a,autoselect:!0,default:"main"===o,playlists:[],uri:""});var c=je(function(e,t){var n,i=e.attributes,r=e.segments,o=e.sidx,a=e.mediaSequence,s=e.discontinuitySequence,l=e.discontinuityStarts,c={attributes:(n={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs},n["PROGRAM-ID"]=1,n),uri:"",endList:"static"===i.type,timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuitySequence:s,discontinuityStarts:l,timelineStarts:i.timelineStarts,mediaSequence:a,segments:r};return i.contentProtection&&(c.contentProtection=i.contentProtection),o&&(c.sidx=o),t&&(c.attributes.AUDIO="audio",c.attributes.SUBTITLES="subs"),c}(r,n),t);return e[s].playlists.push(c),void 0===i&&"main"===o&&((i=r).default=!0),e}),{});return i||(r[Object.keys(r)[0]].default=!0),r}(h,o,w):null,S=p.length?function(e,t){return void 0===t&&(t={}),e.reduce((function(e,n){var i=n.attributes.lang||"text";return e[i]||(e[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),e[i].playlists.push(je(function(e){var t,n=e.attributes,i=e.segments,r=e.mediaSequence,o=e.discontinuityStarts,a=e.discontinuitySequence;void 0===i&&(i=[{uri:n.baseUrl,timeline:n.periodStart,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var s=((t={NAME:n.id,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,t);return n.codecs&&(s.CODECS=n.codecs),{attributes:s,uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,timelineStarts:n.timelineStarts,discontinuityStarts:o,discontinuitySequence:a,mediaSequence:r,segments:i}}(n),t)),e}),{})}(p,o):null,k=A.concat(Qe(T),Qe(S)),I=k.map((function(e){return e.timelineStarts}));return m.timelineStarts=Be(I),g=k,v=m.timelineStarts,g.forEach((function(e){e.mediaSequence=0,e.discontinuitySequence=Ce(v,(function(t){return t.timeline===e.timeline})),e.segments&&e.segments.forEach((function(e,t){e.number=t}))})),T&&(m.mediaGroups.AUDIO.audio=T),S&&(m.mediaGroups.SUBTITLES.subs=S),f.length&&(m.mediaGroups["CLOSED-CAPTIONS"].cc=f.reduce((function(e,t){return t?(t.forEach((function(t){var n=t.channel,i=t.language;e[i]={autoselect:!1,default:!1,instreamId:n,language:i},t.hasOwnProperty("aspectRatio")&&(e[i].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[i].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[i]["3D"]=t["3D"])})),e):e}),{})),a?(b=(y={oldManifest:a,newManifest:m}).oldManifest,C=y.newManifest,_=b.playlists.concat(xe(b)),E=C.playlists.concat(xe(C)),C.timelineStarts=Be([b.timelineStarts,C.timelineStarts]),function(e){var t=e.oldPlaylists,n=e.timelineStarts;e.newPlaylists.forEach((function(e){e.discontinuitySequence=Ce(n,(function(t){return t.timeline===e.timeline}));var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null}(t,e.attributes.NAME);if(i&&!e.sidx){var r=e.segments[0],o=Ce(i.segments,(function(e){return Math.abs(e.presentationTime-r.presentationTime)<.016666666666666666}));if(-1===o)return De({playlist:e,mediaSequence:i.mediaSequence+i.segments.length}),e.segments[0].discontinuity=!0,e.discontinuityStarts.unshift(0),void((!i.segments.length&&e.timeline>i.timeline||i.segments.length&&e.timeline>i.segments[i.segments.length-1].timeline)&&e.discontinuitySequence--);i.segments[o].discontinuity&&!r.discontinuity&&(r.discontinuity=!0,e.discontinuityStarts.unshift(0),e.discontinuitySequence--),De({playlist:e,mediaSequence:i.segments[o].number})}}))}({oldPlaylists:_,newPlaylists:E,timelineStarts:C.timelineStarts}),C):m},qe=function(e,t,n){var i=e.NOW,r=e.clientOffset,o=e.availabilityStartTime,a=e.timescale,s=void 0===a?1:a,l=e.periodStart,c=void 0===l?0:l,u=e.minimumUpdatePeriod,d=(i+r)/1e3+(void 0===u?0:u)-(o+c);return Math.ceil((d*s-t)/n)},ze=function(e,t){for(var n=e.type,i=e.minimumUpdatePeriod,r=void 0===i?0:i,o=e.media,a=void 0===o?"":o,s=e.sourceDuration,l=e.timescale,c=void 0===l?1:l,u=e.startNumber,d=void 0===u?1:u,A=e.periodStart,h=[],p=-1,f=0;f<t.length;f++){var m=t[f],g=m.d,v=m.r||0,y=m.t||0;p<0&&(p=y),y&&y>p&&(p=y);var b=void 0;if(v<0){var C=f+1;b=C===t.length?"dynamic"===n&&r>0&&a.indexOf("$Number$")>0?qe(e,p,g):(s*c-p)/g:(t[C].t-p)/g}else b=v+1;for(var _=d+h.length+b,E=d+h.length;E<_;)h.push({number:E,duration:g/c,time:p,timeline:A}),p+=g,E++}return h},Ge=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,He=function(e,t){return e.replace(Ge,function(e){return function(t,n,i,r){if("$$"===t)return"$";if(void 0===e[n])return t;var o=""+e[n];return"RepresentationID"===n?o:(r=i?parseInt(r,10):1,o.length>=r?o:""+new Array(r-o.length+1).join("0")+o)}}(t))},We=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},i=e.initialization,r=void 0===i?{sourceURL:"",range:""}:i,o=_e({baseUrl:e.baseUrl,source:He(r.sourceURL,n),range:r.range}),a=function(e,t){return e.duration||t?e.duration?Te(e):ze(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]}(e,t);return a.map((function(t){n.Number=t.number,n.Time=t.time;var i=He(e.media||"",n),r=e.timescale||1,a=e.presentationTimeOffset||0,s=e.periodStart+(t.time-a)/r;return{uri:i,timeline:t.timeline,duration:t.duration,resolvedUri:L(e.baseUrl||"",i),map:o,number:t.number,presentationTime:s}}))},Ve=function(e,t){var n=e.duration,i=e.segmentUrls,r=void 0===i?[]:i,o=e.periodStart;if(!n&&!t||n&&t)throw new Error("SEGMENT_TIME_UNSPECIFIED");var a,s=r.map((function(t){return function(e,t){var n=e.baseUrl,i=e.initialization,r=void 0===i?{}:i,o=_e({baseUrl:n,source:r.sourceURL,range:r.range}),a=_e({baseUrl:n,source:t.media,range:t.mediaRange});return a.map=o,a}(e,t)}));return n&&(a=Te(e)),t&&(a=ze(e,t)),a.map((function(t,n){if(s[n]){var i=s[n],r=e.timescale||1,a=e.presentationTimeOffset||0;return i.timeline=t.timeline,i.duration=t.duration,i.number=t.number,i.presentationTime=o+(t.time-a)/r,i}})).filter((function(e){return e}))},Ye=function(e){var t,n,i=e.attributes,r=e.segmentInfo;r.template?(n=We,t=ge(i,r.template)):r.base?(n=Se,t=ge(i,r.base)):r.list&&(n=Ve,t=ge(i,r.list));var o={attributes:i};if(!n)return o;var a=n(t,r.segmentTimeline);if(t.duration){var s=t,l=s.duration,c=s.timescale,u=void 0===c?1:c;t.duration=l/u}else a.length?t.duration=a.reduce((function(e,t){return Math.max(e,Math.ceil(t.duration))}),0):t.duration=0;return o.attributes=t,o.segments=a,r.base&&t.indexRange&&(o.sidx=a[0],o.segments=[]),o},Je=function(e,t){return be(e.childNodes).filter((function(e){return e.tagName===t}))},Ke=function(e){return e.textContent.trim()},Ze=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=t.slice(1),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(r||0)+86400*parseFloat(o||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(l||0)},Xe={mediaPresentationDuration:function(e){return Ze(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return Ze(e)},suggestedPresentationDelay:function(e){return Ze(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return Ze(e)},start:function(e){return Ze(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},frameRate:function(e){return function(e){return parseFloat(e.split("/").reduce((function(e,t){return e/t})))}(e)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?Ze(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},$e=function(e){return e&&e.attributes?be(e.attributes).reduce((function(e,t){var n=Xe[t.name]||Xe.DEFAULT;return e[t.name]=n(t.value),e}),{}):{}},et={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},tt=function(e,t){return t.length?ye(e.map((function(e){return t.map((function(t){return L(e,Ke(t))}))}))):e},nt=function(e){var t=Je(e,"SegmentTemplate")[0],n=Je(e,"SegmentList")[0],i=n&&Je(n,"SegmentURL").map((function(e){return ge({tag:"SegmentURL"},$e(e))})),r=Je(e,"SegmentBase")[0],o=n||t,a=o&&Je(o,"SegmentTimeline")[0],s=n||r||t,l=s&&Je(s,"Initialization")[0],c=t&&$e(t);c&&l?c.initialization=l&&$e(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var u={template:c,segmentTimeline:a&&Je(a,"S").map((function(e){return $e(e)})),list:n&&ge($e(n),{segmentUrls:i,initialization:$e(l)}),base:r&&ge($e(r),{initialization:$e(l)})};return Object.keys(u).forEach((function(e){u[e]||delete u[e]})),u},it=function(e,t){return function(n,i){var r=tt(t,Je(n.node,"BaseURL")),o=ge(e,{periodStart:n.attributes.start});"number"==typeof n.attributes.duration&&(o.periodDuration=n.attributes.duration);var a=Je(n.node,"AdaptationSet"),s=nt(n.node);return ye(a.map(function(e,t,n){return function(i){var r,o=$e(i),a=tt(t,Je(i,"BaseURL")),s=Je(i,"Role")[0],l={role:$e(s)},c=ge(e,o,l),u=Je(i,"Accessibility")[0],d="urn:scte:dash:cc:cea-608:2015"===(r=$e(u)).schemeIdUri?("string"!=typeof r.value?[]:r.value.split(";")).map((function(e){var t,n;if(n=e,/^CC\d=/.test(e)){var i=e.split("=");t=i[0],n=i[1]}else/^CC\d$/.test(e)&&(t=e);return{channel:t,language:n}})):"urn:scte:dash:cc:cea-708:2015"===r.schemeIdUri?("string"!=typeof r.value?[]:r.value.split(";")).map((function(e){var t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){var n=e.split("="),i=n[0],r=n[1],o=void 0===r?"":r;t.channel=i,t.language=e,o.split(",").forEach((function(e){var n=e.split(":"),i=n[0],r=n[1];"lang"===i?t.language=r:"er"===i?t.easyReader=Number(r):"war"===i?t.aspectRatio=Number(r):"3D"===i&&(t["3D"]=Number(r))}))}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t})):void 0;d&&(c=ge(c,{captionServices:d}));var A=Je(i,"Label")[0];if(A&&A.childNodes.length){var h=A.childNodes[0].nodeValue.trim();c=ge(c,{label:h})}var p=Je(i,"ContentProtection").reduce((function(e,t){var n=$e(t);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());var i=et[n.schemeIdUri];if(i){e[i]={attributes:n};var r=Je(t,"cenc:pssh")[0];if(r){var o=Ke(r);e[i].pssh=o&&O(o)}}return e}),{});Object.keys(p).length&&(c=ge(c,{contentProtection:p}));var f=nt(i),m=Je(i,"Representation"),g=ge(n,f);return ye(m.map(function(e,t,n){return function(i){var r=Je(i,"BaseURL"),o=tt(t,r),a=ge(e,$e(i)),s=nt(i);return o.map((function(e){return{segmentInfo:ge(n,s),attributes:ge(a,{baseUrl:e})}}))}}(c,a,g)))}}(o,r,s)))}},rt=function(e){if(""===e)throw new Error("DASH_EMPTY_MANIFEST");var t,n,i=new fe.DOMParser;try{n=(t=i.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error("DASH_INVALID_XML");return n},ot=__webpack_require__(4221),at=__webpack_require__.n(ot),st=ce([73,68,51]),lt=function e(t,n){return void 0===n&&(n=0),(t=ce(t)).length-n<10||!pe(t,st,{offset:n})?n:(n+=function(e,t){void 0===t&&(t=0);var n=(e=ce(e))[t+5],i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&n)>>4?i+20:i+10}(t,n),e(t,n))},ct=(new Uint8Array([79,112,117,115,72,101,97,100]),function(e){return"string"==typeof e?he(e):e}),ut=function(e){e=ce(e);for(var t=[],n=0;e.length>n;){var i=e[n],r=0,o=0,a=e[++o];for(o++;128&a;)r=(127&a)<<7,a=e[o],o++;r+=127&a;for(var s=0;s<Q.length;s++){var l=Q[s],c=l.id,u=l.parser;if(i===c){t.push(u(e.subarray(o,o+r)));break}}n+=r+o}return t};Q=[{id:3,parser:function(e){var t={tag:3,id:e[0]<<8|e[1],flags:e[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&t.flags&&(t.dependsOnEsId=e[t.size]<<8|e[t.size+1],t.size+=2),64&t.flags){var n=e[t.size];t.url=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,ce(e));try{return decodeURIComponent(escape(t))}catch(e){}return t}(e.subarray(t.size+1,t.size+1+n)),t.size+=n}return 32&t.flags&&(t.ocrEsId=e[t.size]<<8|e[t.size+1],t.size+=2),t.descriptors=ut(e.subarray(t.size))||[],t}},{id:4,parser:function(e){return{tag:4,oti:e[0],streamType:e[1],bufferSize:e[2]<<16|e[3]<<8|e[4],maxBitrate:e[5]<<24|e[6]<<16|e[7]<<8|e[8],avgBitrate:e[9]<<24|e[10]<<16|e[11]<<8|e[12],descriptors:ut(e.subarray(13))}}},{id:5,parser:function(e){return{tag:5,bytes:e}}},{id:6,parser:function(e){return{tag:6,bytes:e}}}];var dt=function e(t,n,i){void 0===i&&(i=!1),n=function(e){return Array.isArray(e)?e.map((function(e){return ct(e)})):[ct(e)]}(n),t=ce(t);var r=[];if(!n.length)return r;for(var o=0;o<t.length;){var a=(t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3])>>>0,s=t.subarray(o+4,o+8);if(0===a)break;var l=o+a;if(l>t.length){if(i)break;l=t.length}var c=t.subarray(o+8,l);pe(s,n[0])&&(1===n.length?r.push(c):r.push.apply(r,e(c,n.slice(1),i))),o=l}return r},At={EBML:ce([26,69,223,163]),DocType:ce([66,130]),Segment:ce([24,83,128,103]),SegmentInfo:ce([21,73,169,102]),Tracks:ce([22,84,174,107]),Track:ce([174]),TrackNumber:ce([215]),DefaultDuration:ce([35,227,131]),TrackEntry:ce([174]),TrackType:ce([131]),FlagDefault:ce([136]),CodecID:ce([134]),CodecPrivate:ce([99,162]),VideoTrack:ce([224]),AudioTrack:ce([225]),Cluster:ce([31,67,182,117]),Timestamp:ce([231]),TimestampScale:ce([42,215,177]),BlockGroup:ce([160]),BlockDuration:ce([155]),Block:ce([161]),SimpleBlock:ce([163])},ht=[128,64,32,16,8,4,2,1],pt=function(e,t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1);var r=function(e){for(var t=1,n=0;n<ht.length&&!(e&ht[n]);n++)t++;return t}(e[t]),o=e.subarray(t,t+r);return n&&((o=Array.prototype.slice.call(e,t,t+r))[0]^=ht[r-1]),{length:r,value:Ae(o,{signed:i}),bytes:o}},ft=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map((function(t){return e(t)})):"number"==typeof t?function(e,t){var n=(void 0===t?{}:t).le,i=void 0!==n&&n;("bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e)&&(e=0);for(var r,o=(r=e=ue(e),Math.ceil(function(e){return e.toString(2).length}(r)/8)),a=new Uint8Array(new ArrayBuffer(o)),s=0;s<o;s++){var l=i?s:Math.abs(s+1-a.length);a[l]=Number(e/de[s]&ue(255)),e<0&&(a[l]=Math.abs(~a[l]),a[l]-=0===s?1:2)}return a}(t):t},mt=function e(t,n,i){if(i>=n.length)return n.length;var r=pt(n,i,!1);if(pe(t.bytes,r.bytes))return i;var o=pt(n,i+r.length);return e(t,n,i+o.length+o.value+r.length)},gt=function e(t,n){n=function(e){return Array.isArray(e)?e.map((function(e){return ft(e)})):[ft(e)]}(n),t=ce(t);var i=[];if(!n.length)return i;for(var r=0;r<t.length;){var o=pt(t,r,!1),a=pt(t,r+o.length),s=r+o.length+a.length;127===a.value&&(a.value=mt(o,t,s),a.value!==t.length&&(a.value-=s));var l=s+a.value>t.length?t.length:s+a.value,c=t.subarray(s,l);pe(n[0],o.bytes)&&(1===n.length?i.push(c):i=i.concat(e(c,n.slice(1)))),r+=o.length+a.length+c.length}return i},vt=ce([0,0,0,1]),yt=ce([0,0,1]),bt=ce([0,0,3]),Ct=function(e){for(var t=[],n=1;n<e.length-2;)pe(e.subarray(n,n+3),bt)&&(t.push(n+2),n++),n++;if(0===t.length)return e;var i=e.length-t.length,r=new Uint8Array(i),o=0;for(n=0;n<i;o++,n++)o===t[0]&&(o++,t.shift()),r[n]=e[o];return r},Et=function(e,t,n,i){void 0===i&&(i=1/0),e=ce(e),n=[].concat(n);for(var r,o=0,a=0;o<e.length&&(a<i||r);){var s=void 0;if(pe(e.subarray(o),vt)?s=4:pe(e.subarray(o),yt)&&(s=3),s){if(a++,r)return Ct(e.subarray(r,o));var l=void 0;"h264"===t?l=31&e[o+s]:"h265"===t&&(l=e[o+s]>>1&63),-1!==n.indexOf(l)&&(r=o+s),o+=s+("h264"===t?1:2)}else o++}return e.subarray(0,0)},wt={webm:ce([119,101,98,109]),matroska:ce([109,97,116,114,111,115,107,97]),flac:ce([102,76,97,67]),ogg:ce([79,103,103,83]),ac3:ce([11,119]),riff:ce([82,73,70,70]),avi:ce([65,86,73]),wav:ce([87,65,86,69]),"3gp":ce([102,116,121,112,51,103]),mp4:ce([102,116,121,112]),fmp4:ce([115,116,121,112]),mov:ce([102,116,121,112,113,116]),moov:ce([109,111,111,118]),moof:ce([109,111,111,102])},Tt={aac:function(e){var t=lt(e);return pe(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=lt(e);return pe(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=gt(e,[At.EBML,At.DocType])[0];return pe(t,wt.webm)},mkv:function(e){var t=gt(e,[At.EBML,At.DocType])[0];return pe(t,wt.matroska)},mp4:function(e){return!Tt["3gp"](e)&&!Tt.mov(e)&&(!(!pe(e,wt.mp4,{offset:4})&&!pe(e,wt.fmp4,{offset:4}))||!(!pe(e,wt.moof,{offset:4})&&!pe(e,wt.moov,{offset:4}))||void 0)},mov:function(e){return pe(e,wt.mov,{offset:4})},"3gp":function(e){return pe(e,wt["3gp"],{offset:4})},ac3:function(e){var t=lt(e);return pe(e,wt.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=lt(e);return pe(e,wt.flac,{offset:t})},ogg:function(e){return pe(e,wt.ogg)},avi:function(e){return pe(e,wt.riff)&&pe(e,wt.avi,{offset:8})},wav:function(e){return pe(e,wt.riff)&&pe(e,wt.wav,{offset:8})},h264:function(e){return function(e,t,n){return Et(e,"h264",7,3)}(e).length},h265:function(e){return function(e,t,n){return Et(e,"h265",[32,33],3)}(e).length}},St=Object.keys(Tt).filter((function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e})).concat(["ts","h264","h265"]);St.forEach((function(e){var t=Tt[e];Tt[e]=function(e){return t(ce(e))}}));var kt=Tt,It=function(e){e=ce(e);for(var t=0;t<St.length;t++){var n=St[t];if(kt[n](e))return n}return""},Bt=__webpack_require__(1489);function xt(e){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xt(e)}function Dt(e){var t="function"==typeof Map?new Map:void 0;return Dt=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return D(e,arguments,xt(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),E(i,e)},Dt(e)}for(var Pt,Rt="7.21.4",jt={},Lt=function(e,t){return jt[e]=jt[e]||[],t&&(jt[e]=jt[e].concat(t)),jt[e]},Mt=function(e,t){var n=Lt(e).indexOf(t);return!(n<=-1||(jt[e]=jt[e].slice(),jt[e].splice(n,1),0))},Ot={prefixed:!0},Ft=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Ut=Ft[0],Qt=0;Qt<Ft.length;Qt++)if(Ft[Qt][1]in v()){Pt=Ft[Qt];break}if(Pt){for(var Nt=0;Nt<Pt.length;Nt++)Ot[Ut[Nt]]=Pt[Nt];Ot.prefixed=Pt[0]!==Ut[0]}var qt=[],zt=function e(t){var n,i="info",r=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n("log",i,t)};return n=function(e,t){return function(n,i,r){var o=t.levels[i],a=new RegExp("^("+o+")$");if("log"!==n&&r.unshift(n.toUpperCase()+":"),r.unshift(e+":"),qt){qt.push([].concat(r));var s=qt.length-1e3;qt.splice(0,s>0?s:0)}if(m().console){var l=m().console[n];l||"debug"!==n||(l=m().console.info||m().console.log),l&&o&&a.test(n)&&l[Array.isArray(r)?"apply":"call"](m().console,r)}}}(t,r),r.createLogger=function(n){return e(t+": "+n)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},r.level=function(e){if("string"==typeof e){if(!r.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');i=e}return i},(r.history=function(){return qt?[].concat(qt):[]}).filter=function(e){return(qt||[]).filter((function(t){return new RegExp(".*"+e+".*").test(t[0])}))},r.history.clear=function(){qt&&(qt.length=0)},r.history.disable=function(){null!==qt&&(qt.length=0,qt=null)},r.history.enable=function(){null===qt&&(qt=[])},r.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("error",i,t)},r.warn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("warn",i,t)},r.debug=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("debug",i,t)},r}("VIDEOJS"),Gt=zt.createLogger,Ht=Object.prototype.toString,Wt=function(e){return Jt(e)?Object.keys(e):[]};function Vt(e,t){Wt(e).forEach((function(n){return t(e[n],n)}))}function Yt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.assign?d.apply(void 0,[e].concat(n)):(n.forEach((function(t){t&&Vt(t,(function(t,n){e[n]=t}))})),e)}function Jt(e){return!!e&&"object"==typeof e}function Kt(e){return Jt(e)&&"[object Object]"===Ht.call(e)&&e.constructor===Object}function Zt(e,t){if(!e||!t)return"";if("function"==typeof m().getComputedStyle){var n;try{n=m().getComputedStyle(e)}catch(e){return""}return n?n.getPropertyValue(t)||n[t]:""}return""}var Xt,$t,en,tn=m().navigator&&m().navigator.userAgent||"",nn=/AppleWebKit\/([\d.]+)/i.exec(tn),rn=nn?parseFloat(nn.pop()):null,on=/iPod/i.test(tn),an=(Xt=tn.match(/OS (\d+)_/i))&&Xt[1]?Xt[1]:null,sn=/Android/i.test(tn),ln=function(){var e=tn.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),cn=sn&&ln<5&&rn<537,un=/Firefox/i.test(tn),dn=/Edg/i.test(tn),An=!dn&&(/Chrome/i.test(tn)||/CriOS/i.test(tn)),hn=function(){var e=tn.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),pn=($t=/MSIE\s(\d+)\.\d/.exec(tn),!(en=$t&&parseFloat($t[1]))&&/Trident\/7.0/i.test(tn)&&/rv:11.0/.test(tn)&&(en=11),en),fn=/Safari/i.test(tn)&&!An&&!sn&&!dn,mn=/Windows/i.test(tn),gn=Boolean(Tn()&&("ontouchstart"in m()||m().navigator.maxTouchPoints||m().DocumentTouch&&m().document instanceof m().DocumentTouch)),vn=/iPad/i.test(tn)||fn&&gn&&!/iPhone/i.test(tn),yn=/iPhone/i.test(tn)&&!vn,bn=yn||vn||on,Cn=(fn||bn)&&!An,_n=Object.freeze({__proto__:null,IS_IPOD:on,IOS_VERSION:an,IS_ANDROID:sn,ANDROID_VERSION:ln,IS_NATIVE_ANDROID:cn,IS_FIREFOX:un,IS_EDGE:dn,IS_CHROME:An,CHROME_VERSION:hn,IE_VERSION:pn,IS_SAFARI:fn,IS_WINDOWS:mn,TOUCH_ENABLED:gn,IS_IPAD:vn,IS_IPHONE:yn,IS_IOS:bn,IS_ANY_SAFARI:Cn});function En(e){return"string"==typeof e&&Boolean(e.trim())}function wn(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Tn(){return v()===m().document}function Sn(e){return Jt(e)&&1===e.nodeType}function kn(){try{return m().parent!==m().self}catch(e){return!0}}function In(e){return function(t,n){if(!En(t))return v()[e](null);En(n)&&(n=v().querySelector(n));var i=Sn(n)?n:v();return i[e]&&i[e](t)}}function Bn(e,t,n,i){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var r=v().createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(zt.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+n+"."),r.setAttribute(e,n)):"textContent"===e?xn(r,n):r[e]===n&&"tabIndex"!==e||(r[e]=n)})),Object.getOwnPropertyNames(n).forEach((function(e){r.setAttribute(e,n[e])})),i&&Jn(r,i),r}function xn(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function Dn(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function Pn(e,t){return wn(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function Rn(e,t){return e.classList?e.classList.add(t):Pn(e,t)||(e.className=(e.className+" "+t).trim()),e}function jn(e,t){return e?(e.classList?e.classList.remove(t):(wn(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e):(zt.warn("removeClass was called with an element that doesn't exist"),null)}function Ln(e,t,n){var i=Pn(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!i),n!==i)return n?Rn(e,t):jn(e,t),e}function Mn(e,t){Object.getOwnPropertyNames(t).forEach((function(n){var i=t[n];null==i||!1===i?e.removeAttribute(n):e.setAttribute(n,!0===i?"":i)}))}function On(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,i=n.length-1;i>=0;i--){var r=n[i].name,o=n[i].value;"boolean"!=typeof e[r]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")||(o=null!==o),t[r]=o}return t}function Fn(e,t){return e.getAttribute(t)}function Un(e,t,n){e.setAttribute(t,n)}function Qn(e,t){e.removeAttribute(t)}function Nn(){v().body.focus(),v().onselectstart=function(){return!1}}function qn(){v().onselectstart=function(){return!0}}function zn(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(Zt(e,"height"))),n.width||(n.width=parseFloat(Zt(e,"width"))),n}}function Gn(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=e.offsetWidth,n=e.offsetHeight,i=0,r=0;e.offsetParent&&e!==v()[Ot.fullscreenElement];)i+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{left:i,top:r,width:t,height:n}}function Hn(e,t){var n={x:0,y:0};if(bn)for(var i=e;i&&"html"!==i.nodeName.toLowerCase();){var r=Zt(i,"transform");if(/^matrix/.test(r)){var o=r.slice(7,-1).split(/,\s/).map(Number);n.x+=o[4],n.y+=o[5]}else if(/^matrix3d/.test(r)){var a=r.slice(9,-1).split(/,\s/).map(Number);n.x+=a[12],n.y+=a[13]}i=i.parentNode}var s={},l=Gn(t.target),c=Gn(e),u=c.width,d=c.height,A=t.offsetY-(c.top-l.top),h=t.offsetX-(c.left-l.left);return t.changedTouches&&(h=t.changedTouches[0].pageX-c.left,A=t.changedTouches[0].pageY+c.top,bn&&(h-=n.x,A-=n.y)),s.y=1-Math.max(0,Math.min(1,A/d)),s.x=Math.max(0,Math.min(1,h/u)),s}function Wn(e){return Jt(e)&&3===e.nodeType}function Vn(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Yn(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"==typeof e&&(e=e()),Sn(e)||Wn(e)?e:"string"==typeof e&&/\S/.test(e)?v().createTextNode(e):void 0})).filter((function(e){return e}))}function Jn(e,t){return Yn(t).forEach((function(t){return e.appendChild(t)})),e}function Kn(e,t){return Jn(Vn(e),t)}function Zn(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||"mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons}var Xn,$n=In("querySelector"),ei=In("querySelectorAll"),ti=Object.freeze({__proto__:null,isReal:Tn,isEl:Sn,isInFrame:kn,createEl:Bn,textContent:xn,prependTo:Dn,hasClass:Pn,addClass:Rn,removeClass:jn,toggleClass:Ln,setAttributes:Mn,getAttributes:On,getAttribute:Fn,setAttribute:Un,removeAttribute:Qn,blockTextSelection:Nn,unblockTextSelection:qn,getBoundingClientRect:zn,findPosition:Gn,getPointerPosition:Hn,isTextNode:Wn,emptyEl:Vn,normalizeContent:Yn,appendContent:Jn,insertContent:Kn,isSingleLeftClick:Zn,$:$n,$$:ei}),ni=!1,ii=function(){if(!1!==Xn.options.autoSetup){var e=Array.prototype.slice.call(v().getElementsByTagName("video")),t=Array.prototype.slice.call(v().getElementsByTagName("audio")),n=Array.prototype.slice.call(v().getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&i.length>0)for(var r=0,o=i.length;r<o;r++){var a=i[r];if(!a||!a.getAttribute){ri(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&Xn(a)}else ni||ri(1)}};function ri(e,t){Tn()&&(t&&(Xn=t),m().setTimeout(ii,e))}function oi(){ni=!0,m().removeEventListener("load",oi)}Tn()&&("complete"===v().readyState?oi():m().addEventListener("load",oi));var ai,si=function(e){var t=v().createElement("style");return t.className=e,t},li=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},ci=3;function ui(){return ci++}m().WeakMap||(ai=function(){function e(){this.vdata="vdata"+Math.floor(m().performance&&m().performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var n=e[this.vdata]||ui();return e[this.vdata]||(e[this.vdata]=n),this.data[n]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];zt("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var di,Ai=m().WeakMap?new WeakMap:new ai;function hi(e,t){if(Ai.has(e)){var n=Ai.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Ai.delete(e)}}function pi(e,t,n,i){n.forEach((function(n){e(t,n,i)}))}function fi(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var i=e||m().event;for(var r in e={},i)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&"path"!==r&&("returnValue"===r&&i.preventDefault||(e[r]=i[r]));if(e.target||(e.target=e.srcElement||v()),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var o=v().documentElement,a=v().body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var mi=function(){if("boolean"!=typeof di){di=!1;try{var e=Object.defineProperty({},"passive",{get:function(){di=!0}});m().addEventListener("test",null,e),m().removeEventListener("test",null,e)}catch(e){}}return di},gi=["touchstart","touchmove"];function vi(e,t,n){if(Array.isArray(t))return pi(vi,e,t,n);Ai.has(e)||Ai.set(e,{});var i=Ai.get(e);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=ui()),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,n){if(!i.disabled){t=fi(t);var r=i.handlers[t.type];if(r)for(var o=r.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,n)}catch(e){zt.error(e)}}}),1===i.handlers[t].length)if(e.addEventListener){var r=!1;mi()&&gi.indexOf(t)>-1&&(r={passive:!0}),e.addEventListener(t,i.dispatcher,r)}else e.attachEvent&&e.attachEvent("on"+t,i.dispatcher)}function yi(e,t,n){if(Ai.has(e)){var i=Ai.get(e);if(i.handlers){if(Array.isArray(t))return pi(yi,e,t,n);var r=function(e,t){i.handlers[t]=[],hi(e,t)};if(void 0!==t){var o=i.handlers[t];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);hi(e,t)}else r(e,t)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&r(e,s)}}}function bi(e,t,n){var i=Ai.has(e)?Ai.get(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=fi(t),i.dispatcher&&i.dispatcher.call(e,t,n),r&&!t.isPropagationStopped()&&!0===t.bubbles)bi.call(null,r,t,n);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){Ai.has(t.target)||Ai.set(t.target,{});var o=Ai.get(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function Ci(e,t,n){if(Array.isArray(t))return pi(Ci,e,t,n);var i=function i(){yi(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||ui(),vi(e,t,i)}function _i(e,t,n){var i=function i(){yi(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||ui(),vi(e,t,i)}var Ei,wi=Object.freeze({__proto__:null,fixEvent:fi,on:vi,off:yi,trigger:bi,one:Ci,any:_i}),Ti=30,Si=function(e,t,n){t.guid||(t.guid=ui());var i=t.bind(e);return i.guid=n?n+"_"+t.guid:t.guid,i},ki=function(e,t){var n=m().performance.now();return function(){var i=m().performance.now();i-n>=t&&(e.apply(void 0,arguments),n=i)}},Ii=function(){};Ii.prototype.allowedEvents_={},Ii.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},vi(this,e,t),this.addEventListener=n},Ii.prototype.addEventListener=Ii.prototype.on,Ii.prototype.off=function(e,t){yi(this,e,t)},Ii.prototype.removeEventListener=Ii.prototype.off,Ii.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Ci(this,e,t),this.addEventListener=n},Ii.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},_i(this,e,t),this.addEventListener=n},Ii.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=fi(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),bi(this,e)},Ii.prototype.dispatchEvent=Ii.prototype.trigger,Ii.prototype.queueTrigger=function(e){var t=this;Ei||(Ei=new Map);var n=e.type||e,i=Ei.get(this);i||(i=new Map,Ei.set(this,i));var r=i.get(n);i.delete(n),m().clearTimeout(r);var o=m().setTimeout((function(){i.delete(n),0===i.size&&(i=null,Ei.delete(t)),t.trigger(e)}),0);i.set(n,o)};var Bi=function(e){return"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},xi=function(e){return e instanceof Ii||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"==typeof e[t]}))},Di=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Pi=function(e,t,n){if(!e||!e.nodeName&&!xi(e))throw new Error("Invalid target for "+Bi(t)+"#"+n+"; must be a DOM node or evented object.")},Ri=function(e,t,n){if(!Di(e))throw new Error("Invalid event type for "+Bi(t)+"#"+n+"; must be a non-empty string or array.")},ji=function(e,t,n){if("function"!=typeof e)throw new Error("Invalid listener for "+Bi(t)+"#"+n+"; must be a function.")},Li=function(e,t,n){var i,r,o,a=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return a?(i=e.eventBusEl_,t.length>=3&&t.shift(),r=t[0],o=t[1]):(i=t[0],r=t[1],o=t[2]),Pi(i,e,n),Ri(r,e,n),ji(o,e,n),{isTargetingSelf:a,target:i,type:r,listener:o=Si(e,o)}},Mi=function(e,t,n,i){Pi(e,e,t),e.nodeName?wi[t](e,n,i):e[t](n,i)},Oi={on:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=Li(this,n,"on"),o=r.isTargetingSelf,a=r.target,s=r.type,l=r.listener;if(Mi(a,"on",s,l),!o){var c=function(){return e.off(a,s,l)};c.guid=l.guid;var u=function(){return e.off("dispose",c)};u.guid=l.guid,Mi(this,"on","dispose",c),Mi(a,"on","dispose",u)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=Li(this,n,"one"),o=r.isTargetingSelf,a=r.target,s=r.type,l=r.listener;if(o)Mi(a,"one",s,l);else{var c=function t(){e.off(a,s,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];l.apply(null,i)};c.guid=l.guid,Mi(a,"one",s,c)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=Li(this,n,"any"),o=r.isTargetingSelf,a=r.target,s=r.type,l=r.listener;if(o)Mi(a,"any",s,l);else{var c=function t(){e.off(a,s,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];l.apply(null,i)};c.guid=l.guid,Mi(a,"any",s,c)}},off:function(e,t,n){if(!e||Di(e))yi(this.eventBusEl_,e,t);else{var i=e,r=t;Pi(i,this,"off"),Ri(r,this,"off"),ji(n,this,"off"),n=Si(this,n),this.off("dispose",n),i.nodeName?(yi(i,r,n),yi(i,"dispose",n)):xi(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function(e,t){Pi(this.eventBusEl_,this,"trigger");var n=e&&"string"!=typeof e?e.type:e;if(!Di(n)){var i="Invalid event type for "+Bi(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!e)throw new Error(i);(this.log||zt).error(i)}return bi(this.eventBusEl_,e,t)}};function Fi(e,t){void 0===t&&(t={});var n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=Bn("span",{className:"vjs-event-bus"});return Yt(e,Oi),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(e){e()})),e.on("dispose",(function(){e.off(),[e,e.el_,e.eventBusEl_].forEach((function(e){e&&Ai.has(e)&&Ai.delete(e)})),m().setTimeout((function(){e.eventBusEl_=null}),0)})),e}var Ui={state:{},setState:function(e){var t,n=this;return"function"==typeof e&&(e=e()),Vt(e,(function(e,i){n.state[i]!==e&&((t=t||{})[i]={from:n.state[i],to:e}),n.state[i]=e})),t&&xi(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function Qi(e,t){return Yt(e,Ui),e.state=Yt({},e.state,t),"function"==typeof e.handleStateChanged&&xi(e)&&e.on("statechanged",e.handleStateChanged),e}var Ni=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toLowerCase()}))},qi=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))};function zi(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){t&&Vt(t,(function(t,n){Kt(t)?(Kt(e[n])||(e[n]={}),e[n]=zi(e[n],t)):e[n]=t}))})),e}var Gi=function(){function e(){this.map_={}}var t=e.prototype;return t.has=function(e){return e in this.map_},t.delete=function(e){var t=this.has(e);return delete this.map_[e],t},t.set=function(e,t){return this.map_[e]=t,this},t.forEach=function(e,t){for(var n in this.map_)e.call(t,this.map_[n],n,this)},e}(),Hi=m().Map?m().Map:Gi,Wi=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var n in this.set_)e.call(t,n,n,this)},e}(),Vi=m().Set?m().Set:Wi,Yi=function(){function e(e,t,n){var i=this;if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=zi({},this.options_),t=this.options_=zi(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+ui()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach((function(e){return i.addClass(e)})),!1!==t.evented&&(Fi(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Qi(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Vi,this.setIntervalIds_=new Vi,this.rafIds_=new Vi,this.namedRafs_=new Hi,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(e){if(void 0===e&&(e={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=zi(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,n){return Bn(e,t,n)},t.localize=function(e,t,n){void 0===n&&(n=e);var i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),o=r&&r[i],a=i&&i.split("-")[0],s=r&&r[a],l=n;return o&&o[e]?l=o[e]:s&&s[e]&&(l=s[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,n){var i=t[n-1],r=i;return void 0===i&&(r=e),r}))),l},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.getDescendant=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.reduce((function(e,t){return e.concat(t)}),[]);for(var i=this,r=0;r<t.length;r++)if(!(i=i.getChild(t[r]))||!i.getChild)return;return i},t.addChild=function(t,n,i){var r,o;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"==typeof t){o=qi(t);var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;r=new s(this.player_||this,n)}else r=t;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(i,0,r),r.parentComponent_=this,"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(o=o||r.name&&qi(r.name()))&&(this.childNameIndex_[o]=r,this.childNameIndex_[Ni(o)]=r),"function"==typeof r.el&&r.el()){var l=null;this.children_[i+1]&&(this.children_[i+1].el_?l=this.children_[i+1].el_:Sn(this.children_[i+1])&&(l=this.children_[i+1])),this.contentEl().insertBefore(r.el(),l)}return r},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[qi(e.name())]=null,this.childNameIndex_[Ni(e.name())]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,n=this.options_.children;if(n){var i,r=this.options_,o=e.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(e){return!i.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((function(e){var i,r;return"string"==typeof e?r=n[i=e]||t.options_[i]||{}:(i=e.name,r=e),{name:i,opts:r}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||qi(t.name));return n&&!o.isTech(n)})).forEach((function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}}))}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},t.$=function(e,t){return $n(e,t||this.contentEl())},t.$$=function(e,t){return ei(e,t||this.contentEl())},t.hasClass=function(e){return Pn(this.el_,e)},t.addClass=function(e){Rn(this.el_,e)},t.removeClass=function(e){jn(this.el_,e)},t.toggleClass=function(e,t){Ln(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return Fn(this.el_,e)},t.setAttribute=function(e,t){Un(this.el_,e,t)},t.removeAttribute=function(e){Qn(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[e],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+qi(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=Zt(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var n="offset"+qi(e);t=this.el_[n]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(b().isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,n=null;this.on("touchstart",(function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=m().performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(n){var i=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY;Math.sqrt(i*i+r*r)>10&&(e=!1)}}));var i=function(){e=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",(function(i){n=null,!0===e&&m().performance.now()-t<200&&(i.preventDefault(),this.trigger("tap"))}))},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=Si(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,i=this;return e=Si(this,e),this.clearTimersOnDispose_(),n=m().setTimeout((function(){i.setTimeoutIds_.has(n)&&i.setTimeoutIds_.delete(n),e()}),t),this.setTimeoutIds_.add(n),n},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),m().clearTimeout(e)),e},t.setInterval=function(e,t){e=Si(this,e),this.clearTimersOnDispose_();var n=m().setInterval(e,t);return this.setIntervalIds_.add(n),n},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),m().clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=Si(this,e),t=m().requestAnimationFrame((function(){n.rafIds_.has(t)&&n.rafIds_.delete(t),e()})),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.requestNamedAnimationFrame=function(e,t){var n=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=Si(this,t);var i=this.requestAnimationFrame((function(){t(),n.namedRafs_.has(e)&&n.namedRafs_.delete(e)}));return this.namedRafs_.set(e,i),e}},t.cancelNamedAnimationFrame=function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),m().cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(t){var n=t[0],i=t[1];e[n].forEach((function(t,n){return e[i](n)}))})),e.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var i=e.getComponent("Tech"),r=i&&i.isTech(n),o=e===n||e.prototype.isPrototypeOf(n.prototype);if(r||!o)throw new Error('Illegal component, "'+t+'"; '+(r?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");t=qi(t),e.components_||(e.components_={});var a=e.getComponent("Player");if("Player"===t&&a&&a.players){var s=a.players,l=Object.keys(s);if(s&&l.length>0&&l.map((function(e){return s[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[Ni(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();function Ji(e,t,n,i){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,i,n.length-1),n[i][t]}function Ki(e){var t;return t=void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Ji.bind(null,"start",0,e),end:Ji.bind(null,"end",1,e)},m().Symbol&&m().Symbol.iterator&&(t[m().Symbol.iterator]=function(){return(e||[]).values()}),t}function Zi(e,t){return Array.isArray(e)?Ki(e):void 0===e||void 0===t?Ki():Ki([[e,t]])}function Xi(e,t){var n,i,r=0;if(!t)return 0;e&&e.length||(e=Zi(0,0));for(var o=0;o<e.length;o++)n=e.start(o),(i=e.end(o))>t&&(i=t),r+=i-n;return r/t}function $i(e){if(e instanceof $i)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:Jt(e)&&("number"==typeof e.code&&(this.code=e.code),Yt(this,e)),this.message||(this.message=$i.defaultMessages[this.code]||"")}Yi.prototype.supportsRaf_="function"==typeof m().requestAnimationFrame&&"function"==typeof m().cancelAnimationFrame,Yi.registerComponent("Component",Yi),$i.prototype.code=0,$i.prototype.message="",$i.prototype.status=null,$i.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],$i.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var er=0;er<$i.errorTypes.length;er++)$i[$i.errorTypes[er]]=er,$i.prototype[$i.errorTypes[er]]=er;function tr(e){return null!=e&&"function"==typeof e.then}function nr(e){tr(e)&&e.then(null,(function(e){}))}var ir=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,n,i){return e[n]&&(t[n]=e[n]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},rr="vjs-modal-dialog",or=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handleKeyDown_=function(e){return i.handleKeyDown(e)},i.close_=function(e){return i.close(e)},i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=Bn("div",{className:rr+"-content"},{role:"document"}),i.descEl_=Bn("p",{className:rr+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),xn(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}w(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return rr+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close_)}!t&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),Kn(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},n.empty=function(){this.trigger("beforemodalempty"),Vn(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return void 0!==e&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=v().activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(e){if(e.stopPropagation(),b().isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(b().isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),i=this.el_.querySelector(":focus"),r=0;r<n.length;r++)if(i===n[r]){t=r;break}v().activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof m().HTMLAnchorElement||e instanceof m().HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof m().HTMLInputElement||e instanceof m().HTMLSelectElement||e instanceof m().HTMLTextAreaElement||e instanceof m().HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof m().HTMLIFrameElement||e instanceof m().HTMLObjectElement||e instanceof m().HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},t}(Yi);or.prototype.options_={pauseOnOpen:!0,temporary:!0},Yi.registerComponent("ModalDialog",or);var ar=function(e){function t(t){var n;void 0===t&&(t=[]),(n=e.call(this)||this).tracks_=[],Object.defineProperty(C(n),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<t.length;i++)n.addTrack(t[i]);return n}w(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this,n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.tracks_[n]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},xi(e)&&e.addEventListener("labelchange",e.labelchange_)},n.removeTrack=function(e){for(var t,n=0,i=this.length;n<i;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},t}(Ii);for(var sr in ar.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},ar.prototype.allowedEvents_)ar.prototype["on"+sr]=null;var lr=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},cr=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].enabled){lr(t,t[i]);break}return(n=e.call(this,t)||this).changing_=!1,n}w(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&lr(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,lr(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(ar),ur=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},dr=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].selected){ur(t,t[i]);break}return(n=e.call(this,t)||this).changing_=!1,Object.defineProperty(C(n),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}w(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.selected&&ur(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,ur(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(ar),Ar=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(ar),hr=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),pr=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;var r=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)r.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},e}(),fr={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},mr={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},gr={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},vr={disabled:"disabled",hidden:"hidden",showing:"showing"},yr=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var i={id:t.id||"vjs_track_"+ui(),kind:t.kind||"",language:t.language||""},r=t.label||"",o=function(e){Object.defineProperty(C(n),e,{get:function(){return i[e]},set:function(){}})};for(var a in i)o(a);return Object.defineProperty(C(n),"label",{get:function(){return r},set:function(e){e!==r&&(r=e,this.trigger("labelchange"))}}),n}return w(t,e),t}(Ii),br=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=v().createElement("a");n.href=e;for(var i={},r=0;r<t.length;r++)i[t[r]]=n[t[r]];return"http:"===i.protocol&&(i.host=i.host.replace(/:80$/,"")),"https:"===i.protocol&&(i.host=i.host.replace(/:443$/,"")),i.protocol||(i.protocol=m().location.protocol),i.host||(i.host=m().location.host),i},Cr=function(e){if(!e.match(/^https?:\/\//)){var t=v().createElement("a");t.href=e,e=t.href}return e},Er=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},wr=function(e,t){void 0===t&&(t=m().location);var n=br(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},Tr=Object.freeze({__proto__:null,parseUrl:br,getAbsoluteURL:Cr,getFileExtension:Er,isCrossOrigin:wr}),Sr=function(e,t){var n=new(m().WebVTT.Parser)(m(),m().vttjs,m().WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),i.length>0&&(m().console&&m().console.groupCollapsed&&m().console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach((function(e){return zt.error(e)})),m().console&&m().console.groupEnd&&m().console.groupEnd()),n.flush()},kr=function(e,t){var n={uri:e},i=wr(e);i&&(n.cors=i);var r="use-credentials"===t.tech_.crossOrigin();r&&(n.withCredentials=r),I()(n,Si(this,(function(e,n,i){if(e)return zt.error(e,n);t.loaded_=!0,"function"!=typeof m().WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(function(e){if("vttjserror"!==e.type)return Sr(i,t);zt.error("vttjs failed to load, stopping trying to process "+t.src)})):Sr(i,t)})))},Ir=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var i=zi(t,{kind:gr[t.kind]||"subtitles",language:t.language||t.srclang||""}),r=vr[i.mode]||"disabled",o=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(r="hidden"),(n=e.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var a=new pr(n.cues_),s=new pr(n.activeCues_),l=!1;return n.timeupdateHandler=Si(C(n),(function(e){void 0===e&&(e={}),this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))):"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))})),n.tech_.one("dispose",(function(){n.stopTracking()})),"disabled"!==r&&n.startTracking(),Object.defineProperties(C(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return r},set:function(e){vr[e]&&r!==e&&(r=e,this.preload_||"disabled"===r||0!==this.cues.length||kr(this.src,this),this.stopTracking(),"disabled"!==r&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];(r.startTime<=e&&r.endTime>=e||r.startTime===r.endTime&&r.startTime<=e&&r.startTime+.5>=e)&&t.push(r)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(l=!0);return this.activeCues_=t,s.setCues_(this.activeCues_),s},set:function(){}}}),i.src?(n.src=i.src,n.preload_||(n.loaded_=!0),(n.preload_||"subtitles"!==i.kind&&"captions"!==i.kind)&&kr(n.src,C(n))):n.loaded_=!0,n}w(t,e);var n=t.prototype;return n.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},n.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},n.addCue=function(e){var t=e;if(m().vttjs&&!(e instanceof m().vttjs.VTTCue)){for(var n in t=new(m().vttjs.VTTCue)(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var i=this.tech_.textTracks(),r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(yr);Ir.prototype.allowedEvents_={cuechange:"cuechange"};var Br=function(e){function t(t){var n;void 0===t&&(t={});var i=zi(t,{kind:mr[t.kind]||""});n=e.call(this,i)||this;var r=!1;return Object.defineProperty(C(n),"enabled",{get:function(){return r},set:function(e){"boolean"==typeof e&&e!==r&&(r=e,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return w(t,e),t}(yr),xr=function(e){function t(t){var n;void 0===t&&(t={});var i=zi(t,{kind:fr[t.kind]||""});n=e.call(this,i)||this;var r=!1;return Object.defineProperty(C(n),"selected",{get:function(){return r},set:function(e){"boolean"==typeof e&&e!==r&&(r=e,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return w(t,e),t}(yr),Dr=function(e){function t(t){var n,i;void 0===t&&(t={}),n=e.call(this)||this;var r=new Ir(t);return n.kind=r.kind,n.src=r.src,n.srclang=r.language,n.label=r.label,n.default=r.default,Object.defineProperties(C(n),{readyState:{get:function(){return i}},track:{get:function(){return r}}}),i=0,r.addEventListener("loadeddata",(function(){i=2,n.trigger({type:"load",target:C(n)})})),n}return w(t,e),t}(Ii);Dr.prototype.allowedEvents_={load:"load"},Dr.NONE=0,Dr.LOADING=1,Dr.LOADED=2,Dr.ERROR=3;var Pr={audio:{ListClass:cr,TrackClass:Br,capitalName:"Audio"},video:{ListClass:dr,TrackClass:xr,capitalName:"Video"},text:{ListClass:Ar,TrackClass:Ir,capitalName:"Text"}};Object.keys(Pr).forEach((function(e){Pr[e].getterName=e+"Tracks",Pr[e].privateName=e+"Tracks_"}));var Rr={remoteText:{ListClass:Ar,TrackClass:Ir,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:hr,TrackClass:Dr,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},jr=d({},Pr,Rr);Rr.names=Object.keys(Rr),Pr.names=Object.keys(Pr),jr.names=[].concat(Rr.names).concat(Pr.names);var Lr=function(e){function t(t,n){var i;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(i=e.call(this,null,t,n)||this).onDurationChange_=function(e){return i.onDurationChange(e)},i.trackProgress_=function(e){return i.trackProgress(e)},i.trackCurrentTime_=function(e){return i.trackCurrentTime(e)},i.stopTrackingCurrentTime_=function(e){return i.stopTrackingCurrentTime(e)},i.disposeSourceHandler_=function(e){return i.disposeSourceHandler(e)},i.queuedHanders_=new Set,i.hasStarted_=!1,i.on("playing",(function(){this.hasStarted_=!0})),i.on("loadstart",(function(){this.hasStarted_=!1})),jr.names.forEach((function(e){var n=jr[e];t&&t[n.getterName]&&(i[n.privateName]=t[n.getterName])})),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==t.preloadTextTracks,i.autoRemoteTextTracks_=new jr.text.ListClass,i.initTrackListeners(),t.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}w(t,e);var n=t.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Si(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return Zi(0,0)},n.bufferedPercent=function(){return Xi(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(Pr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var n=t[e+"Tracks"]()||[],i=n.length;i--;){var r=n[i];"text"===e&&t.removeRemoteTextTrack(r),n.removeTrack(r)}}))},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(e){return void 0!==e&&(this.error_=new $i(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?Zi(0,0):Zi()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;Pr.names.forEach((function(t){var n=Pr[t],i=function(){e.trigger(t+"trackchange")},r=e[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),e.on("dispose",(function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)}))}))},n.addWebVttScript_=function(){var e=this;if(!m().WebVTT)if(v().body.contains(this.el())){if(!this.options_["vtt.js"]&&Kt(x())&&Object.keys(x()).length>0)return void this.trigger("vttjsloaded");var t=v().createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),m().WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),i=function(e){return t.addTrack(e.track)},r=function(e){return t.removeTrack(e.track)};n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",(function(){n.off("addtrack",i),n.off("removetrack",r),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++)t[e].removeEventListener("cuechange",o)}))},n.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,i,r){void 0===r&&(r={});var o=e.textTracks();r.kind=t,n&&(r.label=n),i&&(r.language=i),r.tech=e;var a=new jr.text.TrackClass(r);return o.addTrack(a),a}(this,e,t,n)},n.createRemoteTextTrack=function(e){var t=zi(e,{tech:this});return new Rr.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var i=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(zt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==t&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(i.track)})),i},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var e=this.options_.Promise||m().Promise;if(e)return e.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.requestVideoFrameCallback=function(e){var t=this,n=ui();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",(function(){t.queuedHanders_.has(n)&&(t.queuedHanders_.delete(n),e())}))):this.requestNamedAnimationFrame(n,e),n},n.cancelVideoFrameCallback=function(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=qi(e),t.techs_[e]=n,t.techs_[Ni(e)]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=qi(e),m()&&m().videojs&&m().videojs[e]?(zt.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),m().videojs[e]):void 0)},t}(Yi);jr.names.forEach((function(e){var t=jr[e];Lr.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),Lr.prototype.featuresVolumeControl=!0,Lr.prototype.featuresMuteControl=!0,Lr.prototype.featuresFullscreenResize=!1,Lr.prototype.featuresPlaybackRate=!1,Lr.prototype.featuresProgressEvents=!1,Lr.prototype.featuresSourceset=!1,Lr.prototype.featuresTimeupdateEvents=!1,Lr.prototype.featuresNativeTextTracks=!1,Lr.prototype.featuresVideoFrameCallback=!1,Lr.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,t)},e.canPlayType=function(t){for(var n,i=e.sourceHandlers||[],r=0;r<i.length;r++)if(n=i[r].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var i=e.sourceHandlers||[],r=0;r<i.length;r++)if(i[r].canHandleSource(t,n))return i[r];return null},e.canPlaySource=function(t,n){var i=e.selectSourceHandler(t,n);return i?i.canHandleSource(t,n):""},["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:zt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Yi.registerComponent("Tech",Lr),Lr.registerTech("Tech",Lr),Lr.defaultTechOrder_=[];var Mr={},Or={},Fr={};function Ur(e,t,n){e.setTimeout((function(){return Hr(t,Mr[t.type],n,e)}),1)}function Qr(e,t,n,i){void 0===i&&(i=null);var r="call"+qi(n),o=e.reduce(Gr(r),i),a=o===Fr,s=a?null:t[n](o);return function(e,t,n,i){for(var r=e.length-1;r>=0;r--){var o=e[r];o[t]&&o[t](i,n)}}(e,n,s,a),s}var Nr={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},qr={setCurrentTime:1,setMuted:1,setVolume:1},zr={play:1,pause:1};function Gr(e){return function(t,n){return t===Fr?Fr:n[e]?n[e](t):t}}function Hr(e,t,n,i,r,o){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===o&&(o=!1);var a=t,s=a[0],l=a.slice(1);if("string"==typeof s)Hr(e,Mr[s],n,i,r,o);else if(s){var c=function(e,t){var n=Or[e.id()],i=null;if(null==n)return i=t(e),Or[e.id()]=[[t,i]],i;for(var r=0;r<n.length;r++){var o=n[r],a=o[0],s=o[1];a===t&&(i=s)}return null===i&&(i=t(e),n.push([t,i])),i}(i,s);if(!c.setSource)return r.push(c),Hr(e,l,n,i,r,o);c.setSource(Yt({},e),(function(t,a){if(t)return Hr(e,l,n,i,r,o);r.push(c),Hr(a,e.type===a.type?l:Mr[a.type],n,i,r,o)}))}else l.length?Hr(e,l,n,i,r,o):o?n(e,r):Hr(e,Mr["*"],n,i,r,!0)}var Wr={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Vr=function(e){void 0===e&&(e="");var t=Er(e);return Wr[t.toLowerCase()]||""},Yr=function e(t){if(Array.isArray(t)){var n=[];t.forEach((function(t){t=e(t),Array.isArray(t)?n=n.concat(t):Jt(t)&&n.push(t)})),t=n}else t="string"==typeof t&&t.trim()?[Jr({src:t})]:Jt(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Jr(t)]:[];return t};function Jr(e){if(!e.type){var t=Vr(e.src);t&&(e.type=t)}return e}var Kr=function(e){function t(t,n,i){var r,o=zi({createEl:!1},n);if(r=e.call(this,t,o,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var l=qi(s[a]),c=Lr.getTech(l);if(l||(c=Yi.getComponent(l)),c&&c.isSupported()){t.loadTech_(l);break}}return r}return w(t,e),t}(Yi);Yi.registerComponent("MediaLoader",Kr);var Zr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).options_.controlText&&i.controlText(i.options_.controlText),i.handleMouseOver_=function(e){return i.handleMouseOver(e)},i.handleMouseOut_=function(e){return i.handleMouseOut(e)},i.handleClick_=function(e){return i.handleClick(e)},i.handleKeyDown_=function(e){return i.handleKeyDown(e)},i.emitTapEvents(),i.enable(),i}w(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={}),t=Yt({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&zt.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=Yt({role:"button"},n),this.tabIndex_=t.tabIndex;var i=Bn(e,t,n);return i.appendChild(Bn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=Bn("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,xn(this.controlTextEl_,n),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(t){b().isEventKey(t,"Space")||b().isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Yi);Yi.registerComponent("ClickableComponent",Zr);var Xr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update(),i.update_=function(e){return i.update(e)},t.on("posterchange",i.update_),i}w(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update_),e.prototype.dispose.call(this)},n.createEl=function(){return Bn("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(pn||dn)&&t||this.player_.tech(!0).focus(),this.player_.paused()?nr(this.player_.play()):this.player_.pause()}},t}(Zr);Yi.registerComponent("PosterImage",Xr);var $r="#222",eo={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function to(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function no(e,t,n){try{e.style[t]=n}catch(e){return}}var io=function(e){function t(t,n,i){var r;r=e.call(this,t,n,i)||this;var o=function(e){return r.updateDisplay(e)};return t.on("loadstart",(function(e){return r.toggleDisplay(e)})),t.on("texttrackchange",o),t.on("loadedmetadata",(function(e){return r.preselectTrack(e)})),t.ready(Si(C(r),(function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",o),t.on("playerresize",o),m().addEventListener("orientationchange",o),t.on("dispose",(function(){return m().removeEventListener("orientationchange",o)}));for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}}))),r}w(t,e);var n=t.prototype;return n.preselectTrack=function(){for(var e,t,n,i={captions:1,subtitles:1},r=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var s=r[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in i?s.kind===o.kind?n=s:n||(n=s):o&&!o.enabled?(n=null,e=null,t=null):s.default&&("descriptions"!==s.kind||e?s.kind in i&&!t&&(t=s):e=s)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof m().WebVTT&&m().WebVTT.processCues(m(),[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],i=0;i<e.length;++i){var r=e[i];"showing"===r.mode&&n.push(r)}this.updateForTrack(n)}else{for(var o=null,a=null,s=e.length;s--;){var l=e[s];"showing"===l.mode&&("descriptions"===l.kind?o=l:a=l)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},n.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),n=e.activeCues,i=n.length;i--;){var r=n[i];if(r){var o=r.displayState;if(t.color&&(o.firstChild.style.color=t.color),t.textOpacity&&no(o.firstChild,"color",to(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(o.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&no(o.firstChild,"backgroundColor",to(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?no(o,"backgroundColor",to(t.windowColor,t.windowOpacity)):o.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+$r:"raised"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+$r:"depressed"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+$r:"uniform"===t.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+$r)),t.fontPercent&&1!==t.fontPercent){var a=m().parseFloat(o.style.fontSize);o.style.fontSize=a*t.fontPercent+"px",o.style.height="auto",o.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=eo[t.fontFamily])}}},n.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof m().WebVTT&&!e.every((function(e){return!e.activeCues}))){for(var t=[],n=0;n<e.length;++n)for(var i=e[n],r=0;r<i.activeCues.length;++r)t.push(i.activeCues[r]);m().WebVTT.processCues(m(),t,this.el_);for(var o=0;o<e.length;++o){for(var a=e[o],s=0;s<a.activeCues.length;++s){var l=a.activeCues[s].displayState;Rn(l,"vjs-text-track-cue"),Rn(l,"vjs-text-track-cue-"+(a.language?a.language:o)),a.language&&Un(l,"lang",a.language)}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},t}(Yi);Yi.registerComponent("TextTrackDisplay",io);var ro=function(e){function t(){return e.apply(this,arguments)||this}return w(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),i=Bn("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),r=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r},t}(Yi);Yi.registerComponent("LoadingSpinner",ro);var oo=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var i=Bn("button",t=Yt({className:this.buildCSSClass()},t),n=Yt({type:"button"},n));return i.appendChild(Bn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i},n.addChild=function(e,t){void 0===t&&(t={});var n=this.constructor.name;return zt.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Yi.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){b().isEventKey(t,"Space")||b().isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(Zr);Yi.registerComponent("Button",oo);var ao=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).mouseused_=!1,i.on("mousedown",(function(e){return i.handleMouseDown(e)})),i}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return nr(t),void(!this.player_.tech(!0)||(pn||dn)&&n||this.player_.tech(!0).focus())}var i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(r){var o=function(){return r.focus()};tr(t)?t.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(oo);ao.prototype.controlText_="Play Video",Yi.registerComponent("BigPlayButton",ao);var so=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){b().isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(oo);Yi.registerComponent("CloseButton",so);var lo=function(e){function t(t,n){var i;return void 0===n&&(n={}),i=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,i.on(t,"play",(function(e){return i.handlePlay(e)})),i.on(t,"pause",(function(e){return i.handlePause(e)})),n.replay&&i.on(t,"ended",(function(e){return i.handleEnded(e)})),i}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?nr(this.player_.play()):this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",(function(e){return t.handleSeeked(e)}))},t}(oo);lo.prototype.controlText_="Play",Yi.registerComponent("PlayToggle",lo);var co=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=i=n="-"),(r=r>0||a>0?r+":":"")+(i=((r||o>=10)&&i<10?"0"+i:i)+":")+(n<10?"0"+n:n)},uo=co;function Ao(e,t){return void 0===t&&(t=e),uo(e,t)}var ho=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,["timeupdate","ended"],(function(e){return i.updateContent(e)})),i.updateTextNode_(),i}w(t,e);var n=t.prototype;return n.createEl=function(){var t=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),i=Bn("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return n.appendChild(i),this.contentEl_=Bn("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=Ao(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(t.contentEl_){var e=t.textNode_;e&&t.contentEl_.firstChild!==e&&(e=null,zt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),t.textNode_=v().createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}})))},n.updateContent=function(e){},t}(Yi);ho.prototype.labelText_="Time",ho.prototype.controlText_="Time",Yi.registerComponent("TimeDisplay",ho);var po=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(ho);po.prototype.labelText_="Current Time",po.prototype.controlText_="Current Time",Yi.registerComponent("CurrentTimeDisplay",po);var fo=function(e){function t(t,n){var i,r=function(e){return i.updateContent(e)};return(i=e.call(this,t,n)||this).on(t,"durationchange",r),i.on(t,"loadstart",r),i.on(t,"loadedmetadata",r),i}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},t}(ho);fo.prototype.labelText_="Duration",fo.prototype.controlText_="Duration",Yi.registerComponent("DurationDisplay",fo);var mo=function(e){function t(){return e.apply(this,arguments)||this}return w(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=e.prototype.createEl.call(this,"div"),i=e.prototype.createEl.call(this,"span",{textContent:"/"});return n.appendChild(i),t.appendChild(n),t},t}(Yi);Yi.registerComponent("TimeDivider",mo);var go=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"durationchange",(function(e){return i.updateContent(e)})),i}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=e.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&t.insertBefore(Bn("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},t}(ho);go.prototype.labelText_="Remaining Time",go.prototype.controlText_="Remaining Time",Yi.registerComponent("RemainingTimeDisplay",go);var vo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateShowing(),i.on(i.player(),"durationchange",(function(e){return i.updateShowing(e)})),i}w(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Bn("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Bn("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild(v().createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(Yi);Yi.registerComponent("LiveDisplay",vo);var yo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&(i.updateLiveEdgeStatusHandler_=function(e){return i.updateLiveEdgeStatus(e)},i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatusHandler_)),i}w(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Bn("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,e.prototype.dispose.call(this)},t}(oo);yo.prototype.controlText_="Seek to live, currently playing live",Yi.registerComponent("SeekToLive",yo);var bo=function(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))},Co=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handleMouseDown_=function(e){return i.handleMouseDown(e)},i.handleMouseUp_=function(e){return i.handleMouseUp(e)},i.handleKeyDown_=function(e){return i.handleKeyDown(e)},i.handleClick_=function(e){return i.handleClick(e)},i.handleMouseMove_=function(e){return i.handleMouseMove(e)},i.update_=function(e){return i.update(e)},i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}w(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=Yt({tabIndex:0},n),i=Yt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),e.prototype.createEl.call(this,t,n,i)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||An||e.preventDefault(),Nn(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;qn(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},n.update=function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",(function(){var n=e.vertical()?"height":"width";e.bar.el().style[n]=(100*t).toFixed(2)+"%"}))),t}},n.getProgress=function(){return Number(bo(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(e){var t=Hn(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(t){b().isEventKey(t,"Left")||b().isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):b().isEventKey(t,"Right")||b().isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(Yi);Yi.registerComponent("Slider",Co);var _o=function(e,t){return bo(e/t*100,0,100).toFixed(2)+"%"},Eo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).partEls_=[],i.on(t,"progress",(function(e){return i.update(e)})),i}w(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=Bn("span",{className:"vjs-control-text"}),i=Bn("span",{textContent:this.localize("Loaded")}),r=v().createTextNode(": ");return this.percentageEl_=Bn("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(n),n.appendChild(i),n.appendChild(r),n.appendChild(this.percentageEl_),t},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var e=t.player_.liveTracker,n=t.player_.buffered(),i=e&&e.isLive()?e.seekableEnd():t.player_.duration(),r=t.player_.bufferedEnd(),o=t.partEls_,a=_o(r,i);t.percent_!==a&&(t.el_.style.width=a,xn(t.percentageEl_,a),t.percent_=a);for(var s=0;s<n.length;s++){var l=n.start(s),c=n.end(s),u=o[s];u||(u=t.el_.appendChild(Bn()),o[s]=u),u.dataset.start===l&&u.dataset.end===c||(u.dataset.start=l,u.dataset.end=c,u.style.left=_o(l,r),u.style.width=_o(c-l,r))}for(var d=o.length;d>n.length;d--)t.el_.removeChild(o[d-1]);o.length=n.length}))},t}(Yi);Yi.registerComponent("LoadProgressBar",Eo);var wo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=ki(Si(C(i),i.update),Ti),i}w(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var i=Gn(this.el_),r=zn(this.player_.el()),o=e.width*t;if(r&&i){var a=e.left-r.left+o,s=e.width-o+(r.right-e.right),l=i.width/2;a<l?l+=l-a:s<l&&(l=s),l<0?l=0:l>i.width&&(l=i.width),l=Math.round(l),this.el_.style.right="-"+l+"px",this.write(n)}},n.write=function(e){xn(this.el_,e)},n.updateTime=function(e,t,n,i){var r=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var o,a=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var s=r.player_.liveTracker.liveWindow(),l=s-t*s;o=(l<1?"":"-")+Ao(l,s)}else o=Ao(n,a);r.update(e,t,o),i&&i()}))},t}(Yi);Yi.registerComponent("TimeTooltip",wo);var To=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=ki(Si(C(i),i.update),Ti),i}w(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,i)}},t}(Yi);To.prototype.options_={children:[]},bn||sn||To.prototype.options_.children.push("timeTooltip"),Yi.registerComponent("PlayProgressBar",To);var So=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=ki(Si(C(i),i.update),Ti),i}w(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,i=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,i,(function(){n.el_.style.left=e.width*t+"px"}))},t}(Yi);So.prototype.options_={children:["timeTooltip"]},Yi.registerComponent("MouseTimeDisplay",So);var ko=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).setEventHandlers_(),i}w(t,e);var n=t.prototype;return n.setEventHandlers_=function(){var e=this;this.update_=Si(this,this.update),this.update=ki(this.update_,Ti),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(t){return e.enableInterval_(t)},this.disableIntervalHandler_=function(t){return e.disableInterval_(t)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in v()&&"visibilityState"in v()&&this.on(v(),"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(e){"hidden"===v().visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Ti))},n.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(t){var n=this;if("hidden"!==v().visibilityState){var i=e.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var e=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),t=n.player_.liveTracker,r=n.player_.duration();t&&t.isLive()&&(r=n.player_.liveTracker.liveCurrentTime()),n.percent_!==i&&(n.el_.setAttribute("aria-valuenow",(100*i).toFixed(2)),n.percent_=i),n.currentTime_===e&&n.duration_===r||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[Ao(e,r),Ao(r,r)],"{1} of {2}")),n.currentTime_=e,n.duration_=r),n.bar&&n.bar.update(zn(n.el()),n.getProgress())})),i}},n.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},n.handleMouseDown=function(t){Zn(t)&&(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(e,t){if(void 0===t&&(t=!1),Zn(e)){var n;t||this.player_.scrubbing()||this.player_.scrubbing(!0);var i=this.calculateDistance(e),r=this.player_.liveTracker;if(r&&r.isLive()){if(i>=.99)return void r.seekToLiveEdge();var o=r.seekableStart(),a=r.liveCurrentTime();if((n=o+i*r.liveWindow())>=a&&(n=a),n<=o&&(n=o+.1),n===1/0)return}else(n=i*this.player_.duration())===this.player_.duration()&&(n-=.1);this.userSeek_(n)}},n.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},n.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},n.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?nr(this.player_.play()):this.update_()},n.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},n.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){var n=this.player_.liveTracker;if(b().isEventKey(t,"Space")||b().isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(b().isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(b().isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(b()(t))){t.preventDefault(),t.stopPropagation();var i=10*(b().codes[b()(t)]-b().codes[0])/100;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else b().isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):b().isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in v()&&"visibilityState"in v()&&this.off(v(),"visibilitychange",this.toggleVisibility_),e.prototype.dispose.call(this)},t}(Co);ko.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},bn||sn||ko.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Yi.registerComponent("SeekBar",ko);var Io=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handleMouseMove=ki(Si(C(i),i.handleMouseMove),Ti),i.throttledHandleMouseSeek=ki(Si(C(i),i.handleMouseSeek),Ti),i.handleMouseUpHandler_=function(e){return i.handleMouseUp(e)},i.handleMouseDownHandler_=function(e){return i.handleMouseDown(e)},i.enable(),i}w(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("playProgressBar"),i=t.getChild("mouseTimeDisplay");if(n||i){var r=t.el(),o=Gn(r),a=Hn(r,e).x;a=bo(a,0,1),i&&i.update(o,a),n&&n.update(o,t.getProgress())}}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&nr(this.player_.play())}},n.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},t}(Yi);Io.prototype.options_={children:["seekBar"]},Yi.registerComponent("ProgressControl",Io);var Bo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],(function(e){return i.handlePictureInPictureChange(e)})),i.on(t,["disablepictureinpicturechanged","loadedmetadata"],(function(e){return i.handlePictureInPictureEnabledChange(e)})),i.on(t,["loadedmetadata","audioonlymodechange","audiopostermodechange"],(function(){"audio"===t.currentType().substring(0,5)||t.audioPosterMode()||t.audioOnlyMode()?(t.isInPictureInPicture()&&t.exitPictureInPicture(),i.hide()):i.show()})),i.disable(),i}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){v().pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},n.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(oo);Bo.prototype.controlText_="Picture-in-Picture",Yi.registerComponent("PictureInPictureToggle",Bo);var xo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"fullscreenchange",(function(e){return i.handleFullscreenChange(e)})),!1===v()[t.fsApi_.fullscreenEnabled]&&i.disable(),i}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(oo);xo.prototype.controlText_="Fullscreen",Yi.registerComponent("FullscreenToggle",xo);var Do=function(e){function t(){return e.apply(this,arguments)||this}return w(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(e.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},t}(Yi);Yi.registerComponent("VolumeLevel",Do);var Po=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=ki(Si(C(i),i.update),Ti),i}w(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n,i){if(!n){var r=zn(this.el_),o=zn(this.player_.el()),a=e.width*t;if(!o||!r)return;var s=e.left-o.left+a,l=e.width-a+(o.right-e.right),c=r.width/2;s<c?c+=c-s:l<c&&(c=l),c<0?c=0:c>r.width&&(c=r.width),this.el_.style.right="-"+c+"px"}this.write(i+"%")},n.write=function(e){xn(this.el_,e)},n.updateVolume=function(e,t,n,i,r){var o=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(function(){o.update(e,t,n,i.toFixed(0)),r&&r()}))},t}(Yi);Yi.registerComponent("VolumeLevelTooltip",Po);var Ro=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=ki(Si(C(i),i.update),Ti),i}w(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t,n){var i=this,r=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,n,r,(function(){n?i.el_.style.bottom=e.height*t+"px":i.el_.style.left=e.width*t+"px"}))},t}(Yi);Ro.prototype.options_={children:["volumeLevelTooltip"]},Yi.registerComponent("MouseVolumeLevelDisplay",Ro);var jo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on("slideractive",(function(e){return i.updateLastVolume_(e)})),i.on(t,"volumechange",(function(e){return i.updateARIAAttributes(e)})),t.ready((function(){return i.updateARIAAttributes()})),i}w(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){Zn(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){var t=this.getChild("mouseVolumeLevelDisplay");if(t){var n=this.el(),i=zn(n),r=this.vertical(),o=Hn(n,e);o=r?o.y:o.x,o=bo(o,0,1),t.update(i,o,r)}Zn(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(Co);jo.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},bn||sn||jo.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),jo.prototype.playerEvent="volumechange",Yi.registerComponent("VolumeBar",jo);var Lo=function(e){function t(t,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||Kt(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(C(i=e.call(this,t,n)||this),t),i.throttledHandleMouseMove=ki(Si(C(i),i.handleMouseMove),Ti),i.handleMouseUpHandler_=function(e){return i.handleMouseUp(e)},i.on("mousedown",(function(e){return i.handleMouseDown(e)})),i.on("touchstart",(function(e){return i.handleMouseDown(e)})),i.on("mousemove",(function(e){return i.handleMouseMove(e)})),i.on(i.volumeBar,["focus","slideractive"],(function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")})),i.on(i.volumeBar,["blur","sliderinactive"],(function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")})),i}w(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(Yi);Lo.prototype.options_={children:["volumeBar"]},Yi.registerComponent("VolumeControl",Lo);var Mo=function(e){function t(t,n){var i;return function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(C(i=e.call(this,t,n)||this),t),i.on(t,["loadstart","volumechange"],(function(e){return i.update(e)})),i}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;bn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)jn(this.el_,"vjs-vol-"+n);Rn(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(oo);Mo.prototype.controlText_="Mute",Yi.registerComponent("MuteToggle",Mo);var Oo=function(e){function t(t,n){var i;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||Kt(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=e.call(this,t,n)||this).handleKeyPressHandler_=function(e){return i.handleKeyPress(e)},i.on(t,["loadstart"],(function(e){return i.volumePanelState_(e)})),i.on(i.muteToggle,"keyup",(function(e){return i.handleKeyPress(e)})),i.on(i.volumeControl,"keyup",(function(e){return i.handleVolumeControlKeyUp(e)})),i.on("keydown",(function(e){return i.handleKeyPress(e)})),i.on("mouseover",(function(e){return i.handleMouseOver(e)})),i.on("mouseout",(function(e){return i.handleMouseOut(e)})),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}w(t,e);var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(e){b().isEventKey(e,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(e){this.addClass("vjs-hover"),vi(v(),"keyup",this.handleKeyPressHandler_)},n.handleMouseOut=function(e){this.removeClass("vjs-hover"),yi(v(),"keyup",this.handleKeyPressHandler_)},n.handleKeyPress=function(e){b().isEventKey(e,"Esc")&&this.handleMouseOut()},t}(Yi);Oo.prototype.options_={children:["muteToggle","volumeControl"]},Yi.registerComponent("VolumePanel",Oo);var Fo=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",(function(e){return i.handleKeyDown(e)})),i.boundHandleBlur_=function(e){return i.handleBlur(e)},i.boundHandleTapClick_=function(e){return i.handleTapClick(e)},i}w(t,e);var n=t.prototype;return n.addEventListenerForItem=function(e){e instanceof Yi&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(e){e instanceof Yi&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},n.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=Bn(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),vi(n,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),n},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||v().activeElement;if(!this.children().some((function(e){return e.el()===t}))){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter((function(t){return t.el()===e.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(e){b().isEventKey(e,"Left")||b().isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(b().isEventKey(e,"Right")||b().isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},n.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(Yi);Yi.registerComponent("Menu",Fo);var Uo=function(e){function t(t,n){var i;void 0===n&&(n={}),(i=e.call(this,t,n)||this).menuButton_=new oo(t,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var r=oo.prototype.buildCSSClass();i.menuButton_.el_.className=i.buildCSSClass()+" "+r,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0;var o=function(e){return i.handleClick(e)};return i.handleMenuKeyUp_=function(e){return i.handleMenuKeyUp(e)},i.on(i.menuButton_,"tap",o),i.on(i.menuButton_,"click",o),i.on(i.menuButton_,"keydown",(function(e){return i.handleKeyDown(e)})),i.on(i.menuButton_,"mouseenter",(function(){i.addClass("vjs-hover"),i.menu.show(),vi(v(),"keyup",i.handleMenuKeyUp_)})),i.on("mouseleave",(function(e){return i.handleMouseLeave(e)})),i.on("keydown",(function(e){return i.handleSubmenuKeyDown(e)})),i}w(t,e);var n=t.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},n.createMenu=function(){var e=new Fo(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=Bn("li",{className:"vjs-menu-title",textContent:qi(this.options_.title),tabIndex:-1}),n=new Yi(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+oo.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(e){this.removeClass("vjs-hover"),yi(v(),"keyup",this.handleMenuKeyUp_)},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(e){b().isEventKey(e,"Esc")||b().isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),b().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(b().isEventKey(e,"Up")||b().isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(e){(b().isEventKey(e,"Esc")||b().isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},n.handleSubmenuKeyDown=function(e){(b().isEventKey(e,"Esc")||b().isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),b().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),bn&&kn())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(Yi);Yi.registerComponent("MenuButton",Uo);var Qo=function(e){function t(t,n){var i,r=n.tracks;if((i=e.call(this,t,n)||this).items.length<=1&&i.hide(),!r)return C(i);var o=Si(C(i),i.update);return r.addEventListener("removetrack",o),r.addEventListener("addtrack",o),r.addEventListener("labelchange",o),i.player_.on("ready",o),i.player_.on("dispose",(function(){r.removeEventListener("removetrack",o),r.removeEventListener("addtrack",o),r.removeEventListener("labelchange",o)})),i}return w(t,e),t}(Uo);Yi.registerComponent("TrackButton",Qo);var No=["Tab","Esc","Up","Down","Right","Left"],qo=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}w(t,e);var n=t.prototype;return n.createEl=function(t,n,i){this.nonIconControl=!0;var r=e.prototype.createEl.call(this,"li",Yt({className:"vjs-menu-item",tabIndex:-1},n),i);return r.replaceChild(Bn("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),r.querySelector(".vjs-icon-placeholder")),r},n.handleKeyDown=function(t){No.some((function(e){return b().isEventKey(t,e)}))||e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Zr);Yi.registerComponent("MenuItem",qo);var zo=function(e){function t(t,n){var i,r=n.track,o=t.textTracks();n.label=r.label||r.language||"Unknown",n.selected="showing"===r.mode,(i=e.call(this,t,n)||this).track=r,i.kinds=(n.kinds||[n.kind||i.track.kind]).filter(Boolean);var a,s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(C(i),t)},l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleSelectedLanguageChange.apply(C(i),t)};return t.on(["loadstart","texttrackchange"],s),o.addEventListener("change",s),o.addEventListener("selectedlanguagechange",l),i.on("dispose",(function(){t.off(["loadstart","texttrackchange"],s),o.removeEventListener("change",s),o.removeEventListener("selectedlanguagechange",l)})),void 0===o.onchange&&i.on(["tap","click"],(function(){if("object"!=typeof m().Event)try{a=new(m().Event)("change")}catch(e){}a||(a=v().createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(a)})),i.handleTracksChange(),i}w(t,e);var n=t.prototype;return n.handleClick=function(t){var n=this.track,i=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),i)for(var r=0;r<i.length;r++){var o=i[r];-1!==this.kinds.indexOf(o.kind)&&(o===n?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},n.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(qo);Yi.registerComponent("TextTrackMenuItem",zo);var Go=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}w(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var o=t[i];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var o=t[i];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(zo);Yi.registerComponent("OffTextTrackMenuItem",Go);var Ho=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}return w(t,e),t.prototype.createItems=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=zo),this.label_&&(n=this.label_+" off"),e.push(new Go(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var o=i[r];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},t}(Qo);Yi.registerComponent("TextTrackButton",Ho);var Wo=function(e){function t(t,n){var i,r=n.track,o=n.cue,a=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=a&&a<o.endTime,(i=e.call(this,t,n)||this).track=r,i.cue=o,i}return w(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},t}(qo);Yi.registerComponent("ChaptersTrackMenuItem",Wo);var Vo=function(e){function t(t,n,i){var r;return(r=e.call(this,t,n,i)||this).selectCurrentItem_=function(){r.items.forEach((function(e){e.selected(r.track_.activeCues[0]===e.cue)}))},r}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){if(!t||!t.track||"chapters"===t.track.kind){var n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),e.prototype.update.call(this)):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&e.prototype.update.call(this)}},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(qi(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,i=t.length;n<i;n++){var r=t[n],o=new Wo(this.player_,{track:this.track_,cue:r});e.push(o)}return e},t}(Ho);Vo.prototype.kind_="chapters",Vo.prototype.controlText_="Chapters",Yi.registerComponent("ChaptersButton",Vo);var Yo=function(e){function t(t,n,i){var r;r=e.call(this,t,n,i)||this;var o=t.textTracks(),a=Si(C(r),r.handleTracksChange);return o.addEventListener("change",a),r.on("dispose",(function(){o.removeEventListener("change",a)})),r}w(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,i=0,r=t.length;i<r;i++){var o=t[i];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Ho);Yo.prototype.kind_="descriptions",Yo.prototype.controlText_="Descriptions",Yi.registerComponent("DescriptionsButton",Yo);var Jo=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Ho);Jo.prototype.kind_="subtitles",Jo.prototype.controlText_="Subtitles",Yi.registerComponent("SubtitlesButton",Jo);var Ko=function(e){function t(t,n){var i;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=e.call(this,t,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return w(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(zo);Yi.registerComponent("CaptionSettingsMenuItem",Ko);var Zo=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Ko(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(Ho);Zo.prototype.kind_="captions",Zo.prototype.controlText_="Captions",Yi.registerComponent("CaptionsButton",Zo);var Xo=function(e){function t(){return e.apply(this,arguments)||this}return w(t,e),t.prototype.createEl=function(t,n,i){var r=e.prototype.createEl.call(this,t,n,i),o=r.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(o.appendChild(Bn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(Bn("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),r},t}(zo);Yi.registerComponent("SubsCapsMenuItem",Xo);var $o=function(e){function t(t,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(qi(i.label_)),i}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Ko(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t,Xo)},t}(Ho);$o.prototype.kinds_=["captions","subtitles"],$o.prototype.controlText_="Subtitles",Yi.registerComponent("SubsCapsButton",$o);var ea=function(e){function t(t,n){var i,r=n.track,o=t.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,(i=e.call(this,t,n)||this).track=r,i.addClass("vjs-"+r.kind+"-menu-item");var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(C(i),t)};return o.addEventListener("change",a),i.on("dispose",(function(){o.removeEventListener("change",a)})),i}w(t,e);var n=t.prototype;return n.createEl=function(t,n,i){var r=e.prototype.createEl.call(this,t,n,i),o=r.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(o.appendChild(Bn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(Bn("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),r},n.handleClick=function(t){if(e.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var n=this.player_.audioTracks(),i=0;i<n.length;i++){var r=n[i];r!==this.track&&(r.enabled=r===this.track)}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(qo);Yi.registerComponent("AudioTrackMenuItem",ea);var ta=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var i=t[n];e.push(new ea(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e},t}(Qo);ta.prototype.controlText_="Audio Track",Yi.registerComponent("AudioTrackButton",ta);var na=function(e){function t(t,n){var i,r=n.rate,o=parseFloat(r,10);return n.label=r,n.selected=o===t.playbackRate(),n.selectable=!0,n.multiSelectable=!1,(i=e.call(this,t,n)||this).label=r,i.rate=o,i.on(t,"ratechange",(function(e){return i.update(e)})),i}w(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(qo);na.prototype.contentElType="button",Yi.registerComponent("PlaybackRateMenuItem",na);var ia=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).menuButton_.el_.setAttribute("aria-describedby",i.labelElId_),i.updateVisibility(),i.updateLabel(),i.on(t,"loadstart",(function(e){return i.updateVisibility(e)})),i.on(t,"ratechange",(function(e){return i.updateLabel(e)})),i.on(t,"playbackrateschange",(function(e){return i.handlePlaybackRateschange(e)})),i}w(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Bn("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var e=this.playbackRates(),t=[],n=e.length-1;n>=0;n--)t.push(new na(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){var t=this.player().playbackRate(),n=this.playbackRates(),i=(n.indexOf(t)+1)%n.length;this.player().playbackRate(n[i])},n.handlePlaybackRateschange=function(e){this.update()},n.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},t}(Uo);ia.prototype.controlText_="Playback Rate",Yi.registerComponent("PlaybackRateMenuButton",ia);var ra=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(t,n,i){return void 0===t&&(t="div"),void 0===n&&(n={}),void 0===i&&(i={}),n.className||(n.className=this.buildCSSClass()),e.prototype.createEl.call(this,t,n,i)},t}(Yi);Yi.registerComponent("Spacer",ra);var oa=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},t}(ra);Yi.registerComponent("CustomControlSpacer",oa);var aa=function(e){function t(){return e.apply(this,arguments)||this}return w(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(Yi);aa.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in v()&&aa.prototype.options_.children.splice(aa.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Yi.registerComponent("ControlBar",aa);var sa=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"error",(function(e){return i.open(e)})),i}w(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(or);sa.prototype.options_=d({},or.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Yi.registerComponent("ErrorDisplay",sa);var la="vjs-text-track-settings",ca=["#000","Black"],ua=["#00F","Blue"],da=["#0FF","Cyan"],Aa=["#0F0","Green"],ha=["#F0F","Magenta"],pa=["#F00","Red"],fa=["#FFF","White"],ma=["#FF0","Yellow"],ga=["1","Opaque"],va=["0.5","Semi-Transparent"],ya=["0","Transparent"],ba={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ca,fa,pa,Aa,ua,ma,ha,da]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ga,va,ya]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[fa,ca,pa,Aa,ua,ma,ha,da]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ga,va]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ya,va,ga]}};function Ca(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}ba.windowColor.options=ba.backgroundColor.options;var _a=function(e){function t(t,n){var i;return n.temporary=!1,(i=e.call(this,t,n)||this).updateDisplay=i.updateDisplay.bind(C(i)),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=Bn("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",(function(){i.saveSettings(),i.close()})),i.on(i.$(".vjs-default-button"),"click",(function(){i.setDefaults(),i.updateDisplay()})),Vt(ba,(function(e){i.on(i.$(e.selector),"change",i.updateDisplay)})),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}w(t,e);var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(e,t,n){var i=this;void 0===t&&(t=""),void 0===n&&(n="label");var r=ba[e],o=r.id.replace("%s",this.id_),a=[t,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map((function(e){var t=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',i.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return Bn("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return Bn("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return Bn("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e,t,n,i=this;return t=function(e,t,n){var r,o,a=(r=i.$(t.selector),o=t.parser,Ca(r.options[r.options.selectedIndex].value,o));return void 0!==a&&(e[n]=a),e},void 0===(n={})&&(n=0),Wt(e=ba).reduce((function(n,i){return t(n,e[i],i)}),n)},n.setValues=function(e){var t=this;Vt(ba,(function(n,i){!function(e,t,n){if(t)for(var i=0;i<e.options.length;i++)if(Ca(e.options[i].value,n)===t){e.selectedIndex=i;break}}(t.$(n.selector),e[i],n.parser)}))},n.setDefaults=function(){var e=this;Vt(ba,(function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n}))},n.restoreSettings=function(){var e;try{e=JSON.parse(m().localStorage.getItem(la))}catch(e){zt.warn(e)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?m().localStorage.setItem(la,JSON.stringify(e)):m().localStorage.removeItem(la)}catch(e){zt.warn(e)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(or);Yi.registerComponent("TextTrackSettings",_a);var Ea=function(e){function t(t,n){var i,r=n.ResizeObserver||m().ResizeObserver;null===n.ResizeObserver&&(r=!1);var o=zi({createEl:!r,reportTouchActivity:!1},n);return(i=e.call(this,t,o)||this).ResizeObserver=n.ResizeObserver||m().ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=function(e,t,n,i){var r;void 0===i&&(i=m());var o=function(){var t=this,n=arguments,o=function(){r=null,o=null,e.apply(t,n)};i.clearTimeout(r),r=i.setTimeout(o,100)};return o.cancel=function(){i.clearTimeout(r),r=null},o}((function(){i.resizeHandler()}),0,0,C(i)),r?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(t.el())):(i.loadListener_=function(){if(i.el_&&i.el_.contentWindow){var e=i.debouncedHandler_,t=i.unloadListener_=function(){yi(this,"resize",e),yi(this,"unload",t),t=null};vi(i.el_.contentWindow,"unload",t),vi(i.el_.contentWindow,"resize",e)}},i.one("load",i.loadListener_)),i}w(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(Yi);Yi.registerComponent("ResizeManager",Ea);var wa={trackingThreshold:20,liveTolerance:15},Ta=function(e){function t(t,n){var i,r=zi(wa,n,{createEl:!1});return(i=e.call(this,t,r)||this).handleVisibilityChange_=function(e){return i.handleVisibilityChange(e)},i.trackLiveHandler_=function(){return i.trackLive_()},i.handlePlay_=function(e){return i.handlePlay(e)},i.handleFirstTimeupdate_=function(e){return i.handleFirstTimeupdate(e)},i.handleSeeked_=function(e){return i.handleSeeked(e)},i.seekToLiveEdge_=function(e){return i.seekToLiveEdge(e)},i.reset_(),i.on(i.player_,"durationchange",(function(e){return i.handleDurationchange(e)})),i.on(i.player_,"canplay",(function(){return i.toggleTracking()})),pn&&"hidden"in v()&&"visibilityState"in v()&&i.on(v(),"visibilitychange",i.handleVisibilityChange_),i}w(t,e);var n=t.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(v().hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(m().performance.now().toFixed(4)),n=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;var i=this.liveCurrentTime(),r=this.player_.currentTime(),o=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-r)>this.options_.liveTolerance;this.timeupdateSeen_&&i!==1/0||(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Ti),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},n.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},n.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},n.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"==typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(v(),"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),e.prototype.dispose.call(this)},t}(Yi);Yi.registerComponent("LiveTracker",Ta);var Sa,ka=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),i=[],r="";if(!n.length)return!1;for(var o=0;o<n.length;o++){var a=n[o].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(r=i[0]),e.triggerSourceset(r),!0)},Ia=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=v().createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=v().createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",m().Element.prototype.appendChild.call(this,n),this.innerHTML}}),Ba=function(e,t){for(var n={},i=0;i<e.length&&!((n=Object.getOwnPropertyDescriptor(e[i],t))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},xa=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},i=function(e){return Ba([e.el(),m().HTMLMediaElement.prototype,m().Element.prototype,Ia],"innerHTML")}(e),r=function(n){return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=n.apply(t,r);return ka(e),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(n[e]=t[e],t[e]=r(n[e]))})),Object.defineProperty(t,"innerHTML",zi(i,{set:r(i.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach((function(e){t[e]=n[e]})),Object.defineProperty(t,"innerHTML",i)},e.one("sourceset",t.resetSourceWatch_)}},Da=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Cr(m().Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return m().Element.prototype.setAttribute.call(this,"src",e),e}}),Pa=function(e,t,n,i){void 0===i&&(i=!0);var r=function(n){return Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0})},o={configurable:!0,enumerable:!0,get:function(){var e=n();return r(e),e}};return i&&(o.set=r),Object.defineProperty(e,t,o)},Ra=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r=t.source,o=!1;if(i.featuresVideoFrameCallback=i.featuresVideoFrameCallback&&"VIDEO"===i.el_.tagName,r&&(i.el_.currentSrc!==r.src||t.tag&&3===t.tag.initNetworkState_)?i.setSource(r):i.handleLateInit_(i.el_),t.enableSourceset&&i.setupSourcesetHandling_(),i.isScrubbing_=!1,i.el_.hasChildNodes()){for(var a=i.el_.childNodes,s=a.length,l=[];s--;){var c=a[s];"track"===c.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(c),i.remoteTextTracks().addTrack(c.track),i.textTracks().addTrack(c.track),o||i.el_.hasAttribute("crossorigin")||!wr(c.src)||(o=!0)):l.push(c))}for(var u=0;u<l.length;u++)i.el_.removeChild(l[u])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&o&&zt.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(gn||yn||cn)&&!0===t.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}w(t,e);var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){!function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return Ba([e.el(),m().HTMLMediaElement.prototype,Da],"src")}(e),i=t.setAttribute,r=t.load;Object.defineProperty(t,"src",zi(n,{set:function(i){var r=n.set.call(t,i);return e.triggerSourceset(t.src),r}})),t.setAttribute=function(n,r){var o=i.call(t,n,r);return/src/i.test(n)&&e.triggerSourceset(t.src),o},t.load=function(){var n=r.call(t);return ka(e)||(e.triggerSourceset(""),xa(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):ka(e)||xa(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=r,t.setAttribute=i,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}}(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var i=t[n];"metadata"===i.kind&&e.push({track:i,storedMode:i.mode})}};n(),t.addEventListener("change",n),this.on("dispose",(function(){return t.removeEventListener("change",n)}));var i=function n(){for(var i=0;i<e.length;i++){var r=e[i];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",n),t.removeEventListener("change",i),t.addEventListener("change",i)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",i)}))},n.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var i=e.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach((function(e){n.el()[i+"Tracks"].removeEventListener(e,n[i+"TracksListeners_"][e])})),this["featuresNative"+e+"Tracks"]=!t,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,n=Pr[e],i=this.el()[n.getterName],r=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var o={change:function(n){var i={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(i),"text"===e&&t[Rr.remoteText.getterName]().trigger(i)},addtrack:function(e){r.addTrack(e.track)},removetrack:function(e){r.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<r.length;t++){for(var n=!1,o=0;o<i.length;o++)if(i[o]===r[t]){n=!0;break}n||e.push(r[t])}for(;e.length;)r.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach((function(e){var n=o[e];i.addEventListener(e,n),t.on("dispose",(function(t){return i.removeEventListener(e,n)}))})),this.on("loadstart",a),this.on("dispose",(function(e){return t.off("loadstart",a)}))}},n.proxyNativeTracks_=function(){var e=this;Pr.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))},n.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=v().createElement("video");var i=zi({},this.options_.tag&&On(this.options_.tag));gn&&!0===this.options_.nativeControlsForTouch||delete i.controls,Mn(e,Yt(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&Un(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var r=["loop","muted","playsinline","autoplay"],o=0;o<r.length;o++){var a=r[o],s=this.options_[a];void 0!==s&&(s?Un(e,a,a):Qn(e,a),e[a]=s)}return e},n.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var i=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")}))}var r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(e){this.trigger(e)}),this)}))}},n.setScrubbing=function(e){this.isScrubbing_=e},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&Cn?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){zt(e,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;return this.el_.duration===1/0&&sn&&An&&0===this.el_.currentTime?(this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN):this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)}))}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=m().navigator&&m().navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)nr(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}),0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},n.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.requestVideoFrameCallback=function(t){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(t):e.prototype.requestVideoFrameCallback.call(this,t)},n.cancelVideoFrameCallback=function(t){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(t):e.prototype.cancelVideoFrameCallback.call(this,t)},n.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,i):e.prototype.addTextTrack.call(this,t,n,i)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=v().createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},n.addRemoteTextTrack=function(t,n){var i=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},n.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),i=n.length;i--;)t!==n[i]&&t!==n[i].track||this.el().removeChild(n[i])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),m().performance&&"function"==typeof m().performance.now?e.creationTime=m().performance.now():m().performance&&m().performance.timing&&"number"==typeof m().performance.timing.navigationStart&&(e.creationTime=m().Date.now()-m().performance.timing.navigationStart),e},t}(Lr);Pa(Ra,"TEST_VID",(function(){if(Tn()){var e=v().createElement("video"),t=v().createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}})),Ra.isSupported=function(){try{Ra.TEST_VID.volume=.5}catch(e){return!1}return!(!Ra.TEST_VID||!Ra.TEST_VID.canPlayType)},Ra.canPlayType=function(e){return Ra.TEST_VID.canPlayType(e)},Ra.canPlaySource=function(e,t){return Ra.canPlayType(e.type)},Ra.canControlVolume=function(){try{var e=Ra.TEST_VID.volume;Ra.TEST_VID.volume=e/2+.1;var t=e!==Ra.TEST_VID.volume;return t&&bn?(m().setTimeout((function(){Ra&&Ra.prototype&&(Ra.prototype.featuresVolumeControl=e!==Ra.TEST_VID.volume)})),!1):t}catch(e){return!1}},Ra.canMuteVolume=function(){try{var e=Ra.TEST_VID.muted;return Ra.TEST_VID.muted=!e,Ra.TEST_VID.muted?Un(Ra.TEST_VID,"muted","muted"):Qn(Ra.TEST_VID,"muted"),e!==Ra.TEST_VID.muted}catch(e){return!1}},Ra.canControlPlaybackRate=function(){if(sn&&An&&hn<58)return!1;try{var e=Ra.TEST_VID.playbackRate;return Ra.TEST_VID.playbackRate=e/2+.1,e!==Ra.TEST_VID.playbackRate}catch(e){return!1}},Ra.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(v().createElement("video"),"src",{get:e,set:e}),Object.defineProperty(v().createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(v().createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(v().createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},Ra.supportsNativeTextTracks=function(){return Cn||bn&&An},Ra.supportsNativeVideoTracks=function(){return!(!Ra.TEST_VID||!Ra.TEST_VID.videoTracks)},Ra.supportsNativeAudioTracks=function(){return!(!Ra.TEST_VID||!Ra.TEST_VID.audioTracks)},Ra.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(e){var t=e[0],n=e[1];Pa(Ra.prototype,t,(function(){return Ra[n]()}),!0)})),Ra.prototype.featuresVolumeControl=Ra.canControlVolume(),Ra.prototype.movingMediaElementInDOM=!bn,Ra.prototype.featuresFullscreenResize=!0,Ra.prototype.featuresProgressEvents=!0,Ra.prototype.featuresTimeupdateEvents=!0,Ra.prototype.featuresVideoFrameCallback=!(!Ra.TEST_VID||!Ra.TEST_VID.requestVideoFrameCallback),Ra.patchCanPlayType=function(){ln>=4&&!un&&!An&&(Sa=Ra.TEST_VID&&Ra.TEST_VID.constructor.prototype.canPlayType,Ra.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":Sa.call(this,e)})},Ra.unpatchCanPlayType=function(){var e=Ra.TEST_VID.constructor.prototype.canPlayType;return Sa&&(Ra.TEST_VID.constructor.prototype.canPlayType=Sa),e},Ra.patchCanPlayType(),Ra.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Ra.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){Ra.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){Ra.prototype["set"+qi(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){Ra.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){Ra.prototype["set"+qi(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){Ra.prototype[e]=function(){return this.el_[e]()}})),Lr.withSourceHandlers(Ra),Ra.nativeSourceHandler={},Ra.nativeSourceHandler.canPlayType=function(e){try{return Ra.TEST_VID.canPlayType(e)}catch(e){return""}},Ra.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Ra.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=Er(e.src);return Ra.nativeSourceHandler.canPlayType("video/"+n)}return""},Ra.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},Ra.nativeSourceHandler.dispose=function(){},Ra.registerSourceHandler(Ra.nativeSourceHandler),Lr.registerTech("Html5",Ra);var ja=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],La={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Ma=["tiny","xsmall","small","medium","large","xlarge","huge"],Oa={};Ma.forEach((function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Oa[e]="vjs-layout-"+t}));var Fa={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Ua=function(e){function t(n,i,r){var o;if(n.id=n.id||i.id||"vjs_video_"+ui(),(i=Yt(t.getTagSettings(n),i)).initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof n.closest){var a=n.closest("[lang]");a&&a.getAttribute&&(i.language=a.getAttribute("lang"))}else for(var s=n;s&&1===s.nodeType;){if(On(s).hasOwnProperty("lang")){i.language=s.getAttribute("lang");break}s=s.parentNode}if((o=e.call(this,null,i,r)||this).boundDocumentFullscreenChange_=function(e){return o.documentFullscreenChange_(e)},o.boundFullWindowOnEscKey_=function(e){return o.fullWindowOnEscKey(e)},o.boundUpdateStyleEl_=function(e){return o.updateStyleEl_(e)},o.boundApplyInitTime_=function(e){return o.applyInitTime_(e)},o.boundUpdateCurrentBreakpoint_=function(e){return o.updateCurrentBreakpoint_(e)},o.boundHandleTechClick_=function(e){return o.handleTechClick_(e)},o.boundHandleTechDoubleClick_=function(e){return o.handleTechDoubleClick_(e)},o.boundHandleTechTouchStart_=function(e){return o.handleTechTouchStart_(e)},o.boundHandleTechTouchMove_=function(e){return o.handleTechTouchMove_(e)},o.boundHandleTechTouchEnd_=function(e){return o.handleTechTouchEnd_(e)},o.boundHandleTechTap_=function(e){return o.handleTechTap_(e)},o.isFullscreen_=!1,o.log=Gt(o.id_),o.fsApi_=Ot,o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,o.debugEnabled_=!1,o.audioOnlyMode_=!1,o.audioPosterMode_=!1,o.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=n,o.tagAttributes=n&&On(n),o.language(o.options_.language),i.languages){var l={};Object.getOwnPropertyNames(i.languages).forEach((function(e){l[e.toLowerCase()]=i.languages[e]})),o.languages_=l}else o.languages_=t.prototype.options_.languages;o.resetCache_(),o.poster_=i.poster||"",o.controls_=!!i.controls,n.controls=!1,n.removeAttribute("controls"),o.changingSrc_=!1,o.playCallbacks_=[],o.playTerminatedQueue_=[],n.hasAttribute("autoplay")?o.autoplay(!0):o.autoplay(o.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach((function(e){if("function"!=typeof o[e])throw new Error('plugin "'+e+'" does not exist')})),o.scrubbing_=!1,o.el_=o.createEl(),Fi(C(o),{eventBusKey:"el_"}),o.fsApi_.requestFullscreen&&(vi(v(),o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_),o.on(o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_)),o.fluid_&&o.on(["playerreset","resize"],o.boundUpdateStyleEl_);var c=zi(o.options_);i.plugins&&Object.keys(i.plugins).forEach((function(e){o[e](i.plugins[e])})),i.debug&&o.debug(!0),o.options_.playerOptions=c,o.middleware_=[],o.playbackRates(i.playbackRates),o.initChildren(),o.isAudio("audio"===n.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),gn&&o.addClass("vjs-touch-enabled"),bn||o.addClass("vjs-workinghover"),t.players[o.id_]=C(o);var u=Rt.split(".")[0];return o.addClass("vjs-v"+u),o.userActive(!0),o.reportUserActivity(),o.one("play",(function(e){return o.listenForUserActivity_(e)})),o.on("stageclick",(function(e){return o.handleStageClick_(e)})),o.on("keydown",(function(e){return o.handleKeyDown(e)})),o.on("languagechange",(function(e){return o.handleLanguagechange(e)})),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o.on("ready",(function(){o.audioPosterMode(o.options_.audioPosterMode),o.audioOnlyMode(o.options_.audioOnlyMode)})),o}w(t,e);var n=t.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),yi(v(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),yi(v(),"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Or[this.id()]=null,jr.names.forEach((function(e){var t=jr[e],i=n[t.getterName]();i&&i.off&&i.off()})),e.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},n.createEl=function(){var t,n=this.tag,i=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),r="video-js"===this.tag.tagName.toLowerCase();i?t=this.el_=n.parentNode:r||(t=this.el_=e.prototype.createEl.call(this,"div"));var o=On(n);if(r){for(t=this.el_=n,n=this.tag=v().createElement("video");t.children.length;)n.appendChild(t.firstChild);Pn(t,"video-js")||Rn(t,"video-js"),t.appendChild(n),i=this.playerElIngest_=t,Object.keys(t).forEach((function(e){try{n[e]=t[e]}catch(e){}}))}if(n.setAttribute("tabindex","-1"),o.tabindex="-1",(pn||An&&mn)&&(n.setAttribute("role","application"),o.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach((function(e){r&&"class"===e||t.setAttribute(e,o[e]),r&&n.setAttribute(e,o[e])})),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),!0!==m().VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=si("vjs-styles-dimensions");var a=$n(".vjs-styles-defaults"),s=$n("head");s.insertBefore(this.styleEl_,a?a.nextSibling:s.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var l=n.getElementsByTagName("a"),c=0;c<l.length;c++){var u=l.item(c);Rn(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!i&&n.parentNode.insertBefore(t,n),Dn(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=t,t},n.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):zt.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(t);isNaN(i)?zt.error('Improper value "'+t+'" supplied for for '+e):(this[n]=i,this.updateStyleEl_())},n.fluid=function(e){var t,n,i=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,xi(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),n=function(){i.on(["playerreset","resize"],i.boundUpdateStyleEl_)},xi(t=this)?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==m().VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=i[1]/i[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*r,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),li(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var o="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(o>=0&&(s.width=o),a>=0&&(s.height=a))}},n.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var i=qi(e),r=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(Lr.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var o=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(o=!1);var a={source:t,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};jr.names.forEach((function(e){var t=jr[e];a[t.getterName]=n[t.privateName]})),Yt(a,this.options_[i]),Yt(a,this.options_[r]),Yt(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);var s,l,c=Lr.getTech(e);if(!c)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new c(a),this.tech_.ready(Si(this,this.handleTechReady_),!0),s=this.textTracksJson_||[],l=this.tech_,s.forEach((function(e){var t=l.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return t.addCue(e)}))})),l.textTracks(),ja.forEach((function(e){n.on(n.tech_,e,(function(t){return n["handleTech"+qi(e)+"_"](t)}))})),Object.keys(La).forEach((function(e){n.on(n.tech_,e,(function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+La[e]+"_"].bind(n),event:t}):n["handleTech"+La[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",(function(e){return n.handleTechLoadStart_(e)})),this.on(this.tech_,"sourceset",(function(e){return n.handleTechSourceset_(e)})),this.on(this.tech_,"waiting",(function(e){return n.handleTechWaiting_(e)})),this.on(this.tech_,"ended",(function(e){return n.handleTechEnded_(e)})),this.on(this.tech_,"seeking",(function(e){return n.handleTechSeeking_(e)})),this.on(this.tech_,"play",(function(e){return n.handleTechPlay_(e)})),this.on(this.tech_,"firstplay",(function(e){return n.handleTechFirstPlay_(e)})),this.on(this.tech_,"pause",(function(e){return n.handleTechPause_(e)})),this.on(this.tech_,"durationchange",(function(e){return n.handleTechDurationChange_(e)})),this.on(this.tech_,"fullscreenchange",(function(e,t){return n.handleTechFullscreenChange_(e,t)})),this.on(this.tech_,"fullscreenerror",(function(e,t){return n.handleTechFullscreenError_(e,t)})),this.on(this.tech_,"enterpictureinpicture",(function(e){return n.handleTechEnterPictureInPicture_(e)})),this.on(this.tech_,"leavepictureinpicture",(function(e){return n.handleTechLeavePictureInPicture_(e)})),this.on(this.tech_,"error",(function(e){return n.handleTechError_(e)})),this.on(this.tech_,"posterchange",(function(e){return n.handleTechPosterChange_(e)})),this.on(this.tech_,"textdata",(function(e){return n.handleTechTextData_(e)})),this.on(this.tech_,"ratechange",(function(e){return n.handleTechRateChange_(e)})),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||Dn(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e,t,n,i=this;jr.names.forEach((function(e){var t=jr[e];i[t.privateName]=i[t.getterName]()})),this.textTracksJson_=(e=this.tech_,t=e.$$("track"),n=Array.prototype.map.call(t,(function(e){return e.track})),Array.prototype.map.call(t,(function(e){var t=ir(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map(ir))),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return void 0===e&&zt.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var n,i=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var i=t.play();if(tr(i))return i.catch((function(e){throw n(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(e||""))}))};if("any"!==e||this.muted()?n="muted"!==e||this.muted()?this.play():i():tr(n=this.play())&&(n=n.catch(i)),tr(n))return n.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(){t.trigger({type:"autoplay-failure",autoplay:e})}))}},n.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter((function(e){return e.src===t}));if(n.length)return n[0].type;for(var i=e.$$("source"),r=0;r<i.length;r++){var o=i[r];if(o.type&&o.src&&o.src===t)return o.type}return Vr(t)}(this,t)),this.cache_.source=zi({},e,{src:t,type:n});for(var i=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),r=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var l=On(o[s]);r.push(l),l.src&&l.src===t&&a.push(l.src)}a.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},i=this.currentSource().src,r=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=function(){}),n(r),e.src||this.tech_.any(["sourceset","loadstart"],(function(e){if("sourceset"!==e.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",(function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))}))},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(zt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?nr(this.play()):this.pause()))},n.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(e.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var n=this.el(),i=v()[this.fsApi_.fullscreenElement]===n;!i&&n.matches?i=n.matches(":"+this.fsApi_.fullscreen):!i&&n.msMatchesSelector&&(i=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}},n.handleTechFullscreenChange_=function(e,t){var n=this;t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",(function(){n.removeClass("vjs-ios-native-fs")}))),this.isFullscreen(t.isFullscreen))},n.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},n.techCall_=function(e,t){this.ready((function(){if(e in qr)return function(e,t,n,i){return t[n](e.reduce(Gr(n),i))}(this.middleware_,this.tech_,e,t);if(e in zr)return Qr(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw zt(e),e}}),!0)},n.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Nr)return function(e,t,n){return e.reduceRight(Gr(n),t[n]())}(this.middleware_,this.tech_,e);if(e in zr)return Qr(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw zt("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw zt("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw zt(t),t}}},n.play=function(){var e=this,t=this.options_.Promise||m().Promise;return t?new t((function(t){e.play_(t)})):this.play_()},n.play_=function(e){var t=this;void 0===e&&(e=nr),this.playCallbacks_.push(e);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),i=Boolean(Cn||bn);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!n&&i&&this.load());var r=this.techGet_("play");i&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),null===r?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)},n.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))},n.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||Zi(0,0)},n.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=Zi(0,0)),e},n.bufferedPercent=function(){return Xi(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},n.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},n.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},n.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},n.requestFullscreen=function(e){var t=this.options_.Promise||m().Promise;if(t){var n=this;return new t((function(t,i){function r(){n.off("fullscreenerror",a),n.off("fullscreenchange",o)}function o(){r(),t()}function a(e,t){r(),i(t)}n.one("fullscreenchange",o),n.one("fullscreenerror",a);var s=n.requestFullscreenHelper_(e);s&&(s.then(r,r),s.then(t,i))}))}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(e){var t,n=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var i=this.el_[this.fsApi_.requestFullscreen](t);return i&&i.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),i}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var e=this.options_.Promise||m().Promise;if(e){var t=this;return new e((function(e,n){function i(){t.off("fullscreenerror",o),t.off("fullscreenchange",r)}function r(){i(),e()}function o(e,t){i(),n(t)}t.one("fullscreenchange",r),t.one("fullscreenerror",o);var a=t.exitFullscreenHelper_();a&&(a.then(i,i),a.then(e,n))}))}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=v()[this.fsApi_.exitFullscreen]();return t&&nr(t.then((function(){return e.isFullscreen(!1)}))),t}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=v().documentElement.style.overflow,vi(v(),"keydown",this.boundFullWindowOnEscKey_),v().documentElement.style.overflow="hidden",Rn(v().body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){b().isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,yi(v(),"keydown",this.boundFullWindowOnEscKey_),v().documentElement.style.overflow=this.docOrigOverflow,jn(v().body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in v()&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in v())return v().exitPictureInPicture()},n.handleKeyDown=function(e){var t,n,i=this.options_.userActions;i&&i.hotkeys&&(t=this.el_.ownerDocument.activeElement,n=t.tagName.toLowerCase(),t.isContentEditable||("input"===n?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(t.type):-1!==["textarea"].indexOf(n))||("function"==typeof i.hotkeys?i.hotkeys.call(this,e):this.handleHotkeys(e)))},n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,i=void 0===n?function(e){return b().isEventKey(e,"f")}:n,r=t.muteKey,o=void 0===r?function(e){return b().isEventKey(e,"m")}:r,a=t.playPauseKey,s=void 0===a?function(e){return b().isEventKey(e,"k")||b().isEventKey(e,"Space")}:a;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();var l=Yi.getComponent("FullscreenToggle");!1!==v()[this.fsApi_.fullscreenEnabled]&&l.prototype.handleClick.call(this,e)}else o.call(this,e)?(e.preventDefault(),e.stopPropagation(),Yi.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Yi.getComponent("PlayToggle").prototype.handleClick.call(this,e))},n.canPlayType=function(e){for(var t,n=0,i=this.options_.techOrder;n<i.length;n++){var r=i[n],o=Lr.getTech(r);if(o||(o=Yi.getComponent(r)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else zt.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(e){var t,n,i=this,r=this.options_.techOrder.map((function(e){return[e,Lr.getTech(e)]})).filter((function(e){var t=e[0],n=e[1];return n?n.isSupported():(zt.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),o=function(e,t,n){var i;return e.some((function(e){return t.some((function(t){if(i=n(e,t))return!0}))})),i},a=function(e,t){var n=e[0];if(e[1].canPlaySource(t,i.options_[n.toLowerCase()]))return{source:t,tech:n}};return t=this.options_.sourceOrder?o(e,r,(n=a,function(e,t){return n(t,e)})):o(r,e,a),t||!1},n.handleSrc_=function(e,t){var n=this;if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var i=Yr(e);if(i.length){if(this.changingSrc_=!0,t||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),Ur(this,i[0],(function(e,r){var o,a;if(n.middleware_=r,t||(n.cache_.sources=i),n.updateSourceCaches_(e),n.src_(e))return i.length>1?n.handleSrc_(i.slice(1)):(n.changingSrc_=!1,n.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),void n.triggerReady());o=r,a=n.tech_,o.forEach((function(e){return e.setTech&&e.setTech(a)}))})),this.options_.retryOnError&&i.length>1){var r=function(){n.error(null),n.handleSrc_(i.slice(1),!0)},o=function(){n.off("error",r)};this.one("error",r),this.one("playing",o),this.resetRetryOnError_=function(){n.off("error",r),n.off("playing",o)}}}else this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0)},n.src=function(e){return this.handleSrc_(e,!1)},n.src_=function(e){var t,n,i=this,r=this.selectSource([e]);return!r||(t=r.tech,n=this.techName_,qi(t)!==qi(n)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready((function(){i.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var e=this,t=this.options_.Promise||m().Promise;this.paused()||!t?this.doReset_():nr(this.play().then((function(){return e.doReset_()})))},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),xi(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar||{},t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},n.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(e){var t=this;if(void 0===e)return this.error_||null;if(Lt("beforeerror").forEach((function(n){var i=n(t,e);Jt(i)&&!Array.isArray(i)||"string"==typeof i||"number"==typeof i||null===i?e=i:t.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&e&&4===e.code){var n=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),void this.one("loadstart",(function(){this.off(["click","touchstart"],n)}))}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new $i(e),this.addClass("vjs-error"),zt.error("(CODE:"+this.error_.code+" "+$i.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Lt("error").forEach((function(e){return e(t,t.error_)}))},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,n,i=Si(this,this.reportUserActivity),r=function(t){i(),this.clearInterval(e)};this.on("mousedown",(function(){i(),this.clearInterval(e),e=this.setInterval(i,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,i())})),this.on("mouseup",r),this.on("mouseleave",r);var o,a=this.getChild("controlBar");!a||bn||sn||(a.on("mouseenter",(function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),a.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",i),this.on("keyup",i),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var e=this.options_.inactivityTimeout;e<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},n.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},n.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},n.enableAudioOnlyUI_=function(){var e=this;this.addClass("vjs-audio-only-mode");var t=this.children(),n=this.getChild("ControlBar"),i=n&&n.currentHeight();t.forEach((function(t){t!==n&&t.el_&&!t.hasClass("vjs-hidden")&&(t.hide(),e.audioOnlyCache_.hiddenChildren.push(t))})),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(i),this.trigger("audioonlymodechange")},n.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach((function(e){return e.show()})),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},n.audioOnlyMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=e;var n=this.options_.Promise||m().Promise;if(n){if(e){var i=[];return this.isInPictureInPicture()&&i.push(this.exitPictureInPicture()),this.isFullscreen()&&i.push(this.exitFullscreen()),this.audioPosterMode()&&i.push(this.audioPosterMode(!1)),n.all(i).then((function(){return t.enableAudioOnlyUI_()}))}return n.resolve().then((function(){return t.disableAudioOnlyUI_()}))}e?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},n.enablePosterModeUI_=function(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.disablePosterModeUI_=function(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.audioPosterMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=e;var n=this.options_.Promise||m().Promise;return n?e?this.audioOnlyMode()?this.audioOnlyMode(!1).then((function(){t.enablePosterModeUI_()})):n.resolve().then((function(){t.enablePosterModeUI_()})):n.resolve().then((function(){t.disablePosterModeUI_()})):e?(this.audioOnlyMode()&&this.audioOnlyMode(!1),void this.enablePosterModeUI_()):void this.disablePosterModeUI_()},n.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),xi(this)&&this.trigger("languagechange"))},n.languages=function(){return zi(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=zi(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];(i=zi(i)).player=void 0,e.tracks[n]=i}return e},n.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var i=new or(this,t);return this.addChild(i),i.on("dispose",(function(){n.removeChild(i)})),i.open(),i},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<Ma.length;n++){var i=Ma[n];if(t<=this.breakpoints_[i]){if(e===i)return;e&&this.removeClass(Oa[e]),this.addClass(Oa[i]),this.breakpoint_=i;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=Yt({},Fa,e),this.updateCurrentBreakpoint_()),Yt(this.breakpoints_)},n.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return Oa[this.breakpoint_]||""},n.loadMedia=function(e,t){var n=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=zi(e);var i=this.cache_.media,r=i.artwork,o=i.poster,a=i.src,s=i.textTracks;!r&&o&&(this.cache_.media.artwork=[{src:o,type:Vr(o)}]),a&&this.src(a),o&&this.poster(o),Array.isArray(s)&&s.forEach((function(e){return n.addRemoteTextTrack(e,!1)})),this.ready(t)}},n.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}}))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:Vr(t.poster)}]),t}return zi(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=On(e),i=n["data-setup"];if(Pn(e,"vjs-fill")&&(n.fill=!0),Pn(e,"vjs-fluid")&&(n.fluid=!0),null!==i){var r=S()(i||"{}"),o=r[0],a=r[1];o&&zt.error(o),Yt(n,a)}if(Yt(t,n),e.hasChildNodes())for(var s=e.childNodes,l=0,c=s.length;l<c;l++){var u=s[l],d=u.nodeName.toLowerCase();"source"===d?t.sources.push(On(u)):"track"===d&&t.tracks.push(On(u))}return t},n.flexNotSupported_=function(){var e=v().createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},n.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},n.playbackRates=function(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every((function(e){return"number"==typeof e}))&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},t}(Yi);jr.names.forEach((function(e){var t=jr[e];Ua.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),Ua.prototype.crossorigin=Ua.prototype.crossOrigin,Ua.players={};var Qa=m().navigator;Ua.prototype.options_={techOrder:Lr.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Qa&&(Qa.languages&&Qa.languages[0]||Qa.userLanguage||Qa.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){Ua.prototype[e]=function(){return this.techGet_(e)}})),ja.forEach((function(e){Ua.prototype["handleTech"+qi(e)+"_"]=function(){return this.trigger(e)}})),Yi.registerComponent("Player",Ua);var Na="plugin",qa="activePlugins_",za={},Ga=function(e){return za.hasOwnProperty(e)},Ha=function(e){return Ga(e)?za[e]:void 0},Wa=function(e,t){e[qa]=e[qa]||{},e[qa][t]=!0},Va=function(e,t,n){var i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},Ya=function(e,t){return t.prototype.name=e,function(){Va(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=D(t,[this].concat(i));return this[e]=function(){return o},Va(this,o.getEventHash()),o}},Ja=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),Fi(this),delete this.trigger,Qi(this,this.constructor.defaultState),Wa(t,this.name),this.dispose=this.dispose.bind(this),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),bi(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[qa][e]=!1,this.player=this.state=null,t[e]=Ya(e,za[e])},e.isBasic=function(t){var n="string"==typeof t?Ha(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(Ga(t))zt.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Ua.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return za[t]=n,t!==Na&&(e.isBasic(n)?Ua.prototype[t]=function(e,t){var n=function(){Va(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return Wa(this,e),Va(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(t,n):Ua.prototype[t]=Ya(t,n)),n},e.deregisterPlugin=function(e){if(e===Na)throw new Error("Cannot de-register base plugin.");Ga(e)&&(delete za[e],delete Ua.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(za)),e.forEach((function(e){var n=Ha(e);n&&((t=t||{})[e]=n)})),t},e.getPluginVersion=function(e){var t=Ha(e);return t&&t.VERSION||""},e}();Ja.getPlugin=Ha,Ja.BASE_PLUGIN_NAME=Na,Ja.registerPlugin(Na,Ja),Ua.prototype.usingPlugin=function(e){return!!this[qa]&&!0===this[qa][e]},Ua.prototype.hasPlugin=function(e){return!!Ga(e)};var Ka=!1,Za=function(e){return 0===e.indexOf("#")?e.slice(1):e};function Xa(e,t,n){var i=Xa.getPlayer(e);if(i)return t&&zt.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var r="string"==typeof e?$n("#"+Za(e)):e;if(!Sn(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||zt.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(r.parentNode&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),Lt("beforesetup").forEach((function(e){var n=e(r,zi(t));Jt(n)&&!Array.isArray(n)?t=zi(t,n):zt.error("please return an object in beforesetup hooks")}));var o=Yi.getComponent("Player");return i=new o(r,t,n),Lt("setup").forEach((function(e){return e(i)})),i}if(Xa.hooks_=jt,Xa.hooks=Lt,Xa.hook=function(e,t){Lt(e,t)},Xa.hookOnce=function(e,t){Lt(e,[].concat(t).map((function(t){return function n(){return Mt(e,n),t.apply(void 0,arguments)}})))},Xa.removeHook=Mt,!0!==m().VIDEOJS_NO_DYNAMIC_STYLE&&Tn()){var $a=$n(".vjs-styles-defaults");if(!$a){$a=si("vjs-styles-defaults");var es=$n("head");es&&es.insertBefore($a,es.firstChild),li($a,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}ri(1,Xa),Xa.VERSION=Rt,Xa.options=Ua.prototype.options_,Xa.getPlayers=function(){return Ua.players},Xa.getPlayer=function(e){var t,n=Ua.players;if("string"==typeof e){var i=Za(e),r=n[i];if(r)return r;t=$n("#"+i)}else t=e;if(Sn(t)){var o=t,a=o.player,s=o.playerId;if(a||n[s])return a||n[s]}},Xa.getAllPlayers=function(){return Object.keys(Ua.players).map((function(e){return Ua.players[e]})).filter(Boolean)},Xa.players=Ua.players,Xa.getComponent=Yi.getComponent,Xa.registerComponent=function(e,t){Lr.isTech(t)&&zt.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Yi.registerComponent.call(Yi,e,t)},Xa.getTech=Lr.getTech,Xa.registerTech=Lr.registerTech,Xa.use=function(e,t){Mr[e]=Mr[e]||[],Mr[e].push(t)},Object.defineProperty(Xa,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Xa.middleware,"TERMINATOR",{value:Fr,writeable:!1,enumerable:!0}),Xa.browser=_n,Xa.TOUCH_ENABLED=gn,Xa.extend=function(e,t){void 0===t&&(t={}),Ka||(zt.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),Ka=!0);var n=function(){e.apply(this,arguments)},i={};for(var r in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),i=t):"function"==typeof t&&(n=t),P(n,e),e&&(n.super_=e),i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n},Xa.mergeOptions=zi,Xa.bind=Si,Xa.registerPlugin=Ja.registerPlugin,Xa.deregisterPlugin=Ja.deregisterPlugin,Xa.plugin=function(e,t){return zt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ja.registerPlugin(e,t)},Xa.getPlugins=Ja.getPlugins,Xa.getPlugin=Ja.getPlugin,Xa.getPluginVersion=Ja.getPluginVersion,Xa.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),Xa.options.languages=zi(Xa.options.languages,((n={})[e]=t,n)),Xa.options.languages[e]},Xa.log=zt,Xa.createLogger=Gt,Xa.createTimeRange=Xa.createTimeRanges=Zi,Xa.formatTime=Ao,Xa.setFormatTime=function(e){uo=e},Xa.resetFormatTime=function(){uo=co},Xa.parseUrl=br,Xa.isCrossOrigin=wr,Xa.EventTarget=Ii,Xa.on=vi,Xa.one=Ci,Xa.off=yi,Xa.trigger=bi,Xa.xhr=I(),Xa.TextTrack=Ir,Xa.AudioTrack=Br,Xa.VideoTrack=xr,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){Xa[e]=function(){return zt.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),ti[e].apply(null,arguments)}})),Xa.computedStyle=Zt,Xa.dom=ti,Xa.url=Tr,Xa.defineLazyProperty=Pa,Xa.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var ts=L,ns=function(e,t,n){return e&&n&&n.responseURL&&t!==n.responseURL?n.responseURL:t},is=function(e){return Xa.log.debug?Xa.log.debug.bind(Xa,"VHS:",e+" >"):function(){}},rs=1/30,os=.1,as=function(e,t){var n,i=[];if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&i.push([e.start(n),e.end(n)]);return Xa.createTimeRanges(i)},ss=function(e,t){return as(e,(function(e,n){return e-os<=t&&n+os>=t}))},ls=function(e,t){return as(e,(function(e){return e-rs>=t}))},cs=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},us=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},ds=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},As=function(e,t){var n=0;if(!e||!e.length)return n;for(var i=0;i<e.length;i++){var r=e.start(i),o=e.end(i);t>o||(n+=t>r&&t<=o?o-t:o-r)}return n},hs=Xa.createTimeRange,ps=function(e,t){if(!t.preload)return t.duration;var n=0;return(t.parts||[]).forEach((function(e){n+=e.duration})),(t.preloadHints||[]).forEach((function(t){"PART"===t.type&&(n+=e.partTargetDuration)})),n},fs=function(e){return(e.segments||[]).reduce((function(e,t,n){return t.parts?t.parts.forEach((function(i,r){e.push({duration:i.duration,segmentIndex:n,partIndex:r,part:i,segment:t})})):e.push({duration:t.duration,segmentIndex:n,partIndex:null,segment:t,part:null}),e}),[])},ms=function(e){var t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},gs=function(e){var t=e.preloadSegment;if(t){var n=t.parts;return(t.preloadHints||[]).reduce((function(e,t){return e+("PART"===t.type?1:0)}),0)+(n&&n.length?n.length:0)}},vs=function(e,t){if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var n=ms(t).length>0;return n&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:n&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},ys=function(e,t,n){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;var i=function(e,t){var n=0,i=t-e.mediaSequence,r=e.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(void 0!==(r=e.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=ps(e,r),void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(e,t);if(i.precise)return i.result;var r=function(e,t){for(var n,i=0,r=t-e.mediaSequence;r<e.segments.length;r++){if(void 0!==(n=e.segments[r]).start)return{result:n.start-i,precise:!0};if(i+=ps(e,n),void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(e,t);return r.precise?r.result:i.result+n},bs=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return m()[1/0]}return ys(e,t,n)},Cs=function(e){var t=e.defaultDuration,n=e.durationList,i=e.startIndex,r=e.endIndex,o=0;if(i>r){var a=[r,i];i=a[0],r=a[1]}if(i<0){for(var s=i;s<Math.min(0,r);s++)o+=t;i=0}for(var l=i;l<r;l++)o+=n[l].duration;return o},_s=function(e,t,n,i){if(!e||!e.segments)return null;if(e.endList)return bs(e);if(null===t)return null;t=t||0;var r=ys(e,e.mediaSequence+e.segments.length,t);return n&&(r-=i="number"==typeof i?i:vs(null,e)),Math.max(0,r)},Es=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},ws=function(e){return e.excludeUntil&&e.excludeUntil===1/0},Ts=function(e){var t=Es(e);return!e.disabled&&!t},Ss=function(e,t){return t.attributes&&t.attributes[e]},ks=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((function(e){return!!Ts(e)&&(e.attributes.BANDWIDTH||0)<n})).length},Is=function(e,t){return!(!e&&!t||!e&&t||e&&!t||e!==t&&(!e.id||!t.id||e.id!==t.id)&&(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)&&(!e.uri||!t.uri||e.uri!==t.uri))},Bs=function(e,t){var n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},i=!1;for(var r in n){for(var o in n[r])if(i=t(n[r][o]))break;if(i)break}return!!i},xs=function(e){if(!e||!e.playlists||!e.playlists.length)return Bs(e,(function(e){return e.playlists&&e.playlists.length||e.uri}));for(var t=function(t){var n=e.playlists[t],i=n.attributes&&n.attributes.CODECS;return i&&i.split(",").every((function(e){return ee(e)}))||Bs(e,(function(e){return Is(n,e)}))?"continue":{v:!1}},n=0;n<e.playlists.length;n++){var i=t(n);if("continue"!==i&&"object"==typeof i)return i.v}return!0},Ds={liveEdgeDelay:vs,duration:bs,seekable:function(e,t,n){var i=t||0,r=_s(e,t,!0,n);return null===r?hs():hs(i,r)},getMediaInfoForTime:function(e){for(var t=e.playlist,n=e.currentTime,i=e.startingSegmentIndex,r=e.startingPartIndex,o=e.startTime,a=e.experimentalExactManifestTimings,s=n-o,l=fs(t),c=0,u=0;u<l.length;u++){var d=l[u];if(i===d.segmentIndex&&("number"!=typeof r||"number"!=typeof d.partIndex||r===d.partIndex)){c=u;break}}if(s<0){if(c>0)for(var A=c-1;A>=0;A--){var h=l[A];if(s+=h.duration,a){if(s<0)continue}else if(s+rs<=0)continue;return{partIndex:h.partIndex,segmentIndex:h.segmentIndex,startTime:o-Cs({defaultDuration:t.targetDuration,durationList:l,startIndex:c,endIndex:A})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:n}}if(c<0){for(var p=c;p<0;p++)if((s-=t.targetDuration)<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:n};c=0}for(var f=c;f<l.length;f++){var m=l[f];if(s-=m.duration,a){if(s>0)continue}else if(s-rs>=0)continue;return{partIndex:m.partIndex,segmentIndex:m.segmentIndex,startTime:o+Cs({defaultDuration:t.targetDuration,durationList:l,startIndex:c,endIndex:f})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:n}},isEnabled:Ts,isDisabled:function(e){return e.disabled},isBlacklisted:Es,isIncompatible:ws,playlistEnd:_s,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:Ss,estimateSegmentRequestTime:function(e,t,n,i){return void 0===i&&(i=0),Ss("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-8*i)/t:NaN},isLowestEnabledRendition:ks,isAudioOnly:xs,playlistMatch:Is,segmentDurationWithParts:ps},Ps=Xa.log,Rs=function(e,t){return e+"-"+t},js=function(e,t,n){return"placeholder-uri-"+e+"-"+t+"-"+n},Ls=function(e,t){e.mediaGroups&&["AUDIO","SUBTITLES"].forEach((function(n){if(e.mediaGroups[n])for(var i in e.mediaGroups[n])for(var r in e.mediaGroups[n][i]){var o=e.mediaGroups[n][i][r];t(o,n,i,r)}}))},Ms=function(e){var t=e.playlist,n=e.uri,i=e.id;t.id=i,t.playlistErrors_=0,n&&(t.uri=n),t.attributes=t.attributes||{}},Os=function(e,t,n){void 0===n&&(n=js),e.uri=t;for(var i=0;i<e.playlists.length;i++)if(!e.playlists[i].uri){var r="placeholder-uri-"+i;e.playlists[i].uri=r}var o=xs(e);Ls(e,(function(t,i,r,a){if(!t.playlists||!t.playlists.length){if(o&&"AUDIO"===i&&!t.uri)for(var s=0;s<e.playlists.length;s++){var l=e.playlists[s];if(l.attributes&&l.attributes.AUDIO&&l.attributes.AUDIO===r)return}t.playlists=[d({},t)]}t.playlists.forEach((function(t,o){var s=n(i,r,a,t),l=Rs(o,s);t.uri?t.resolvedUri=t.resolvedUri||ts(e.uri,t.uri):(t.uri=0===o?s:l,t.resolvedUri=t.uri),t.id=t.id||l,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t}))})),function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];Ms({playlist:n,id:Rs(t,n.uri)}),n.resolvedUri=ts(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||Ps.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(e),function(e){Ls(e,(function(t){t.uri&&(t.resolvedUri=ts(e.uri,t.uri))}))}(e)},Fs=Xa.mergeOptions,Us=Xa.EventTarget,Qs=function(e,t){if(!e)return t;var n=Fs(e,t);if(e.preloadHints&&!t.preloadHints&&delete n.preloadHints,e.parts&&!t.parts)delete n.parts;else if(e.parts&&t.parts)for(var i=0;i<t.parts.length;i++)e.parts&&e.parts[i]&&(n.parts[i]=Fs(e.parts[i],t.parts[i]));return!e.skipped&&t.skipped&&(n.skipped=!1),e.preload&&!t.preload&&(n.preload=!1),n},Ns=function(e,t){!e.resolvedUri&&e.uri&&(e.resolvedUri=ts(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=ts(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=ts(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=ts(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach((function(e){e.resolvedUri||(e.resolvedUri=ts(t,e.uri))})),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach((function(e){e.resolvedUri||(e.resolvedUri=ts(t,e.uri))}))},qs=function(e){var t=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints)for(var i=0;i<n.preloadHints.length;i++)if("MAP"===n.preloadHints[i].type)return t;n.duration=e.targetDuration,n.preload=!0,t.push(n)}return t},zs=function(e,t){return e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment},Gs=function(e,t,n){void 0===n&&(n=zs);var i=Fs(e,{}),r=i.playlists[t.id];if(!r)return null;if(n(r,t))return null;t.segments=qs(t);var o=Fs(r,t);if(o.preloadSegment&&!t.preloadSegment&&delete o.preloadSegment,r.segments){if(t.skip){t.segments=t.segments||[];for(var a=0;a<t.skip.skippedSegments;a++)t.segments.unshift({skipped:!0})}o.segments=function(e,t,n){var i=e.slice(),r=t.slice();n=n||0;for(var o,a=[],s=0;s<r.length;s++){var l=i[s+n],c=r[s];l?(o=l.map||o,a.push(Qs(l,c))):(o&&!c.map&&(c.map=o),a.push(c))}return a}(r.segments,t.segments,t.mediaSequence-r.mediaSequence)}o.segments.forEach((function(e){Ns(e,o.resolvedUri)}));for(var s=0;s<i.playlists.length;s++)i.playlists[s].id===t.id&&(i.playlists[s]=o);return i.playlists[t.id]=o,i.playlists[t.uri]=o,Ls(e,(function(e,n,i,r){if(e.playlists)for(var a=0;a<e.playlists.length;a++)t.id===e.playlists[a].id&&(e.playlists[a]=o)})),i},Hs=function(e,t){var n=e.segments||[],i=n[n.length-1],r=i&&i.parts&&i.parts[i.parts.length-1],o=r&&r.duration||i&&i.duration;return t&&o?1e3*o:500*(e.partTargetDuration||e.targetDuration||10)},Ws=function(e){function t(t,n,i){var r;if(void 0===i&&(i={}),r=e.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");r.logger_=is("PlaylistLoader");var o=i,a=o.withCredentials,s=void 0!==a&&a,l=o.handleManifestRedirects,c=void 0!==l&&l;r.src=t,r.vhs_=n,r.withCredentials=s,r.handleManifestRedirects=c;var u=n.options_;return r.customTagParsers=u&&u.customTagParsers||[],r.customTagMappers=u&&u.customTagMappers||[],r.experimentalLLHLS=u&&u.experimentalLLHLS||!1,Xa.browser.IE_VERSION&&(r.experimentalLLHLS=!1),r.state="HAVE_NOTHING",r.handleMediaupdatetimeout_=r.handleMediaupdatetimeout_.bind(C(r)),r.on("mediaupdatetimeout",r.handleMediaupdatetimeout_),r}w(t,e);var n=t.prototype;return n.handleMediaupdatetimeout_=function(){var e=this;if("HAVE_METADATA"===this.state){var t=this.media(),n=ts(this.master.uri,t.uri);this.experimentalLLHLS&&(n=function(e,t){if(t.endList||!t.serverControl)return e;var n={};if(t.serverControl.canBlockReload){var i=t.preloadSegment,r=t.mediaSequence+t.segments.length;if(i){var o=i.parts||[],a=gs(t)-1;a>-1&&a!==o.length-1&&(n._HLS_part=a),(a>-1||o.length)&&r--}n._HLS_msn=r}if(t.serverControl&&t.serverControl.canSkipUntil&&(n._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){var s=new(m().URL)(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach((function(e){n.hasOwnProperty(e)&&s.searchParams.set(e,n[e])})),e=s.toString()}return e}(n,t)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials},(function(t,n){if(e.request)return t?e.playlistRequestError(e.request,e.media(),"HAVE_METADATA"):void e.haveMetadata({playlistString:e.request.responseText,url:e.media().uri,id:e.media().id})}))}},n.playlistRequestError=function(e,t,n){var i=t.uri,r=t.id;this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[r],status:e.status,message:"HLS playlist request error at URL: "+i+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")},n.parseManifest_=function(e){var t=this,n=e.url;return function(e){var t=e.onwarn,n=e.oninfo,i=e.manifestString,r=e.customTagParsers,o=void 0===r?[]:r,a=e.customTagMappers,s=void 0===a?[]:a,l=e.experimentalLLHLS,c=new Y;t&&c.on("warn",t),n&&c.on("info",n),o.forEach((function(e){return c.addParser(e)})),s.forEach((function(e){return c.addTagMapper(e)})),c.push(i),c.end();var u=c.manifest;if(l||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(e){u.hasOwnProperty(e)&&delete u[e]})),u.segments&&u.segments.forEach((function(e){["parts","preloadHints"].forEach((function(t){e.hasOwnProperty(t)&&delete e[t]}))}))),!u.targetDuration){var d=10;u.segments&&u.segments.length&&(d=u.segments.reduce((function(e,t){return Math.max(e,t.duration)}),0)),t&&t("manifest has no targetDuration defaulting to "+d),u.targetDuration=d}var A=ms(u);if(A.length&&!u.partTargetDuration){var h=A.reduce((function(e,t){return Math.max(e,t.duration)}),0);t&&(t("manifest has no partTargetDuration defaulting to "+h),Ps.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),u.partTargetDuration=h}return u}({onwarn:function(e){var i=e.message;return t.logger_("m3u8-parser warn for "+n+": "+i)},oninfo:function(e){var i=e.message;return t.logger_("m3u8-parser info for "+n+": "+i)},manifestString:e.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},n.haveMetadata=function(e){var t=e.playlistString,n=e.playlistObject,i=e.url,r=e.id;this.request=null,this.state="HAVE_METADATA";var o=n||this.parseManifest_({url:i,manifestString:t});o.lastRequest=Date.now(),Ms({playlist:o,uri:i,id:r});var a=Gs(this.master,o);this.targetDuration=o.partTargetDuration||o.targetDuration,this.pendingMedia_=null,a?(this.master=a,this.media_=this.master.playlists[r]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Hs(this.media(),!!a)),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),m().clearTimeout(this.mediaUpdateTimeout),m().clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e,t){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(m().clearTimeout(this.finalRenditionTimeout),t){var i=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=m().setTimeout(this.media.bind(this,e,!1),i)}else{var r=this.state,o=!this.media_||e.id!==this.media_.id,a=this.master.playlists[e.id];if(a&&a.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(o&&(this.trigger("mediachanging"),"HAVE_MASTER"===r?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(Hs(e,!0)),o){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,i){if(n.request){if(e.lastRequest=Date.now(),e.resolvedUri=ns(n.handleManifestRedirects,e.resolvedUri,i),t)return n.playlistRequestError(n.request,e,r);n.haveMetadata({playlistString:i.responseText,url:e.uri,id:e.id}),"HAVE_MASTER"===r?n.trigger("loadedmetadata"):n.trigger("mediachange")}}))}}},n.pause=function(){this.mediaUpdateTimeout&&(m().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},n.load=function(e){var t=this;this.mediaUpdateTimeout&&(m().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var n=this.media();if(e){var i=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=m().setTimeout((function(){t.mediaUpdateTimeout=null,t.load()}),i)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},n.updateMediaUpdateTimeout_=function(e){var t=this;this.mediaUpdateTimeout&&(m().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=m().setTimeout((function(){t.mediaUpdateTimeout=null,t.trigger("mediaupdatetimeout"),t.updateMediaUpdateTimeout_(e)}),e))},n.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=m().location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){e.setupInitialPlaylist(e.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=ns(e.handleManifestRedirects,e.src,n);var i=e.parseManifest_({manifestString:n.responseText,url:e.src});e.setupInitialPlaylist(i)}}))},n.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},n.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,Os(this.master,this.srcUri()),e.playlists.forEach((function(e){e.segments=qs(e),e.segments.forEach((function(t){Ns(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var t=this.srcUri()||m().location.href;this.master=function(e,t){var n=Rs(0,t),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:m().location.href,resolvedUri:m().location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return i.playlists[n]=i.playlists[0],i.playlists[t]=i.playlists[0],i}(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(Us),Vs=Xa.xhr,Ys=Xa.mergeOptions,Js=function(e,t,n,i){var r="arraybuffer"===e.responseType?e.response:e.responseText;!t&&r&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=r.byteLength||r.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(r||e.responseText)))),i(t,e)},Ks=function(){var e=function e(t,n){t=Ys({timeout:45e3},t);var i=e.beforeRequest||Xa.Vhs.xhr.beforeRequest;if(i&&"function"==typeof i){var r=i(t);r&&(t=r)}var o=(!0===Xa.Vhs.xhr.original?Vs:Xa.Vhs.xhr)(t,(function(e,t){return Js(o,e,t,n)})),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=t.uri,o.requestTime=Date.now(),o};return e.original=!0,e},Zs=function(e){var t,n={};return e.byterange&&(n.Range="bytes="+(t=e.byterange).offset+"-"+("bigint"==typeof t.offset||"bigint"==typeof t.length?m().BigInt(t.offset)+m().BigInt(t.length)-m().BigInt(1):t.offset+t.length-1)),n},Xs=function(e,t){return e.start(t)+"-"+e.end(t)},$s=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},el=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},tl=function(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];le(i)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t},nl=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},il=function(e){return e.resolvedUri},rl=function(e){for(var t=Array.prototype.slice.call(e),n=16,i="",r=0;r<t.length/n;r++)i+=t.slice(r*n,r*n+n).map($s).join("")+" "+t.slice(r*n,r*n+n).map(el).join("")+"\n";return i},ol=Object.freeze({__proto__:null,createTransferableMessage:tl,initSegmentId:nl,segmentKeyId:il,hexDump:rl,tagDump:function(e){var t=e.bytes;return rl(t)},textRanges:function(e){var t,n="";for(t=0;t<e.length;t++)n+=Xs(e,t)+" ";return n}}),al=function e(t){var n=t.programTime,i=t.playlist,r=t.retryCount,o=void 0===r?2:r,a=t.seekTo,s=t.pauseAfterSeek,l=void 0===s||s,c=t.tech,u=t.callback;if(!u)throw new Error("seekToProgramTime: callback must be provided");if(void 0===n||!i||!a)return u({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!c.hasStarted_)return u({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(i))return u({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var d=function(e,t){var n;try{n=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;var i=t.segments[0];if(n<i.dateTimeObject)return null;for(var r=0;r<t.segments.length-1&&(i=t.segments[r],!(n<t.segments[r+1].dateTimeObject));r++);var o,a=t.segments[t.segments.length-1],s=a.dateTimeObject,l=a.videoTimingInfo?(o=a.videoTimingInfo).transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds:a.duration+.25*a.duration;return n>new Date(s.getTime()+1e3*l)?null:(n>s&&(i=a),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:Ds.duration(t,t.mediaSequence+t.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})}(n,i);if(!d)return u({message:n+" was not found in the stream"});var A=d.segment,h=function(e,t){var n,i;try{n=new Date(e),i=new Date(t)}catch(e){}var r=n.getTime();return(i.getTime()-r)/1e3}(A.dateTimeObject,n);if("estimate"===d.type)return 0===o?u({message:n+" is not buffered yet. Try again"}):(a(d.estimatedStart+h),void c.one("seeked",(function(){e({programTime:n,playlist:i,retryCount:o-1,seekTo:a,pauseAfterSeek:l,tech:c,callback:u})})));var p=A.start+h;c.one("seeked",(function(){return u(null,c.currentTime())})),l&&c.pause(),a(p)},sl=function(e,t){if(4===e.readyState)return t()},ll=Xa.EventTarget,cl=Xa.mergeOptions,ul=function(e,t){if(!zs(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(var n=0;n<e.segments.length;n++){var i=e.segments[n],r=t.segments[n];if(i.uri!==r.uri)return!1;if(i.byterange||r.byterange){var o=i.byterange,a=r.byterange;if(o&&!a||!o&&a)return!1;if(o.offset!==a.offset||o.length!==a.length)return!1}}return!0},dl=function(e,t,n,i){return"placeholder-uri-"+e+"-"+t+"-"+(i.attributes.NAME||n)},Al=function(e,t){return(Boolean(!e.map&&!t.map)||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length},hl=function(e,t){var n={};for(var i in e){var r=e[i].sidx;if(r){var o=Pe(r);if(!t[o])break;var a=t[o].sidxInfo;Al(a,r)&&(n[o]=t[o])}}return n},pl=function(e){function t(t,n,i,r){var o;void 0===i&&(i={}),(o=e.call(this)||this).masterPlaylistLoader_=r||C(o),r||(o.isMaster_=!0);var a=i,s=a.withCredentials,l=void 0!==s&&s,c=a.handleManifestRedirects,u=void 0!==c&&c;if(o.vhs_=n,o.withCredentials=l,o.handleManifestRedirects=u,!t)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",(function(){o.refreshXml_()})),o.on("mediaupdatetimeout",(function(){o.refreshMedia_(o.media().id)})),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=is("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=t,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=t,o}w(t,e);var n=t.prototype;return n.requestErrored_=function(e,t,n){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,n&&(this.state=n),this.trigger("error"),!0):void 0)},n.addSidxSegments_=function(e,t,n){var i=this,r=e.sidx&&Pe(e.sidx);if(e.sidx&&r&&!this.masterPlaylistLoader_.sidxMapping_[r]){var o=ns(this.handleManifestRedirects,e.sidx.resolvedUri),a=function(o,a){if(!i.requestErrored_(o,a,t)){var s,l=i.masterPlaylistLoader_.sidxMapping_;try{s=at()(ce(a.response).subarray(8))}catch(e){return void i.requestErrored_(e,a,t)}return l[r]={sidxInfo:e.sidx,sidx:s},ke(e,s,e.sidx.resolvedUri),n(!0)}};this.request=function(e,t,n){var i,r=[],o=!1,a=function(e,t,i,r){return t.abort(),o=!0,n(e,t,i,r)},s=function(e,t){if(!o){if(e)return a(e,t,"",r);var n=t.responseText.substring(r&&r.byteLength||0,t.responseText.length);if(r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter((function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})),t.length<=1)return ce(t[0]);var i=t.reduce((function(e,t,n){return e+(t.byteLength||t.length)}),0),r=new Uint8Array(i),o=0;return t.forEach((function(e){e=ce(e),r.set(e,o),o+=e.byteLength})),r}(r,he(n,!0)),i=i||lt(r),r.length<10||i&&r.length<i+2)return sl(t,(function(){return a(e,t,"",r)}));var s=It(r);return"ts"===s&&r.length<188||!s&&r.length<376?sl(t,(function(){return a(e,t,"",r)})):a(null,t,s,r)}},l={uri:e,beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",(function(t){return t.total,t.loaded,Js(e,null,{statusCode:e.status},s)}))}},c=t(l,(function(e,t){return Js(c,e,t,s)}));return c}(o,this.vhs_.xhr,(function(t,n,r,s){if(t)return a(t,n);if(!r||"mp4"!==r)return a({status:n.status,message:"Unsupported "+(r||"unknown")+" container type for sidx segment at URL: "+o,response:"",playlist:e,internal:!0,blacklistDuration:1/0,code:2},n);var l=e.sidx.byterange,c=l.offset,u=l.length;if(s.length>=u+c)return a(t,{response:s.subarray(c,c+u),status:n.status,uri:n.uri});i.request=i.vhs_.xhr({uri:o,responseType:"arraybuffer",headers:Zs({byterange:e.sidx.byterange})},a)}))}else this.mediaRequest_=m().setTimeout((function(){return n(!1)}),0)},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},m().clearTimeout(this.minimumUpdatePeriodTimeout_),m().clearTimeout(this.mediaRequest_),m().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.masterPlaylistLoader_.master.playlists[e]}var i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));i&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,(function(i){t.haveMetadata({startingState:n,playlist:e})})))},n.haveMetadata=function(e){var t=e.startingState,n=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")},n.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),m().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(m().clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},n.load=function(e){var t=this;m().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var n=this.media();if(e){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=m().setTimeout((function(){return t.load()}),i)}else this.started?n&&!n.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},n.start=function(){var e=this;this.started=!0,this.isMaster_?this.requestMaster_((function(t,n){e.haveMaster_(),e.hasPendingRequest()||e.media_||e.media(e.masterPlaylistLoader_.master.playlists[0])})):this.mediaRequest_=m().setTimeout((function(){return e.haveMaster_()}),0)},n.requestMaster_=function(e){var t=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(function(n,i){if(!t.requestErrored_(n,i)){var r=i.responseText!==t.masterPlaylistLoader_.masterXml_;return t.masterPlaylistLoader_.masterXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?t.masterLoaded_=Date.parse(i.responseHeaders.date):t.masterLoaded_=Date.now(),t.masterPlaylistLoader_.srcUrl=ns(t.handleManifestRedirects,t.masterPlaylistLoader_.srcUrl,i),r?(t.handleMaster_(),void t.syncClientServerClock_((function(){return e(i,r)}))):e(i,r)}"HAVE_NOTHING"===t.state&&(t.started=!1)}))},n.syncClientServerClock_=function(e){var t,n=this,i=(t=this.masterPlaylistLoader_.masterXml_,function(e){var t=Je(e,"UTCTiming")[0];if(!t)return null;var n=$e(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return n}(rt(t)));return null===i?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===i.method?(this.masterPlaylistLoader_.clientOffset_=i.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:ts(this.masterPlaylistLoader_.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},(function(t,r){if(n.request){if(t)return n.masterPlaylistLoader_.clientOffset_=n.masterLoaded_-Date.now(),e();var o;o="HEAD"===i.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):n.masterLoaded_:Date.parse(r.responseText),n.masterPlaylistLoader_.clientOffset_=o-Date.now(),e()}})))},n.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},n.handleMaster_=function(){this.mediaRequest_=null;var e,t,n,i=this.masterPlaylistLoader_.master,r=(n=function(e,t){void 0===t&&(t={});var n=function(e,t){void 0===t&&(t={});var n=t,i=n.manifestUri,r=void 0===i?"":i,o=n.NOW,a=void 0===o?Date.now():o,s=n.clientOffset,l=void 0===s?0:s,c=Je(e,"Period");if(!c.length)throw new Error("INVALID_NUMBER_OF_PERIOD");var u=Je(e,"Location"),d=$e(e),A=tt([r],Je(e,"BaseURL"));d.type=d.type||"static",d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=a,d.clientOffset=l,u.length&&(d.locations=u.map(Ke));var h=[];return c.forEach((function(e,t){var n=$e(e),i=h[t-1];n.start=function(e){var t=e.attributes,n=e.priorPeriodAttributes,i=e.mpdType;return"number"==typeof t.start?t.start:n&&"number"==typeof n.start&&"number"==typeof n.duration?n.start+n.duration:n||"static"!==i?null:0}({attributes:n,priorPeriodAttributes:i?i.attributes:null,mpdType:d.type}),h.push({node:e,attributes:n})})),{locations:d.locations,representationInfo:ye(h.map(it(d,A)))}}(rt(e),t),i=n.representationInfo.map(Ye);return Ne({dashPlaylists:i,locations:n.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest})}((e={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:i}).masterXml,{manifestUri:t=e.srcUrl,clientOffset:e.clientOffset,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest}),Os(n,t,dl),n);i&&(r=function(e,t,n){for(var i=!0,r=cl(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts}),o=0;o<t.playlists.length;o++){var a=t.playlists[o];if(a.sidx){var s=Pe(a.sidx);n&&n[s]&&n[s].sidx&&ke(a,n[s].sidx,a.sidx.resolvedUri)}var l=Gs(r,a,ul);l&&(r=l,i=!1)}return Ls(t,(function(e,t,n,o){if(e.playlists&&e.playlists.length){var a=e.playlists[0].id,s=Gs(r,e.playlists[0],ul);s&&(o in(r=s).mediaGroups[t][n]||(r.mediaGroups[t][n][o]=e),r.mediaGroups[t][n][o].playlists[0]=r.playlists[a],i=!1)}})),function(e,t){Ls(e,(function(n,i,r,o){o in t.mediaGroups[i][r]||delete e.mediaGroups[i][r][o]}))}(r,t),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(i=!1),i?null:r}(i,r,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=r||i;var o=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return o&&o!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=o),(!i||r&&r.minimumUpdatePeriod!==i.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(r)},n.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(m().clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var t=e.master&&e.master.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_("found invalid minimumUpdatePeriod of "+t+", not setting a timeout"):this.createMUPTimeout_(t)},n.createMUPTimeout_=function(e){var t=this.masterPlaylistLoader_;t.minimumUpdatePeriodTimeout_=m().setTimeout((function(){t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)}),e)},n.refreshXml_=function(){var e=this;this.requestMaster_((function(t,n){var i,r,o;n&&(e.media_&&(e.media_=e.masterPlaylistLoader_.master.playlists[e.media_.id]),e.masterPlaylistLoader_.sidxMapping_=(i=e.masterPlaylistLoader_.master,r=e.masterPlaylistLoader_.sidxMapping_,o=hl(i.playlists,r),Ls(i,(function(e,t,n,i){if(e.playlists&&e.playlists.length){var a=e.playlists;o=cl(o,hl(a,r))}})),o),e.addSidxSegments_(e.media(),e.state,(function(t){e.refreshMedia_(e.media().id)})))}))},n.refreshMedia_=function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var n=this.masterPlaylistLoader_.master.playlists,i=!this.media_||this.media_!==n[e];i?this.media_=n[e]:this.trigger("playlistunchanged"),this.mediaUpdateTimeout||function e(){t.media().endList||(t.mediaUpdateTimeout=m().setTimeout((function(){t.trigger("mediaupdatetimeout"),e()}),Hs(t.media(),Boolean(i))))}(),this.trigger("loadedplaylist")},t}(ll),fl={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},ml=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},gl=function(e){return function(){var t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(n){var t=new BlobBuilder;return t.append(e),URL.createObjectURL(t.getBlob())}}(e),n=ml(new Worker(t));n.objURL=t;var i=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(t),i.call(this)},n}},vl=function(e){return"var browserWorkerPolyFill = "+ml.toString()+";\nbrowserWorkerPolyFill(self);\n"+e},yl=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},bl=vl(yl((function(){var e=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,r,o;if(n=e[t])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,n,i,r,o,a,s,l,c,u,d,A,h,p,f,m,g,v,y,b,C,_,E,w,T,S,k,I,B,x,D,P,R,j,L,M,O,F,U,Q,N=e,q=Math.pow(2,32),z={getUint64:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(t=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:n.getUint32(0)*q+n.getUint32(4)},MAX_UINT32:q},G=z.MAX_UINT32;!function(){var e;if(_={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in _)_.hasOwnProperty(e)&&(_[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);E=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),T=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),w=new Uint8Array([0,0,0,1]),S=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),k=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),I={video:S,audio:k},D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),x=new Uint8Array([0,0,0,0,0,0,0,0]),P=new Uint8Array([0,0,0,0,0,0,0,0]),R=P,j=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),L=P,B=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(e){var t,n,i=[],r=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)r+=i[t].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<i.length;t++)n.set(i[t],r),r+=i[t].byteLength;return n},n=function(){return t(_.dinf,t(_.dref,D))},i=function(e){return t(_.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},f=function(e){return t(_.hdlr,I[e])},p=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(_.mdhd,n)},h=function(e){return t(_.mdia,p(e),f(e.type),a(e))},o=function(e){return t(_.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},a=function(e){return t(_.minf,"video"===e.type?t(_.vmhd,B):t(_.smhd,x),n(),g(e))},s=function(e,n){for(var i=[],r=n.length;r--;)i[r]=y(n[r]);return t.apply(null,[_.moof,o(e)].concat(i))},l=function(e){for(var n=e.length,i=[];n--;)i[n]=d(e[n]);return t.apply(null,[_.moov,u(4294967295)].concat(i).concat(c(e)))},c=function(e){for(var n=e.length,i=[];n--;)i[n]=b(e[n]);return t.apply(null,[_.mvex].concat(i))},u=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(_.mvhd,n)},m=function(e){var n,i,r=e.samples||[],o=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,o[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(_.sdtp,o)},g=function(e){return t(_.stbl,v(e),t(_.stts,L),t(_.stsc,R),t(_.stsz,j),t(_.stco,P))},v=function(e){return t(_.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?M(e):O(e))},M=function(e){var n,i,r=e.sps||[],o=e.pps||[],a=[],s=[];for(n=0;n<r.length;n++)a.push((65280&r[n].byteLength)>>>8),a.push(255&r[n].byteLength),a=a.concat(Array.prototype.slice.call(r[n]));for(n=0;n<o.length;n++)s.push((65280&o[n].byteLength)>>>8),s.push(255&o[n].byteLength),s=s.concat(Array.prototype.slice.call(o[n]));if(i=[_.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(_.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length],a,[o.length],s))),t(_.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],c=e.sarRatio[1];i.push(t(_.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&c)>>24,(16711680&c)>>16,(65280&c)>>8,255&c])))}return t.apply(null,i)},O=function(e){return t(_.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),i(e))},A=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(_.tkhd,n)},y=function(e){var n,i,r,o,a,s;return n=t(_.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(e.baseMediaDecodeTime/G),s=Math.floor(e.baseMediaDecodeTime%G),i=t(_.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===e.type?(r=C(e,92),t(_.traf,n,i,r)):(o=m(e),r=C(e,o.length+92),t(_.traf,n,i,r,o))},d=function(e){return e.duration=e.duration||4294967295,t(_.trak,A(e),h(e))},b=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(_.trex,n)},Q=function(e,t){var n=0,i=0,r=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|i|r|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},U=function(e,n){var i,r,o,a,s,l;for(n+=20+16*(a=e.samples||[]).length,o=Q(a,n),(r=new Uint8Array(o.length+16*a.length)).set(o),i=o.length,l=0;l<a.length;l++)s=a[l],r[i++]=(4278190080&s.duration)>>>24,r[i++]=(16711680&s.duration)>>>16,r[i++]=(65280&s.duration)>>>8,r[i++]=255&s.duration,r[i++]=(4278190080&s.size)>>>24,r[i++]=(16711680&s.size)>>>16,r[i++]=(65280&s.size)>>>8,r[i++]=255&s.size,r[i++]=s.flags.isLeading<<2|s.flags.dependsOn,r[i++]=s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,r[i++]=61440&s.flags.degradationPriority,r[i++]=15&s.flags.degradationPriority,r[i++]=(4278190080&s.compositionTimeOffset)>>>24,r[i++]=(16711680&s.compositionTimeOffset)>>>16,r[i++]=(65280&s.compositionTimeOffset)>>>8,r[i++]=255&s.compositionTimeOffset;return t(_.trun,r)},F=function(e,n){var i,r,o,a,s,l;for(n+=20+8*(a=e.samples||[]).length,o=Q(a,n),(i=new Uint8Array(o.length+8*a.length)).set(o),r=o.length,l=0;l<a.length;l++)s=a[l],i[r++]=(4278190080&s.duration)>>>24,i[r++]=(16711680&s.duration)>>>16,i[r++]=(65280&s.duration)>>>8,i[r++]=255&s.duration,i[r++]=(4278190080&s.size)>>>24,i[r++]=(16711680&s.size)>>>16,i[r++]=(65280&s.size)>>>8,i[r++]=255&s.size;return t(_.trun,i)},C=function(e,t){return"audio"===e.type?F(e,t):U(e,t)},r=function(){return t(_.ftyp,E,w,E,T)};var H,W,V,Y,J,K,Z,X,$=function(e){return t(_.mdat,e)},ee=s,te=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},ne=[33,16,5,32,164,27],ie=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],re=function(e){for(var t=[];e--;)t.push(0);return t},oe=9e4;K=function(e,t){return W(J(e,t))},Z=function(e,t){return V(Y(e),t)},X=function(e,t,n){return Y(n?e:e-t)};var ae=oe,se=W=function(e){return e*oe},le=(V=function(e,t){return e*t},Y=function(e){return e/oe}),ce=(J=function(e,t){return e/t},K),ue=Z,de=X,Ae=function(e,t,n,i){var r,o,a,s,l,c=0,u=0,d=0;if(t.length&&(r=ce(e.baseMediaDecodeTime,e.samplerate),o=Math.ceil(ae/(e.samplerate/1024)),n&&i&&(c=r-Math.max(n,i),d=(u=Math.floor(c/o))*o),!(u<1||d>45e3))){for((a=function(){if(!H){var e={96e3:[ne,[227,64],re(154),[56]],88200:[ne,[231],re(170),[56]],64e3:[ne,[248,192],re(240),[56]],48e3:[ne,[255,192],re(268),[55,148,128],re(54),[112]],44100:[ne,[255,192],re(268),[55,163,128],re(84),[112]],32e3:[ne,[255,192],re(268),[55,234],re(226),[112]],24e3:[ne,[255,192],re(268),[55,255,128],re(268),[111,112],re(126),[224]],16e3:[ne,[255,192],re(268),[55,255,128],re(268),[111,255],re(269),[223,108],re(195),[1,192]],12e3:[ie,re(268),[3,127,248],re(268),[6,255,240],re(268),[13,255,224],re(268),[27,253,128],re(259),[56]],11025:[ie,re(268),[3,127,248],re(268),[6,255,240],re(268),[13,255,224],re(268),[27,255,192],re(268),[55,175,128],re(108),[112]],8e3:[ie,re(268),[3,121,16],re(47),[7]]};t=e,H=Object.keys(t).reduce((function(e,n){return e[n]=new Uint8Array(t[n].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return H}()[e.samplerate])||(a=t[0].data),s=0;s<u;s++)l=t[0],t.splice(0,0,{data:a,dts:l.dts-o,pts:l.pts-o});return e.baseMediaDecodeTime-=Math.floor(ue(d,e.samplerate)),d}},he=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},pe=function(e,t){var n,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/9e4,n=Math.floor(n)),n},fe=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},me=function e(t){t=t||{},e.prototype.init.call(this),this.parse708captions_="boolean"!=typeof t.parse708captions||t.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Se(0,0),new Se(0,1),new Se(1,0),new Se(1,1)],this.parse708captions_&&(this.cc708Stream_=new Ce({captionServices:t.captionServices})),this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};(me.prototype=new N).push=function(e){var t,n,i;if("sei_rbsp"===e.nalUnitType&&(t=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}n.payload=void 0}t+=r,i=0,r=0}return n}(e.escapedRBSP)).payload&&4===t.payloadType&&(n=function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)}(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=function(e,t){var n,i,r,o,a=[];if(!(64&t[0]))return a;for(i=31&t[0],n=0;n<i;n++)o={type:3&t[2+(r=3*n)],pts:e},4&t[r+2]&&(o.ccData=t[r+3]<<8|t[r+4],a.push(o));return a}(e.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},me.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},me.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},me.prototype.flush=function(){return this.flushStream("flush")},me.prototype.partialFlush=function(){return this.flushStream("partialFlush")},me.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},me.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},me.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},me.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},me.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},me.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var ge={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},ve=function(e){return 32<=e&&e<=127||160<=e&&e<=255},ye=function(e){this.windowNum=e,this.reset()};ye.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},ye.prototype.getText=function(){return this.rows.join("\n")},ye.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},ye.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},ye.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},ye.prototype.addText=function(e){this.rows[this.rowIdx]+=e},ye.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var be=function(e,t,n){this.serviceNum=e,this.text="",this.currentWindow=new ye(-1),this.windows=[],this.stream=n,"string"==typeof t&&this.createTextDecoder(t)};be.prototype.init=function(e,t){this.startPts=e;for(var n=0;n<8;n++)this.windows[n]=new ye(n),"function"==typeof t&&(this.windows[n].beforeRowOverflow=t)},be.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},be.prototype.createTextDecoder=function(e){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(t){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+t})}};var Ce=function e(t){t=t||{},e.prototype.init.call(this);var n,i=this,r=t.captionServices||{},o={};Object.keys(r).forEach((function(e){n=r[e],/^SERVICE/.test(e)&&(o[e]=n.encoding)})),this.serviceEncodings=o,this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(i.new708Packet(),i.add708Bytes(e)):(null===i.current708Packet&&i.new708Packet(),i.add708Bytes(e))}};Ce.prototype=new N,Ce.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ce.prototype.add708Bytes=function(e){var t=e.ccData,n=t>>>8,i=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(n),this.current708Packet.data.push(i)},Ce.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,n=null,i=null,r=0,o=t[r++];for(e.seq=o>>6,e.sizeCode=63&o;r<t.length;r++)i=31&(o=t[r++]),7==(n=o>>5)&&i>0&&(n=o=t[r++]),this.pushServiceBlock(n,r,i),i>0&&(r+=i-1)},Ce.prototype.pushServiceBlock=function(e,t,n){var i,r=t,o=this.current708Packet.data,a=this.services[e];for(a||(a=this.initService(e,r));r<t+n&&r<o.length;r++)i=o[r],ve(i)?r=this.handleText(r,a):24===i?r=this.multiByteCharacter(r,a):16===i?r=this.extendedCommands(r,a):128<=i&&i<=135?r=this.setCurrentWindow(r,a):152<=i&&i<=159?r=this.defineWindow(r,a):136===i?r=this.clearWindows(r,a):140===i?r=this.deleteWindows(r,a):137===i?r=this.displayWindows(r,a):138===i?r=this.hideWindows(r,a):139===i?r=this.toggleWindows(r,a):151===i?r=this.setWindowAttributes(r,a):144===i?r=this.setPenAttributes(r,a):145===i?r=this.setPenColor(r,a):146===i?r=this.setPenLocation(r,a):143===i?a=this.reset(r,a):8===i?a.currentWindow.backspace():12===i?a.currentWindow.clearText():13===i?a.currentWindow.pendingNewLine=!0:14===i?a.currentWindow.clearText():141===i&&r++},Ce.prototype.extendedCommands=function(e,t){var n=this.current708Packet.data[++e];return ve(n)&&(e=this.handleText(e,t,{isExtended:!0})),e},Ce.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},Ce.prototype.initService=function(e,t){var n,i,r=this;return(n="SERVICE"+e)in this.serviceEncodings&&(i=this.serviceEncodings[n]),this.services[e]=new be(e,i,r),this.services[e].init(this.getPts(t),(function(t){r.flushDisplayed(t,r.services[e])})),this.services[e]},Ce.prototype.handleText=function(e,t,n){var i,r,o,a,s=n&&n.isExtended,l=n&&n.isMultiByte,c=this.current708Packet.data,u=s?4096:0,d=c[e],A=c[e+1],h=t.currentWindow;return t.textDecoder_&&!s?(l?(r=[d,A],e++):r=[d],i=t.textDecoder_.decode(new Uint8Array(r))):(a=ge[o=u|d]||o,i=4096&o&&o===a?"":String.fromCharCode(a)),h.pendingNewLine&&!h.isEmpty()&&h.newLine(this.getPts(e)),h.pendingNewLine=!1,h.addText(i),e},Ce.prototype.multiByteCharacter=function(e,t){var n=this.current708Packet.data,i=n[e+1],r=n[e+2];return ve(i)&&ve(r)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},Ce.prototype.setCurrentWindow=function(e,t){var n=7&this.current708Packet.data[e];return t.setCurrentWindow(n),e},Ce.prototype.defineWindow=function(e,t){var n=this.current708Packet.data,i=n[e],r=7&i;t.setCurrentWindow(r);var o=t.currentWindow;return i=n[++e],o.visible=(32&i)>>5,o.rowLock=(16&i)>>4,o.columnLock=(8&i)>>3,o.priority=7&i,i=n[++e],o.relativePositioning=(128&i)>>7,o.anchorVertical=127&i,i=n[++e],o.anchorHorizontal=i,i=n[++e],o.anchorPoint=(240&i)>>4,o.rowCount=15&i,i=n[++e],o.columnCount=63&i,i=n[++e],o.windowStyle=(56&i)>>3,o.penStyle=7&i,o.virtualRowCount=o.rowCount+1,e},Ce.prototype.setWindowAttributes=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.winAttr;return i=n[++e],r.fillOpacity=(192&i)>>6,r.fillRed=(48&i)>>4,r.fillGreen=(12&i)>>2,r.fillBlue=3&i,i=n[++e],r.borderType=(192&i)>>6,r.borderRed=(48&i)>>4,r.borderGreen=(12&i)>>2,r.borderBlue=3&i,i=n[++e],r.borderType+=(128&i)>>5,r.wordWrap=(64&i)>>6,r.printDirection=(48&i)>>4,r.scrollDirection=(12&i)>>2,r.justify=3&i,i=n[++e],r.effectSpeed=(240&i)>>4,r.effectDirection=(12&i)>>2,r.displayEffect=3&i,e},Ce.prototype.flushDisplayed=function(e,t){for(var n=[],i=0;i<8;i++)t.windows[i].visible&&!t.windows[i].isEmpty()&&n.push(t.windows[i].getText());t.endPts=e,t.text=n.join("\n\n"),this.pushCaption(t),t.startPts=e},Ce.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},Ce.prototype.displayWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=1);return e},Ce.prototype.hideWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=0);return e},Ce.prototype.toggleWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible^=1);return e},Ce.prototype.clearWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].clearText();return e},Ce.prototype.deleteWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].reset();return e},Ce.prototype.setPenAttributes=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penAttr;return i=n[++e],r.textTag=(240&i)>>4,r.offset=(12&i)>>2,r.penSize=3&i,i=n[++e],r.italics=(128&i)>>7,r.underline=(64&i)>>6,r.edgeType=(56&i)>>3,r.fontStyle=7&i,e},Ce.prototype.setPenColor=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penColor;return i=n[++e],r.fgOpacity=(192&i)>>6,r.fgRed=(48&i)>>4,r.fgGreen=(12&i)>>2,r.fgBlue=3&i,i=n[++e],r.bgOpacity=(192&i)>>6,r.bgRed=(48&i)>>4,r.bgGreen=(12&i)>>2,r.bgBlue=3&i,i=n[++e],r.edgeRed=(48&i)>>4,r.edgeGreen=(12&i)>>2,r.edgeBlue=3&i,e},Ce.prototype.setPenLocation=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,i=n[++e],r.row=15&i,i=n[++e],r.column=63&i,e},Ce.prototype.reset=function(e,t){var n=this.getPts(e);return this.flushDisplayed(n,t),this.initService(t.serviceNum,e)};var _e={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ee=function(e){return null===e?"":(e=_e[e]||e,String.fromCharCode(e))},we=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Te=function(){for(var e=[],t=15;t--;)e.push("");return e},Se=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,r,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),i=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Te();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Te();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Te()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(i,r))o=Ee((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=Ee((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var a=we.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),o=Ee(i),o+=Ee(r),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};Se.prototype=new N,Se.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e,t){try{return e.trim()}catch(e){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+t+"."}),""}}),this).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Se.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Te(),this.nonDisplayed_=Te(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Se.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Se.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Se.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Se.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Se.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Se.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Se.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Se.prototype.isNormalChar=function(e){return e>=32&&e<=127},Se.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Te(),this.displayed_=Te()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Se.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},Se.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},Se.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},Se.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},Se.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Se.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};var ke={CaptionStream:me,Cea608Stream:Se,Cea708Stream:Ce},Ie={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Be="shared",xe=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},De=function e(t){var n,i;e.prototype.init.call(this),this.type_=t||Be,this.push=function(e){this.type_!==Be&&e.type!==this.type_||(void 0===i&&(i=e.dts),e.dts=xe(e.dts,i),e.pts=xe(e.pts,i),n=e.dts,this.trigger("data",e))},this.flush=function(){i=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};De.prototype=new N;var Pe,Re=De,je=xe,Le=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},Me=function(e,t,n){return decodeURIComponent(Le(e,t,n))},Oe=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Fe={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Me(e.data,1,t),e.value=Me(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Me(e.data,1,t),e.url=Me(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,n;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(n=e.data,unescape(Le(n,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};Pe=function(e){var t,n={descriptor:e&&e.descriptor},i=0,r=[],o=0;if(Pe.prototype.init.call(this),this.dispatchType=Ie.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,a,s,l;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(o=0,r.length=0),0===r.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(r.push(e),o+=e.data.byteLength,1===r.length&&(i=Oe(e.data.subarray(6,10)),i+=10),!(o<i)){for(t={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<i;)t.data.set(r[0].data.subarray(0,i-l),l),l+=r[0].data.byteLength,o-=r[0].data.byteLength,r.shift();n=10,64&t.data[5]&&(n+=4,n+=Oe(t.data.subarray(10,14)),i-=Oe(t.data.subarray(16,20)));do{if((a=Oe(t.data.subarray(n+4,n+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});if((s={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+a+10)}).key=s.id,Fe[s.id]&&(Fe[s.id](s),"com.apple.streaming.transportStreamTimestamp"===s.owner)){var c=s.data,u=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;u*=4,u+=3&c[7],s.timeStamp=u,void 0===t.pts&&void 0===t.dts&&(t.pts=s.timeStamp,t.dts=s.timeStamp),this.trigger("timestamp",s)}t.frames.push(s),n+=10,n+=a}while(n<i);this.trigger("data",t)}}},Pe.prototype=new N;var Ue,Qe,Ne,qe=Pe,ze=Re,Ge=188;(Ue=function(){var e=new Uint8Array(Ge),t=0;Ue.prototype.init.call(this),this.push=function(n){var i,r=0,o=Ge;for(t?((i=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),i.set(n,t),t=0):i=n;o<i.byteLength;)71!==i[r]||71!==i[o]?(r++,o++):(this.trigger("data",i.subarray(r,o)),r+=Ge,o+=Ge);r<i.byteLength&&(e.set(i.subarray(r),0),t=i.byteLength-r)},this.flush=function(){t===Ge&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new N,Qe=function(){var e,t,n,i;Qe.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,i){var r=0;i.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===i.type?t(e.subarray(r),i):n(e.subarray(r),i)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],i.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=i.pmtPid},n=function(e,t){var n,r;if(1&e[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,r=12+((15&e[10])<<8|e[11]);r<n;){var o=e[r],a=(31&e[r+1])<<8|e[r+2];o===Ie.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=a:o===Ie.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=a:o===Ie.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][a]=o),r+=5+((15&e[r+3])<<8|e[r+4])}t.programMapTable=i.programMapTable}},this.push=function(t){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(i+=t[i]+1),0===n.pid)n.type="pat",e(t.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,i,n]):this.processPes_(t,i,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=Ie.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Ie.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},Qe.prototype=new N,Qe.STREAM_TYPES={h264:27,adts:15},Ne=function(){var e,t=this,n=!1,i={data:[],size:0},r={data:[],size:0},o={data:[],size:0},a=function(e,n,i){var r,o,a=new Uint8Array(e.size),s={type:n},l=0,c=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,l=0;l<e.data.length;l++)o=e.data[l],a.set(o.data,c),c+=o.data.byteLength;var u,d,A,h;d=s,h=(u=a)[0]<<16|u[1]<<8|u[2],d.data=new Uint8Array,1===h&&(d.packetLength=6+(u[4]<<8|u[5]),d.dataAlignmentIndicator=0!=(4&u[6]),192&(A=u[7])&&(d.pts=(14&u[9])<<27|(255&u[10])<<20|(254&u[11])<<12|(255&u[12])<<5|(254&u[13])>>>3,d.pts*=4,d.pts+=(6&u[13])>>>1,d.dts=d.pts,64&A&&(d.dts=(14&u[14])<<27|(255&u[15])<<20|(254&u[16])<<12|(255&u[17])<<5|(254&u[18])>>>3,d.dts*=4,d.dts+=(6&u[18])>>>1)),d.data=u.subarray(9+u[8])),r="video"===n||s.packetLength<=e.size,(i||r)&&(e.size=0,e.data.length=0),r&&t.trigger("data",s)}};Ne.prototype.init.call(this),this.push=function(s){({pat:function(){},pes:function(){var e,t;switch(s.streamType){case Ie.H264_STREAM_TYPE:e=i,t="video";break;case Ie.ADTS_STREAM_TYPE:e=r,t="audio";break;case Ie.METADATA_STREAM_TYPE:e=o,t="timed-metadata";break;default:return}s.payloadUnitStartIndicator&&a(e,t,!0),e.data.push(s),e.size+=s.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]};null!==(e=s.programMapTable).video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),n=!0,t.trigger("data",i)}})[s.type]()},this.reset=function(){i.size=0,i.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){a(i,"video"),a(r,"audio"),a(o,"timed-metadata")},this.flush=function(){if(!n&&e){var i={type:"metadata",tracks:[]};null!==e.video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",i)}n=!1,this.flushStreams_(),this.trigger("done")}},Ne.prototype=new N;var He={PAT_PID:0,MP2T_PACKET_LENGTH:Ge,TransportPacketStream:Ue,TransportParseStream:Qe,ElementaryStream:Ne,TimestampRolloverStream:ze,CaptionStream:ke.CaptionStream,Cea608Stream:ke.Cea608Stream,Cea708Stream:ke.Cea708Stream,MetadataStream:qe};for(var We in Ie)Ie.hasOwnProperty(We)&&(He[We]=Ie[We]);var Ve,Ye=He,Je=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Ve=function(e){var t,n=0;Ve.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:"adts skiping bytes "+e+" to "+t+" in frame "+n+" outside syncword"})},this.push=function(i){var r,o,a,s,l,c=0;if(e||(n=0),"audio"===i.type){var u;for(t&&t.length?(a=t,(t=new Uint8Array(a.byteLength+i.data.byteLength)).set(a),t.set(i.data,a.byteLength)):t=i.data;c+7<t.length;)if(255===t[c]&&240==(246&t[c+1])){if("number"==typeof u&&(this.skipWarn_(u,c),u=null),o=2*(1&~t[c+1]),r=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,l=9e4*(s=1024*(1+(3&t[c+6])))/Je[(60&t[c+2])>>>2],t.byteLength-c<r)break;this.trigger("data",{pts:i.pts+n*l,dts:i.dts+n*l,sampleCount:s,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:Je[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+o,c+r)}),n++,c+=r}else"number"!=typeof u&&(u=c),c++;"number"==typeof u&&(this.skipWarn_(u,c),u=null),t=t.subarray(c)}},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},Ve.prototype=new N;var Ke,Ze,Xe,$e=Ve,et=function(e){var t=e.byteLength,n=0,i=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+i},this.loadWord=function(){var r=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(r,r+a)),n=new DataView(o.buffer).getUint32(0),i=8*a,t-=a},this.skipBits=function(e){var r;i>e?(n<<=e,i-=e):(e-=i,e-=8*(r=Math.floor(e/8)),t-=r,this.loadWord(),n<<=e,i-=e)},this.readBits=function(e){var r=Math.min(i,e),o=n>>>32-r;return(i-=r)>0?n<<=r:t>0&&this.loadWord(),(r=e-r)>0?o<<r|this.readBits(r):o},this.skipLeadingZeros=function(){var e;for(e=0;e<i;++e)if(0!=(n&2147483648>>>e))return n<<=e,i-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};Ze=function(){var e,t,n=0;Ze.prototype.init.call(this),this.push=function(i){var r;t?((r=new Uint8Array(t.byteLength+i.data.byteLength)).set(t),r.set(i.data,t.byteLength),t=r):t=i.data;for(var o=t.byteLength;n<o-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<o;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<o);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Ze.prototype=new N,Xe={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Ke=function(){var e,t,n,i,r,o,a,s=new Ze;Ke.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,i=e.dts,s.push(e))},s.on("data",(function(a){var s={trackId:t,pts:n,dts:i,data:a,nalUnitTypeCode:31&a[0]};switch(s.nalUnitTypeCode){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=r(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=r(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",s)})),s.on("done",(function(){e.trigger("done")})),s.on("partialdone",(function(){e.trigger("partialdone")})),s.on("reset",(function(){e.trigger("reset")})),s.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()},a=function(e,t){var n,i=8,r=8;for(n=0;n<e;n++)0!==r&&(r=(i+t.readExpGolomb()+256)%256),i=0===r?i:r},r=function(e){for(var t,n,i=e.byteLength,r=[],o=1;o<i-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=e[a];return n},o=function(e){var t,n,i,r,o,s,l,c,u,d,A,h,p=0,f=0,m=0,g=0,v=[1,1];if(n=(t=new et(e)).readUnsignedByte(),r=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),Xe[n]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(A=3!==o?8:12,h=0;h<A;h++)t.readBoolean()&&a(h<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),h=0;h<l;h++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),c=t.readUnsignedExpGolomb(),u=t.readUnsignedExpGolomb(),0===(d=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(p=t.readUnsignedExpGolomb(),f=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:v=[1,1];break;case 2:v=[12,11];break;case 3:v=[10,11];break;case 4:v=[16,11];break;case 5:v=[40,33];break;case 6:v=[24,11];break;case 7:v=[20,11];break;case 8:v=[32,11];break;case 9:v=[80,33];break;case 10:v=[18,11];break;case 11:v=[15,11];break;case 12:v=[64,33];break;case 13:v=[160,99];break;case 14:v=[4,3];break;case 15:v=[3,2];break;case 16:v=[2,1];break;case 255:v=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}v&&(v[0],v[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:16*(c+1)-2*p-2*f,height:(2-d)*(u+1)*16-2*m-2*g,sarRatio:v}}},Ke.prototype=new N;var tt,nt={H264Stream:Ke,NalByteStream:Ze},it=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],rt=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},ot=function e(t,n){return t.length-n<10||t[n]!=="I".charCodeAt(0)||t[n+1]!=="D".charCodeAt(0)||t[n+2]!=="3".charCodeAt(0)?n:e(t,n+=rt(t,n))},at=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},st={isLikelyAacData:function(e){var t=ot(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},parseId3TagSize:rt,parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return it[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,i;t=10,64&e[5]&&(t+=4,t+=at(e.subarray(10,14)));do{if((n=at(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){i=e.subarray(t+10,t+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){var o=unescape(function(e,t,n){var i,r="";for(i=0;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r}(i,0,r));if("com.apple.streaming.transportStreamTimestamp"===o){var a=i.subarray(r+1),s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return(s*=4)+(3&a[7])}break}}t+=10,t+=n}while(t<e.byteLength);return null}};(tt=function(){var e=new Uint8Array,t=0;tt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var i,r,o,a,s=0,l=0;for(e.length?(a=e.length,(e=new Uint8Array(n.byteLength+a)).set(e.subarray(0,a)),e.set(n,a)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255!=(255&e[l])||240!=(240&e[l+1]))l++;else{if(e.length-l<7)break;if(l+(s=st.parseAdtsSize(e,l))>e.length)break;o={type:"audio",data:e.subarray(l,l+s),pts:t,dts:t},this.trigger("data",o),l+=s}else{if(e.length-l<10)break;if(l+(s=st.parseId3TagSize(e,l))>e.length)break;r={type:"timed-metadata",data:e.subarray(l,l+s)},this.trigger("data",r),l+=s}i=e.length-l,e=i>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new N;var lt,ct,ut,dt,At=tt,ht=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],pt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],ft=nt.H264Stream,mt=st.isLikelyAacData,gt=function(e,t){t.stream=e,this.trigger("log",t)},vt=function(e,t){for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];"headOfPipeline"!==r&&t[r].on&&t[r].on("log",gt.bind(e,r))}},yt=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},bt=function(e,t,n,i,r,o){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(i-t),pts:e+(r-n)},prependedContentDuration:o,baseMediaDecodeTime:e}};ct=function(e,t){var n,i=[],r=0,o=0,a=1/0;n=(t=t||{}).firstSequenceNumber||0,ct.prototype.init.call(this),this.push=function(t){fe(e,t),e&&ht.forEach((function(n){e[n]=t[n]})),i.push(t)},this.setEarliestDts=function(e){r=e},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var s,l,c,u,d,A,h;0!==i.length?(s=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))}(i,e,r),e.baseMediaDecodeTime=pe(e,t.keepOriginalTimestamps),h=Ae(e,s,o,a),e.samples=function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i}(s),c=$(function(e){var t,n,i=0,r=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],r.set(n.data,i),i+=n.data.byteLength;return r}(s)),i=[],l=ee(n,[e]),u=new Uint8Array(l.byteLength+c.byteLength),n++,u.set(l),u.set(c,l.byteLength),he(e),d=Math.ceil(9216e4/e.samplerate),s.length&&(A=s.length*d,this.trigger("segmentTimingInfo",bt(ce(e.baseMediaDecodeTime,e.samplerate),s[0].dts,s[0].pts,s[0].dts+A,s[0].pts+A,h||0)),this.trigger("timingInfo",{start:s[0].pts,end:s[0].pts+A})),this.trigger("data",{track:e,boxes:u}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){he(e),i=[],this.trigger("reset")}},ct.prototype=new N,lt=function(e,t){var n,i,r,o=[],a=[];n=(t=t||{}).firstSequenceNumber||0,lt.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){fe(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],pt.forEach((function(t){e[t]=i[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var i,r,s,l,c,u,d,A,h=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=function(e){var t,n,i=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,i.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i),r}(o),(s=function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r}(i))[0][0].keyFrame||((r=this.getGopForFusion_(o[0],e))?(h=r.duration,s.unshift(r),s.byteLength+=r.byteLength,s.nalCount+=r.nalCount,s.pts=r.pts,s.dts=r.dts,s.duration+=r.duration):s=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e}(s)),a.length){var p;if(!(p=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");he(e),s=p}fe(e,s),e.samples=function(e,t){var n,i,r,o,a,s=t||0,l=[];for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i++)a=o[i],s+=(r=te(a,s)).size,l.push(r);return l}(s),c=$(function(e){var t,n,i,r,o,a,s=0,l=e.byteLength,c=e.nalCount,u=new Uint8Array(l+4*c),d=new DataView(u.buffer);for(t=0;t<e.length;t++)for(r=e[t],n=0;n<r.length;n++)for(o=r[n],i=0;i<o.length;i++)a=o[i],d.setUint32(s,a.data.byteLength),s+=4,u.set(a.data,s),s+=a.data.byteLength;return u}(s)),e.baseMediaDecodeTime=pe(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),d=s[0],A=s[s.length-1],this.trigger("segmentTimingInfo",bt(e.baseMediaDecodeTime,d.dts,d.pts,A.dts+A.duration,A.pts+A.duration,h)),this.trigger("timingInfo",{start:s[0].pts,end:s[s.length-1].pts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=ee(n,[e]),u=new Uint8Array(l.byteLength+c.byteLength),n++,u.set(l),u.set(c,l.byteLength),this.trigger("data",{track:e,boxes:u}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){he(e),i=void 0,r=void 0},this.getGopForFusion_=function(t){var n,i,r,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)r=(o=this.gopCache_[a]).gop,e.pps&&yt(e.pps[0],o.pps[0])&&e.sps&&yt(e.sps[0],o.sps[0])&&(r.dts<e.timelineStartInfo.dts||(n=t.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||s>n)&&(i=o,s=n));return i?i.gop:null},this.alignGopsAtStart_=function(e){var t,n,i,r,o,s,l,c;for(o=e.byteLength,s=e.nalCount,l=e.duration,t=n=0;t<a.length&&n<e.length&&(i=a[t],r=e[n],i.pts!==r.pts);)r.pts>i.pts?t++:(n++,o-=r.byteLength,s-=r.nalCount,l-=r.duration);return 0===n?e:n===e.length?null:((c=e.slice(n)).byteLength=o,c.duration=l,c.nalCount=s,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(e){var t,n,i,r,o,s,l;for(t=a.length-1,n=e.length-1,o=null,s=!1;t>=0&&n>=0;){if(i=a[t],r=e[n],i.pts===r.pts){s=!0;break}i.pts>r.pts?t--:(t===a.length-1&&(o=n),n--)}if(!s&&null===o)return null;if(0===(l=s?n:o))return e;var c=e.slice(l),u=c.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return c.byteLength=u.byteLength,c.duration=u.duration,c.nalCount=u.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(e){a=e}},lt.prototype=new N,dt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,dt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},dt.prototype=new N,dt.prototype.flush=function(e){var t,n,i,o,a=0,s={captions:[],captionStreams:{},metadata:[],info:{}},c=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(c=this.videoTrack.timelineStartInfo.pts,pt.forEach((function(e){s.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(c=this.audioTrack.timelineStartInfo.pts,ht.forEach((function(e){s.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,i=function(e){var t,n=r(),i=l(e);return(t=new Uint8Array(n.byteLength+i.byteLength)).set(n),t.set(i,n.byteLength),t}(this.pendingTracks),s.initSegment=new Uint8Array(i.byteLength),s.initSegment.set(i),s.data=new Uint8Array(this.pendingBytes),o=0;o<this.pendingBoxes.length;o++)s.data.set(this.pendingBoxes[o],a),a+=this.pendingBoxes[o].byteLength;for(o=0;o<this.pendingCaptions.length;o++)(t=this.pendingCaptions[o]).startTime=de(t.startPts,c,this.keepOriginalTimestamps),t.endTime=de(t.endPts,c,this.keepOriginalTimestamps),s.captionStreams[t.stream]=!0,s.captions.push(t);for(o=0;o<this.pendingMetadata.length;o++)(n=this.pendingMetadata[o]).cueTime=de(n.pts,c,this.keepOriginalTimestamps),s.metadata.push(n);for(s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),o=0;o<s.captions.length;o++)t=s.captions[o],this.trigger("caption",t);for(o=0;o<s.metadata.length;o++)n=s.metadata[o],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},dt.prototype.setRemux=function(e){this.remuxTracks=e},ut=function(e){var t,n,i=this,r=!0;ut.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new Ye.MetadataStream,r.aacStream=new At,r.audioTimestampRolloverStream=new Ye.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new Ye.TimestampRolloverStream("timed-metadata"),r.adtsStream=new $e,r.coalesceStream=new dt(e,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(e){r.aacStream.setTimestamp(e.timeStamp)})),r.aacStream.on("data",(function(o){"timed-metadata"!==o.type&&"audio"!==o.type||r.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ct(n,e),r.audioSegmentStream.on("log",i.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t}))})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),vt(this,r)},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new Ye.MetadataStream,r.packetStream=new Ye.TransportPacketStream,r.parseStream=new Ye.TransportParseStream,r.elementaryStream=new Ye.ElementaryStream,r.timestampRolloverStream=new Ye.TimestampRolloverStream,r.adtsStream=new $e,r.h264Stream=new ft,r.captionStream=new Ye.CaptionStream(e),r.coalesceStream=new dt(e,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)t||"video"!==o.tracks[a].type?n||"audio"!==o.tracks[a].type||((n=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(t=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;t&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new lt(t,e),r.videoSegmentStream.on("log",i.getLogTrigger_("videoSegmentStream")),r.videoSegmentStream.on("timelineStartInfo",(function(t){n&&!e.keepOriginalTimestamps&&(n.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts-i.baseMediaDecodeTime))})),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),r.videoSegmentStream.on("timingInfo",i.trigger.bind(i,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ct(n,e),r.audioSegmentStream.on("log",i.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.audioSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"audioSegmentTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(e){e.dispatchType=r.metadataStream.dispatchType,i.trigger("id3Frame",e)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),vt(this,r)},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,he(n),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,he(t),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(n){n.stream=e,t.trigger("log",n)}},this.push=function(e){if(r){var t=mt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},ut.prototype=new N;var Ct,_t,Et,wt={Transmuxer:ut,VideoSegmentStream:lt,AudioSegmentStream:ct,AUDIO_PROPERTIES:ht,VIDEO_PROPERTIES:pt,generateSegmentTimingInfo:bt},Tt=function(e){return e>>>0},St=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),(t+=String.fromCharCode(e[2]))+String.fromCharCode(e[3])},kt=Tt,It=function e(t,n){var i,r,o,a,s,l=[];if(!n.length)return null;for(i=0;i<t.byteLength;)r=kt(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]),o=St(t.subarray(i+4,i+8)),a=r>1?i+r:t.byteLength,o===n[0]&&(1===n.length?l.push(t.subarray(i+8,a)):(s=e(t.subarray(i+8,a),n.slice(1))).length&&(l=l.concat(s))),i=a;return l},Bt=Tt,xt=z.getUint64,Dt=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},Pt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},Rt="undefined"!=typeof window?window:void 0!==Pt?Pt:"undefined"!=typeof self?self:{},jt=function(e){for(var t,n,i=e.byteLength,r=[],o=1;o<i-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=e[a];return n},Lt=ke.CaptionStream,Mt=function(e,t){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(n<r.size)return r;n-=r.size}return null},Ot=function(e,t){var n=It(e,["moof","traf"]),i=It(e,["mdat"]),r={},o=[];return i.forEach((function(e,t){var i=n[t];o.push({mdat:e,traf:i})})),o.forEach((function(e){var n,i,o=e.mdat,a=e.traf,s=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],o=2&i.flags[2],a=8&i.flags[2],s=16&i.flags[2],l=32&i.flags[2],c=65536&i.flags[0],u=131072&i.flags[0];return t=8,r&&(t+=4,i.baseDataOffset=n.getUint32(12),t+=4),o&&(i.sampleDescriptionIndex=n.getUint32(t),t+=4),a&&(i.defaultSampleDuration=n.getUint32(t),t+=4),s&&(i.defaultSampleSize=n.getUint32(t),t+=4),l&&(i.defaultSampleFlags=n.getUint32(t)),c&&(i.durationIsEmpty=!0),!r&&u&&(i.baseDataOffsetIsMoof=!0),i}(It(a,["tfhd"])[0]),l=s.trackId,c=It(a,["tfdt"]),u=c.length>0?function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=xt(e.subarray(4)):t.baseMediaDecodeTime=Bt(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t}(c[0]).baseMediaDecodeTime:0,d=It(a,["trun"]);t===l&&d.length>0&&(n=function(e,t,n){var i=t,r=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,a=n.trackId,s=[];return e.forEach((function(e){var t=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],s=2&n.flags[1],l=4&n.flags[1],c=8&n.flags[1],u=i.getUint32(4),d=8;for(r&&(n.dataOffset=i.getInt32(d),d+=4),o&&u&&(t={flags:Dt(e.subarray(d,d+4))},d+=4,a&&(t.duration=i.getUint32(d),d+=4),s&&(t.size=i.getUint32(d),d+=4),c&&(1===n.version?t.compositionTimeOffset=i.getInt32(d):t.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(t),u--);u--;)t={},a&&(t.duration=i.getUint32(d),d+=4),s&&(t.size=i.getUint32(d),d+=4),l&&(t.flags=Dt(e.subarray(d,d+4)),d+=4),c&&(1===n.version?t.compositionTimeOffset=i.getInt32(d):t.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(t);return n}(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=o),e.trackId=a,e.dts=i,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof i?(e.pts=i+Rt.BigInt(e.compositionTimeOffset),i+=Rt.BigInt(e.duration)):(e.pts=i+e.compositionTimeOffset,i+=e.duration)})),s=s.concat(t)})),s}(d,u,s),i=function(e,t,n){var i,r,o,a,s=new DataView(e.buffer,e.byteOffset,e.byteLength),l={logs:[],seiNals:[]};for(r=0;r+4<e.length;r+=o)if(o=s.getUint32(r),r+=4,!(o<=0))switch(31&e[r]){case 6:var c=e.subarray(r+1,r+1+o),u=Mt(r,t);if(i={nalUnitType:"sei_rbsp",size:o,data:c,escapedRBSP:jt(c),trackId:n},u)i.pts=u.pts,i.dts=u.dts,a=u;else{if(!a){l.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+r+" for trackId "+n+". See mux.js#223."});break}i.pts=a.pts,i.dts=a.dts}l.seiNals.push(i)}return l}(o,n,l),r[l]||(r[l]={seiNals:[],logs:[]}),r[l].seiNals=r[l].seiNals.concat(i.seiNals),r[l].logs=r[l].logs.concat(i.logs))})),r},Ft=function(){var e,t,n,i,r,o,a=!1;this.isInitialized=function(){return a},this.init=function(t){e=new Lt,a=!0,o=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/i,e.endTime=e.endPts/i,r.captions.push(e),r.captionStreams[e.stream]=!0})),e.on("log",(function(e){r.logs.push(e)}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||n===e[0]&&i===t[n])},this.parse=function(e,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))n=o[0],i=a[n];else if(null===n||!i)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,o,a)}return s=function(e,t,n){if(null===t)return null;var i=Ot(e,t)[t]||{};return{seiNals:i.seiNals,logs:i.logs,timescale:n}}(e,n,i),s&&s.logs&&(r.logs=r.logs.concat(s.logs)),null!==s&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),r):r.logs.length?{logs:r.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={},r.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Ut=Tt,Qt=function(e){return("00"+e.toString(16)).slice(-2)},Nt=z.getUint64;Ct=function(e,t){var n=It(t,["moof","traf"]).reduce((function(t,n){var i,r,o=It(n,["tfhd"])[0],a=Ut(o[4]<<24|o[5]<<16|o[6]<<8|o[7]),s=e[a]||9e4,l=It(n,["tfdt"])[0],c=new DataView(l.buffer,l.byteOffset,l.byteLength);return"bigint"==typeof(i=1===l[0]?Nt(l.subarray(4,12)):c.getUint32(4))?r=i/Rt.BigInt(s):"number"!=typeof i||isNaN(i)||(r=i/s),r<Number.MAX_SAFE_INTEGER&&(r=Number(r)),r<t&&(t=r),t}),1/0);return"bigint"==typeof n||isFinite(n)?n:0},Et=function(e){var t=0===e[0]?12:20;return Ut(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},_t=function(e){var t=It(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,i,r={},o=It(e,["tkhd"])[0];o&&(i=(t=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),r.id=0===i?t.getUint32(12):t.getUint32(20));var a=It(e,["mdia","hdlr"])[0];if(a){var s=St(a.subarray(8,12));r.type="vide"===s?"video":"soun"===s?"audio":s}var l=It(e,["mdia","minf","stbl","stsd"])[0];if(l){var c=l.subarray(8);r.codec=St(c.subarray(4,8));var u,d=It(c,[r.codec])[0];d&&(/^[asm]vc[1-9]$/i.test(r.codec)?(u=d.subarray(78),"avcC"===St(u.subarray(4,8))&&u.length>11?(r.codec+=".",r.codec+=Qt(u[9]),r.codec+=Qt(u[10]),r.codec+=Qt(u[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)?(u=d.subarray(28),"esds"===St(u.subarray(4,8))&&u.length>20&&0!==u[19]?(r.codec+="."+Qt(u[19]),r.codec+="."+Qt(u[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"):r.codec=r.codec.toLowerCase())}var A=It(e,["mdia","mdhd"])[0];A&&(r.timescale=Et(A)),n.push(r)})),n};var qt=Ct,zt=_t,Gt=function(e){var t=31&e[1];return(t<<=8)|e[2]},Ht=function(e){return!!(64&e[1])},Wt=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},Vt=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Yt={parseType:function(e,t){var n=Gt(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=Ht(e),n=4+Wt(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=Ht(e),i=4+Wt(e);if(n&&(i+=e[i]+1),1&e[i+5]){var r;r=3+((15&e[i+1])<<8|e[i+2])-4;for(var o=12+((15&e[i+10])<<8|e[i+11]);o<r;){var a=i+o;t[(31&e[a+1])<<8|e[a+2]]=e[a],o+=5+((15&e[a+3])<<8|e[a+4])}return t}},parsePayloadUnitStartIndicator:Ht,parsePesType:function(e,t){switch(t[Gt(e)]){case Ie.H264_STREAM_TYPE:return"video";case Ie.ADTS_STREAM_TYPE:return"audio";case Ie.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!Ht(e))return null;var t=4+Wt(e);if(t>=e.byteLength)return null;var n,i=null;return 192&(n=e[t+7])&&((i={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,i.pts*=4,i.pts+=(6&e[t+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,i.dts*=4,i.dts+=(6&e[t+18])>>>1)),i},videoPacketContainsKeyFrame:function(e){for(var t=4+Wt(e),n=e.subarray(t),i=0,r=0,o=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===Vt(31&n[r+3])&&(o=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Vt(31&n[r+3])&&(o=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===Vt(31&n[r+3])&&(o=!0),o}},Jt=je,Kt={};Kt.ts=Yt,Kt.aac=st;var Zt=ae,Xt=188,$t=71,en=function(e,t,n){for(var i,r,o,a,s=0,l=Xt,c=!1;l<=e.byteLength;)if(e[s]!==$t||e[l]!==$t&&l!==e.byteLength)s++,l++;else{if(i=e.subarray(s,l),"pes"===Kt.ts.parseType(i,t.pid)&&(r=Kt.ts.parsePesType(i,t.table),o=Kt.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(a=Kt.ts.parsePesTime(i))&&(a.type="audio",n.audio.push(a),c=!0)),c)break;s+=Xt,l+=Xt}for(s=(l=e.byteLength)-Xt,c=!1;s>=0;)if(e[s]!==$t||e[l]!==$t&&l!==e.byteLength)s--,l--;else{if(i=e.subarray(s,l),"pes"===Kt.ts.parseType(i,t.pid)&&(r=Kt.ts.parsePesType(i,t.table),o=Kt.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(a=Kt.ts.parsePesTime(i))&&(a.type="audio",n.audio.push(a),c=!0)),c)break;s-=Xt,l-=Xt}},tn=function(e,t,n){for(var i,r,o,a,s,l,c,u=0,d=Xt,A=!1,h={data:[],size:0};d<e.byteLength;)if(e[u]!==$t||e[d]!==$t)u++,d++;else{if(i=e.subarray(u,d),"pes"===Kt.ts.parseType(i,t.pid)&&(r=Kt.ts.parsePesType(i,t.table),o=Kt.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(o&&!A&&(a=Kt.ts.parsePesTime(i))&&(a.type="video",n.video.push(a),A=!0),!n.firstKeyFrame))){if(o&&0!==h.size){for(s=new Uint8Array(h.size),l=0;h.data.length;)c=h.data.shift(),s.set(c,l),l+=c.byteLength;if(Kt.ts.videoPacketContainsKeyFrame(s)){var p=Kt.ts.parsePesTime(s);p?(n.firstKeyFrame=p,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}h.size=0}h.data.push(i),h.size+=i.byteLength}if(A&&n.firstKeyFrame)break;u+=Xt,d+=Xt}for(u=(d=e.byteLength)-Xt,A=!1;u>=0;)if(e[u]!==$t||e[d]!==$t)u--,d--;else{if(i=e.subarray(u,d),"pes"===Kt.ts.parseType(i,t.pid)&&(r=Kt.ts.parsePesType(i,t.table),o=Kt.ts.parsePayloadUnitStartIndicator(i),"video"===r&&o&&(a=Kt.ts.parsePesTime(i))&&(a.type="video",n.video.push(a),A=!0)),A)break;u-=Xt,d-=Xt}},nn=function(e,t){var n;return n=Kt.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,i=0,r=null,o=null,a=0,s=0;e.length-s>=3;){switch(Kt.aac.parseType(e,s)){case"timed-metadata":if(e.length-s<10){n=!0;break}if((a=Kt.aac.parseId3TagSize(e,s))>e.length){n=!0;break}null===o&&(t=e.subarray(s,s+a),o=Kt.aac.parseAacTimestamp(t)),s+=a;break;case"audio":if(e.length-s<7){n=!0;break}if((a=Kt.aac.parseAdtsSize(e,s))>e.length){n=!0;break}null===r&&(t=e.subarray(s,s+a),r=Kt.aac.parseSampleRate(t)),i++,s+=a;break;default:s++}if(n)return null}if(null===r||null===o)return null;var l=Zt/r;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*i*l,pts:o+1024*i*l}]}}(e):function(e){var t={pid:null,table:null},n={};for(var i in function(e,t){for(var n,i=0,r=Xt;r<e.byteLength;)if(e[i]!==$t||e[r]!==$t)i++,r++;else{switch(n=e.subarray(i,r),Kt.ts.parseType(n,t.pid)){case"pat":t.pid=Kt.ts.parsePat(n);break;case"pmt":var o=Kt.ts.parsePmt(n);t.table=t.table||{},Object.keys(o).forEach((function(e){t.table[e]=o[e]}))}i+=Xt,r+=Xt}}(e,t),t.table)if(t.table.hasOwnProperty(i))switch(t.table[i]){case Ie.H264_STREAM_TYPE:n.video=[],tn(e,t,n),0===n.video.length&&delete n.video;break;case Ie.ADTS_STREAM_TYPE:n.audio=[],en(e,t,n),0===n.audio.length&&delete n.audio}return n}(e),n&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;(void 0===n||isNaN(n))&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=Jt(e.dts,n),e.pts=Jt(e.pts,n),e.dtsTime=e.dts/Zt,e.ptsTime=e.pts/Zt}))}if(e.video&&e.video.length){var i=t;if((void 0===i||isNaN(i))&&(i=e.video[0].dts),e.video.forEach((function(e){e.dts=Jt(e.dts,i),e.pts=Jt(e.pts,i),e.dtsTime=e.dts/Zt,e.ptsTime=e.pts/Zt})),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=Jt(r.dts,i),r.pts=Jt(r.pts,i),r.dtsTime=r.dts/Zt,r.ptsTime=r.pts/Zt}}}(n,t),n):null},rn=function(){function e(e,t){this.options=t||{},this.self=e,this.init()}var t=e.prototype;return t.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new wt.Transmuxer(this.options),function(e,t){t.on("data",(function(t){var n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var i=t.data;t.data=i.buffer,e.postMessage({action:"data",segment:t,byteOffset:i.byteOffset,byteLength:i.byteLength},[t.data])})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){var n={start:{decode:le(t.start.dts),presentation:le(t.start.pts)},end:{decode:le(t.end.dts),presentation:le(t.end.pts)},baseMediaDecodeTime:le(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=le(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),t.on("audioSegmentTimingInfo",(function(t){var n={start:{decode:le(t.start.dts),presentation:le(t.start.pts)},end:{decode:le(t.end.dts),presentation:le(t.end.pts)},baseMediaDecodeTime:le(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=le(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:n})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:le(t.start),end:le(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:le(t.start),end:le(t.end)}})})),t.on("log",(function(t){e.postMessage({action:"log",log:t})}))}(this.self,this.transmuxer)},t.pushMp4Captions=function(e){this.captionParser||(this.captionParser=new Ft,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],logs:n&&n.logs||[],data:t.buffer},[t.buffer])},t.probeMp4StartTime=function(e){var t=e.timescales,n=e.data,i=qt(t,n);this.self.postMessage({action:"probeMp4StartTime",startTime:i,data:n},[n.buffer])},t.probeMp4Tracks=function(e){var t=e.data,n=zt(t);this.self.postMessage({action:"probeMp4Tracks",tracks:n,data:t},[t.buffer])},t.probeTs=function(e){var t=e.data,n=e.baseStartTime,i="number"!=typeof n||isNaN(n)?void 0:n*ae,r=nn(t,i),o=null;r&&((o={hasVideo:r.video&&2===r.video.length||!1,hasAudio:r.audio&&2===r.audio.length||!1}).hasVideo&&(o.videoStart=r.video[0].ptsTime),o.hasAudio&&(o.audioStart=r.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:o,data:t},[t.buffer])},t.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},t.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},t.push=function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)},t.reset=function(){this.transmuxer.reset()},t.setTimestampOffset=function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(se(t)))},t.setAudioAppendStart=function(e){this.transmuxer.setAudioAppendStart(Math.ceil(se(e.appendStart)))},t.setRemux=function(e){this.transmuxer.setRemux(e.remux)},t.flush=function(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},t.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},t.alignGopsWith=function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},e}();self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new rn(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new rn(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}))),Cl=gl(bl),_l=function(e){var t=e.transmuxer,n=e.bytes,i=e.audioAppendStart,r=e.gopsToAlignWith,o=e.remux,a=e.onData,s=e.onTrackInfo,l=e.onAudioTimingInfo,c=e.onVideoTimingInfo,u=e.onVideoSegmentTimingInfo,d=e.onAudioSegmentTimingInfo,A=e.onId3,h=e.onCaptions,p=e.onDone,f=e.onEndedTimeline,m=e.onTransmuxerLog,g=e.isEndOfTimeline,v={buffer:[]},y=g;if(t.onmessage=function(n){t.currentTransmux===e&&("data"===n.data.action&&function(e,t,n){var i=e.data.segment,r=i.type,o=i.initSegment,a=i.captions,s=i.captionStreams,l=i.metadata,c=i.videoFrameDtsTime,u=i.videoFramePtsTime;t.buffer.push({captions:a,captionStreams:s,metadata:l});var d=e.data.segment.boxes||{data:e.data.segment.data},A={type:r,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(o.data,o.byteOffset,o.byteLength)};void 0!==c&&(A.videoFrameDtsTime=c),void 0!==u&&(A.videoFramePtsTime=u),n(A)}(n,v,a),"trackinfo"===n.data.action&&s(n.data.trackInfo),"gopInfo"===n.data.action&&function(e,t){t.gopInfo=e.data.gopInfo}(n,v),"audioTimingInfo"===n.data.action&&l(n.data.audioTimingInfo),"videoTimingInfo"===n.data.action&&c(n.data.videoTimingInfo),"videoSegmentTimingInfo"===n.data.action&&u(n.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===n.data.action&&d(n.data.audioSegmentTimingInfo),"id3Frame"===n.data.action&&A([n.data.id3Frame],n.data.id3Frame.dispatchType),"caption"===n.data.action&&h(n.data.caption),"endedtimeline"===n.data.action&&(y=!1,f()),"log"===n.data.action&&m(n.data.log),"transmuxed"===n.data.type&&(y||(t.onmessage=null,function(e){var t=e.transmuxedData,n=e.callback;t.buffer=[],n(t)}({transmuxedData:v,callback:p}),El(t))))},i&&t.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==o&&t.postMessage({action:"setRemux",remux:o}),n.byteLength){var b=n instanceof ArrayBuffer?n:n.buffer,C=n instanceof ArrayBuffer?0:n.byteOffset;t.postMessage({action:"push",data:b,byteOffset:C,byteLength:n.byteLength},[b])}g&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},El=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():_l(e.currentTransmux))},wl=function(e,t){e.postMessage({action:t}),El(e)},Tl=function(e){!function(e,t){if(!t.currentTransmux)return t.currentTransmux=e,void wl(t,e);t.transmuxQueue.push(wl.bind(null,t,e))}("reset",e)},Sl=function(e){var t=e.transmuxer,n=e.endAction||e.action,i=e.callback,r=d({},e,{endAction:null,transmuxer:null,callback:null});if(t.addEventListener("message",(function r(o){o.data.action===n&&(t.removeEventListener("message",r),o.data.data&&(o.data.data=new Uint8Array(o.data.data,e.byteOffset||0,e.byteLength||o.data.data.byteLength),e.data&&(e.data=o.data.data)),i(o.data))})),e.data){var o=e.data instanceof ArrayBuffer;r.byteOffset=o?0:e.data.byteOffset,r.byteLength=e.data.byteLength;var a=[o?e.data:e.data.buffer];t.postMessage(r,a)}else t.postMessage(r)},kl=-101,Il=-102,Bl=function(e){e.forEach((function(e){e.abort()}))},xl=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:kl,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Il,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:2,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:2,xhr:t}:null},Dl=function(e,t,n){return function(i,r){var o=r.response,a=xl(i,r);if(a)return n(a,e);if(16!==o.byteLength)return n({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:2,xhr:r},e);for(var s=new DataView(o),l=new Uint32Array([s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12)]),c=0;c<t.length;c++)t[c].bytes=l;return n(null,e)}},Pl=function(e,t){var n=It(e.map.bytes);if("mp4"!==n){var i=e.map.resolvedUri||e.map.uri;return t({internal:!0,message:"Found unsupported "+(n||"unknown")+" container for initialization segment at URL: "+i,code:2})}Sl({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(n){var i=n.tracks,r=n.data;return e.map.bytes=r,i.forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"==typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),t(null)}})},Rl=function(e){var t=e.segment,n=e.bytes,i=e.trackInfoFn,r=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,u=e.endedTimelineFn,d=e.dataFn,A=e.doneFn,h=e.onTransmuxerLog,p=t.map&&t.map.tracks||{},f=Boolean(p.audio&&p.video),m=r.bind(null,t,"audio","start"),g=r.bind(null,t,"audio","end"),v=r.bind(null,t,"video","start"),y=r.bind(null,t,"video","end");Sl({action:"probeTs",transmuxer:t.transmuxer,data:n,baseStartTime:t.baseStartTime,callback:function(e){t.bytes=n=e.data;var r=e.result;r&&(i(t,{hasAudio:r.hasAudio,hasVideo:r.hasVideo,isMuxed:f}),i=null,r.hasAudio&&!f&&m(r.audioStart),r.hasVideo&&v(r.videoStart),m=null,v=null),function(e){if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void _l(e);e.transmuxer.transmuxQueue.push(e)}({bytes:n,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:f,onData:function(e){e.type="combined"===e.type?"video":e.type,d(t,e)},onTrackInfo:function(e){i&&(f&&(e.isMuxed=!0),i(t,e))},onAudioTimingInfo:function(e){m&&void 0!==e.start&&(m(e.start),m=null),g&&void 0!==e.end&&g(e.end)},onVideoTimingInfo:function(e){v&&void 0!==e.start&&(v(e.start),v=null),y&&void 0!==e.end&&y(e.end)},onVideoSegmentTimingInfo:function(e){o(e)},onAudioSegmentTimingInfo:function(e){a(e)},onId3:function(e,n){s(t,e,n)},onCaptions:function(e){l(t,[e])},isEndOfTimeline:c,onEndedTimeline:function(){u()},onTransmuxerLog:h,onDone:function(e){A&&(e.type="combined"===e.type?"video":e.type,A(null,t,e))}})}})},jl=function(e){var t=e.segment,n=e.bytes,i=e.trackInfoFn,r=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,u=e.endedTimelineFn,d=e.dataFn,A=e.doneFn,h=e.onTransmuxerLog,p=new Uint8Array(n);if(function(e){return dt(e,["moof"]).length>0}(p)){t.isFmp4=!0;var f=t.map.tracks,m={isFmp4:!0,hasVideo:!!f.video,hasAudio:!!f.audio};f.audio&&f.audio.codec&&"enca"!==f.audio.codec&&(m.audioCodec=f.audio.codec),f.video&&f.video.codec&&"encv"!==f.video.codec&&(m.videoCodec=f.video.codec),f.video&&f.audio&&(m.isMuxed=!0),i(t,m);var g=function(e){d(t,{data:p,type:m.hasAudio&&!m.isMuxed?"audio":"video"}),e&&e.length&&l(t,e),A(null,t,{})};Sl({action:"probeMp4StartTime",timescales:t.map.timescales,data:p,transmuxer:t.transmuxer,callback:function(e){var i=e.data,o=e.startTime;n=i.buffer,t.bytes=p=i,m.hasAudio&&!m.isMuxed&&r(t,"audio","start",o),m.hasVideo&&r(t,"video","start",o),f.video&&i.byteLength&&t.transmuxer?Sl({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:p,timescales:t.map.timescales,trackIds:[f.video.id],callback:function(e){n=e.data.buffer,t.bytes=p=e.data,e.logs.forEach((function(e){h(Xa.mergeOptions(e,{stream:"mp4CaptionParser"}))})),g(e.captions)}}):g()}})}else if(t.transmuxer){if(void 0===t.container&&(t.container=It(p)),"ts"!==t.container&&"aac"!==t.container)return i(t,{hasAudio:!1,hasVideo:!1}),void A(null,t,{});Rl({segment:t,bytes:n,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:d,doneFn:A,onTransmuxerLog:h})}else A(null,t,{})},Ll=function(e,t){var n,i=e.id,r=e.key,o=e.encryptedBytes,a=e.decryptionWorker;a.addEventListener("message",(function e(n){if(n.data.source===i){a.removeEventListener("message",e);var r=n.data.decrypted;t(new Uint8Array(r.bytes,r.byteOffset,r.byteLength))}})),n=r.bytes.slice?r.bytes.slice():new Uint32Array(Array.prototype.slice.call(r.bytes)),a.postMessage(tl({source:i,encrypted:o,key:n,iv:r.iv}),[o.buffer,n.buffer])},Ml=function(e){var t=e.xhr,n=e.xhrOptions,i=e.decryptionWorker,r=e.segment,o=e.abortFn,a=e.progressFn,s=e.trackInfoFn,l=e.timingInfoFn,c=e.videoSegmentTimingInfoFn,u=e.audioSegmentTimingInfoFn,d=e.id3Fn,A=e.captionsFn,h=e.isEndOfTimeline,p=e.endedTimelineFn,f=e.dataFn,m=e.doneFn,g=e.onTransmuxerLog,v=[],y=function(e){var t=e.activeXhrs,n=e.decryptionWorker,i=e.trackInfoFn,r=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,u=e.endedTimelineFn,d=e.dataFn,A=e.doneFn,h=e.onTransmuxerLog,p=0,f=!1;return function(e,m){if(!f){if(e)return f=!0,Bl(t),A(e,m);if((p+=1)===t.length){var g=function(){if(m.encryptedBytes)return function(e){var t=e.decryptionWorker,n=e.segment,i=e.trackInfoFn,r=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,u=e.endedTimelineFn,d=e.dataFn,A=e.doneFn,h=e.onTransmuxerLog;Ll({id:n.requestId,key:n.key,encryptedBytes:n.encryptedBytes,decryptionWorker:t},(function(e){n.bytes=e,jl({segment:n,bytes:n.bytes,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:d,doneFn:A,onTransmuxerLog:h})}))}({decryptionWorker:n,segment:m,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:d,doneFn:A,onTransmuxerLog:h});jl({segment:m,bytes:m.bytes,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:d,doneFn:A,onTransmuxerLog:h})};if(m.endOfAllRequests=Date.now(),m.map&&m.map.encryptedBytes&&!m.map.bytes)return Ll({decryptionWorker:n,id:m.requestId+"-init",encryptedBytes:m.map.encryptedBytes,key:m.map.key},(function(e){m.map.bytes=e,Pl(m,(function(e){if(e)return Bl(t),A(e,m);g()}))}));g()}}}}({activeXhrs:v,decryptionWorker:i,trackInfoFn:s,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:A,isEndOfTimeline:h,endedTimelineFn:p,dataFn:f,doneFn:m,onTransmuxerLog:g});if(r.key&&!r.key.bytes){var b=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&b.push(r.map.key);var C=t(Xa.mergeOptions(n,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),Dl(r,b,y));v.push(C)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){var _=t(Xa.mergeOptions(n,{uri:r.map.key.resolvedUri,responseType:"arraybuffer"}),Dl(r,[r.map.key],y));v.push(_)}var E=Xa.mergeOptions(n,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Zs(r.map)}),w=function(e){var t=e.segment,n=e.finishProcessingFn;return function(e,i){var r=xl(e,i);if(r)return n(r,t);var o=new Uint8Array(i.response);if(t.map.key)return t.map.encryptedBytes=o,n(null,t);t.map.bytes=o,Pl(t,(function(e){if(e)return e.xhr=i,e.status=i.status,n(e,t);n(null,t)}))}}({segment:r,finishProcessingFn:y}),T=t(E,w);v.push(T)}var S=Xa.mergeOptions(n,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:Zs(r)}),k=t(S,function(e){var t=e.segment,n=e.finishProcessingFn,i=e.responseType;return function(e,r){var o=xl(e,r);if(o)return n(o,t);var a="arraybuffer"!==i&&r.responseText?function(e){for(var t=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer}(r.responseText.substring(t.lastReachedChar||0)):r.response;return t.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(r),t.key?t.encryptedBytes=new Uint8Array(a):t.bytes=new Uint8Array(a),n(null,t)}}({segment:r,finishProcessingFn:y,responseType:S.responseType}));k.addEventListener("progress",function(e){var t=e.segment,n=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(e){if(!e.target.aborted)return t.stats=Xa.mergeOptions(t.stats,(r=(i=e).target,(o={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-r.requestTime||0}).bytesReceived=i.loaded,o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3),o)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),n(e,t);var i,r,o}}({segment:r,progressFn:a,trackInfoFn:s,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:A,isEndOfTimeline:h,endedTimelineFn:p,dataFn:f})),v.push(k);var I={};return v.forEach((function(e){e.addEventListener("loadend",function(e){var t=e.loadendState,n=e.abortFn;return function(e){e.target.aborted&&n&&!t.calledAbortFn&&(n(),t.calledAbortFn=!0)}}({loadendState:I,abortFn:o}))})),function(){return Bl(v)}},Ol=is("CodecUtils"),Fl=function(e,t){var n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},Ul=function(e){var t={};return e.forEach((function(e){var n=e.mediaType,i=e.type,r=e.details;t[n]=t[n]||[],t[n].push(X(""+i+r))})),Object.keys(t).forEach((function(e){if(t[e].length>1)return Ol("multiple "+e+" codecs found as attributes: "+t[e].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(t[e]=null);t[e]=t[e][0]})),t},Ql=function(e){var t=0;return e.audio&&t++,e.video&&t++,t},Nl=function(e,t){var n=t.attributes||{},i=Ul(function(e){var t=e.attributes||{};if(t.CODECS)return $(t.CODECS)}(t)||[]);if(Fl(e,t)&&!i.audio&&!function(e,t){if(!Fl(e,t))return!0;var n=t.attributes||{},i=e.mediaGroups.AUDIO[n.AUDIO];for(var r in i)if(!i[r].uri&&!i[r].playlists)return!0;return!1}(e,t)){var r=Ul(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return $(r.playlists[0].attributes.CODECS)}return null}(e,n.AUDIO)||[]);r.audio&&(i.audio=r.audio)}return i},ql=is("PlaylistSelector"),zl=function(e){if(e&&e.playlist){var t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})}},Gl=function(e,t){if(!e)return"";var n=m().getComputedStyle(e);return n?n[t]:""},Hl=function(e,t){var n=e.slice();e.sort((function(e,i){var r=t(e,i);return 0===r?n.indexOf(e)-n.indexOf(i):r}))},Wl=function(e,t){var n,i;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||m().Number.MAX_VALUE,t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),n-(i||m().Number.MAX_VALUE)},Vl=function(e,t,n,i,r,o){if(e){var a={bandwidth:t,width:n,height:i,limitRenditionByPlayerDimensions:r},s=e.playlists;Ds.isAudioOnly(e)&&(s=o.getAudioTrackPlaylists_(),a.audioOnly=!0);var l=s.map((function(e){var t=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes&&e.attributes.BANDWIDTH||m().Number.MAX_VALUE,width:t,height:n,playlist:e}}));Hl(l,(function(e,t){return e.bandwidth-t.bandwidth}));var c=(l=l.filter((function(e){return!Ds.isIncompatible(e.playlist)}))).filter((function(e){return Ds.isEnabled(e.playlist)}));c.length||(c=l.filter((function(e){return!Ds.isDisabled(e.playlist)})));var u=c.filter((function(e){return e.bandwidth*fl.BANDWIDTH_VARIANCE<t})),d=u[u.length-1],A=u.filter((function(e){return e.bandwidth===d.bandwidth}))[0];if(!1===r){var h=A||c[0]||l[0];if(h&&h.playlist){var p="sortedPlaylistReps";return A&&(p="bandwidthBestRep"),c[0]&&(p="enabledPlaylistReps"),ql("choosing "+zl(h)+" using "+p+" with options",a),h.playlist}return ql("could not choose a playlist with options",a),null}var f=u.filter((function(e){return e.width&&e.height}));Hl(f,(function(e,t){return e.width-t.width}));var g=f.filter((function(e){return e.width===n&&e.height===i}));d=g[g.length-1];var v,y,b,C,_=g.filter((function(e){return e.bandwidth===d.bandwidth}))[0];if(_||(y=(v=f.filter((function(e){return e.width>n||e.height>i}))).filter((function(e){return e.width===v[0].width&&e.height===v[0].height})),d=y[y.length-1],b=y.filter((function(e){return e.bandwidth===d.bandwidth}))[0]),o.experimentalLeastPixelDiffSelector){var E=f.map((function(e){return e.pixelDiff=Math.abs(e.width-n)+Math.abs(e.height-i),e}));Hl(E,(function(e,t){return e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff})),C=E[0]}var w=C||b||_||A||c[0]||l[0];if(w&&w.playlist){var T="sortedPlaylistReps";return C?T="leastPixelDiffRep":b?T="resolutionPlusOneRep":_?T="resolutionBestRep":A?T="bandwidthBestRep":c[0]&&(T="enabledPlaylistReps"),ql("choosing "+zl(w)+" using "+T+" with options",a),w.playlist}return ql("could not choose a playlist with options",a),null}},Yl=function(){var e=this.useDevicePixelRatio&&m().devicePixelRatio||1;return Vl(this.playlists.master,this.systemBandwidth,parseInt(Gl(this.tech_.el(),"width"),10)*e,parseInt(Gl(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},Jl=function(e,t,n){var i,r;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime>=e&&r.endTime<=t&&n.removeCue(r)},Kl=function(e){return"number"==typeof e&&isFinite(e)},Zl=1/60,Xl=function(e){var t=e.startOfSegment,n=e.duration,i=e.segment,r=e.part,o=e.playlist,a=o.mediaSequence,s=o.id,l=o.segments,c=void 0===l?[]:l,u=e.mediaIndex,d=e.partIndex,A=e.timeline,h=c.length-1,p="mediaIndex/partIndex increment";e.getMediaInfoForTime?p="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(p="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(p+=" with independent "+e.independent);var f="number"==typeof d,m=e.segment.uri?"segment":"pre-segment",g=f?gs({preloadSegment:i})-1:0;return m+" ["+(a+u)+"/"+(a+h)+"]"+(f?" part ["+d+"/"+g+"]":"")+" segment start/end ["+i.start+" => "+i.end+"]"+(f?" part start/end ["+r.start+" => "+r.end+"]":"")+" startOfSegment ["+t+"] duration ["+n+"] timeline ["+A+"] selected by ["+p+"] playlist ["+s+"]"},$l=function(e){return e+"TimingInfo"},ec=function(e){var t=e.timelineChangeController,n=e.currentTimeline,i=e.segmentTimeline,r=e.loaderType,o=e.audioDisabled;if(n===i)return!1;if("audio"===r){var a=t.lastTimelineChange({type:"main"});return!a||a.to!==i}if("main"===r&&o){var s=t.pendingTimelineChange({type:"audio"});return!s||s.to!==i}return!1},tc=function(e){var t=e.segmentDuration,n=e.maxDuration;return!!t&&Math.round(t)>n+rs},nc=function(e){function t(t,n){var i;if(i=e.call(this)||this,!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return i.bandwidth=t.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.partIndex=null,i.hasPlayed_=t.hasPlayed,i.currentTime_=t.currentTime,i.seekable_=t.seekable,i.seeking_=t.seeking,i.duration_=t.duration,i.mediaSource_=t.mediaSource,i.vhs_=t.vhs,i.loaderType_=t.loaderType,i.currentMediaInfo_=void 0,i.startingMediaInfo_=void 0,i.segmentMetadataTrack_=t.segmentMetadataTrack,i.goalBufferLength_=t.goalBufferLength,i.sourceType_=t.sourceType,i.sourceUpdater_=t.sourceUpdater,i.inbandTextTracks_=t.inbandTextTracks,i.state_="INIT",i.timelineChangeController_=t.timelineChangeController,i.shouldSaveSegmentTimingInfo_=!0,i.parse708captions_=t.parse708captions,i.useDtsForTimestampOffset_=t.useDtsForTimestampOffset,i.captionServices_=t.captionServices,i.experimentalExactManifestTimings=t.experimentalExactManifestTimings,i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.xhrOptions_=null,i.pendingSegments_=[],i.audioDisabled_=!1,i.isPendingTimestampOffset_=!1,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=Xa.browser.IE_VERSION>=11,i.appendInitSegment_={audio:!0,video:!0},i.playlistOfLastInitSegment_={audio:null,video:null},i.callQueue_=[],i.loadQueue_=[],i.metadataQueue_={id3:[],caption:[]},i.waitingOnRemove_=!1,i.quotaExceededErrorRetryTimeout_=null,i.activeInitSegmentId_=null,i.initSegments_={},i.cacheEncryptionKeys_=t.cacheEncryptionKeys,i.keyCache_={},i.decrypter_=t.decrypter,i.syncController_=t.syncController,i.syncPoint_={segmentIndex:0,time:0},i.transmuxer_=i.createTransmuxer_(),i.triggerSyncInfoUpdate_=function(){return i.trigger("syncinfoupdate")},i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener("sourceopen",(function(){i.isEndOfStream_()||(i.ended_=!1)})),i.fetchAtBuffer_=!1,i.logger_=is("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(C(i),"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e,this.trigger("statechange"))}}),i.sourceUpdater_.on("ready",(function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),"main"===i.loaderType_&&i.timelineChangeController_.on("pendingtimelinechange",(function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),"audio"===i.loaderType_&&i.timelineChangeController_.on("timelinechange",(function(){i.hasEnoughInfoToLoad_()&&i.processLoadQueue_(),i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),i}w(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return function(e){var t=new Cl;t.currentTransmux=null,t.transmuxQueue=[];var n=t.terminate;return t.terminate=function(){return t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)},t.postMessage({action:"init",options:e}),t}({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&m().clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,m().clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},n.checkForAbort_=function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},n.error=function(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Tl(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Xa.createTimeRanges();if("main"===this.loaderType_){var t=e.hasAudio,n=e.hasVideo,i=e.isMuxed;if(n&&t&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=nl(e),i=this.initSegments_[n];return t&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e},n.segmentKey=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=il(e),i=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});var r={resolvedUri:(i||e).resolvedUri};return i&&(r.bytes=i.bytes),r},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(e,t){if(void 0===t&&(t={}),e){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));var r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_("playlist update ["+r+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return null!==this.mediaIndex&&(e.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var o=e.mediaSequence-n.mediaSequence;if(this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex)if(this.mediaIndex-=o,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){var s=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=s}}i&&(i.mediaIndex-=o,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}},n.pause=function(){this.checkBufferTimeout_&&(m().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return null===this.checkBufferTimeout_},n.resetEverything=function(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&Tl(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(e,t,n,i){if(void 0===n&&(n=function(){}),void 0===i&&(i=!1),t===1/0&&(t=this.duration_()),t<=e)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var r=1,o=function(){0==--r&&n()};for(var a in!i&&this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(e,t,o)),(i||"main"===this.loaderType_)&&(this.gopBuffer_=function(e,t,n,i){for(var r=Math.ceil((t-i)*Bt.ONE_SECOND_IN_TS),o=Math.ceil((n-i)*Bt.ONE_SECOND_IN_TS),a=e.slice(),s=e.length;s--&&!(e[s].pts<=o););if(-1===s)return a;for(var l=s+1;l--&&!(e[l].pts<=r););return l=Math.max(l,0),a.splice(l,s-l+1),a}(this.gopBuffer_,e,t,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,t,o)),this.inbandTextTracks_)Jl(e,t,this.inbandTextTracks_[a]);Jl(e,t,this.segmentMetadataTrack_),o()}else this.logger_("skipping remove because no source updater or starting media info")},n.monitorBuffer_=function(){this.checkBufferTimeout_&&m().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=m().setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&m().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=m().setTimeout(this.monitorBufferTick_.bind(this),500)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var e=this.chooseNextRequest_();e&&("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}},n.isEndOfStream_=function(e,t,n){if(void 0===e&&(e=this.mediaIndex),void 0===t&&(t=this.playlist_),void 0===n&&(n=this.partIndex),!t||!this.mediaSource_)return!1;var i="number"==typeof e&&t.segments[e],r=e+1===t.segments.length,o=!i||!i.parts||n+1===i.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&r&&o},n.chooseNextRequest_=function(){var e=this.buffered_(),t=ds(e)||0,n=As(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,r=n>=this.goalBufferLength_(),o=this.playlist_.segments;if(!o.length||i||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(a.isSyncRequest)a.mediaIndex=function(e,t,n){t=t||[];for(var i=[],r=0,o=0;o<t.length;o++){var a=t[o];if(e===a.timeline&&(i.push(o),(r+=a.duration)>n))return o}return 0===i.length?0:i[i.length-1]}(this.currentTimeline_,o,t);else if(null!==this.mediaIndex){var s=o[this.mediaIndex],l="number"==typeof this.partIndex?this.partIndex:-1;a.startOfSegment=s.end?s.end:t,s.parts&&s.parts[l+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=l+1):a.mediaIndex=this.mediaIndex+1}else{var c=Ds.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),u=c.segmentIndex,d=c.startTime,A=c.partIndex;a.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+t:"currentTime "+this.currentTime_(),a.mediaIndex=u,a.startOfSegment=d,a.partIndex=A}var h=o[a.mediaIndex],p=h&&"number"==typeof a.partIndex&&h.parts&&h.parts[a.partIndex];if(!h||"number"==typeof a.partIndex&&!p)return null;if("number"!=typeof a.partIndex&&h.parts&&(a.partIndex=0,p=h.parts[0]),!n&&p&&!p.independent)if(0===a.partIndex){var f=o[a.mediaIndex-1],m=f.parts&&f.parts.length&&f.parts[f.parts.length-1];m&&m.independent&&(a.mediaIndex-=1,a.partIndex=f.parts.length-1,a.independent="previous segment")}else h.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part");var g=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return a.mediaIndex>=o.length-1&&g&&!this.seeking_()?null:this.generateSegmentInfo_(a)},n.generateSegmentInfo_=function(e){var t=e.independent,n=e.playlist,i=e.mediaIndex,r=e.startOfSegment,o=e.isSyncRequest,a=e.partIndex,s=e.forceTimestampOffset,l=e.getMediaInfoForTime,c=n.segments[i],u="number"==typeof a&&c.parts[a],d={requestId:"segment-loader-"+Math.random(),uri:u&&u.resolvedUri||c.resolvedUri,mediaIndex:i,partIndex:u?a:null,isSyncRequest:o,startOfSegment:r,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:u&&u.duration||c.duration,segment:c,part:u,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:t},A=void 0!==s?s:this.isPendingTimestampOffset_;d.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:r,buffered:this.buffered_(),overrideCheck:A});var h=ds(this.sourceUpdater_.audioBuffered());return"number"==typeof h&&(d.audioAppendStart=h-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(d.gopsToAlignWith=function(e,t,n){if(null==t||!e.length)return[];var i,r=Math.ceil((t-n+3)*Bt.ONE_SECOND_IN_TS);for(i=0;i<e.length&&!(e[i].pts>r);i++);return e.slice(i)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),d},n.timestampOffsetForSegment_=function(e){return n=(t=e).segmentTimeline,i=t.currentTimeline,r=t.startOfSegment,o=t.buffered,t.overrideCheck||n!==i?n<i?r:o.length?o.end(o.length-1):r:null;var t,n,i,r,o},n.earlyAbortWhenNeeded_=function(e){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)){var t=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,r=Ds.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),o=function(e,t,n){return void 0===n&&(n=1),((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(!(r<=o)){var a=function(e){var t=e.currentTime,n=e.bandwidth,i=e.duration,r=e.segmentDuration,o=e.timeUntilRebuffer,a=e.currentTimeline,s=e.syncController,l=e.master.playlists.filter((function(e){return!Ds.isIncompatible(e)})),c=l.filter(Ds.isEnabled);c.length||(c=l.filter((function(e){return!Ds.isDisabled(e)})));var u=c.filter(Ds.hasAttribute.bind(null,"BANDWIDTH")).map((function(e){var l=s.getSyncPoint(e,i,a,t)?1:2;return{playlist:e,rebufferingImpact:Ds.estimateSegmentRequestTime(r,n,e)*l-o}})),d=u.filter((function(e){return e.rebufferingImpact<=0}));return Hl(d,(function(e,t){return Wl(t.playlist,e.playlist)})),d.length?d[0]:(Hl(u,(function(e,t){return e.rebufferingImpact-t.rebufferingImpact})),u[0]||null)}({master:this.vhs_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=r-o-a.rebufferingImpact,l=.5;o<=rs&&(l=1),!a.playlist||a.playlist.uri===this.playlist_.uri||s<l||(this.bandwidth=a.playlist.attributes.BANDWIDTH*fl.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},n.handleAbort_=function(e){this.logger_("Aborting "+Xl(e)),this.mediaRequestsAborted+=1},n.handleProgress_=function(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")},n.handleTrackInfo_=function(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;var n=Object.keys(e).sort(),i=Object.keys(t).sort();if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(o!==i[r])return!1;if(e[o]!==t[o])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},n.handleTimingInfo_=function(e,t,n,i){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){var r=this.pendingSegment_,o=$l(t);r[o]=r[o]||{},r[o][n]=i,this.logger_("timinginfo: "+t+" - "+n+" - "+i),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(e,t){var n=this;if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(0!==t.length)if(this.pendingSegment_.hasAppendedData_){var i=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),r={};t.forEach((function(e){r[e.stream]=r[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=r[e.stream];t.startTime=Math.min(t.startTime,e.startTime+i),t.endTime=Math.max(t.endTime,e.endTime+i),t.captions.push(e)})),Object.keys(r).forEach((function(e){var t=r[e],o=t.startTime,a=t.endTime,s=t.captions,l=n.inbandTextTracks_;n.logger_("adding cues from "+o+" -> "+a+" for "+e),function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"}),t.trigger({type:"usage",name:"hls-608"});var i=n;/^cc708_/.test(n)&&(i="SERVICE"+n.split("_")[1]);var r=t.textTracks().getTrackById(i);if(r)e[n]=r;else{var o=n,a=n,s=!1,l=(t.options_.vhs&&t.options_.vhs.captionServices||{})[i];l&&(o=l.label,a=l.language,s=l.default),e[n]=t.addRemoteTextTrack({kind:"captions",id:i,default:s,label:o,language:a},!1).track}}}(l,n.vhs_.tech_,e),Jl(o,a,l[e]),function(e){var t=e.inbandTextTracks,n=e.captionArray,i=e.timestampOffset;if(n){var r=m().WebKitDataCue||m().VTTCue;n.forEach((function(e){var n=e.stream;t[n].addCue(new r(e.startTime+i,e.endTime+i,e.text))}))}}({captionArray:s,inbandTextTracks:l,timestampOffset:i})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));else this.logger_("SegmentLoader received no captions from a caption event")},n.handleId3_=function(e,t,n){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(this.pendingSegment_.hasAppendedData_){var i=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(e,t,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=t)}(this.inbandTextTracks_,n,this.vhs_.tech_),function(e){var t=e.inbandTextTracks,n=e.metadataArray,i=e.timestampOffset,r=e.videoDuration;if(n){var o=m().WebKitDataCue||m().VTTCue,a=t.metadataTrack_;if(a&&(n.forEach((function(e){var t=e.cueTime+i;!("number"!=typeof t||m().isNaN(t)||t<0)&&t<1/0&&e.frames.forEach((function(e){var n=new o(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return Xa.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Xa.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Xa.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),a.addCue(n)}))})),a.cues&&a.cues.length)){for(var s=a.cues,l=[],c=0;c<s.length;c++)s[c]&&l.push(s[c]);var u=l.reduce((function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),d=Object.keys(u).sort((function(e,t){return Number(e)-Number(t)}));d.forEach((function(e,t){var n=u[e],i=Number(d[t+1])||r;n.forEach((function(e){e.endTime=i}))}))}}}({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:i,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n))},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach((function(e){return e()})),this.metadataQueue_.caption.forEach((function(e){return e()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach((function(e){return e()}))},n.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach((function(e){return e()}))},n.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!(!e||this.getCurrentMediaInfo_()&&ec({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.getCurrentMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),e&&e.trackInfo||this.currentMediaInfo_},n.getMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),this.getCurrentMediaInfo_(e)||this.startingMediaInfo_},n.getPendingSegmentPlaylist=function(){return this.pendingSegment_?this.pendingSegment_.playlist:null},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;var n=t.hasAudio,i=t.hasVideo,r=t.isMuxed;return!(i&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!r&&!e.audioTimingInfo||ec({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.handleData_=function(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[$l(t.type)].start;else{var i,r=this.getCurrentMediaInfo_(),o="main"===this.loaderType_&&r&&r.hasVideo;o&&(i=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:o,firstVideoFrameTimeForData:i,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});var a=this.chooseNextRequest_();if(a.mediaIndex!==n.mediaIndex||a.partIndex!==n.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}else this.callQueue_.push(this.handleData_.bind(this,e,t))},n.updateAppendInitSegmentStatus=function(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)},n.getInitSegmentAndUpdateState_=function(e){var t=e.type,n=e.initSegment,i=e.map,r=e.playlist;if(i){var o=nl(i);if(this.activeInitSegmentId_===o)return null;n=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=o}return n&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=r,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,n):null},n.handleQuotaExceededError_=function(e,t){var n=this,i=e.segmentInfo,r=e.type,o=e.bytes,a=this.sourceUpdater_.audioBuffered(),s=this.sourceUpdater_.videoBuffered();a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+us(a).join(", ")),s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+us(s).join(", "));var l=a.length?a.start(0):0,c=a.length?a.end(a.length-1):0,u=s.length?s.start(0):0,d=s.length?s.end(s.length-1):0;if(c-l<=1&&d-u<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+o.byteLength+", audio buffer: "+us(a).join(", ")+", video buffer: "+us(s).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:i,type:r,bytes:o}));var A=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+A),this.remove(0,A,(function(){n.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),n.waitingOnRemove_=!1,n.quotaExceededErrorRetryTimeout_=m().setTimeout((function(){n.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),n.quotaExceededErrorRetryTimeout_=null,n.processCallQueue_()}),1e3)}),!0)},n.handleAppendError_=function(e,t){var n=e.segmentInfo,i=e.type,r=e.bytes;t&&(22!==t.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",t),this.error(i+" append of "+r.length+"b failed for segment #"+n.mediaIndex+" in playlist "+n.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:n,type:i,bytes:r}))},n.appendToSourceBuffer_=function(e){var t,n,i,r=e.segmentInfo,o=e.type,a=e.initSegment,s=e.data,l=e.bytes;if(!l){var c=[s],u=s.byteLength;a&&(c.unshift(a),u+=a.byteLength),i=0,(t={bytes:u,segments:c}).bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach((function(e){n.set(e,i),i+=e.byteLength}))),l=n}this.sourceUpdater_.appendBuffer({segmentInfo:r,type:o,bytes:l},this.handleAppendError_.bind(this,{segmentInfo:r,type:o,bytes:l}))},n.handleSegmentTimingInfo_=function(e,t,n){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var i=this.pendingSegment_.segment,r=e+"TimingInfo";i[r]||(i[r]={}),i[r].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[r].transmuxedPresentationStart=n.start.presentation,i[r].transmuxedDecodeStart=n.start.decode,i[r].transmuxedPresentationEnd=n.end.presentation,i[r].transmuxedDecodeEnd=n.end.decode,i[r].baseMediaDecodeTime=n.baseMediaDecodeTime}},n.appendData_=function(e,t){var n=t.type,i=t.data;if(i&&i.byteLength&&("audio"!==n||!this.audioDisabled_)){var r=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:i})}},n.loadSegment_=function(e){var t=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push((function(){var n=d({},e,{forceTimestampOffset:!0});d(e,t.generateSegmentInfo_(n)),t.isPendingTimestampOffset_=!1,t.updateTransmuxerAndRequestSegment_(e)}))},n.updateTransmuxerAndRequestSegment_=function(e){var t=this;this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));var n=this.createSimplifiedSegmentObj_(e),i=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),r=null!==this.mediaIndex,o=e.timeline!==this.currentTimeline_&&e.timeline>0,a=i||r&&o;this.logger_("Requesting "+Xl(e)),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=Ml({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:function(){t.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(n){var i=n.message,r=n.level,o=n.stream;t.logger_(Xl(e)+" logged from transmuxer stream "+o+" as a "+r+": "+i)}})},n.trimBackBuffer_=function(e){var t=function(e,t,n){var i=t-fl.BACK_BUFFER_LENGTH;e.length&&(i=Math.max(i,e.start(0)));var r=t-n;return Math.min(r,i)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)},n.createSimplifiedSegmentObj_=function(e){var t=e.segment,n=e.part,i={resolvedUri:n?n.resolvedUri:t.resolvedUri,byterange:n?n.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},r=e.playlist.segments[e.mediaIndex-1];if(r&&r.timeline===t.timeline&&(r.videoTimingInfo?i.baseStartTime=r.videoTimingInfo.transmuxedDecodeEnd:r.audioTimingInfo&&(i.baseStartTime=r.audioTimingInfo.transmuxedDecodeEnd)),t.key){var o=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);i.key=this.segmentKey(t.key),i.key.iv=o}return t.map&&(i.map=this.initSegmentForMap(t.map)),i},n.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},n.saveBandwidthRelatedStats_=function(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<Zl?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record "+Zl):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},n.segmentRequestFinished_=function(e,t,n){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Il)return;return this.pause(),e.code===kl?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}var i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),i.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=function(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var i=t[0].pts,r=0;r<e.length&&!(e[r].pts>=i);r++);return e.slice(0,r).concat(t)}(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}},n.setTimeMapping_=function(e){var t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)},n.updateMediaSecondsLoaded_=function(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},n.trueSegmentStart_=function(e){var t=e.currentStart,n=e.playlist,i=e.mediaIndex,r=e.firstVideoFrameTimeForData,o=e.currentVideoTimestampOffset,a=e.useVideoTimingInfo,s=e.videoTimingInfo,l=e.audioTimingInfo;if(void 0!==t)return t;if(!a)return l.start;var c=n.segments[i-1];return 0!==i&&c&&void 0!==c.start&&c.end===r+o?s.start:r},n.waitForAppendsToComplete_=function(e){var t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var n=t.hasAudio,i=t.hasVideo,r=t.isMuxed,o="main"===this.loaderType_&&i,a=!this.audioDisabled_&&n&&!r;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);o&&e.waitingOnAppends++,a&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},n.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(e){var t=function(e,t,n){return"main"===e&&t&&n?n.hasAudio||n.hasVideo?t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,blacklistDuration:1/0}),this.trigger("error"),!0)},n.updateSourceBufferTimestampOffset_=function(e){if(null!==e.timestampOffset&&"number"==typeof e.timingInfo.start&&!e.changedTimestampOffset&&"main"===this.loaderType_){var t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}},n.getSegmentStartTimeForTimestampOffsetCalculation_=function(e){var t=e.videoTimingInfo,n=e.audioTimingInfo,i=e.timingInfo;return this.useDtsForTimestampOffset_?t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:n&&"number"==typeof n.transmuxedDecodeStart?n.transmuxedDecodeStart:i.start:i.start},n.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var t=this.getMediaInfo_(),n="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end="number"==typeof n.end?n.end:n.start+e.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});var t=function(e,t){if("hls"!==t)return null;var n,i,r=(n={audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo},i=0,["video","audio"].forEach((function(e){var t=n[e+"TimingInfo"];if(t){var r,o=t.start,a=t.end;"bigint"==typeof o||"bigint"==typeof a?r=m().BigInt(a)-m().BigInt(o):"number"==typeof o&&"number"==typeof a&&(r=a-o),void 0!==r&&r>i&&(i=r)}})),"bigint"==typeof i&&i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),i);if(!r)return null;var o=e.playlist.targetDuration,a=tc({segmentDuration:r,maxDuration:2*o}),s=tc({segmentDuration:r,maxDuration:o}),l="Segment with index "+e.mediaIndex+" from playlist "+e.playlist.id+" has a duration of "+r+" when the reported duration is "+e.duration+" and the target duration is "+o+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||s?{severity:a?"warn":"info",message:l}:null}(e,this.sourceType_);if(t&&("warn"===t.severity?Xa.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",!e.isSyncRequest||(this.trigger("syncinfoupdate"),e.hasAppendedData_)){this.logger_("Appended "+Xl(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var n=e.segment,i=e.part,r=n.end&&this.currentTime_()-n.end>3*e.playlist.targetDuration,o=i&&i.end&&this.currentTime_()-i.end>3*e.playlist.partTargetDuration;if(r||o)return this.logger_("bad "+(r?"segment":"part")+" "+Xl(e)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+Xl(e))},n.recordThroughput_=function(e){if(e.duration<Zl)this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record "+Zl);else{var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-t)/++this.throughput.count}},n.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,i=t.end;if(Kl(n)&&Kl(i)){Jl(n,i,this.segmentMetadataTrack_);var r=m().WebKitDataCue||m().VTTCue,o={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},a=new r(n,i,JSON.stringify(o));a.value=o,this.segmentMetadataTrack_.addCue(a)}}},t}(Xa.EventTarget);function ic(){}var rc,oc=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))},ac=["video","audio"],sc=function(e,t){var n=t[e+"Buffer"];return n&&n.updating||t.queuePending[e]},lc=function e(t,n){if(0!==n.queue.length){var i=0,r=n.queue[i];if("mediaSource"!==r.type){if("mediaSource"!==t&&n.ready()&&"closed"!==n.mediaSource.readyState&&!sc(t,n)){if(r.type!==t){if(i=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if("mediaSource"===i.type)return null;if(i.type===e)return n}return null}(t,n.queue),null===i)return;r=n.queue[i]}return n.queue.splice(i,1),n.queuePending[t]=r,r.action(t,n),r.doneFn?void 0:(n.queuePending[t]=null,void e(t,n))}}else n.updating()||"closed"===n.mediaSource.readyState||(n.queue.shift(),r.action(n),r.doneFn&&r.doneFn(),e("audio",n),e("video",n))}},cc=function(e,t){var n=t[e+"Buffer"],i=oc(e);n&&(n.removeEventListener("updateend",t["on"+i+"UpdateEnd_"]),n.removeEventListener("error",t["on"+i+"Error_"]),t.codecs[e]=null,t[e+"Buffer"]=null)},uc=function(e,t){return e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t)},dc=function(e,t,n){return function(i,r){var o=r[i+"Buffer"];if(uc(r.mediaSource,o)){r.logger_("Appending segment "+t.mediaIndex+"'s "+e.length+" bytes to "+i+"Buffer");try{o.appendBuffer(e)}catch(e){r.logger_("Error with code "+e.code+" "+(22===e.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+t.mediaIndex+" to "+i+"Buffer"),r.queuePending[i]=null,n(e)}}}},Ac=function(e,t){return function(n,i){var r=i[n+"Buffer"];if(uc(i.mediaSource,r)){i.logger_("Removing "+e+" to "+t+" from "+n+"Buffer");try{r.remove(e,t)}catch(r){i.logger_("Remove "+e+" to "+t+" from "+n+"Buffer failed")}}}},hc=function(e){return function(t,n){var i=n[t+"Buffer"];uc(n.mediaSource,i)&&(n.logger_("Setting "+t+"timestampOffset to "+e),i.timestampOffset=e)}},pc=function(e){return function(t,n){e()}},fc=function(e){return function(t){if("open"===t.mediaSource.readyState){t.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{t.mediaSource.endOfStream(e)}catch(e){Xa.log.warn("Failed to call media source endOfStream",e)}}}},mc=function(e,t){return function(n){var i=oc(e),r=te(t);n.logger_("Adding "+e+"Buffer with codec "+t+" to mediaSource");var o=n.mediaSource.addSourceBuffer(r);o.addEventListener("updateend",n["on"+i+"UpdateEnd_"]),o.addEventListener("error",n["on"+i+"Error_"]),n.codecs[e]=t,n[e+"Buffer"]=o}},gc=function(e){return function(t){var n=t[e+"Buffer"];if(cc(e,t),uc(t.mediaSource,n)){t.logger_("Removing "+e+"Buffer with codec "+t.codecs[e]+" from mediaSource");try{t.mediaSource.removeSourceBuffer(n)}catch(t){Xa.log.warn("Failed to removeSourceBuffer "+e+"Buffer",t)}}}},vc=function(e){return function(t,n){var i=n[t+"Buffer"],r=te(e);uc(n.mediaSource,i)&&n.codecs[t]!==e&&(n.logger_("changing "+t+"Buffer codec from "+n.codecs[t]+" to "+e),i.changeType(r),n.codecs[t]=e)}},yc=function(e){var t=e.type,n=e.sourceUpdater,i=e.action,r=e.doneFn,o=e.name;n.queue.push({type:t,action:i,doneFn:r,name:o}),lc(t,n)},bc=function(e,t){return function(n){if(t.queuePending[e]){var i=t.queuePending[e].doneFn;t.queuePending[e]=null,i&&i(t[e+"Error_"])}lc(e,t)}},Cc=function(e){function t(t){var n;return(n=e.call(this)||this).mediaSource=t,n.sourceopenListener_=function(){return lc("mediaSource",C(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=is("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=bc("video",C(n)),n.onAudioUpdateEnd_=bc("audio",C(n)),n.onVideoError_=function(e){n.videoError_=e},n.onAudioError_=function(e){n.audioError_=e},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}w(t,e);var n=t.prototype;return n.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},n.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},n.hasInitializedAnyEme=function(){return this.initializedEme_},n.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},n.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},n.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},n.addSourceBuffer=function(e,t){yc({type:"mediaSource",sourceUpdater:this,action:mc(e,t),name:"addSourceBuffer"})},n.abort=function(e){yc({type:e,sourceUpdater:this,action:function(e,t){if("open"===t.mediaSource.readyState){var n=t[e+"Buffer"];if(uc(t.mediaSource,n)){t.logger_("calling abort on "+e+"Buffer");try{n.abort()}catch(t){Xa.log.warn("Failed to abort on "+e+"Buffer",t)}}}},name:"abort"})},n.removeSourceBuffer=function(e){this.canRemoveSourceBuffer()?yc({type:"mediaSource",sourceUpdater:this,action:gc(e),name:"removeSourceBuffer"}):Xa.log.error("removeSourceBuffer is not supported!")},n.canRemoveSourceBuffer=function(){return!Xa.browser.IE_VERSION&&!Xa.browser.IS_FIREFOX&&m().MediaSource&&m().MediaSource.prototype&&"function"==typeof m().MediaSource.prototype.removeSourceBuffer},t.canChangeType=function(){return m().SourceBuffer&&m().SourceBuffer.prototype&&"function"==typeof m().SourceBuffer.prototype.changeType},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(e,t){this.canChangeType()?yc({type:e,sourceUpdater:this,action:vc(t),name:"changeType"}):Xa.log.error("changeType is not supported!")},n.addOrChangeSourceBuffers=function(e){var t=this;if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach((function(n){var i=e[n];if(!t.hasCreatedSourceBuffers())return t.addSourceBuffer(n,i);t.canChangeType()&&t.changeType(n,i)}))},n.appendBuffer=function(e,t){var n=this,i=e.segmentInfo,r=e.type,o=e.bytes;if(this.processedAppend_=!0,"audio"===r&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_("delayed audio append of "+o.length+" until video append");if(yc({type:r,sourceUpdater:this,action:dc(o,i||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===r){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var a=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+a.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,a.forEach((function(e){n.appendBuffer.apply(n,e)}))}},n.audioBuffered=function(){return uc(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Xa.createTimeRange()},n.videoBuffered=function(){return uc(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Xa.createTimeRange()},n.buffered=function(){var e=uc(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=uc(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){var n=null,i=null,r=0,o=[],a=[];if(!(e&&e.length&&t&&t.length))return Xa.createTimeRange();for(var s=e.length;s--;)o.push({time:e.start(s),type:"start"}),o.push({time:e.end(s),type:"end"});for(s=t.length;s--;)o.push({time:t.start(s),type:"start"}),o.push({time:t.end(s),type:"end"});for(o.sort((function(e,t){return e.time-t.time})),s=0;s<o.length;s++)"start"===o[s].type?2==++r&&(n=o[s].time):"end"===o[s].type&&1==--r&&(i=o[s].time),null!==n&&null!==i&&(a.push([n,i]),n=null,i=null);return Xa.createTimeRanges(a)}(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(e,t){var n;void 0===t&&(t=ic),yc({type:"mediaSource",sourceUpdater:this,action:(n=e,function(e){e.logger_("Setting mediaSource duration to "+n);try{e.mediaSource.duration=n}catch(e){Xa.log.warn("Failed to set media source duration",e)}}),name:"duration",doneFn:t})},n.endOfStream=function(e,t){void 0===e&&(e=null),void 0===t&&(t=ic),"string"!=typeof e&&(e=void 0),yc({type:"mediaSource",sourceUpdater:this,action:fc(e),name:"endOfStream",doneFn:t})},n.removeAudio=function(e,t,n){void 0===n&&(n=ic),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?yc({type:"audio",sourceUpdater:this,action:Ac(e,t),doneFn:n,name:"remove"}):n()},n.removeVideo=function(e,t,n){void 0===n&&(n=ic),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?yc({type:"video",sourceUpdater:this,action:Ac(e,t),doneFn:n,name:"remove"}):n()},n.updating=function(){return!(!sc("audio",this)&&!sc("video",this))},n.audioTimestampOffset=function(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(yc({type:"audio",sourceUpdater:this,action:hc(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},n.videoTimestampOffset=function(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(yc({type:"video",sourceUpdater:this,action:hc(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},n.audioQueueCallback=function(e){this.audioBuffer&&yc({type:"audio",sourceUpdater:this,action:pc(e),name:"callback"})},n.videoQueueCallback=function(e){this.videoBuffer&&yc({type:"video",sourceUpdater:this,action:pc(e),name:"callback"})},n.dispose=function(){var e=this;this.trigger("dispose"),ac.forEach((function(t){e.abort(t),e.canRemoveSourceBuffer()?e.removeSourceBuffer(t):e[t+"QueueCallback"]((function(){return cc(t,e)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},t}(Xa.EventTarget),_c=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},Ec=new Uint8Array("\n\n".split("").map((function(e){return e.charCodeAt(0)}))),wc=function(e){function t(){return e.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return w(t,e),t}(Dt(Error)),Tc=function(e){function t(t,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,n)||this).mediaSource_=null,i.subtitlesTrack_=null,i.loaderType_="subtitle",i.featuresNativeTextTracks_=t.featuresNativeTextTracks,i.loadVttJs=t.loadVttJs,i.shouldSaveSegmentTimingInfo_=!1,i}w(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Xa.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return Xa.createTimeRanges([[t,n]])},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=nl(e),i=this.initSegments_[n];if(t&&!i&&e.bytes){var r=Ec.byteLength+e.bytes.byteLength,o=new Uint8Array(r);o.set(e.bytes),o.set(Ec,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return i||e},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},n.remove=function(e,t){Jl(e,t,this.subtitlesTrack_)},n.fillBuffer_=function(){var e=this,t=this.chooseNextRequest_();if(t){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline))return this.syncController_.one("timestampoffset",(function(){e.state="READY",e.paused()||e.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(t)}},n.timestampOffsetForSegment_=function(){return null},n.chooseNextRequest_=function(){return this.skipEmptySegments_(e.prototype.chooseNextRequest_.call(this))},n.skipEmptySegments_=function(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e},n.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(e,t,n){var i=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===kl&&this.handleTimeout_(),e.code===Il?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");var o=r.segment;if(o.map&&(o.map.bytes=t.map.bytes),r.bytes=t.bytes,"function"!=typeof m().WebVTT&&"function"==typeof this.loadVttJs)return this.state="WAITING_ON_VTTJS",void this.loadVttJs().then((function(){return i.segmentRequestFinished_(e,t,n)}),(function(){return i.stopForError({message:"Error loading vtt.js"})}));o.requested=!0;try{this.parseVTTCues_(r)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_),r.cues.length?r.timingInfo={start:r.cues[0].startTime,end:r.cues[r.cues.length-1].endTime}:r.timingInfo={start:r.startOfSegment,end:r.startOfSegment+r.duration},r.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");r.byteLength=r.bytes.byteLength,this.mediaSecondsLoaded+=o.duration,r.cues.forEach((function(e){i.subtitlesTrack_.addCue(i.featuresNativeTextTracks_?new(m().VTTCue)(e.startTime,e.endTime,e.text):e)})),function(e){var t=e.cues;if(t)for(var n=0;n<t.length;n++){for(var i=[],r=0,o=0;o<t.length;o++)t[n].startTime===t[o].startTime&&t[n].endTime===t[o].endTime&&t[n].text===t[o].text&&++r>1&&i.push(t[o]);i.length&&i.forEach((function(t){return e.removeCue(t)}))}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(e){var t,n=!1;if("function"!=typeof m().WebVTT)throw new wc;"function"==typeof m().TextDecoder?t=new(m().TextDecoder)("utf8"):(t=m().WebVTT.StringDecoder(),n=!0);var i=new(m().WebVTT.Parser)(m(),m().vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=function(t){e.timestampmap=t},i.onparsingerror=function(e){Xa.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var r=e.segment.map.bytes;n&&(r=_c(r)),i.parse(r)}var o=e.bytes;n&&(o=_c(o)),i.parse(o),i.flush()},n.updateTimeMapping_=function(e,t,n){var i=e.segment;if(t)if(e.cues.length){var r=e.timestampmap,o=r.MPEGTS/Bt.ONE_SECOND_IN_TS-r.LOCAL+t.mapping;if(e.cues.forEach((function(e){e.startTime+=o,e.endTime+=o})),!n.syncInfo){var a=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(a,s-i.duration)}}}else i.empty=!0},t}(nc),Sc=function(e,t){for(var n=e.cues,i=0;i<n.length;i++){var r=n[i];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null},kc=[{name:"VOD",run:function(e,t,n,i,r){return n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null}},{name:"ProgramDateTime",run:function(e,t,n,i,r){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var o=null,a=null,s=fs(t);r=r||0;for(var l=0;l<s.length;l++){var c=s[t.endList||0===r?l:s.length-(l+1)],u=c.segment,d=e.timelineToDatetimeMappings[u.timeline];if(d&&u.dateTimeObject){var A=u.dateTimeObject.getTime()/1e3+d;if(u.parts&&"number"==typeof c.partIndex)for(var h=0;h<c.partIndex;h++)A+=u.parts[h].duration;var p=Math.abs(r-A);if(null!==a&&(0===p||a<p))break;a=p,o={time:A,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}}return o}},{name:"Segment",run:function(e,t,n,i,r){var o=null,a=null;r=r||0;for(var s=fs(t),l=0;l<s.length;l++){var c=s[t.endList||0===r?l:s.length-(l+1)],u=c.segment,d=c.part&&c.part.start||u&&u.start;if(u.timeline===i&&void 0!==d){var A=Math.abs(r-d);if(null!==a&&a<A)break;(!o||null===a||a>=A)&&(a=A,o={time:d,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return o}},{name:"Discontinuity",run:function(e,t,n,i,r){var o=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var l=t.discontinuityStarts[s],c=t.discontinuitySequence+s+1,u=e.discontinuities[c];if(u){var d=Math.abs(r-u.time);if(null!==a&&a<d)break;(!o||null===a||a>=d)&&(a=d,o={time:u.time,segmentIndex:l,partIndex:null})}}return o}},{name:"Playlist",run:function(e,t,n,i,r){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}}],Ic=function(e){function t(t){var n;return(n=e.call(this)||this).timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=is("SyncController"),n}w(t,e);var n=t.prototype;return n.getSyncPoint=function(e,t,n,i){var r=this.runStrategies_(e,t,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null},n.getExpiredTime=function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+Cs({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))},n.runStrategies_=function(e,t,n,i){for(var r=[],o=0;o<kc.length;o++){var a=kc[o],s=a.run(this,e,t,n,i);s&&(s.strategy=a.name,r.push({strategy:a.name,syncPoint:s}))}return r},n.selectSyncPoint_=function(e,t){for(var n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy,o=1;o<e.length;o++){var a=Math.abs(e[o].syncPoint[t.key]-t.value);a<i&&(i=a,n=e[o].syncPoint,r=e[o].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+("number"==typeof n.partIndex?",partIndex:"+n.partIndex:"")+"]"),n},n.saveExpiredSegmentInfo=function(e,t){var n=t.mediaSequence-e.mediaSequence;if(n>86400)Xa.log.warn("Not saving expired segment info. Media sequence gap "+n+" is too large.");else for(var i=n-1;i>=0;i--){var r=e.segments[i];if(r&&void 0!==r.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:r.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},n.setDateTimeMappingForStart=function(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0],n=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-n}},n.saveSegmentTimingInfo=function(e){var t=e.segmentInfo,n=e.shouldSaveTimelineMapping,i=this.calculateSegmentTimeMapping_(t,t.timingInfo,n),r=t.segment;i&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:r.start}));var o=r.dateTimeObject;r.discontinuity&&n&&o&&(this.timelineToDatetimeMappings[r.timeline]=-o.getTime()/1e3)},n.timestampOffsetForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].time},n.mappingForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping},n.calculateSegmentTimeMapping_=function(e,t,n){var i,r,o=e.segment,a=e.part,s=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)s={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=s,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+s.time+"] [mapping: "+s.mapping+"]")),i=e.startOfSegment,r=t.end+s.mapping;else{if(!s)return!1;i=t.start+s.mapping,r=t.end+s.mapping}return a&&(a.start=i,a.end=r),(!o.start||i<o.start)&&(o.start=i),o.end=r,!0},n.saveDiscontinuitySyncInfo_=function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var i=0;i<t.discontinuityStarts.length;i++){var r=t.discontinuityStarts[i],o=t.discontinuitySequence+i+1,a=r-e.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var l;l=a<0?n.start-Cs({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:r}):n.end+Cs({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:r}),this.discontinuities[o]={time:l,accuracy:s}}}},n.dispose=function(){this.trigger("dispose"),this.off()},t}(Xa.EventTarget),Bc=function(e){function t(){var t;return(t=e.call(this)||this).pendingTimelineChanges_={},t.lastTimelineChanges_={},t}w(t,e);var n=t.prototype;return n.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(e){var t=e.type,n=e.from,i=e.to;return"number"==typeof n&&"number"==typeof i&&(this.pendingTimelineChanges_[t]={type:t,from:n,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]},n.lastTimelineChange=function(e){var t=e.type,n=e.from,i=e.to;return"number"==typeof n&&"number"==typeof i&&(this.lastTimelineChanges_[t]={type:t,from:n,to:i},delete this.pendingTimelineChanges_[t],this.trigger("timelinechange")),this.lastTimelineChanges_[t]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(Xa.EventTarget),xc=vl(yl((function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{};function t(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var n=t((function(e){function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e},e.exports.default=e.exports,e.exports.__esModule=!0})),i=t((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,i)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),r=t((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0})),o=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}(),a=null,s=function(){function e(e){var t,n,i;a||(a=function(){var e,t,n,i,r,o,a,s,l=[[[],[],[],[],[]],[[],[],[],[],[]]],c=l[0],u=l[1],d=c[4],A=u[4],h=[],p=[];for(e=0;e<256;e++)p[(h[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!d[t];t^=i||1,n=p[n]||1)for(o=(o=n^n<<1^n<<2^n<<3^n<<4)>>8^255&o^99,d[t]=o,A[o]=t,s=16843009*h[r=h[i=h[t]]]^65537*r^257*i^16843008*t,a=257*h[o]^16843008*o,e=0;e<4;e++)c[e][t]=a=a<<24^a>>>8,u[e][o]=s=s<<24^s>>>8;for(e=0;e<5;e++)c[e]=c[e].slice(0),u[e]=u[e].slice(0);return l}()),this._tables=[[a[0][0].slice(),a[0][1].slice(),a[0][2].slice(),a[0][3].slice(),a[0][4].slice()],[a[1][0].slice(),a[1][1].slice(),a[1][2].slice(),a[1][3].slice(),a[1][4].slice()]];var r=this._tables[0][4],o=this._tables[1],s=e.length,l=1;if(4!==s&&6!==s&&8!==s)throw new Error("Invalid aes key size");var c=e.slice(0),u=[];for(this._key=[c,u],t=s;t<4*s+28;t++)i=c[t-1],(t%s==0||8===s&&t%s==4)&&(i=r[i>>>24]<<24^r[i>>16&255]<<16^r[i>>8&255]<<8^r[255&i],t%s==0&&(i=i<<8^i>>>24^l<<24,l=l<<1^283*(l>>7))),c[t]=c[t-s]^i;for(n=0;t;n++,t--)i=c[3&n?t:t-4],u[n]=t<=4||n<4?i:o[0][r[i>>>24]]^o[1][r[i>>16&255]]^o[2][r[i>>8&255]]^o[3][r[255&i]]}return e.prototype.decrypt=function(e,t,n,i,r,o){var a,s,l,c,u=this._key[1],d=e^u[0],A=i^u[1],h=n^u[2],p=t^u[3],f=u.length/4-2,m=4,g=this._tables[1],v=g[0],y=g[1],b=g[2],C=g[3],_=g[4];for(c=0;c<f;c++)a=v[d>>>24]^y[A>>16&255]^b[h>>8&255]^C[255&p]^u[m],s=v[A>>>24]^y[h>>16&255]^b[p>>8&255]^C[255&d]^u[m+1],l=v[h>>>24]^y[p>>16&255]^b[d>>8&255]^C[255&A]^u[m+2],p=v[p>>>24]^y[d>>16&255]^b[A>>8&255]^C[255&h]^u[m+3],m+=4,d=a,A=s,h=l;for(c=0;c<4;c++)r[(3&-c)+o]=_[d>>>24]<<24^_[A>>16&255]<<16^_[h>>8&255]<<8^_[255&p]^u[m++],a=d,d=A,A=h,h=p,p=a},e}(),l=function(e){function t(){var t;return(t=e.call(this,o)||this).jobs=[],t.delay=1,t.timeout_=null,t}r(t,e);var n=t.prototype;return n.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(o),c=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},u=function(){function e(t,n,i,r){var o=e.STEP,a=new Int32Array(t.buffer),s=new Uint8Array(t.byteLength),u=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(a.subarray(u,u+o),n,i,s)),u=o;u<a.length;u+=o)i=new Uint32Array([c(a[u-4]),c(a[u-3]),c(a[u-2]),c(a[u-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(u,u+o),n,i,s));this.asyncStream_.push((function(){var e;r(null,(e=s).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return e.prototype.decryptChunk_=function(e,t,n,i){return function(){var r=function(e,t,n){var i,r,o,a,l,u,d,A,h,p=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),f=new s(Array.prototype.slice.call(t)),m=new Uint8Array(e.byteLength),g=new Int32Array(m.buffer);for(i=n[0],r=n[1],o=n[2],a=n[3],h=0;h<p.length;h+=4)l=c(p[h]),u=c(p[h+1]),d=c(p[h+2]),A=c(p[h+3]),f.decrypt(l,u,d,A,g,h),g[h]=c(g[h]^i),g[h+1]=c(g[h+1]^r),g[h+2]=c(g[h+2]^o),g[h+3]=c(g[h+3]^a),i=l,r=u,o=d,a=A;return m}(e,t,n);i.set(r,e.byteOffset)}},n(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}(),d=("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).BigInt||Number;d("0x1"),d("0x100"),d("0x10000"),d("0x1000000"),d("0x100000000"),d("0x10000000000"),d("0x1000000000000"),d("0x100000000000000"),d("0x10000000000000000");self.onmessage=function(e){var t=e.data,n=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),i=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),r=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new u(n,i,r,(function(e,n){self.postMessage(function(e){var t={};return Object.keys(e).forEach((function(n){var i,r=e[n];i=r,("function"===ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r})),t}({source:t.source,decrypted:n}),[n.buffer])}))}}))),Dc=gl(xc),Pc=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},Rc=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},jc=function(e,t){t.activePlaylistLoader=e,e.load()},Lc={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e],r=t.blacklistCurrentPlaylist;Rc(n,i);var o=i.activeTrack(),a=i.activeGroup(),s=(a.filter((function(e){return e.default}))[0]||a[0]).id,l=i.tracks[s];if(o!==l){for(var c in Xa.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[c].enabled=i.tracks[c]===l;i.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e];Xa.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Rc(n,i);var r=i.activeTrack();r&&(r.mode="disabled"),i.onTrackChanged()}}},Mc={AUDIO:function(e,t,n){if(t){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,r),(!i.paused()||e.endList&&"none"!==i.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),r),i.paused()||o.load()})),t.on("error",Lc[e](e,n))}},SUBTITLES:function(e,t,n){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[e],a=n.mediaTypes[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,r),o.track(a.activeTrack()),(!i.paused()||e.endList&&"none"!==i.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),r),i.paused()||o.load()})),t.on("error",Lc[e](e,n))}},Oc={AUDIO:function(e,t){var n=t.vhs,i=t.sourceType,r=t.segmentLoaders[e],o=t.requestOptions,a=t.master.mediaGroups,s=t.mediaTypes[e],l=s.groups,c=s.tracks,u=s.logger_,d=t.masterPlaylistLoader,A=xs(d.master);for(var h in a[e]&&0!==Object.keys(a[e]).length||(a[e]={main:{default:{default:!0}}},A&&(a[e].main.default.playlists=d.master.playlists)),a[e])for(var p in l[h]||(l[h]=[]),a[e][h]){var f=a[e][h][p],m=void 0;if(A?(u("AUDIO group '"+h+"' label '"+p+"' is a master playlist"),f.isMasterPlaylist=!0,m=null):m="vhs-json"===i&&f.playlists?new Ws(f.playlists[0],n,o):f.resolvedUri?new Ws(f.resolvedUri,n,o):f.playlists&&"dash"===i?new pl(f.playlists[0],n,o,d):null,f=Xa.mergeOptions({id:p,playlistLoader:m},f),Mc[e](e,f.playlistLoader,t),l[h].push(f),void 0===c[p]){var g=new Xa.AudioTrack({id:p,kind:Pc(f),enabled:!1,language:f.language,default:f.default,label:p});c[p]=g}}r.on("error",Lc[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,i=t.vhs,r=t.sourceType,o=t.segmentLoaders[e],a=t.requestOptions,s=t.master.mediaGroups,l=t.mediaTypes[e],c=l.groups,u=l.tracks,d=t.masterPlaylistLoader;for(var A in s[e])for(var h in c[A]||(c[A]=[]),s[e][A])if(!s[e][A][h].forced){var p=s[e][A][h],f=void 0;if("hls"===r)f=new Ws(p.resolvedUri,i,a);else if("dash"===r){if(!p.playlists.filter((function(e){return e.excludeUntil!==1/0})).length)return;f=new pl(p.playlists[0],i,a,d)}else"vhs-json"===r&&(f=new Ws(p.playlists?p.playlists[0]:p.resolvedUri,i,a));if(p=Xa.mergeOptions({id:h,playlistLoader:f},p),Mc[e](e,p.playlistLoader,t),c[A].push(p),void 0===u[h]){var m=n.addRemoteTextTrack({id:h,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:h},!1).track;u[h]=m}}o.on("error",Lc[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,i=t.master.mediaGroups,r=t.mediaTypes[e],o=r.groups,a=r.tracks;for(var s in i[e])for(var l in o[s]||(o[s]=[]),i[e][s]){var c=i[e][s][l];if(/^(?:CC|SERVICE)/.test(c.instreamId)){var u=n.options_.vhs&&n.options_.vhs.captionServices||{},d={label:l,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(u[d.instreamId]&&(d=Xa.mergeOptions(d,u[d.instreamId])),void 0===d.default&&delete d.default,o[s].push(Xa.mergeOptions({id:l},c)),void 0===a[l]){var A=n.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;a[l]=A}}}}},Fc=function e(t,n){for(var i=0;i<t.length;i++){if(Is(n,t[i]))return!0;if(t[i].playlists&&e(t[i].playlists,n))return!0}return!1},Uc={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if("showing"===n[i].mode||"hidden"===n[i].mode)return n[i];return null}}},Qc=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Nc=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},qc=function(e){function t(t){var n;n=e.call(this)||this;var i=t.src,r=t.handleManifestRedirects,o=t.withCredentials,a=t.tech,s=t.bandwidth,l=t.externVhs,c=t.useCueTags,u=t.blacklistDuration,d=t.enableLowInitialPlaylist,A=t.sourceType,h=t.cacheEncryptionKeys,p=t.experimentalBufferBasedABR,f=t.experimentalLeastPixelDiffSelector,g=t.captionServices;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");var v=t.maxPlaylistRetries;null==v&&(v=1/0),rc=l,n.experimentalBufferBasedABR=Boolean(p),n.experimentalLeastPixelDiffSelector=Boolean(f),n.withCredentials=o,n.tech_=a,n.vhs_=a.vhs,n.sourceType_=A,n.useCueTags_=c,n.blacklistDuration=u,n.maxPlaylistRetries=v,n.enableLowInitialPlaylist=d,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:o,handleManifestRedirects:r,maxPlaylistRetries:v,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ic,activeTrack:ic,getActiveGroup:ic,onGroupChanged:ic,onTrackChanged:ic,lastTrack_:null,logger_:is("MediaGroups["+t+"]")}})),e}(),n.mediaSource=new(m().MediaSource),n.handleDurationChange_=n.handleDurationChange_.bind(C(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(C(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(C(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=Xa.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new Ic(t),n.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new Dc,n.sourceUpdater_=new Cc(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new Bc;var y={vhs:n.vhs_,parse708captions:t.parse708captions,useDtsForTimestampOffset:t.useDtsForTimestampOffset,captionServices:g,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:s,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:h,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:t.experimentalExactManifestTimings};n.masterPlaylistLoader_="dash"===n.sourceType_?new pl(i,n.vhs_,n.requestOptions_):new Ws(i,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new nc(Xa.mergeOptions(y,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new nc(Xa.mergeOptions(y,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new Tc(Xa.mergeOptions(y,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise((function(e,t){function n(){a.off("vttjserror",i),e()}function i(){a.off("vttjsloaded",n),t()}a.one("vttjsloaded",n),a.one("vttjserror",i),a.addWebVttScript_()}))}}),t),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",(function(){return n.startABRTimer_()})),n.tech_.on("pause",(function(){return n.stopABRTimer_()})),n.tech_.on("play",(function(){return n.startABRTimer_()}))),Qc.forEach((function(e){n[e+"_"]=Nc.bind(C(n),e)})),n.logger_=is("MPC"),n.triggeredFmp4Usage=!1,"none"===n.tech_.preload()?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1;var b="none"===n.tech_.preload()?"play":"loadstart";return n.tech_.one(b,(function(){var e=Date.now();n.tech_.one("loadeddata",(function(){n.timeToLoadedData__=Date.now()-e,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends}))})),n}w(t,e);var n=t.prototype;return n.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},n.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},n.appendsToLoadedData_=function(){var e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t},n.timeToLoadedData_=function(){return this.timeToLoadedData__},n.checkABR_=function(e){void 0===e&&(e="abr");var t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)},n.switchMedia_=function(e,t,n){var i=this.media(),r=i&&(i.id||i.uri),o=e.id||e.uri;r&&r!==o&&(this.logger_("switch media "+r+" -> "+o+" from "+t),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+t})),this.masterPlaylistLoader_.media(e,n)},n.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=m().setInterval((function(){return e.checkABR_()}),250)},n.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(m().clearInterval(this.abrTimer_),this.abrTimer_=null)},n.getAudioTrackPlaylists_=function(){var e=this.master(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;var n,i=e.mediaGroups.AUDIO,r=Object.keys(i);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)n=this.mediaTypes_.AUDIO.activeTrack();else{var o=i.main||r.length&&i[r[0]];for(var a in o)if(o[a].default){n={label:a};break}}if(!n)return t;var s=[];for(var l in i)if(i[l][n.label]){var c=i[l][n.label];if(c.playlists&&c.playlists.length)s.push.apply(s,c.playlists);else if(c.uri)s.push(c);else if(e.playlists.length)for(var u=0;u<e.playlists.length;u++){var d=e.playlists[u];d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===l&&s.push(d)}}return s.length?s:t},n.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;ks(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){Oc[t](t,e)}));var t=e.mediaTypes,n=e.masterPlaylistLoader,i=e.tech,r=e.vhs,o=e.segmentLoaders,a=o.AUDIO,s=o.main;["AUDIO","SUBTITLES"].forEach((function(n){t[n].activeGroup=function(e,t){return function(n){var i=t.masterPlaylistLoader,r=t.mediaTypes[e].groups,o=i.media();if(!o)return null;var a=null;o.attributes[e]&&(a=r[o.attributes[e]]);var s=Object.keys(r);if(!a)if("AUDIO"===e&&s.length>1&&xs(t.master))for(var l=0;l<s.length;l++){var c=r[s[l]];if(Fc(c,o)){a=c;break}}else r.main?a=r.main:1===s.length&&(a=r[s[0]]);return void 0===n?a:null!==n&&a&&a.filter((function(e){return e.id===n.id}))[0]||null}}(n,e),t[n].activeTrack=Uc[n](n,e),t[n].onGroupChanged=function(e,t){return function(){var n=t.segmentLoaders,i=n[e],r=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.getActiveGroup(),l=o.activePlaylistLoader,c=o.lastGroup_;s&&c&&s.id===c.id||(o.lastGroup_=s,o.lastTrack_=a,Rc(i,o),s&&!s.isMasterPlaylist&&(s.playlistLoader?(i.resyncLoader(),jc(s.playlistLoader,o)):l&&r.resetEverything()))}}(n,e),t[n].onGroupChanging=function(e,t){return function(){var n=t.segmentLoaders[e];t.mediaTypes[e].lastGroup_=null,n.abort(),n.pause()}}(n,e),t[n].onTrackChanged=function(e,t){return function(){var n=t.masterPlaylistLoader,i=t.segmentLoaders,r=i[e],o=i.main,a=t.mediaTypes[e],s=a.activeTrack(),l=a.getActiveGroup(),c=a.activePlaylistLoader,u=a.lastTrack_;if((!u||!s||u.id!==s.id)&&(a.lastGroup_=l,a.lastTrack_=s,Rc(r,a),l)){if(l.isMasterPlaylist){if(!s||!u||s.id===u.id)return;var d=t.vhs.masterPlaylistController_,A=d.selectPlaylist();if(d.media()===A)return;return a.logger_("track change. Switching master audio from "+u.id+" to "+s.id),n.pause(),o.resetEverything(),void d.fastQualityChange_(A)}if("AUDIO"===e){if(!l.playlistLoader)return o.setAudio(!0),void o.resetEverything();r.setAudio(!0),o.setAudio(!1)}c!==l.playlistLoader?(r.track&&r.track(s),r.resetEverything(),jc(l.playlistLoader,a)):jc(l.playlistLoader,a)}}}(n,e),t[n].getActiveGroup=function(e,t){var n=t.mediaTypes;return function(){var t=n[e].activeTrack();return t?n[e].activeGroup(t):null}}(n,e)}));var l=t.AUDIO.activeGroup();if(l){var c=(l.filter((function(e){return e.default}))[0]||l[0]).id;t.AUDIO.tracks[c].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),a.setAudio(!0)):s.setAudio(!0)}n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanged()}))})),n.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanging()}))}));var u=function(){t.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"}),i.trigger({type:"usage",name:"hls-audio-change"})};for(var d in i.audioTracks().addEventListener("change",u),i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispose",(function(){i.audioTracks().removeEventListener("change",u),i.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),i.clearTracks("audio"),t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[d])}({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,vhs:e.vhs_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){e.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){e.loadOnPlay_&&e.tech_.off("play",e.loadOnPlay_);var t=e.masterPlaylistLoader_.media();if(!t){var n;if(e.excludeUnsupportedVariants_(),e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),!n||!e.shouldSwitchToMedia_(n))return;if(e.initialMedia_=n,e.switchMedia_(e.initialMedia_,"initial"),"vhs-json"!==e.sourceType_||!e.initialMedia_.segments)return;t=e.initialMedia_}e.handleUpdatedMediaPlaylist(t)})),this.masterPlaylistLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;ks(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.masterPlaylistLoader_.load(),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var t=e.masterPlaylistLoader_.media();"playlist-unchanged"!==t.lastExcludeReason_&&e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),e.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},n.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(e,t){var n=e.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var o in n.AUDIO)for(var a in n.AUDIO[o])n.AUDIO[o][a].uri||(i=!1);i&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(n.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),rc.Playlist.isAes(t)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.shouldSwitchToMedia_=function(e){var t=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),r=this.bufferHighWaterLine();return function(e){var t=e.currentPlaylist,n=e.buffered,i=e.currentTime,r=e.nextPlaylist,o=e.bufferLowWaterLine,a=e.bufferHighWaterLine,s=e.duration,l=e.experimentalBufferBasedABR,c=e.log;if(!r)return Xa.log.warn("We received no playlist to switch to. Please check your stream."),!1;var u="allowing switch "+(t&&t.id||"null")+" -> "+r.id;if(!t)return c(u+" as current playlist is not set"),!0;if(r.id===t.id)return!1;var d=Boolean(ss(n,i).length);if(!t.endList)return d||"number"!=typeof t.partTargetDuration?(c(u+" as current playlist is live"),!0):(c("not "+u+" as current playlist is live llhls, but currentTime isn't in buffered."),!1);var A=As(n,i),h=l?fl.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:fl.MAX_BUFFER_LOW_WATER_LINE;if(s<h)return c(u+" as duration < max low water line ("+s+" < "+h+")"),!0;var p=r.attributes.BANDWIDTH,f=t.attributes.BANDWIDTH;if(p<f&&(!l||A<a)){var m=u+" as next bandwidth < current bandwidth ("+p+" < "+f+")";return l&&(m+=" and forwardBuffer < bufferHighWaterLine ("+A+" < "+a+")"),c(m),!0}if((!l||p>f)&&A>=o){var g=u+" as forwardBuffer >= bufferLowWaterLine ("+A+" >= "+o+")";return l&&(g+=" and next bandwidth > current bandwidth ("+p+" > "+f+")"),c(g),!0}return c("not "+u+" as no switching criteria met"),!1}({buffered:this.tech_.buffered(),currentTime:n,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:r,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},n.setupSegmentLoaderListeners_=function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){e.checkABR_("bandwidthupdate"),e.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("timeout",(function(){e.experimentalBufferBasedABR&&e.mainSegmentLoader_.load()})),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",(function(){e.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){e.logger_("main segment loader ended"),e.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(t){e.experimentalBufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))}));var t=function(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var t=e.getCodecsOrExclude_();t&&e.sourceUpdater_.addOrChangeSourceBuffers(t)};this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()}))},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),this.fastQualityChange_(e)},n.fastQualityChange_=function(e){var t=this;void 0===e&&(e=this.selectPlaylist()),e!==this.masterPlaylistLoader_.media()?(this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverything((function(){Xa.browser.IE_VERSION||Xa.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))):this.logger_("skipping fastQualityChange because new media is same as old")},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}},n.setupFirstPlay=function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(Xa.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){e.trigger("firstplay"),e.tech_.setCurrentTime(n.end(0)),e.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(n.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,(function(e){}))}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var e=this.inbandTextTracks_.metadataTrack_.cues;if(e&&e.length){var t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},n.stuckAtPlaylistEnd_=function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;var n=rc.Playlist.playlistEnd(e,t),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=os;var o=r.end(r.length-1);return o-i<=os&&n-o<=os},n.blacklistCurrentPlaylist=function(e,t){void 0===e&&(e={});var n=e.playlist||this.masterPlaylistLoader_.media();if(t=t||e.blacklistDuration||this.blacklistDuration,!n)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));n.playlistErrors_++;var i,r=this.masterPlaylistLoader_.master.playlists,o=r.filter(Ts),a=1===o.length&&o[0]===n;if(1===r.length&&t!==1/0)return Xa.log.warn("Problem encountered with playlist "+n.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(a);if(a){var s=!1;r.forEach((function(e){if(e!==n){var t=e.excludeUntil;void 0!==t&&t!==1/0&&(s=!0,delete e.excludeUntil)}})),s&&(Xa.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}i=n.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*t,n.excludeUntil=i,e.reason&&(n.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var l=this.selectPlaylist();if(!l)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var c=e.internal?this.logger_:Xa.log.warn,u=e.message?" "+e.message:"";c((e.internal?"Internal problem":"Problem")+" encountered with playlist "+n.id+"."+u+" Switching to playlist "+l.id+"."),l.attributes.AUDIO!==n.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==n.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var d=l.targetDuration/2*1e3||5e3,A="number"==typeof l.lastRequest&&Date.now()-l.lastRequest<=d;return this.switchMedia_(l,"exclude",a||A)},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},n.delegateLoaders_=function(e,t){var n=this,i=[],r="all"===e;(r||"main"===e)&&i.push(this.masterPlaylistLoader_);var o=[];(r||"audio"===e)&&o.push("AUDIO"),(r||"subtitle"===e)&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach((function(e){var t=n.mediaTypes_[e]&&n.mediaTypes_[e].activePlaylistLoader;t&&i.push(t)})),["main","audio","subtitle"].forEach((function(t){var r=n[t+"SegmentLoader_"];!r||e!==t&&"all"!==e||i.push(r)})),i.forEach((function(e){return t.forEach((function(t){"function"==typeof e[t]&&e[t]()}))}))},n.setCurrentTime=function(e){var t=ss(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:rc.Playlist.duration(e):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var t=this.masterPlaylistLoader_.media();if(t){var n=this.syncController_.getExpiredTime(t,this.duration());if(null!==n){var i=this.masterPlaylistLoader_.master,r=rc.Playlist.seekable(t,n,rc.Playlist.liveEdgeDelay(i,t));if(0!==r.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(t,this.duration())))return;if(0===(e=rc.Playlist.seekable(t,n,rc.Playlist.liveEdgeDelay(i,t))).length)return}var o,a;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>r.end(0)||r.start(0)>e.end(0)?this.seekable_=r:this.seekable_=Xa.createTimeRanges([[e.start(0)>r.start(0)?e.start(0):r.start(0),e.end(0)<r.end(0)?e.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+cs(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var t=this.seekable();if(!t.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))}else{var n=this.tech_.buffered(),i=rc.Playlist.duration(this.masterPlaylistLoader_.media());n.length>0&&(i=Math.max(i,n.end(n.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}},n.dispose=function(){var e=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((function(t){var n=e.mediaTypes_[t].groups;for(var i in n)n[i].forEach((function(e){e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!n)},n.getCodecsOrExclude_=function(){var e=this,t={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();t.video=t.main;var i=Nl(this.master(),n),r={},o=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(r.video=i.video||t.main.videoCodec||"avc1.4d400d"),t.main.isMuxed&&(r.video+=","+(i.audio||t.main.audioCodec||re)),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||o)&&(r.audio=i.audio||t.main.audioCodec||t.audio.audioCodec||re,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),r.audio||r.video){var a,s={};if(["video","audio"].forEach((function(e){if(r.hasOwnProperty(e)&&(i=t[e].isFmp4,o=r[e],!(i?ne(o):ie(o)))){var n=t[e].isFmp4?"browser":"muxer";s[n]=s[n]||[],s[n].push(r[e]),"audio"===e&&(a=n)}var i,o})),o&&a&&n.attributes.AUDIO){var l=n.attributes.AUDIO;this.master().playlists.forEach((function(e){(e.attributes&&e.attributes.AUDIO)===l&&e!==n&&(e.excludeUntil=1/0)})),this.logger_("excluding audio group "+l+" as "+a+' does not support codec(s): "'+r.audio+'"')}if(!Object.keys(s).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var c=[];if(["video","audio"].forEach((function(t){var n=($(e.sourceUpdater_.codecs[t]||"")[0]||{}).type,i=($(r[t]||"")[0]||{}).type;n&&i&&n.toLowerCase()!==i.toLowerCase()&&c.push('"'+e.sourceUpdater_.codecs[t]+'" -> "'+r[t]+'"')})),c.length)return void this.blacklistCurrentPlaylist({playlist:n,message:"Codec switching not supported: "+c.join(", ")+".",blacklistDuration:1/0,internal:!0})}return r}var u=Object.keys(s).reduce((function(e,t){return e&&(e+=", "),e+(t+' does not support codec(s): "')+s[t].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({playlist:n,internal:!0,message:u,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:n,message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},n.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var e=this.getCodecsOrExclude_();if(e){this.sourceUpdater_.createSourceBuffers(e);var t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}}},n.excludeUnsupportedVariants_=function(){var e=this,t=this.master().playlists,n=[];Object.keys(t).forEach((function(i){var r=t[i];if(-1===n.indexOf(r.id)){n.push(r.id);var o=Nl(e.master,r),a=[];!o.audio||ie(o.audio)||ne(o.audio)||a.push("audio codec "+o.audio),!o.video||ie(o.video)||ne(o.video)||a.push("video codec "+o.video),o.text&&"stpp.ttml.im1t"===o.text&&a.push("text codec "+o.text),a.length&&(r.excludeUntil=1/0,e.logger_("excluding "+r.id+" for unsupported: "+a.join(", ")))}}))},n.excludeIncompatibleVariants_=function(e){var t=this,n=[],i=this.master().playlists,r=Ul($(e)),o=Ql(r),a=r.video&&$(r.video)[0]||null,s=r.audio&&$(r.audio)[0]||null;Object.keys(i).forEach((function(e){var r=i[e];if(-1===n.indexOf(r.id)&&r.excludeUntil!==1/0){n.push(r.id);var l=[],c=Nl(t.masterPlaylistLoader_.master,r),u=Ql(c);if(c.audio||c.video){if(u!==o&&l.push('codec count "'+u+'" !== "'+o+'"'),!t.sourceUpdater_.canChangeType()){var d=c.video&&$(c.video)[0]||null,A=c.audio&&$(c.audio)[0]||null;d&&a&&d.type.toLowerCase()!==a.type.toLowerCase()&&l.push('video codec "'+d.type+'" !== "'+a.type+'"'),A&&s&&A.type.toLowerCase()!==s.type.toLowerCase()&&l.push('audio codec "'+A.type+'" !== "'+s.type+'"')}l.length&&(r.excludeUntil=1/0,t.logger_("blacklisting "+r.id+": "+l.join(" && ")))}}}))},n.updateAdCues_=function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),function(e,t,n){if(void 0===n&&(n=0),e.segments)for(var i,r=n,o=0;o<e.segments.length;o++){var a=e.segments[o];if(i||(i=Sc(t,r+a.duration/2)),i){if("cueIn"in a){i.endTime=r,i.adEndTime=r,r+=a.duration,i=null;continue}if(r<i.endTime){r+=a.duration;continue}i.endTime+=a.duration}else if("cueOut"in a&&((i=new(m().VTTCue)(r,r+a.duration,a.cueOut)).adStartTime=r,i.adEndTime=r+parseFloat(a.cueOut),t.addCue(i)),"cueOutCont"in a){var s=a.cueOutCont.split("/").map(parseFloat),l=s[0],c=s[1];(i=new(m().VTTCue)(r,r+a.duration,"")).adStartTime=r-l,i.adEndTime=i.adStartTime+c,t.addCue(i)}r+=a.duration}}(e,this.cueTagsTrack_,t)},n.goalBufferLength=function(){var e=this.tech_.currentTime(),t=fl.GOAL_BUFFER_LENGTH,n=fl.GOAL_BUFFER_LENGTH_RATE,i=Math.max(t,fl.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,i)},n.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),t=fl.BUFFER_LOW_WATER_LINE,n=fl.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(t,fl.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(t,fl.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,this.experimentalBufferBasedABR?r:i)},n.bufferHighWaterLine=function(){return fl.BUFFER_HIGH_WATER_LINE},t}(Xa.EventTarget),zc=function(e,t,n){var i,r,o,a=e.masterPlaylistController_,s=a[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(a);if(t.attributes){var l=t.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]}this.codecs=Nl(a.master(),t),this.playlist=t,this.id=n,this.enabled=(i=e.playlists,r=t.id,o=s,function(e){var t=i.master.playlists[r],n=ws(t),a=Ts(t);return void 0===e?a:(e?delete t.disabled:t.disabled=!0,e===a||n||(o(),e?i.trigger("renditionenabled"):i.trigger("renditiondisabled")),e)})},Gc=["seeking","seeked","pause","playing","error"],Hc=function(){function e(e){var t=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=is("PlaybackWatcher"),this.logger_("initialize");var n=function(){return t.monitorCurrentTime_()},i=function(){return t.monitorCurrentTime_()},r=function(){return t.techWaiting_()},o=function(){return t.cancelTimer_()},a=this.masterPlaylistController_,s=["main","subtitle","audio"],l={};s.forEach((function(e){l[e]={reset:function(){return t.resetSegmentDownloads_(e)},updateend:function(){return t.checkSegmentDownloads_(e)}},a[e+"SegmentLoader_"].on("appendsdone",l[e].updateend),a[e+"SegmentLoader_"].on("playlistupdate",l[e].reset),t.tech_.on(["seeked","seeking"],l[e].reset)}));var c=function(e){["main","audio"].forEach((function(n){a[n+"SegmentLoader_"][e]("appended",t.seekingAppendCheck_)}))};this.seekingAppendCheck_=function(){t.fixesBadSeeks_()&&(t.consecutiveUpdates=0,t.lastRecordedTime=t.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=function(){return c("off")},this.watchForBadSeeking_=function(){t.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",r),this.tech_.on(Gc,o),this.tech_.on("canplay",i),this.tech_.one("play",n),this.dispose=function(){t.clearSeekingAppendCheck_(),t.logger_("dispose"),t.tech_.off("waiting",r),t.tech_.off(Gc,o),t.tech_.off("canplay",i),t.tech_.off("play",n),t.tech_.off("seeking",t.watchForBadSeeking_),t.tech_.off("seeked",t.clearSeekingAppendCheck_),s.forEach((function(e){a[e+"SegmentLoader_"].off("appendsdone",l[e].updateend),a[e+"SegmentLoader_"].off("playlistupdate",l[e].reset),t.tech_.off(["seeked","seeking"],l[e].reset)})),t.checkCurrentTimeTimeout_&&m().clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}var t=e.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&m().clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=m().setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(e){var t=this.masterPlaylistController_[e+"SegmentLoader_"];this[e+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+e+" loader"),this[e+"StalledDownloads_"]=0,this[e+"Buffered_"]=t.buffered_()},t.checkSegmentDownloads_=function(e){var t=this.masterPlaylistController_,n=t[e+"SegmentLoader_"],i=n.buffered_(),r=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1}(this[e+"Buffered_"],i);this[e+"Buffered_"]=i,r?this.resetSegmentDownloads_(e):(this[e+"StalledDownloads_"]++,this.logger_("found #"+this[e+"StalledDownloads_"]+" "+e+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:us(i)}),this[e+"StalledDownloads_"]<10||(this.logger_(e+" loader stalled download exclusion"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-"+e+"-download-exclusion"}),"subtitle"!==e&&t.blacklistCurrentPlaylist({message:"Excessive "+e+" segment downloading detected."},1/0)))},t.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+os>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),n=this.tech_.currentTime();if(this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1)),this.beforeSeekableWindow_(t,n)){var i=t.start(0);e=i+(i===t.end(0)?0:os)}if(void 0!==e)return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+cs(t)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;for(var r=this.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),a=r.audioBuffer?r.audioBuffered():null,s=r.videoBuffer?r.videoBuffered():null,l=this.media(),c=l.partTargetDuration?l.partTargetDuration:2*(l.targetDuration-rs),u=[a,s],d=0;d<u.length;d++)if(u[d]&&As(u[d],n)<c)return!1;var A=ls(o,n);return 0!==A.length&&(e=A.start(0)+os,this.logger_("Buffered region starts ("+A.start(0)+")  just beyond seek point ("+n+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},t.waiting_=function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=ss(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},t.techWaiting_=function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:t}))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var o=ls(r,t);if(o.length>0){var a=o.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+a+", seeking to "+o.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,t),!0}return!1},t.afterSeekableWindow_=function(e,t,n,i){if(void 0===i&&(i=!1),!e.length)return!1;var r=e.end(e.length-1)+os;return!n.endList&&i&&(r=e.end(e.length-1)+3*n.targetDuration),t>r},t.beforeSeekableWindow_=function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)},t.videoUnderflow_=function(e){var t=e.videoBuffered,n=e.audioBuffered,i=e.currentTime;if(t){var r;if(t.length&&n.length){var o=ss(t,i-3),a=ss(t,i),s=ss(n,i);s.length&&!a.length&&o.length&&(r={start:o.end(0),end:s.end(0)})}else ls(t,i).length||(r=this.gapFromVideoUnderflow_(t,i));return!!r&&(this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+i),!0)}},t.skipTheGap_=function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),i=ls(t,n);this.cancelTimer_(),0!==i.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+rs),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},t.gapFromVideoUnderflow_=function(e,t){for(var n=function(e){if(e.length<2)return Xa.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var i=e.end(n-1),r=e.start(n);t.push([i,r])}return Xa.createTimeRanges(t)}(e),i=0;i<n.length;i++){var r=n.start(i),o=n.end(i);if(t-r<4&&t-r>2)return{start:r,end:o}}return null},e}(),Wc={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Vc=function e(t,n){var i=0,r=0,o=Xa.mergeOptions(Wc,n);t.ready((function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function(){r&&t.currentTime(r)},s=function(e){null!=e&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(e),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){return Date.now()-i<1e3*o.errorInterval?(t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void t.trigger({type:"usage",name:"hls-error-reload-canceled"})):o.getSource&&"function"==typeof o.getSource?(i=Date.now(),o.getSource.call(t,s)):void Xa.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},c=function e(){t.off("loadedmetadata",a),t.off("error",l),t.off("dispose",e)};t.on("error",l),t.on("dispose",c),t.reloadSourceOnError=function(n){c(),e(t,n)}},Yc="2.16.2",Jc={PlaylistLoader:Ws,Playlist:Ds,utils:ol,STANDARD_PLAYLIST_SELECTOR:Yl,INITIAL_PLAYLIST_SELECTOR:function(){var e=this,t=this.playlists.master.playlists.filter(Ds.isEnabled);return Hl(t,(function(e,t){return Wl(e,t)})),t.filter((function(t){return!!Nl(e.playlists.master,t).video}))[0]||null},lastBandwidthSelector:Yl,movingAverageBandwidthSelector:function(e){var t=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var i=this.useDevicePixelRatio&&m().devicePixelRatio||1;return t<0&&(t=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(t=e*this.systemBandwidth+(1-e)*t,n=this.systemBandwidth),Vl(this.playlists.master,t,parseInt(Gl(this.tech_.el(),"width"),10)*i,parseInt(Gl(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:Wl,comparePlaylistResolution:function(e,t){var n,i;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||m().Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),n===(i=i||m().Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},xhr:Ks()};Object.keys(fl).forEach((function(e){Object.defineProperty(Jc,e,{get:function(){return Xa.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),fl[e]},set:function(t){Xa.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?Xa.log.warn("value of Vhs."+e+" must be greater than or equal to 0"):fl[e]=t}})}));var Kc="videojs-vhs",Zc=function(e,t){for(var n=t.media(),i=-1,r=0;r<e.length;r++)if(e[r].id===n.id){i=r;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})};Jc.canPlaySource=function(){return Xa.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Xc=function(){if(!m().localStorage)return null;var e=m().localStorage.getItem(Kc);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}};Jc.supportsNativeHls=function(){if(!v()||!v().createElement)return!1;var e=v().createElement("video");return!!Xa.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),Jc.supportsNativeDash=!!(v()&&v().createElement&&Xa.getTech("Html5").isSupported())&&/maybe|probably/i.test(v().createElement("video").canPlayType("application/dash+xml")),Jc.supportsTypeNatively=function(e){return"hls"===e?Jc.supportsNativeHls:"dash"===e&&Jc.supportsNativeDash},Jc.isSupported=function(){return Xa.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var $c=function(e){function t(t,n,i){var r;if(r=e.call(this,n,Xa.mergeOptions(i.hls,i.vhs))||this,i.hls&&Object.keys(i.hls).length&&Xa.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),"number"==typeof i.initialBandwidth&&(r.options_.bandwidth=i.initialBandwidth),r.logger_=is("VhsHandler"),n.options_&&n.options_.playerId){var o=Xa(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return Xa.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),C(r)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return Xa.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),C(r)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return Xa.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),C(r)},configurable:!0}),r.player_=o}if(r.tech_=n,r.source_=t,r.stats={},r.ignoreNextSeekingEvent_=!1,r.setOptions_(),r.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return r.on(v(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(e){var t=v().fullscreenElement||v().webkitFullscreenElement||v().mozFullScreenElement||v().msFullscreenElement;t&&t.contains(r.tech_.el())?r.masterPlaylistController_.fastQualityChange_():r.masterPlaylistController_.checkABR_()})),r.on(r.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),r.on(r.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),r.on(r.tech_,"play",r.play),r}w(t,e);var n=t.prototype;return n.setOptions_=function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=Xc();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=fl.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===fl.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach((function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(e,t){var n=this;if(e){var i;this.setOptions_(),this.options_.src=0===(i=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(i.substring(i.indexOf(",")+1)):i,this.options_.tech=this.tech_,this.options_.externVhs=Jc,this.options_.sourceType=se(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e)},this.options_.smoothQualityChange&&Xa.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new qc(this.options_);var r=Xa.mergeOptions({liveRangeSafeTimeDelta:os},this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new Hc(r),this.masterPlaylistController_.on("error",(function(){var e=Xa.players[n.tech_.options_.playerId],t=n.masterPlaylistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));var o=this.options_.experimentalBufferBasedABR?Jc.movingAverageBandwidthSelector(.55):Jc.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):o.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Jc.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var e=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,t=m().navigator.connection||m().navigator.mozConnection||m().navigator.webkitConnection,n=1e7;if(this.options_.useNetworkInformationApi&&t){var i=1e3*t.downlink*1e3;e=i>=n&&e>=n?Math.max(e,i):i}return e},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e,t=1/(this.bandwidth||1);return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){Xa.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return n.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return n.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return n.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return us(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return us(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){n.options_.useBandwidthFromLocalStorage&&function(e){if(!m().localStorage)return!1;var t=Xc();t=t?Xa.mergeOptions(t,e):e;try{m().localStorage.setItem(Kc,JSON.stringify(t))}catch(e){return!1}}({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e;(e=n).representations=function(){var t=e.masterPlaylistController_.master(),n=xs(t)?e.masterPlaylistController_.getAudioTrackPlaylists_():t.playlists;return n?n.filter((function(e){return!ws(e)})).map((function(t,n){return new zc(e,t,t.id)})):[]}})),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",(function(){n.setupEme_()})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=m().URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},n.createKeySessions_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),function(e){var t=e.player,n=e.sourceKeySystems,i=e.audioMedia,r=e.mainPlaylists;if(!t.eme.initializeMediaKeys)return Promise.resolve();var o,a,s=(o=i?r.concat([i]):r,a=Object.keys(n),o.reduce((function(e,t){if(!t.contentProtection)return e;var n=a.reduce((function(e,n){var i=t.contentProtection[n];return i&&i.pssh&&(e[n]={pssh:i.pssh}),e}),{});return Object.keys(n).length&&e.push(n),e}),[])),l=[],c=[];return s.forEach((function(e){c.push(new Promise((function(e,n){t.tech_.one("keysessioncreated",e)}))),l.push(new Promise((function(n,i){t.eme.initializeMediaKeys({keySystems:e},(function(e){e?i(e):n()}))})))})),Promise.race([Promise.all(l),Promise.race(c)])}({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:t&&t.media(),mainPlaylists:this.playlists.master.playlists}).then((function(){e.logger_("created EME key session"),e.masterPlaylistController_.sourceUpdater_.initializedEme()})).catch((function(t){e.logger_("error while creating EME key session",t),e.player_.error({message:"Failed to initialize media keys for EME",code:3})}))},n.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},n.setupEme_=function(){var e,t,n,i=this,r=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,o=(e={player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:r&&r.media()},t=e.player,!(!(n=function(e,t,n){if(!e)return e;var i={};t&&t.attributes&&t.attributes.CODECS&&(i=Ul($(t.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(i.audio=n.attributes.CODECS);var r=te(i.video),o=te(i.audio),a={};for(var s in e)a[s]={},o&&(a[s].audioContentType=o),r&&(a[s].videoContentType=r),t.contentProtection&&t.contentProtection[s]&&t.contentProtection[s].pssh&&(a[s].pssh=t.contentProtection[s].pssh),"string"==typeof e[s]&&(a[s].url=e[s]);return Xa.mergeOptions(e,a)}(e.sourceKeySystems,e.media,e.audioMedia))||(t.currentSource().keySystems=n,n&&!t.eme&&(Xa.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1))));this.player_.tech_.on("keystatuschange",(function(e){if("output-restricted"===e.status){var t=i.masterPlaylistController_.master();if(t&&t.playlists){var n,r=[];t.playlists.forEach((function(e){e&&e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height>=720&&(!e.excludeUntil||e.excludeUntil<1/0)&&(e.excludeUntil=1/0,r.push(e))})),r.length&&((n=Xa.log).warn.apply(n,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(r)),i.masterPlaylistController_.fastQualityChange_())}}})),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==Xa.browser.IE_VERSION&&o?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},n.setupQualityLevels_=function(){var e=this,t=Xa.players[this.tech_.options_.playerId];t&&t.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,n;t=e.qualityLevels_,(n=e).representations().forEach((function(e){t.addQualityLevel(e)})),Zc(t,n.playlists)})),this.playlists.on("mediachange",(function(){Zc(e.qualityLevels_,e.playlists)})))},t.version=function(){return{"@videojs/http-streaming":Yc,"mux.js":"6.0.1","mpd-parser":"0.22.1","m3u8-parser":"4.8.0","aes-decrypter":"3.1.3"}},n.version=function(){return this.constructor.version()},n.canChangeType=function(){return Cc.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&m().URL.revokeObjectURL&&(m().URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),e.prototype.dispose.call(this)},n.convertToProgramTime=function(e,t){return function(e){var t=e.playlist,n=e.time,i=void 0===n?void 0:n,r=e.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===i)return r({message:"getProgramTime: playlist and time must be provided"});var o=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var n,i=0,r=0;r<t.segments.length&&!(e<=(i=(n=t.segments[r]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration));r++);var o=t.segments[t.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+.25*o.duration)return null;n=o}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(i,t);if(!o)return r({message:"valid programTime was not found"});if("estimate"===o.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var a={mediaSeconds:i},s=function(e,t){if(!t.dateTimeObject)return null;var n=t.videoTimingInfo.transmuxerPrependedSeconds,i=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*i)}(i,o.segment);return s&&(a.programDateTime=s.toISOString()),r(null,a)}({playlist:this.masterPlaylistController_.media(),time:e,callback:t})},n.seekToProgramTime=function(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=2),al({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})},t}(Xa.getComponent("Component")),eu={name:"videojs-http-streaming",VERSION:Yc,canHandleSource:function(e,t){void 0===t&&(t={});var n=Xa.mergeOptions(Xa.options,t);return eu.canPlayType(e.type,n)},handleSource:function(e,t,n){void 0===n&&(n={});var i=Xa.mergeOptions(Xa.options,n);return t.vhs=new $c(e,t,i),Xa.hasOwnProperty("hls")||Object.defineProperty(t,"hls",{get:function(){return Xa.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),t.vhs},configurable:!0}),t.vhs.xhr=Ks(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function(e,t){var n=se(e);if(!n)return"";var i=eu.getOverrideNative(t);return!Jc.supportsTypeNatively(n)||i?"maybe":""},getOverrideNative:function(e){void 0===e&&(e={});var t=e,n=t.vhs,i=void 0===n?{}:n,r=t.hls,o=void 0===r?{}:r,a=!(Xa.browser.IS_ANY_SAFARI||Xa.browser.IS_IOS),s=i.overrideNative,l=void 0===s?a:s,c=o.overrideNative;return void 0!==c&&c||l}};ne("avc1.4d400d,mp4a.40.2")&&Xa.getTech("Html5").registerSourceHandler(eu,0),Xa.VhsHandler=$c,Object.defineProperty(Xa,"HlsHandler",{get:function(){return Xa.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),$c},configurable:!0}),Xa.VhsSourceHandler=eu,Object.defineProperty(Xa,"HlsSourceHandler",{get:function(){return Xa.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),eu},configurable:!0}),Xa.Vhs=Jc,Object.defineProperty(Xa,"Hls",{get:function(){return Xa.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Jc},configurable:!0}),Xa.use||(Xa.registerComponent("Hls",Jc),Xa.registerComponent("Vhs",Jc)),Xa.options.vhs=Xa.options.vhs||{},Xa.options.hls=Xa.options.hls||{},Xa.getPlugin&&Xa.getPlugin("reloadSourceOnError")||(Xa.registerPlugin||Xa.plugin)("reloadSourceOnError",(function(e){Vc(this,e)}));const tu=Xa;var nu=__webpack_require__(1002),iu=__webpack_require__(5671),ru=__webpack_require__(3144),ou=function(){function e(){(0,iu.Z)(this,e)}return(0,ru.Z)(e,null,[{key:"install",value:function(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t},"function"!=typeof self.Promise&&__webpack_require__(2702).polyfill()}}]),e}();ou.install();const au=ou;var su=__webpack_require__(7187),lu=__webpack_require__.n(su),cu=function(){function e(){(0,iu.Z)(this,e)}return(0,ru.Z)(e,null,[{key:"e",value:function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var i="[".concat(t,"] > ").concat(n);e.ENABLE_CALLBACK&&e.emitter.emit("log","error",i),e.ENABLE_ERROR&&(console.error?console.error(i):console.warn?console.warn(i):console.log(i))}},{key:"i",value:function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var i="[".concat(t,"] > ").concat(n);e.ENABLE_CALLBACK&&e.emitter.emit("log","info",i),e.ENABLE_INFO&&(console.info?console.info(i):console.log(i))}},{key:"w",value:function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var i="[".concat(t,"] > ").concat(n);e.ENABLE_CALLBACK&&e.emitter.emit("log","warn",i),e.ENABLE_WARN&&(console.warn?console.warn(i):console.log(i))}},{key:"d",value:function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var i="[".concat(t,"] > ").concat(n);e.ENABLE_CALLBACK&&e.emitter.emit("log","debug",i),e.ENABLE_DEBUG&&(console.debug?console.debug(i):console.log(i))}},{key:"v",value:function(t,n){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var i="[".concat(t,"] > ").concat(n);e.ENABLE_CALLBACK&&e.emitter.emit("log","verbose",i),e.ENABLE_VERBOSE&&console.log(i)}}]),e}();cu.GLOBAL_TAG="flv.js",cu.FORCE_GLOBAL_TAG=!1,cu.ENABLE_ERROR=!0,cu.ENABLE_INFO=!0,cu.ENABLE_WARN=!0,cu.ENABLE_DEBUG=!0,cu.ENABLE_VERBOSE=!0,cu.ENABLE_CALLBACK=!1,cu.emitter=new(lu());const uu=cu,du=function(){function e(){(0,iu.Z)(this,e),this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return(0,ru.Z)(e,[{key:"reset",value:function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0}},{key:"addBytes",value:function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())}},{key:"currentKBps",get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024}},{key:"lastSecondKBps",get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0}},{key:"averageKBps",get:function(){var e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024}}]),e}();function Au(e,t){if(t&&("object"===(0,nu.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function hu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=xt(e);if(t){var r=xt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Au(this,n)}}var pu=function(){function e(t){(0,iu.Z)(this,e),this._message=t}return(0,ru.Z)(e,[{key:"name",get:function(){return"RuntimeException"}},{key:"message",get:function(){return this._message}},{key:"toString",value:function(){return this.name+": "+this.message}}]),e}(),fu=function(e){P(n,e);var t=hu(n);function n(e){return(0,iu.Z)(this,n),t.call(this,e)}return(0,ru.Z)(n,[{key:"name",get:function(){return"IllegalStateException"}}]),n}(pu),mu=function(e){P(n,e);var t=hu(n);function n(e){return(0,iu.Z)(this,n),t.call(this,e)}return(0,ru.Z)(n,[{key:"name",get:function(){return"InvalidArgumentException"}}]),n}(pu),gu=function(e){P(n,e);var t=hu(n);function n(e){return(0,iu.Z)(this,n),t.call(this,e)}return(0,ru.Z)(n,[{key:"name",get:function(){return"NotImplementedException"}}]),n}(pu),vu={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},yu={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},bu=function(){function e(t){(0,iu.Z)(this,e),this._type=t||"undefined",this._status=vu.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return(0,ru.Z)(e,[{key:"destroy",value:function(){this._status=vu.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}},{key:"isWorking",value:function(){return this._status===vu.kConnecting||this._status===vu.kBuffering}},{key:"type",get:function(){return this._type}},{key:"status",get:function(){return this._status}},{key:"needStashBuffer",get:function(){return this._needStash}},{key:"onContentLengthKnown",get:function(){return this._onContentLengthKnown},set:function(e){this._onContentLengthKnown=e}},{key:"onURLRedirect",get:function(){return this._onURLRedirect},set:function(e){this._onURLRedirect=e}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onComplete",get:function(){return this._onComplete},set:function(e){this._onComplete=e}},{key:"open",value:function(e,t){throw new gu("Unimplemented abstract function!")}},{key:"abort",value:function(){throw new gu("Unimplemented abstract function!")}}]),e}();function Cu(){return Cu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xt(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Cu.apply(this,arguments)}var _u={};!function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],n=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],i={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:n[0]||""},r={};if(i.browser){r[i.browser]=!0;var o=i.majorVersion.split(".");r.version={major:parseInt(i.majorVersion,10),string:i.version},o.length>1&&(r.version.minor=parseInt(o[1],10)),o.length>2&&(r.version.build=parseInt(o[2],10))}if(i.platform&&(r[i.platform]=!0),(r.chrome||r.opr||r.safari)&&(r.webkit=!0),r.rv||r.iemobile){r.rv&&delete r.rv;var a="msie";i.browser=a,r[a]=!0}if(r.edge){delete r.edge;var s="msedge";i.browser=s,r[s]=!0}if(r.opr){var l="opera";i.browser=l,r[l]=!0}if(r.safari&&r.android){var c="android";i.browser=c,r[c]=!0}for(var u in r.name=i.browser,r.platform=i.platform,_u)_u.hasOwnProperty(u)&&delete _u[u];Object.assign(_u,r)}();const Eu=_u;var wu=function(e){P(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=xt(t);if(n){var r=xt(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return Au(this,e)});function r(e,t){var n;return(0,iu.Z)(this,r),(n=i.call(this,"fetch-stream-loader")).TAG="FetchStreamLoader",n._seekHandler=e,n._config=t,n._needStash=!0,n._requestAbort=!1,n._contentLength=null,n._receivedLength=0,n}return(0,ru.Z)(r,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),Cu(xt(r.prototype),"destroy",this).call(this)}},{key:"open",value:function(e,t){var n=this;this._dataSource=e,this._range=t;var i=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(i=e.redirectedURL);var r=this._seekHandler.getConfig(i,t),o=new self.Headers;if("object"===(0,nu.Z)(r.headers)){var a=r.headers;for(var s in a)a.hasOwnProperty(s)&&o.append(s,a[s])}var l={method:"GET",headers:o,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if("object"===(0,nu.Z)(this._config.headers))for(var c in this._config.headers)o.append(c,this._config.headers[c]);!1===e.cors&&(l.mode="same-origin"),e.withCredentials&&(l.credentials="include"),e.referrerPolicy&&(l.referrerPolicy=e.referrerPolicy),this._status=vu.kConnecting,self.fetch(r.url,l).then((function(e){if(n._requestAbort)return n._requestAbort=!1,void(n._status=vu.kIdle);if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==r.url&&n._onURLRedirect){var t=n._seekHandler.removeURLParameters(e.url);n._onURLRedirect(t)}var i=e.headers.get("Content-Length");return null!=i&&(n._contentLength=parseInt(i),0!==n._contentLength&&n._onContentLengthKnown&&n._onContentLengthKnown(n._contentLength)),n._pump.call(n,e.body.getReader())}if(n._status=vu.kError,!n._onError)throw new pu("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);n._onError(yu.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})})).catch((function(e){if(n._status=vu.kError,!n._onError)throw e;n._onError(yu.EXCEPTION,{code:-1,msg:e.message})}))}},{key:"abort",value:function(){this._requestAbort=!0}},{key:"_pump",value:function(e){var t=this;return e.read().then((function(n){if(n.done)if(null!==t._contentLength&&t._receivedLength<t._contentLength){t._status=vu.kError;var i=yu.EARLY_EOF,r={code:-1,msg:"Fetch stream meet Early-EOF"};if(!t._onError)throw new pu(r.msg);t._onError(i,r)}else t._status=vu.kComplete,t._onComplete&&t._onComplete(t._range.from,t._range.from+t._receivedLength-1);else{if(!0===t._requestAbort)return t._requestAbort=!1,t._status=vu.kComplete,e.cancel();t._status=vu.kBuffering;var o=n.value.buffer,a=t._range.from+t._receivedLength;t._receivedLength+=o.byteLength,t._onDataArrival&&t._onDataArrival(o,a,t._receivedLength),t._pump(e)}})).catch((function(e){if(11!==e.code||!Eu.msedge){t._status=vu.kError;var n=0,i=null;if(19!==e.code&&"network error"!==e.message||!(null===t._contentLength||null!==t._contentLength&&t._receivedLength<t._contentLength)?(n=yu.EXCEPTION,i={code:e.code,msg:e.message}):(n=yu.EARLY_EOF,i={code:e.code,msg:"Fetch stream meet Early-EOF"}),!t._onError)throw new pu(i.msg);t._onError(n,i)}}))}}],[{key:"isSupported",value:function(){try{var e=Eu.msedge&&Eu.version.minor>=15048,t=!Eu.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}}}]),r}(bu);const Tu=wu;var Su=function(e){P(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=xt(t);if(n){var r=xt(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return Au(this,e)});function r(e,t){var n;return(0,iu.Z)(this,r),(n=i.call(this,"xhr-moz-chunked-loader")).TAG="MozChunkedLoader",n._seekHandler=e,n._config=t,n._needStash=!0,n._xhr=null,n._requestAbort=!1,n._contentLength=null,n._receivedLength=0,n}return(0,ru.Z)(r,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),Cu(xt(r.prototype),"destroy",this).call(this)}},{key:"open",value:function(e,t){this._dataSource=e,this._range=t;var n=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(n=e.redirectedURL);var i=this._seekHandler.getConfig(n,t);this._requestURL=i.url;var r=this._xhr=new XMLHttpRequest;if(r.open("GET",i.url,!0),r.responseType="moz-chunked-arraybuffer",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onloadend=this._onLoadEnd.bind(this),r.onerror=this._onXhrError.bind(this),e.withCredentials&&(r.withCredentials=!0),"object"===(0,nu.Z)(i.headers)){var o=i.headers;for(var a in o)o.hasOwnProperty(a)&&r.setRequestHeader(a,o[a])}if("object"===(0,nu.Z)(this._config.headers)){var s=this._config.headers;for(var l in s)s.hasOwnProperty(l)&&r.setRequestHeader(l,s[l])}this._status=vu.kConnecting,r.send()}},{key:"abort",value:function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=vu.kComplete}},{key:"_onReadyStateChange",value:function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){var n=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(n)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=vu.kError,!this._onError)throw new pu("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(yu.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=vu.kBuffering}}},{key:"_onProgress",value:function(e){if(this._status!==vu.kError){null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var t=e.target.response,n=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,n,this._receivedLength)}}},{key:"_onLoadEnd",value:function(e){!0!==this._requestAbort?this._status!==vu.kError&&(this._status=vu.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1}},{key:"_onXhrError",value:function(e){this._status=vu.kError;var t=0,n=null;if(this._contentLength&&e.loaded<this._contentLength?(t=yu.EARLY_EOF,n={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(t=yu.EXCEPTION,n={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new pu(n.msg);this._onError(t,n)}}],[{key:"isSupported",value:function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return uu.w("MozChunkedLoader",e.message),!1}}}]),r}(bu);const ku=Su;var Iu=function(e){P(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=xt(t);if(n){var r=xt(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return Au(this,e)});function r(e,t){var n;return(0,iu.Z)(this,r),(n=i.call(this,"xhr-range-loader")).TAG="RangeLoader",n._seekHandler=e,n._config=t,n._needStash=!1,n._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],n._currentChunkSizeKB=384,n._currentSpeedNormalized=0,n._zeroSpeedChunkCount=0,n._xhr=null,n._speedSampler=new du,n._requestAbort=!1,n._waitForTotalLength=!1,n._totalLengthReceived=!1,n._currentRequestURL=null,n._currentRedirectedURL=null,n._currentRequestRange=null,n._totalLength=null,n._contentLength=null,n._receivedLength=0,n._lastTimeLoaded=0,n}return(0,ru.Z)(r,[{key:"destroy",value:function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),Cu(xt(r.prototype),"destroy",this).call(this)}},{key:"currentSpeed",get:function(){return this._speedSampler.lastSecondKBps}},{key:"open",value:function(e,t){this._dataSource=e,this._range=t,this._status=vu.kConnecting;var n=!1;null!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(n=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||n?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))}},{key:"_openSubRange",value:function(){var e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,n=t+e;null!=this._contentLength&&n-this._range.from>=this._contentLength&&(n=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:n},this._internalOpen(this._dataSource,this._currentRequestRange)}},{key:"_internalOpen",value:function(e,t){this._lastTimeLoaded=0;var n=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?n=this._currentRedirectedURL:null!=e.redirectedURL&&(n=e.redirectedURL));var i=this._seekHandler.getConfig(n,t);this._currentRequestURL=i.url;var r=this._xhr=new XMLHttpRequest;if(r.open("GET",i.url,!0),r.responseType="arraybuffer",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onload=this._onLoad.bind(this),r.onerror=this._onXhrError.bind(this),e.withCredentials&&(r.withCredentials=!0),"object"===(0,nu.Z)(i.headers)){var o=i.headers;for(var a in o)o.hasOwnProperty(a)&&r.setRequestHeader(a,o[a])}if("object"===(0,nu.Z)(this._config.headers)){var s=this._config.headers;for(var l in s)s.hasOwnProperty(l)&&r.setRequestHeader(l,s[l])}r.send()}},{key:"abort",value:function(){this._requestAbort=!0,this._internalAbort(),this._status=vu.kComplete}},{key:"_internalAbort",value:function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)}},{key:"_onReadyStateChange",value:function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL){var n=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&n!==this._currentRedirectedURL&&(this._currentRedirectedURL=n,this._onURLRedirect&&this._onURLRedirect(n))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=vu.kBuffering}else{if(this._status=vu.kError,!this._onError)throw new pu("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(yu.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}}},{key:"_onProgress",value:function(e){if(this._status!==vu.kError){if(null===this._contentLength){var t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;var n=e.total;this._internalAbort(),null!=n&0!==n&&(this._totalLength=n)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var i=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(i)}}},{key:"_normalizeSpeed",value:function(e){var t=this._chunkSizeKBList,n=t.length-1,i=0,r=0,o=n;if(e<t[0])return t[0];for(;r<=o;){if((i=r+Math.floor((o-r)/2))===n||e>=t[i]&&e<t[i+1])return t[i];t[i]<e?r=i+1:o=i-1}}},{key:"_onLoad",value:function(e){if(this._status!==vu.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){var n=this._normalizeSpeed(t);this._currentSpeedNormalized!==n&&(this._currentSpeedNormalized=n,this._currentChunkSizeKB=n)}var i=e.target.response,r=this._range.from+this._receivedLength;this._receivedLength+=i.byteLength;var o=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():o=!0,this._onDataArrival&&this._onDataArrival(i,r,this._receivedLength),o&&(this._status=vu.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}}},{key:"_onXhrError",value:function(e){this._status=vu.kError;var t=0,n=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=yu.EARLY_EOF,n={code:-1,msg:"RangeLoader meet Early-Eof"}):(t=yu.EXCEPTION,n={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new pu(n.msg);this._onError(t,n)}}],[{key:"isSupported",value:function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return uu.w("RangeLoader",e.message),!1}}}]),r}(bu);const Bu=Iu;const xu=function(e){P(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=xt(t);if(n){var r=xt(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return Au(this,e)});function r(){var e;return(0,iu.Z)(this,r),(e=i.call(this,"websocket-loader")).TAG="WebSocketLoader",e._needStash=!0,e._ws=null,e._requestAbort=!1,e._receivedLength=0,e}return(0,ru.Z)(r,[{key:"destroy",value:function(){this._ws&&this.abort(),Cu(xt(r.prototype),"destroy",this).call(this)}},{key:"open",value:function(e){try{var t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=vu.kConnecting}catch(e){this._status=vu.kError;var n={code:e.code,msg:e.message};if(!this._onError)throw new pu(n.msg);this._onError(yu.EXCEPTION,n)}}},{key:"abort",value:function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=vu.kComplete}},{key:"_onWebSocketOpen",value:function(e){this._status=vu.kBuffering}},{key:"_onWebSocketClose",value:function(e){!0!==this._requestAbort?(this._status=vu.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1}},{key:"_onWebSocketMessage",value:function(e){var t=this;if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var n=new FileReader;n.onload=function(){t._dispatchArrayBuffer(n.result)},n.readAsArrayBuffer(e.data)}else{this._status=vu.kError;var i={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new pu(i.msg);this._onError(yu.EXCEPTION,i)}}},{key:"_dispatchArrayBuffer",value:function(e){var t=e,n=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,n,this._receivedLength)}},{key:"_onWebSocketError",value:function(e){this._status=vu.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new pu(t.msg);this._onError(yu.EXCEPTION,t)}}],[{key:"isSupported",value:function(){try{return void 0!==self.WebSocket}catch(e){return!1}}}]),r}(bu);const Du=function(){function e(t){(0,iu.Z)(this,e),this._zeroStart=t||!1}return(0,ru.Z)(e,[{key:"getConfig",value:function(e,t){var n,i={};return 0!==t.from||-1!==t.to?(n=-1!==t.to?"bytes=".concat(t.from.toString(),"-").concat(t.to.toString()):"bytes=".concat(t.from.toString(),"-"),i.Range=n):this._zeroStart&&(i.Range="bytes=0-"),{url:e,headers:i}}},{key:"removeURLParameters",value:function(e){return e}}]),e}();var Pu=function(){function e(t,n){(0,iu.Z)(this,e),this._startName=t,this._endName=n}return(0,ru.Z)(e,[{key:"getConfig",value:function(e,t){var n=e;if(0!==t.from||-1!==t.to){var i=!0;-1===n.indexOf("?")&&(n+="?",i=!1),i&&(n+="&"),n+="".concat(this._startName,"=").concat(t.from.toString()),-1!==t.to&&(n+="&".concat(this._endName,"=").concat(t.to.toString()))}return{url:n,headers:{}}}},{key:"removeURLParameters",value:function(e){var t=e.split("?")[0],n=void 0,i=e.indexOf("?");-1!==i&&(n=e.substring(i+1));var r="";if(null!=n&&n.length>0)for(var o=n.split("&"),a=0;a<o.length;a++){var s=o[a].split("="),l=a>0;s[0]!==this._startName&&s[0]!==this._endName&&(l&&(r+="&"),r+=o[a])}return 0===r.length?t:t+"?"+r}}]),e}();const Ru=Pu,ju=function(){function e(t,n,i){(0,iu.Z)(this,e),this.TAG="IOController",this._config=n,this._extraData=i,this._stashInitialSize=393216,null!=n.stashInitialSize&&n.stashInitialSize>0&&(this._stashInitialSize=n.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===n.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=t,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(t.url),this._refTotalLength=t.filesize?t.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new du,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return(0,ru.Z)(e,[{key:"destroy",value:function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null}},{key:"isWorking",value:function(){return this._loader&&this._loader.isWorking()&&!this._paused}},{key:"isPaused",value:function(){return this._paused}},{key:"status",get:function(){return this._loader.status}},{key:"extraData",get:function(){return this._extraData},set:function(e){this._extraData=e}},{key:"onDataArrival",get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e}},{key:"onSeeked",get:function(){return this._onSeeked},set:function(e){this._onSeeked=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onComplete",get:function(){return this._onComplete},set:function(e){this._onComplete=e}},{key:"onRedirect",get:function(){return this._onRedirect},set:function(e){this._onRedirect=e}},{key:"onRecoveredEarlyEof",get:function(){return this._onRecoveredEarlyEof},set:function(e){this._onRecoveredEarlyEof=e}},{key:"currentURL",get:function(){return this._dataSource.url}},{key:"hasRedirect",get:function(){return null!=this._redirectedURL||null!=this._dataSource.redirectedURL}},{key:"currentRedirectedURL",get:function(){return this._redirectedURL||this._dataSource.redirectedURL}},{key:"currentSpeed",get:function(){return this._loaderClass===Bu?this._loader.currentSpeed:this._speedSampler.lastSecondKBps}},{key:"loaderType",get:function(){return this._loader.type}},{key:"_selectSeekHandler",value:function(){var e=this._config;if("range"===e.seekType)this._seekHandler=new Du(this._config.rangeLoadZeroStart);else if("param"===e.seekType){var t=e.seekParamStart||"bstart",n=e.seekParamEnd||"bend";this._seekHandler=new Ru(t,n)}else{if("custom"!==e.seekType)throw new mu("Invalid seekType in config: ".concat(e.seekType));if("function"!=typeof e.customSeekHandler)throw new mu("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}}},{key:"_selectLoader",value:function(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=xu;else if(Tu.isSupported())this._loaderClass=Tu;else if(ku.isSupported())this._loaderClass=ku;else{if(!Bu.isSupported())throw new pu("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=Bu}}},{key:"_createLoader",value:function(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)}},{key:"open",value:function(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))}},{key:"abort",value:function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)}},{key:"pause",value:function(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)}},{key:"resume",value:function(){if(this._paused){this._paused=!1;var e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}}},{key:"seek",value:function(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)}},{key:"_internalSeek",value:function(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;var n={from:e,to:-1};this._currentRange={from:n.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,n),this._onSeeked&&this._onSeeked()}},{key:"updateUrl",value:function(e){if(!e||"string"!=typeof e||0===e.length)throw new mu("Url must be a non-empty string!");this._dataSource.url=e}},{key:"_expandBuffer",value:function(e){for(var t=this._stashSize;t+1048576<e;)t*=2;if((t+=1048576)!==this._bufferSize){var n=new ArrayBuffer(t);if(this._stashUsed>0){var i=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(n,0,t).set(i,0)}this._stashBuffer=n,this._bufferSize=t}}},{key:"_normalizeSpeed",value:function(e){var t=this._speedNormalizeList,n=t.length-1,i=0,r=0,o=n;if(e<t[0])return t[0];for(;r<=o;){if((i=r+Math.floor((o-r)/2))===n||e>=t[i]&&e<t[i+1])return t[i];t[i]<e?r=i+1:o=i-1}}},{key:"_adjustStashSize",value:function(e){var t=0;(t=this._config.isLive||e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e)>8192&&(t=8192);var n=1024*t+1048576;this._bufferSize<n&&this._expandBuffer(n),this._stashSize=1024*t}},{key:"_dispatchChunks",value:function(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)}},{key:"_onURLRedirect",value:function(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)}},{key:"_onContentLengthKnown",value:function(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)}},{key:"_onLoaderChunkArrival",value:function(e,t,n){if(!this._onDataArrival)throw new fu("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);var i=this._speedSampler.lastSecondKBps;if(0!==i){var r=this._normalizeSpeed(i);this._speedNormalized!==r&&(this._speedNormalized=r,this._adjustStashSize(r))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize)new Uint8Array(this._stashBuffer,0,this._stashSize).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;else{var o=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var a=this._stashBuffer.slice(0,this._stashUsed),s=this._dispatchChunks(a,this._stashByteStart);if(s<a.byteLength){if(s>0){var l=new Uint8Array(a,s);o.set(l,0),this._stashUsed=l.byteLength,this._stashByteStart+=s}}else this._stashUsed=0,this._stashByteStart+=s;this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),o=new Uint8Array(this._stashBuffer,0,this._bufferSize)),o.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{var c=this._dispatchChunks(e,t);if(c<e.byteLength){var u=e.byteLength-c;u>this._bufferSize&&(this._expandBuffer(u),o=new Uint8Array(this._stashBuffer,0,this._bufferSize)),o.set(new Uint8Array(e,c),0),this._stashUsed+=u,this._stashByteStart=t+c}}}else if(0===this._stashUsed){var d=this._dispatchChunks(e,t);if(d<e.byteLength){var A=e.byteLength-d;A>this._bufferSize&&this._expandBuffer(A),new Uint8Array(this._stashBuffer,0,this._bufferSize).set(new Uint8Array(e,d),0),this._stashUsed+=A,this._stashByteStart=t+d}}else{this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength);var h=new Uint8Array(this._stashBuffer,0,this._bufferSize);h.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;var p=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(p<this._stashUsed&&p>0){var f=new Uint8Array(this._stashBuffer,p);h.set(f,0)}this._stashUsed-=p,this._stashByteStart+=p}}}},{key:"_flushStashBuffer",value:function(e){if(this._stashUsed>0){var t=this._stashBuffer.slice(0,this._stashUsed),n=this._dispatchChunks(t,this._stashByteStart),i=t.byteLength-n;if(n<t.byteLength){if(!e){if(n>0){var r=new Uint8Array(this._stashBuffer,0,this._bufferSize),o=new Uint8Array(t,n);r.set(o,0),this._stashUsed=o.byteLength,this._stashByteStart+=n}return 0}uu.w(this.TAG,"".concat(i," bytes unconsumed data remain when flush buffer, dropped"))}return this._stashUsed=0,this._stashByteStart=0,i}return 0}},{key:"_onLoaderComplete",value:function(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)}},{key:"_onLoaderError",value:function(e,t){if(uu.e(this.TAG,"Loader error, code = ".concat(t.code,", msg = ").concat(t.msg)),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=yu.UNRECOVERABLE_EARLY_EOF),e===yu.EARLY_EOF){if(!this._config.isLive&&this._totalLength){var n=this._currentRange.to+1;return void(n<this._totalLength&&(uu.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(n,!1)))}e=yu.UNRECOVERABLE_EARLY_EOF}if(!this._onError)throw new pu("IOException: "+t.msg);this._onError(e,t)}}]),e}();var Lu={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function Mu(){return Object.assign({},Lu)}var Ou=function(){function e(){(0,iu.Z)(this,e)}return(0,ru.Z)(e,null,[{key:"supportMSEH264Playback",value:function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"supportNetworkStreamIO",value:function(){var e=new ju({},Mu()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t}},{key:"getNetworkLoaderTypeName",value:function(){var e=new ju({},Mu()),t=e.loaderType;return e.destroy(),t}},{key:"supportNativeMediaPlayback",value:function(t){null==e.videoElement&&(e.videoElement=window.document.createElement("video"));var n=e.videoElement.canPlayType(t);return"probably"===n||"maybe"==n}},{key:"getFeatureList",value:function(){var t={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.mseFlvPlayback=e.supportMSEH264Playback(),t.networkStreamIO=e.supportNetworkStreamIO(),t.networkLoaderName=e.getNetworkLoaderTypeName(),t.mseLiveFlvPlayback=t.mseFlvPlayback&&t.networkStreamIO,t.nativeMP4H264Playback=e.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),t.nativeWebmVP8Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),t.nativeWebmVP9Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp9"'),t}}]),e}();const Fu=Ou,Uu={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};var Qu=function(){function e(){(0,iu.Z)(this,e)}return(0,ru.Z)(e,null,[{key:"forceGlobalTag",get:function(){return uu.FORCE_GLOBAL_TAG},set:function(t){uu.FORCE_GLOBAL_TAG=t,e._notifyChange()}},{key:"globalTag",get:function(){return uu.GLOBAL_TAG},set:function(t){uu.GLOBAL_TAG=t,e._notifyChange()}},{key:"enableAll",get:function(){return uu.ENABLE_VERBOSE&&uu.ENABLE_DEBUG&&uu.ENABLE_INFO&&uu.ENABLE_WARN&&uu.ENABLE_ERROR},set:function(t){uu.ENABLE_VERBOSE=t,uu.ENABLE_DEBUG=t,uu.ENABLE_INFO=t,uu.ENABLE_WARN=t,uu.ENABLE_ERROR=t,e._notifyChange()}},{key:"enableDebug",get:function(){return uu.ENABLE_DEBUG},set:function(t){uu.ENABLE_DEBUG=t,e._notifyChange()}},{key:"enableVerbose",get:function(){return uu.ENABLE_VERBOSE},set:function(t){uu.ENABLE_VERBOSE=t,e._notifyChange()}},{key:"enableInfo",get:function(){return uu.ENABLE_INFO},set:function(t){uu.ENABLE_INFO=t,e._notifyChange()}},{key:"enableWarn",get:function(){return uu.ENABLE_WARN},set:function(t){uu.ENABLE_WARN=t,e._notifyChange()}},{key:"enableError",get:function(){return uu.ENABLE_ERROR},set:function(t){uu.ENABLE_ERROR=t,e._notifyChange()}},{key:"getConfig",value:function(){return{globalTag:uu.GLOBAL_TAG,forceGlobalTag:uu.FORCE_GLOBAL_TAG,enableVerbose:uu.ENABLE_VERBOSE,enableDebug:uu.ENABLE_DEBUG,enableInfo:uu.ENABLE_INFO,enableWarn:uu.ENABLE_WARN,enableError:uu.ENABLE_ERROR,enableCallback:uu.ENABLE_CALLBACK}}},{key:"applyConfig",value:function(e){uu.GLOBAL_TAG=e.globalTag,uu.FORCE_GLOBAL_TAG=e.forceGlobalTag,uu.ENABLE_VERBOSE=e.enableVerbose,uu.ENABLE_DEBUG=e.enableDebug,uu.ENABLE_INFO=e.enableInfo,uu.ENABLE_WARN=e.enableWarn,uu.ENABLE_ERROR=e.enableError,uu.ENABLE_CALLBACK=e.enableCallback}},{key:"_notifyChange",value:function(){var t=e.emitter;if(t.listenerCount("change")>0){var n=e.getConfig();t.emit("change",n)}}},{key:"registerListener",value:function(t){e.emitter.addListener("change",t)}},{key:"removeListener",value:function(t){e.emitter.removeListener("change",t)}},{key:"addLogListener",value:function(t){uu.emitter.addListener("log",t),uu.emitter.listenerCount("log")>0&&(uu.ENABLE_CALLBACK=!0,e._notifyChange())}},{key:"removeLogListener",value:function(t){uu.emitter.removeListener("log",t),0===uu.emitter.listenerCount("log")&&(uu.ENABLE_CALLBACK=!1,e._notifyChange())}}]),e}();Qu.emitter=new(lu());const Nu=Qu,qu=function(){function e(){(0,iu.Z)(this,e),this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return(0,ru.Z)(e,[{key:"isComplete",value:function(){var e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&e&&t}},{key:"isSeekable",value:function(){return!0===this.hasKeyframesIndex}},{key:"getNearestKeyframe",value:function(e){if(null==this.keyframesIndex)return null;var t=this.keyframesIndex,n=this._search(t.times,e);return{index:n,milliseconds:t.times[n],fileposition:t.filepositions[n]}}},{key:"_search",value:function(e,t){var n=0,i=e.length-1,r=0,o=0,a=i;for(t<e[0]&&(n=0,o=a+1);o<=a;){if((r=o+Math.floor((a-o)/2))===i||t>=e[r]&&t<e[r+1]){n=r;break}e[r]<t?o=r+1:a=r-1}return n}}]),e}();function zu(e,t,n){var i=e;if(t+n<i.length){for(;n--;)if(128!=(192&i[++t]))return!1;return!0}return!1}const Gu=function(e){for(var t=[],n=e,i=0,r=e.length;i<r;)if(n[i]<128)t.push(String.fromCharCode(n[i])),++i;else{if(n[i]<192);else if(n[i]<224){if(zu(n,i,1)){var o=(31&n[i])<<6|63&n[i+1];if(o>=128){t.push(String.fromCharCode(65535&o)),i+=2;continue}}}else if(n[i]<240){if(zu(n,i,2)){var a=(15&n[i])<<12|(63&n[i+1])<<6|63&n[i+2];if(a>=2048&&55296!=(63488&a)){t.push(String.fromCharCode(65535&a)),i+=3;continue}}}else if(n[i]<248&&zu(n,i,3)){var s=(7&n[i])<<18|(63&n[i+1])<<12|(63&n[i+2])<<6|63&n[i+3];if(s>65536&&s<1114112){s-=65536,t.push(String.fromCharCode(s>>>10|55296)),t.push(String.fromCharCode(1023&s|56320)),i+=4;continue}}t.push(String.fromCharCode(65533)),++i}return t.join("")};var Hu,Wu=(Hu=new ArrayBuffer(2),new DataView(Hu).setInt16(0,256,!0),256===new Int16Array(Hu)[0]),Vu=function(){function e(){(0,iu.Z)(this,e)}return(0,ru.Z)(e,null,[{key:"parseScriptData",value:function(t,n,i){var r={};try{var o=e.parseValue(t,n,i),a=e.parseValue(t,n+o.size,i-o.size);r[o.data]=a.data}catch(e){uu.e("AMF",e.toString())}return r}},{key:"parseObject",value:function(t,n,i){if(i<3)throw new fu("Data not enough when parse ScriptDataObject");var r=e.parseString(t,n,i),o=e.parseValue(t,n+r.size,i-r.size),a=o.objectEnd;return{data:{name:r.data,value:o.data},size:r.size+o.size,objectEnd:a}}},{key:"parseVariable",value:function(t,n,i){return e.parseObject(t,n,i)}},{key:"parseString",value:function(e,t,n){if(n<2)throw new fu("Data not enough when parse String");var i=new DataView(e,t,n).getUint16(0,!Wu);return{data:i>0?Gu(new Uint8Array(e,t+2,i)):"",size:2+i}}},{key:"parseLongString",value:function(e,t,n){if(n<4)throw new fu("Data not enough when parse LongString");var i=new DataView(e,t,n).getUint32(0,!Wu);return{data:i>0?Gu(new Uint8Array(e,t+4,i)):"",size:4+i}}},{key:"parseDate",value:function(e,t,n){if(n<10)throw new fu("Data size invalid when parse Date");var i=new DataView(e,t,n),r=i.getFloat64(0,!Wu),o=i.getInt16(8,!Wu);return{data:new Date(r+=60*o*1e3),size:10}}},{key:"parseValue",value:function(t,n,i){if(i<1)throw new fu("Data not enough when parse Value");var r,o=new DataView(t,n,i),a=1,s=o.getUint8(0),l=!1;try{switch(s){case 0:r=o.getFloat64(1,!Wu),a+=8;break;case 1:r=!!o.getUint8(1),a+=1;break;case 2:var c=e.parseString(t,n+1,i-1);r=c.data,a+=c.size;break;case 3:r={};var u=0;for(9==(16777215&o.getUint32(i-4,!Wu))&&(u=3);a<i-4;){var d=e.parseObject(t,n+a,i-a-u);if(d.objectEnd)break;r[d.data.name]=d.data.value,a+=d.size}a<=i-3&&9==(16777215&o.getUint32(a-1,!Wu))&&(a+=3);break;case 8:r={},a+=4;var A=0;for(9==(16777215&o.getUint32(i-4,!Wu))&&(A=3);a<i-8;){var h=e.parseVariable(t,n+a,i-a-A);if(h.objectEnd)break;r[h.data.name]=h.data.value,a+=h.size}a<=i-3&&9==(16777215&o.getUint32(a-1,!Wu))&&(a+=3);break;case 9:r=void 0,a=1,l=!0;break;case 10:r=[];var p=o.getUint32(1,!Wu);a+=4;for(var f=0;f<p;f++){var m=e.parseValue(t,n+a,i-a);r.push(m.data),a+=m.size}break;case 11:var g=e.parseDate(t,n+1,i-1);r=g.data,a+=g.size;break;case 12:var v=e.parseString(t,n+1,i-1);r=v.data,a+=v.size;break;default:a=i,uu.w("AMF","Unsupported AMF value type "+s)}}catch(e){uu.e("AMF",e.toString())}return{data:r,size:a,objectEnd:l}}}]),e}();const Yu=Vu,Ju=function(){function e(t){(0,iu.Z)(this,e),this.TAG="ExpGolomb",this._buffer=t,this._buffer_index=0,this._total_bytes=t.byteLength,this._total_bits=8*t.byteLength,this._current_word=0,this._current_word_bits_left=0}return(0,ru.Z)(e,[{key:"destroy",value:function(){this._buffer=null}},{key:"_fillCurrentWord",value:function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new fu("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),n=new Uint8Array(4);n.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(n.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t}},{key:"readBits",value:function(e){if(e>32)throw new mu("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var n=this._current_word_bits_left?this._current_word:0;n>>>=32-this._current_word_bits_left;var i=e-this._current_word_bits_left;this._fillCurrentWord();var r=Math.min(i,this._current_word_bits_left),o=this._current_word>>>32-r;return this._current_word<<=r,this._current_word_bits_left-=r,n<<r|o}},{key:"readBool",value:function(){return 1===this.readBits(1)}},{key:"readByte",value:function(){return this.readBits(8)}},{key:"_skipLeadingZero",value:function(){var e;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()}},{key:"readUEG",value:function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1}},{key:"readSEG",value:function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)}}]),e}();var Ku=function(){function e(){(0,iu.Z)(this,e)}return(0,ru.Z)(e,null,[{key:"_ebsp2rbsp",value:function(e){for(var t=e,n=t.byteLength,i=new Uint8Array(n),r=0,o=0;o<n;o++)o>=2&&3===t[o]&&0===t[o-1]&&0===t[o-2]||(i[r]=t[o],r++);return new Uint8Array(i.buffer,0,r)}},{key:"parseSPS",value:function(t){var n=e._ebsp2rbsp(t),i=new Ju(n);i.readByte();var r=i.readByte();i.readByte();var o=i.readByte();i.readUEG();var a=e.getProfileString(r),s=e.getLevelString(o),l=1,c=420,u=8;if((100===r||110===r||122===r||244===r||44===r||83===r||86===r||118===r||128===r||138===r||144===r)&&(3===(l=i.readUEG())&&i.readBits(1),l<=3&&(c=[0,420,422,444][l]),u=i.readUEG()+8,i.readUEG(),i.readBits(1),i.readBool()))for(var d=3!==l?8:12,A=0;A<d;A++)i.readBool()&&(A<6?e._skipScalingList(i,16):e._skipScalingList(i,64));i.readUEG();var h=i.readUEG();if(0===h)i.readUEG();else if(1===h){i.readBits(1),i.readSEG(),i.readSEG();for(var p=i.readUEG(),f=0;f<p;f++)i.readSEG()}var m=i.readUEG();i.readBits(1);var g=i.readUEG(),v=i.readUEG(),y=i.readBits(1);0===y&&i.readBits(1),i.readBits(1);var b=0,C=0,_=0,E=0;i.readBool()&&(b=i.readUEG(),C=i.readUEG(),_=i.readUEG(),E=i.readUEG());var w=1,T=1,S=0,k=!0,I=0,B=0;if(i.readBool()){if(i.readBool()){var x=i.readByte();x>0&&x<16?(w=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][x-1],T=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][x-1]):255===x&&(w=i.readByte()<<8|i.readByte(),T=i.readByte()<<8|i.readByte())}if(i.readBool()&&i.readBool(),i.readBool()&&(i.readBits(4),i.readBool()&&i.readBits(24)),i.readBool()&&(i.readUEG(),i.readUEG()),i.readBool()){var D=i.readBits(32),P=i.readBits(32);k=i.readBool(),S=(I=P)/(B=2*D)}}var R=1;1===w&&1===T||(R=w/T);var j=0,L=0;0===l?(j=1,L=2-y):(j=3===l?1:2,L=(1===l?2:1)*(2-y));var M=16*(g+1),O=16*(v+1)*(2-y);M-=(b+C)*j,O-=(_+E)*L;var F=Math.ceil(M*R);return i.destroy(),i=null,{profile_string:a,level_string:s,bit_depth:u,ref_frames:m,chroma_format:c,chroma_format_string:e.getChromaFormatString(c),frame_rate:{fixed:k,fps:S,fps_den:B,fps_num:I},sar_ratio:{width:w,height:T},codec_size:{width:M,height:O},present_size:{width:F,height:O}}}},{key:"_skipScalingList",value:function(e,t){for(var n=8,i=8,r=0;r<t;r++)0!==i&&(i=(n+e.readSEG()+256)%256),n=0===i?n:i}},{key:"getProfileString",value:function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}},{key:"getLevelString",value:function(e){return(e/10).toFixed(1)}},{key:"getChromaFormatString",value:function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}]),e}();const Zu=Ku,Xu="FormatError",$u="FormatUnsupported",ed="CodecUnsupported";var td=function(){function e(t,n){(0,iu.Z)(this,e),this.TAG="FLVDemuxer",this._config=n,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=t.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=t.hasAudioTrack,this._hasVideo=t.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new qu,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()}return(0,ru.Z)(e,[{key:"destroy",value:function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null}},{key:"bindDataSource",value:function(e){return e.onDataArrival=this.parseChunks.bind(this),this}},{key:"onTrackMetadata",get:function(){return this._onTrackMetadata},set:function(e){this._onTrackMetadata=e}},{key:"onMediaInfo",get:function(){return this._onMediaInfo},set:function(e){this._onMediaInfo=e}},{key:"onMetaDataArrived",get:function(){return this._onMetaDataArrived},set:function(e){this._onMetaDataArrived=e}},{key:"onScriptDataArrived",get:function(){return this._onScriptDataArrived},set:function(e){this._onScriptDataArrived=e}},{key:"onError",get:function(){return this._onError},set:function(e){this._onError=e}},{key:"onDataAvailable",get:function(){return this._onDataAvailable},set:function(e){this._onDataAvailable=e}},{key:"timestampBase",get:function(){return this._timestampBase},set:function(e){this._timestampBase=e}},{key:"overridedDuration",get:function(){return this._duration},set:function(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e}},{key:"overridedHasAudio",set:function(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e}},{key:"overridedHasVideo",set:function(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e}},{key:"resetMediaInfo",value:function(){this._mediaInfo=new qu}},{key:"_isInitialMetadataDispatched",value:function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched}},{key:"parseChunks",value:function(t,n){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new fu("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var i=0,r=this._littleEndian;if(0===n){if(!(t.byteLength>13))return 0;i=e.probe(t).dataOffset}for(this._firstParse&&(this._firstParse=!1,n+i!==this._dataOffset&&uu.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==new DataView(t,i).getUint32(0,!r)&&uu.w(this.TAG,"PrevTagSize0 !== 0 !!!"),i+=4);i<t.byteLength;){this._dispatch=!0;var o=new DataView(t,i);if(i+11+4>t.byteLength)break;var a=o.getUint8(0),s=16777215&o.getUint32(0,!r);if(i+11+s+4>t.byteLength)break;if(8===a||9===a||18===a){var l=o.getUint8(4),c=o.getUint8(5),u=o.getUint8(6)|c<<8|l<<16|o.getUint8(7)<<24;0!=(16777215&o.getUint32(7,!r))&&uu.w(this.TAG,"Meet tag which has StreamID != 0!");var d=i+11;switch(a){case 8:this._parseAudioData(t,d,s,u);break;case 9:this._parseVideoData(t,d,s,u,n+i);break;case 18:this._parseScriptData(t,d,s)}var A=o.getUint32(11+s,!r);A!==11+s&&uu.w(this.TAG,"Invalid PrevTagSize ".concat(A)),i+=11+s+4}else uu.w(this.TAG,"Unsupported tag type ".concat(a,", skipped")),i+=11+s+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),i}},{key:"_parseScriptData",value:function(e,t,n){var i=Yu.parseScriptData(e,t,n);if(i.hasOwnProperty("onMetaData")){if(null==i.onMetaData||"object"!==(0,nu.Z)(i.onMetaData))return void uu.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&uu.w(this.TAG,"Found another onMetaData tag!"),this._metadata=i;var r=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},r)),"boolean"==typeof r.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=r.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof r.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=r.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof r.audiodatarate&&(this._mediaInfo.audioDataRate=r.audiodatarate),"number"==typeof r.videodatarate&&(this._mediaInfo.videoDataRate=r.videodatarate),"number"==typeof r.width&&(this._mediaInfo.width=r.width),"number"==typeof r.height&&(this._mediaInfo.height=r.height),"number"==typeof r.duration){if(!this._durationOverrided){var o=Math.floor(r.duration*this._timescale);this._duration=o,this._mediaInfo.duration=o}}else this._mediaInfo.duration=0;if("number"==typeof r.framerate){var a=Math.floor(1e3*r.framerate);if(a>0){var s=a/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=s,this._referenceFrameRate.fps_num=a,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=s}}if("object"===(0,nu.Z)(r.keyframes)){this._mediaInfo.hasKeyframesIndex=!0;var l=r.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(l),r.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=r,uu.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(i).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},i))}},{key:"_parseKeyframesIndex",value:function(e){for(var t=[],n=[],i=1;i<e.times.length;i++){var r=this._timestampBase+Math.floor(1e3*e.times[i]);t.push(r),n.push(e.filepositions[i])}return{times:t,filepositions:n}}},{key:"_parseAudioData",value:function(e,t,n,i){if(n<=1)uu.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(!0!==this._hasAudioFlagOverrided||!1!==this._hasAudio){this._littleEndian;var r=new DataView(e,t,n).getUint8(0),o=r>>>4;if(2===o||10===o){var a=0,s=(12&r)>>>2;if(s>=0&&s<=4){a=this._flvSoundRateTable[s];var l=1&r,c=this._audioMetadata,u=this._audioTrack;if(c||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(c=this._audioMetadata={}).type="audio",c.id=u.id,c.timescale=this._timescale,c.duration=this._duration,c.audioSampleRate=a,c.channelCount=0===l?1:2),10===o){var d=this._parseAACAudioData(e,t+1,n-1);if(null==d)return;if(0===d.packetType){c.config&&uu.w(this.TAG,"Found another AudioSpecificConfig!");var A=d.data;c.audioSampleRate=A.samplingRate,c.channelCount=A.channelCount,c.codec=A.codec,c.originalCodec=A.originalCodec,c.config=A.config,c.refSampleDuration=1024/c.audioSampleRate*c.timescale,uu.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",c);var h=this._mediaInfo;h.audioCodec=c.originalCodec,h.audioSampleRate=c.audioSampleRate,h.audioChannelCount=c.channelCount,h.hasVideo?null!=h.videoCodec&&(h.mimeType='video/x-flv; codecs="'+h.videoCodec+","+h.audioCodec+'"'):h.mimeType='video/x-flv; codecs="'+h.audioCodec+'"',h.isComplete()&&this._onMediaInfo(h)}else if(1===d.packetType){var p=this._timestampBase+i,f={unit:d.data,length:d.data.byteLength,dts:p,pts:p};u.samples.push(f),u.length+=d.data.length}else uu.e(this.TAG,"Flv: Unsupported AAC data type ".concat(d.packetType))}else if(2===o){if(!c.codec){var m=this._parseMP3AudioData(e,t+1,n-1,!0);if(null==m)return;c.audioSampleRate=m.samplingRate,c.channelCount=m.channelCount,c.codec=m.codec,c.originalCodec=m.originalCodec,c.refSampleDuration=1152/c.audioSampleRate*c.timescale,uu.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",c);var g=this._mediaInfo;g.audioCodec=c.codec,g.audioSampleRate=c.audioSampleRate,g.audioChannelCount=c.channelCount,g.audioDataRate=m.bitRate,g.hasVideo?null!=g.videoCodec&&(g.mimeType='video/x-flv; codecs="'+g.videoCodec+","+g.audioCodec+'"'):g.mimeType='video/x-flv; codecs="'+g.audioCodec+'"',g.isComplete()&&this._onMediaInfo(g)}var v=this._parseMP3AudioData(e,t+1,n-1,!1);if(null==v)return;var y=this._timestampBase+i,b={unit:v,length:v.byteLength,dts:y,pts:y};u.samples.push(b),u.length+=v.length}}else this._onError(Xu,"Flv: Invalid audio sample rate idx: "+s)}else this._onError(ed,"Flv: Unsupported audio codec idx: "+o)}}},{key:"_parseAACAudioData",value:function(e,t,n){if(!(n<=1)){var i={},r=new Uint8Array(e,t,n);return i.packetType=r[0],0===r[0]?i.data=this._parseAACAudioSpecificConfig(e,t+1,n-1):i.data=r.subarray(1),i}uu.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")}},{key:"_parseAACAudioSpecificConfig",value:function(e,t,n){var i,r,o=new Uint8Array(e,t,n),a=null,s=0,l=null;if(s=i=o[0]>>>3,(r=(7&o[0])<<1|o[1]>>>7)<0||r>=this._mpegSamplingRates.length)this._onError(Xu,"Flv: AAC invalid sampling frequency index!");else{var c=this._mpegSamplingRates[r],u=(120&o[1])>>>3;if(!(u<0||u>=8)){5===s&&(l=(7&o[1])<<1|o[2]>>>7,o[2]);var d=self.navigator.userAgent.toLowerCase();return-1!==d.indexOf("firefox")?r>=6?(s=5,a=new Array(4),l=r-3):(s=2,a=new Array(2),l=r):-1!==d.indexOf("android")?(s=2,a=new Array(2),l=r):(s=5,l=r,a=new Array(4),r>=6?l=r-3:1===u&&(s=2,a=new Array(2),l=r)),a[0]=s<<3,a[0]|=(15&r)>>>1,a[1]=(15&r)<<7,a[1]|=(15&u)<<3,5===s&&(a[1]|=(15&l)>>>1,a[2]=(1&l)<<7,a[2]|=8,a[3]=0),{config:a,samplingRate:c,channelCount:u,codec:"mp4a.40."+s,originalCodec:"mp4a.40."+i}}this._onError(Xu,"Flv: AAC invalid channel configuration")}}},{key:"_parseMP3AudioData",value:function(e,t,n,i){if(!(n<4)){this._littleEndian;var r=new Uint8Array(e,t,n),o=null;if(i){if(255!==r[0])return;var a=r[1]>>>3&3,s=(6&r[1])>>1,l=(240&r[2])>>>4,c=(12&r[2])>>>2,u=3!=(r[3]>>>6&3)?2:1,d=0,A=0;switch(a){case 0:d=this._mpegAudioV25SampleRateTable[c];break;case 2:d=this._mpegAudioV20SampleRateTable[c];break;case 3:d=this._mpegAudioV10SampleRateTable[c]}switch(s){case 1:l<this._mpegAudioL3BitRateTable.length&&(A=this._mpegAudioL3BitRateTable[l]);break;case 2:l<this._mpegAudioL2BitRateTable.length&&(A=this._mpegAudioL2BitRateTable[l]);break;case 3:l<this._mpegAudioL1BitRateTable.length&&(A=this._mpegAudioL1BitRateTable[l])}o={bitRate:A,samplingRate:d,channelCount:u,codec:"mp3",originalCodec:"mp3"}}else o=r;return o}uu.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")}},{key:"_parseVideoData",value:function(e,t,n,i,r){if(n<=1)uu.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(!0!==this._hasVideoFlagOverrided||!1!==this._hasVideo){var o=new Uint8Array(e,t,n)[0],a=(240&o)>>>4,s=15&o;7===s?this._parseAVCVideoPacket(e,t+1,n-1,i,r,a):this._onError(ed,"Flv: Unsupported codec in video frame: ".concat(s))}}},{key:"_parseAVCVideoPacket",value:function(e,t,n,i,r,o){if(n<4)uu.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var a=this._littleEndian,s=new DataView(e,t,n),l=s.getUint8(0),c=(16777215&s.getUint32(0,!a))<<8>>8;if(0===l)this._parseAVCDecoderConfigurationRecord(e,t+4,n-4);else if(1===l)this._parseAVCVideoData(e,t+4,n-4,i,r,o,c);else if(2!==l)return void this._onError(Xu,"Flv: Invalid video packet type ".concat(l))}}},{key:"_parseAVCDecoderConfigurationRecord",value:function(e,t,n){if(n<7)uu.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var i=this._videoMetadata,r=this._videoTrack,o=this._littleEndian,a=new DataView(e,t,n);i?void 0!==i.avcc&&uu.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(i=this._videoMetadata={}).type="video",i.id=r.id,i.timescale=this._timescale,i.duration=this._duration);var s=a.getUint8(0),l=a.getUint8(1);if(a.getUint8(2),a.getUint8(3),1===s&&0!==l)if(this._naluLengthSize=1+(3&a.getUint8(4)),3===this._naluLengthSize||4===this._naluLengthSize){var c=31&a.getUint8(5);if(0!==c){c>1&&uu.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ".concat(c));for(var u=6,d=0;d<c;d++){var A=a.getUint16(u,!o);if(u+=2,0!==A){var h=new Uint8Array(e,t+u,A);u+=A;var p=Zu.parseSPS(h);if(0===d){i.codecWidth=p.codec_size.width,i.codecHeight=p.codec_size.height,i.presentWidth=p.present_size.width,i.presentHeight=p.present_size.height,i.profile=p.profile_string,i.level=p.level_string,i.bitDepth=p.bit_depth,i.chromaFormat=p.chroma_format,i.sarRatio=p.sar_ratio,i.frameRate=p.frame_rate,!1!==p.frame_rate.fixed&&0!==p.frame_rate.fps_num&&0!==p.frame_rate.fps_den||(i.frameRate=this._referenceFrameRate);var f=i.frameRate.fps_den,m=i.frameRate.fps_num;i.refSampleDuration=i.timescale*(f/m);for(var g=h.subarray(1,4),v="avc1.",y=0;y<3;y++){var b=g[y].toString(16);b.length<2&&(b="0"+b),v+=b}i.codec=v;var C=this._mediaInfo;C.width=i.codecWidth,C.height=i.codecHeight,C.fps=i.frameRate.fps,C.profile=i.profile,C.level=i.level,C.refFrames=p.ref_frames,C.chromaFormat=p.chroma_format_string,C.sarNum=i.sarRatio.width,C.sarDen=i.sarRatio.height,C.videoCodec=v,C.hasAudio?null!=C.audioCodec&&(C.mimeType='video/x-flv; codecs="'+C.videoCodec+","+C.audioCodec+'"'):C.mimeType='video/x-flv; codecs="'+C.videoCodec+'"',C.isComplete()&&this._onMediaInfo(C)}}}var _=a.getUint8(u);if(0!==_){_>1&&uu.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ".concat(_)),u++;for(var E=0;E<_;E++){var w=a.getUint16(u,!o);u+=2,0!==w&&(u+=w)}i.avcc=new Uint8Array(n),i.avcc.set(new Uint8Array(e,t,n),0),uu.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",i)}else this._onError(Xu,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(Xu,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(Xu,"Flv: Strange NaluLengthSizeMinusOne: ".concat(this._naluLengthSize-1));else this._onError(Xu,"Flv: Invalid AVCDecoderConfigurationRecord")}}},{key:"_parseAVCVideoData",value:function(e,t,n,i,r,o,a){for(var s=this._littleEndian,l=new DataView(e,t,n),c=[],u=0,d=0,A=this._naluLengthSize,h=this._timestampBase+i,p=1===o;d<n;){if(d+4>=n){uu.w(this.TAG,"Malformed Nalu near timestamp ".concat(h,", offset = ").concat(d,", dataSize = ").concat(n));break}var f=l.getUint32(d,!s);if(3===A&&(f>>>=8),f>n-A)return void uu.w(this.TAG,"Malformed Nalus near timestamp ".concat(h,", NaluSize > DataSize!"));var m=31&l.getUint8(d+A);5===m&&(p=!0);var g=new Uint8Array(e,t+d,A+f),v={type:m,data:g};c.push(v),u+=g.byteLength,d+=A+f}if(c.length){var y=this._videoTrack,b={units:c,length:u,isKeyframe:p,dts:h,cts:a,pts:h+a};p&&(b.fileposition=r),y.samples.push(b),y.length+=u}}}],[{key:"probe",value:function(e){var t=new Uint8Array(e),n={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return n;var i,r=(4&t[4])>>>2!=0,o=0!=(1&t[4]),a=(i=t)[5]<<24|i[6]<<16|i[7]<<8|i[8];return a<9?n:{match:!0,consumed:a,dataOffset:a,hasAudioTrack:r,hasVideoTrack:o}}}]),e}();const nd=td;var id=function(){function e(){(0,iu.Z)(this,e)}return(0,ru.Z)(e,null,[{key:"init",value:function(){for(var t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=e.constants={};n.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),n.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),n.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),n.STSC=n.STCO=n.STTS,n.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),n.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),n.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),n.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),n.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}},{key:"box",value:function(e){for(var t=8,n=null,i=Array.prototype.slice.call(arguments,1),r=i.length,o=0;o<r;o++)t+=i[o].byteLength;(n=new Uint8Array(t))[0]=t>>>24&255,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n.set(e,4);for(var a=8,s=0;s<r;s++)n.set(i[s],a),a+=i[s].byteLength;return n}},{key:"generateInitSegment",value:function(t){var n=e.box(e.types.ftyp,e.constants.FTYP),i=e.moov(t),r=new Uint8Array(n.byteLength+i.byteLength);return r.set(n,0),r.set(i,n.byteLength),r}},{key:"moov",value:function(t){var n=e.mvhd(t.timescale,t.duration),i=e.trak(t),r=e.mvex(t);return e.box(e.types.moov,n,i,r)}},{key:"mvhd",value:function(t,n){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}},{key:"trak",value:function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"tkhd",value:function(t){var n=t.id,i=t.duration,r=t.presentWidth,o=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>>8&255,255&r,0,0,o>>>8&255,255&o,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))}},{key:"mdhd",value:function(t){var n=t.timescale,i=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,i>>>24&255,i>>>16&255,i>>>8&255,255&i,85,196,0,0]))}},{key:"hdlr",value:function(t){var n;return n="audio"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,n)}},{key:"minf",value:function(t){var n;return n="audio"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,n,e.dinf(),e.stbl(t))}},{key:"dinf",value:function(){return e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF))}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO))}},{key:"stsd",value:function(t){return"audio"===t.type?"mp3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp3(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))}},{key:"mp3",value:function(t){var n=t.channelCount,i=t.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return e.box(e.types[".mp3"],r)}},{key:"mp4a",value:function(t){var n=t.channelCount,i=t.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return e.box(e.types.mp4a,r,e.esds(t))}},{key:"esds",value:function(t){var n=t.config||[],i=n.length,r=new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i]).concat(n).concat([6,1,2]));return e.box(e.types.esds,r)}},{key:"avc1",value:function(t){var n=t.avcc,i=t.codecWidth,r=t.codecHeight,o=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,o,e.box(e.types.avcC,n))}},{key:"mvex",value:function(t){return e.box(e.types.mvex,e.trex(t))}},{key:"trex",value:function(t){var n=t.id,i=new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,i)}},{key:"moof",value:function(t,n){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,n))}},{key:"mfhd",value:function(t){var n=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,n)}},{key:"traf",value:function(t,n){var i=t.id,r=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),o=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n])),a=e.sdtp(t),s=e.trun(t,a.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,r,o,s,a)}},{key:"sdtp",value:function(t){for(var n=t.samples||[],i=n.length,r=new Uint8Array(4+i),o=0;o<i;o++){var a=n[o].flags;r[o+4]=a.isLeading<<6|a.dependsOn<<4|a.isDependedOn<<2|a.hasRedundancy}return e.box(e.types.sdtp,r)}},{key:"trun",value:function(t,n){var i=t.samples||[],r=i.length,o=12+16*r,a=new Uint8Array(o);n+=8+o,a.set([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0);for(var s=0;s<r;s++){var l=i[s].duration,c=i[s].size,u=i[s].flags,d=i[s].cts;a.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,c>>>24&255,c>>>16&255,c>>>8&255,255&c,u.isLeading<<2|u.dependsOn,u.isDependedOn<<6|u.hasRedundancy<<4|u.isNonSync,0,0,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*s)}return e.box(e.types.trun,a)}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}}]),e}();id.init();const rd=id,od=function(){function e(){(0,iu.Z)(this,e)}return(0,ru.Z)(e,null,[{key:"getSilentFrame",value:function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),e}();var ad=(0,ru.Z)((function e(t,n,i,r,o){(0,iu.Z)(this,e),this.dts=t,this.pts=n,this.duration=i,this.originalDts=r,this.isSyncPoint=o,this.fileposition=null})),sd=function(){function e(){(0,iu.Z)(this,e),this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return(0,ru.Z)(e,[{key:"appendSyncPoint",value:function(e){e.isSyncPoint=!0,this.syncPoints.push(e)}}]),e}(),ld=function(){function e(){(0,iu.Z)(this,e),this._list=[]}return(0,ru.Z)(e,[{key:"clear",value:function(){this._list=[]}},{key:"appendArray",value:function(e){var t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))}},{key:"getLastSyncPointBeforeDts",value:function(e){if(0==this._list.length)return null;var t=this._list,n=0,i=t.length-1,r=0,o=0,a=i;for(e<t[0].dts&&(n=0,o=a+1);o<=a;){if((r=o+Math.floor((a-o)/2))===i||e>=t[r].dts&&e<t[r+1].dts){n=r;break}t[r].dts<e?o=r+1:a=r-1}return this._list[n]}}]),e}(),cd=function(){function e(t){(0,iu.Z)(this,e),this._type=t,this._list=[],this._lastAppendLocation=-1}return(0,ru.Z)(e,[{key:"type",get:function(){return this._type}},{key:"length",get:function(){return this._list.length}},{key:"isEmpty",value:function(){return 0===this._list.length}},{key:"clear",value:function(){this._list=[],this._lastAppendLocation=-1}},{key:"_searchNearestSegmentBefore",value:function(e){var t=this._list;if(0===t.length)return-2;var n=t.length-1,i=0,r=0,o=n,a=0;if(e<t[0].originalBeginDts)return-1;for(;r<=o;){if((i=r+Math.floor((o-r)/2))===n||e>t[i].lastSample.originalDts&&e<t[i+1].originalBeginDts){a=i;break}t[i].originalBeginDts<e?r=i+1:o=i-1}return a}},{key:"_searchNearestSegmentAfter",value:function(e){return this._searchNearestSegmentBefore(e)+1}},{key:"append",value:function(e){var t=this._list,n=e,i=this._lastAppendLocation,r=0;-1!==i&&i<t.length&&n.originalBeginDts>=t[i].lastSample.originalDts&&(i===t.length-1||i<t.length-1&&n.originalBeginDts<t[i+1].originalBeginDts)?r=i+1:t.length>0&&(r=this._searchNearestSegmentBefore(n.originalBeginDts)+1),this._lastAppendLocation=r,this._list.splice(r,0,n)}},{key:"getLastSegmentBefore",value:function(e){var t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null}},{key:"getLastSampleBefore",value:function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null}},{key:"getLastSyncPointBefore",value:function(e){for(var t=this._searchNearestSegmentBefore(e),n=this._list[t].syncPoints;0===n.length&&t>0;)t--,n=this._list[t].syncPoints;return n.length>0?n[n.length-1]:null}}]),e}(),ud=function(){function e(t){(0,iu.Z)(this,e),this.TAG="MP4Remuxer",this._config=t,this._isLive=!0===t.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new cd("audio"),this._videoSegmentInfoList=new cd("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!Eu.chrome||!(Eu.version.major<50||50===Eu.version.major&&Eu.version.build<2661)),this._fillSilentAfterSeek=Eu.msedge||Eu.msie,this._mp3UseMpegAudio=!Eu.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return(0,ru.Z)(e,[{key:"destroy",value:function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}},{key:"bindDataSource",value:function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this}},{key:"onInitSegment",get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e}},{key:"onMediaSegment",get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e}},{key:"insertDiscontinuity",value:function(){this._audioNextDts=this._videoNextDts=void 0}},{key:"seek",value:function(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}},{key:"remux",value:function(e,t){if(!this._onMediaSegment)throw new fu("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)}},{key:"_onTrackMetadataReceived",value:function(e,t){var n=null,i="mp4",r=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(i="mpeg",r="",n=new Uint8Array):n=rd.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,n=rd.generateInitSegment(t)}if(!this._onInitSegment)throw new fu("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:n.buffer,codec:r,container:"".concat(e,"/").concat(i),mediaDuration:t.duration})}},{key:"_calculateDtsBase",value:function(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}},{key:"flushStashedSamples",value:function(){var e=this._videoStashedLastSample,t=this._audioStashedLastSample,n={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(n.samples.push(e),n.length=e.length);var i={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(i.samples.push(t),i.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(n,!0),this._remuxAudio(i,!0)}},{key:"_remuxAudio",value:function(e,t){if(null!=this._audioMeta){var n,i=e,r=i.samples,o=void 0,a=-1,s=this._audioMeta.refSampleDuration,l="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,c=this._dtsBaseInited&&void 0===this._audioNextDts,u=!1;if(r&&0!==r.length&&(1!==r.length||t)){var d=0,A=null,h=0;l?(d=0,h=i.length):(d=8,h=8+i.length);var p=null;if(r.length>1&&(h-=(p=r.pop()).length),null!=this._audioStashedLastSample){var f=this._audioStashedLastSample;this._audioStashedLastSample=null,r.unshift(f),h+=f.length}null!=p&&(this._audioStashedLastSample=p);var m=r[0].dts-this._dtsBase;if(this._audioNextDts)o=m-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())o=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(u=!0);else{var g=this._audioSegmentInfoList.getLastSampleBefore(m);if(null!=g){var v=m-(g.originalDts+g.duration);v<=3&&(v=0),o=m-(g.dts+g.duration+v)}else o=0}if(u){var y=m-o,b=this._videoSegmentInfoList.getLastSegmentBefore(m);if(null!=b&&b.beginDts<y){var C=od.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(C){var _=b.beginDts,E=y-b.beginDts;uu.v(this.TAG,"InsertPrefixSilentAudio: dts: ".concat(_,", duration: ").concat(E)),r.unshift({unit:C,dts:_,pts:_}),h+=C.byteLength}}else u=!1}for(var w=[],T=0;T<r.length;T++){var S=r[T],k=S.unit,I=S.dts-this._dtsBase,B=I-o;-1===a&&(a=B);var x=0,D=!1,P=null;if((x=T!==r.length-1?r[T+1].dts-this._dtsBase-o-B:null!=p?p.dts-this._dtsBase-o-B:w.length>=1?w[w.length-1].duration:Math.floor(s))>1.5*s&&"mp3"!==this._audioMeta.codec&&this._fillAudioTimestampGap&&!Eu.safari){D=!0;var R=Math.abs(x-s),j=Math.ceil(R/s),L=B+s;uu.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\n"+"dts: ".concat(B+x," ms, expected: ").concat(B+Math.round(s)," ms, ")+"delta: ".concat(Math.round(R)," ms, generate: ").concat(j," frames"));var M=od.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);null==M&&(uu.w(this.TAG,"Unable to generate silent frame for "+"".concat(this._audioMeta.originalCodec," with ").concat(this._audioMeta.channelCount," channels, repeat last frame")),M=k),P=[];for(var O=0;O<j;O++){var F=Math.round(L);if(P.length>0){var U=P[P.length-1];U.duration=F-U.dts}var Q={dts:F,pts:F,cts:0,unit:M,size:M.byteLength,duration:0,originalDts:I,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};P.push(Q),h+=Q.size,L+=s}var N=P[P.length-1];N.duration=B+x-N.dts,x=Math.round(s)}w.push({dts:B,pts:B,cts:0,unit:S.unit,size:S.unit.byteLength,duration:x,originalDts:I,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),D&&w.push.apply(w,P)}l?A=new Uint8Array(h):((A=new Uint8Array(h))[0]=h>>>24&255,A[1]=h>>>16&255,A[2]=h>>>8&255,A[3]=255&h,A.set(rd.types.mdat,4));for(var q=0;q<w.length;q++){var z=w[q].unit;A.set(z,d),d+=z.byteLength}var G=w[w.length-1];n=G.dts+G.duration,this._audioNextDts=n;var H=new sd;H.beginDts=a,H.endDts=n,H.beginPts=a,H.endPts=n,H.originalBeginDts=w[0].originalDts,H.originalEndDts=G.originalDts+G.duration,H.firstSample=new ad(w[0].dts,w[0].pts,w[0].duration,w[0].originalDts,!1),H.lastSample=new ad(G.dts,G.pts,G.duration,G.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(H),i.samples=w,i.sequenceNumber++;var W;W=l?new Uint8Array:rd.moof(i,a),i.samples=[],i.length=0;var V={type:"audio",data:this._mergeBoxes(W,A).buffer,sampleCount:w.length,info:H};l&&c&&(V.timestampOffset=a),this._onMediaSegment("audio",V)}}}},{key:"_remuxVideo",value:function(e,t){if(null!=this._videoMeta){var n,i,r=e,o=r.samples,a=void 0,s=-1,l=-1;if(o&&0!==o.length&&(1!==o.length||t)){var c=8,u=null,d=8+e.length,A=null;if(o.length>1&&(d-=(A=o.pop()).length),null!=this._videoStashedLastSample){var h=this._videoStashedLastSample;this._videoStashedLastSample=null,o.unshift(h),d+=h.length}null!=A&&(this._videoStashedLastSample=A);var p=o[0].dts-this._dtsBase;if(this._videoNextDts)a=p-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())a=0;else{var f=this._videoSegmentInfoList.getLastSampleBefore(p);if(null!=f){var m=p-(f.originalDts+f.duration);m<=3&&(m=0),a=p-(f.dts+f.duration+m)}else a=0}for(var g=new sd,v=[],y=0;y<o.length;y++){var b=o[y],C=b.dts-this._dtsBase,_=b.isKeyframe,E=C-a,w=b.cts,T=E+w;-1===s&&(s=E,l=T);var S=0;if(S=y!==o.length-1?o[y+1].dts-this._dtsBase-a-E:null!=A?A.dts-this._dtsBase-a-E:v.length>=1?v[v.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),_){var k=new ad(E,T,S,b.dts,!0);k.fileposition=b.fileposition,g.appendSyncPoint(k)}v.push({dts:E,pts:T,cts:w,units:b.units,size:b.length,isKeyframe:_,duration:S,originalDts:C,flags:{isLeading:0,dependsOn:_?2:1,isDependedOn:_?1:0,hasRedundancy:0,isNonSync:_?0:1}})}(u=new Uint8Array(d))[0]=d>>>24&255,u[1]=d>>>16&255,u[2]=d>>>8&255,u[3]=255&d,u.set(rd.types.mdat,4);for(var I=0;I<v.length;I++)for(var B=v[I].units;B.length;){var x=B.shift().data;u.set(x,c),c+=x.byteLength}var D=v[v.length-1];if(n=D.dts+D.duration,i=D.pts+D.duration,this._videoNextDts=n,g.beginDts=s,g.endDts=n,g.beginPts=l,g.endPts=i,g.originalBeginDts=v[0].originalDts,g.originalEndDts=D.originalDts+D.duration,g.firstSample=new ad(v[0].dts,v[0].pts,v[0].duration,v[0].originalDts,v[0].isKeyframe),g.lastSample=new ad(D.dts,D.pts,D.duration,D.originalDts,D.isKeyframe),this._isLive||this._videoSegmentInfoList.append(g),r.samples=v,r.sequenceNumber++,this._forceFirstIDR){var P=v[0].flags;P.dependsOn=2,P.isNonSync=0}var R=rd.moof(r,s);r.samples=[],r.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(R,u).buffer,sampleCount:v.length,info:g})}}}},{key:"_mergeBoxes",value:function(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e,0),n.set(t,e.byteLength),n}}]),e}();const dd=ud,Ad="io_error",hd="demux_error",pd="init_segment",fd="media_segment",md="loading_complete",gd="recovered_early_eof",vd="media_info",yd="metadata_arrived",bd="scriptdata_arrived",Cd="statistics_info",_d="recommend_seekpoint";var Ed=function(){function e(t,n){(0,iu.Z)(this,e),this.TAG="TransmuxingController",this._emitter=new(lu()),this._config=n,t.segments||(t.segments=[{duration:t.duration,filesize:t.filesize,url:t.url}]),"boolean"!=typeof t.cors&&(t.cors=!0),"boolean"!=typeof t.withCredentials&&(t.withCredentials=!1),this._mediaDataSource=t,this._currentSegmentIndex=0;var i=0;this._mediaDataSource.segments.forEach((function(e){e.timestampBase=i,i+=e.duration,e.cors=t.cors,e.withCredentials=t.withCredentials,n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy)})),isNaN(i)||this._mediaDataSource.duration===i||(this._mediaDataSource.duration=i),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return(0,ru.Z)(e,[{key:"destroy",value:function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"start",value:function(){this._loadSegment(0),this._enableStatisticsReporter()}},{key:"_loadSegment",value:function(e,t){this._currentSegmentIndex=e;var n=this._mediaDataSource.segments[e],i=this._ioctl=new ju(n,this._config,e);i.onError=this._onIOException.bind(this),i.onSeeked=this._onIOSeeked.bind(this),i.onComplete=this._onIOComplete.bind(this),i.onRedirect=this._onIORedirect.bind(this),i.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):i.onDataArrival=this._onInitChunkArrival.bind(this),i.open(t)}},{key:"stop",value:function(){this._internalAbort(),this._disableStatisticsReporter()}},{key:"_internalAbort",value:function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)}},{key:"pause",value:function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())}},{key:"resume",value:function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())}},{key:"seek",value:function(e){if(null!=this._mediaInfo&&this._mediaInfo.isSeekable()){var t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){var n=this._mediaInfo.segments[t];if(null==n)this._pendingSeekTime=e;else{var i=n.getNearestKeyframe(e);this._remuxer.seek(i.milliseconds),this._ioctl.seek(i.fileposition),this._pendingResolveSeekPoint=i.milliseconds}}else{var r=this._mediaInfo.segments[t];if(null==r)this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t);else{var o=r.getNearestKeyframe(e);this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,o.fileposition),this._pendingResolveSeekPoint=o.milliseconds,this._reportSegmentMediaInfo(t)}}this._enableStatisticsReporter()}}},{key:"_searchSegmentIndexContains",value:function(e){for(var t=this._mediaDataSource.segments,n=t.length-1,i=0;i<t.length;i++)if(e<t[i].timestampBase){n=i-1;break}return n}},{key:"_onInitChunkArrival",value:function(e,t){var n=this,i=null,r=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,r=this._demuxer.parseChunks(e,t);else if((i=nd.probe(e)).match){this._demuxer=new nd(i,this._config),this._remuxer||(this._remuxer=new dd(this._config));var o=this._mediaDataSource;null==o.duration||isNaN(o.duration)||(this._demuxer.overridedDuration=o.duration),"boolean"==typeof o.hasAudio&&(this._demuxer.overridedHasAudio=o.hasAudio),"boolean"==typeof o.hasVideo&&(this._demuxer.overridedHasVideo=o.hasVideo),this._demuxer.timestampBase=o.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),r=this._demuxer.parseChunks(e,t)}else i=null,uu.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then((function(){n._internalAbort()})),this._emitter.emit(hd,$u,"Non-FLV, Unsupported media type"),r=0;return r}},{key:"_onMediaInfo",value:function(e){var t=this;null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,qu.prototype));var n=Object.assign({},e);Object.setPrototypeOf(n,qu.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=n,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then((function(){var e=t._pendingSeekTime;t._pendingSeekTime=null,t.seek(e)}))}},{key:"_onMetaDataArrived",value:function(e){this._emitter.emit(yd,e)}},{key:"_onScriptDataArrived",value:function(e){this._emitter.emit(bd,e)}},{key:"_onIOSeeked",value:function(){this._remuxer.insertDiscontinuity()}},{key:"_onIOComplete",value:function(e){var t=e+1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(t)):(this._remuxer.flushStashedSamples(),this._emitter.emit(md),this._disableStatisticsReporter())}},{key:"_onIORedirect",value:function(e){var t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e}},{key:"_onIORecoveredEarlyEof",value:function(){this._emitter.emit(gd)}},{key:"_onIOException",value:function(e,t){uu.e(this.TAG,"IOException: type = ".concat(e,", code = ").concat(t.code,", msg = ").concat(t.msg)),this._emitter.emit(Ad,e,t),this._disableStatisticsReporter()}},{key:"_onDemuxException",value:function(e,t){uu.e(this.TAG,"DemuxException: type = ".concat(e,", info = ").concat(t)),this._emitter.emit(hd,e,t)}},{key:"_onRemuxerInitSegmentArrival",value:function(e,t){this._emitter.emit(pd,e,t)}},{key:"_onRemuxerMediaSegmentArrival",value:function(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(fd,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){var n=t.info.syncPoints,i=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,Eu.safari&&n.length>0&&n[0].originalDts===i&&(i=n[0].pts),this._emitter.emit(_d,i)}}},{key:"_enableStatisticsReporter",value:function(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))}},{key:"_disableStatisticsReporter",value:function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"_reportSegmentMediaInfo",value:function(e){var t=this._mediaInfo.segments[e],n=Object.assign({},t);n.duration=this._mediaInfo.duration,n.segmentCount=this._mediaInfo.segmentCount,delete n.segments,delete n.keyframesIndex,this._emitter.emit(vd,n)}},{key:"_reportStatisticsInfo",value:function(){var e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(Cd,e)}}]),e}();const wd=Ed,Td=function(e){var t=null,n=function(t,n){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:n}})}.bind(this);function i(t,n){var i={msg:pd,data:{type:t,data:n}};e.postMessage(i,[n.data])}function r(t,n){var i={msg:fd,data:{type:t,data:n}};e.postMessage(i,[n.data])}function o(){var t={msg:md};e.postMessage(t)}function a(){var t={msg:gd};e.postMessage(t)}function s(t){var n={msg:vd,data:t};e.postMessage(n)}function l(t){var n={msg:yd,data:t};e.postMessage(n)}function c(t){var n={msg:bd,data:t};e.postMessage(n)}function u(t){var n={msg:Cd,data:t};e.postMessage(n)}function d(t,n){e.postMessage({msg:Ad,data:{type:t,info:n}})}function A(t,n){e.postMessage({msg:hd,data:{type:t,info:n}})}function h(t){e.postMessage({msg:_d,data:t})}au.install(),e.addEventListener("message",(function(p){switch(p.data.cmd){case"init":(t=new wd(p.data.param[0],p.data.param[1])).on(Ad,d.bind(this)),t.on(hd,A.bind(this)),t.on(pd,i.bind(this)),t.on(fd,r.bind(this)),t.on(md,o.bind(this)),t.on(gd,a.bind(this)),t.on(vd,s.bind(this)),t.on(yd,l.bind(this)),t.on(bd,c.bind(this)),t.on(Cd,u.bind(this)),t.on(_d,h.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(p.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":var f=p.data.param;Nu.applyConfig(f),!0===f.enableCallback?Nu.addLogListener(n):Nu.removeLogListener(n)}}))},Sd=function(){function e(t,n){if((0,iu.Z)(this,e),this.TAG="Transmuxer",this._emitter=new(lu()),n.enableWorker&&"undefined"!=typeof Worker)try{var i=__webpack_require__(8034);this._worker=i(Td),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[t,n]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},Nu.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:Nu.getConfig()})}catch(e){uu.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new wd(t,n)}else this._controller=new wd(t,n);if(this._controller){var r=this._controller;r.on(Ad,this._onIOError.bind(this)),r.on(hd,this._onDemuxError.bind(this)),r.on(pd,this._onInitSegment.bind(this)),r.on(fd,this._onMediaSegment.bind(this)),r.on(md,this._onLoadingComplete.bind(this)),r.on(gd,this._onRecoveredEarlyEof.bind(this)),r.on(vd,this._onMediaInfo.bind(this)),r.on(yd,this._onMetaDataArrived.bind(this)),r.on(bd,this._onScriptDataArrived.bind(this)),r.on(Cd,this._onStatisticsInfo.bind(this)),r.on(_d,this._onRecommendSeekpoint.bind(this))}}return(0,ru.Z)(e,[{key:"destroy",value:function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),Nu.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"hasWorker",value:function(){return null!=this._worker}},{key:"open",value:function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()}},{key:"close",value:function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()}},{key:"seek",value:function(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)}},{key:"pause",value:function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()}},{key:"resume",value:function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()}},{key:"_onInitSegment",value:function(e,t){var n=this;Promise.resolve().then((function(){n._emitter.emit(pd,e,t)}))}},{key:"_onMediaSegment",value:function(e,t){var n=this;Promise.resolve().then((function(){n._emitter.emit(fd,e,t)}))}},{key:"_onLoadingComplete",value:function(){var e=this;Promise.resolve().then((function(){e._emitter.emit(md)}))}},{key:"_onRecoveredEarlyEof",value:function(){var e=this;Promise.resolve().then((function(){e._emitter.emit(gd)}))}},{key:"_onMediaInfo",value:function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(vd,e)}))}},{key:"_onMetaDataArrived",value:function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(yd,e)}))}},{key:"_onScriptDataArrived",value:function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(bd,e)}))}},{key:"_onStatisticsInfo",value:function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(Cd,e)}))}},{key:"_onIOError",value:function(e,t){var n=this;Promise.resolve().then((function(){n._emitter.emit(Ad,e,t)}))}},{key:"_onDemuxError",value:function(e,t){var n=this;Promise.resolve().then((function(){n._emitter.emit(hd,e,t)}))}},{key:"_onRecommendSeekpoint",value:function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(_d,e)}))}},{key:"_onLoggingConfigChanged",value:function(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})}},{key:"_onWorkerMessage",value:function(e){var t=e.data,n=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case pd:case fd:this._emitter.emit(t.msg,n.type,n.data);break;case md:case gd:this._emitter.emit(t.msg);break;case vd:Object.setPrototypeOf(n,qu.prototype),this._emitter.emit(t.msg,n);break;case yd:case bd:case Cd:this._emitter.emit(t.msg,n);break;case Ad:case hd:this._emitter.emit(t.msg,n.type,n.info);break;case _d:this._emitter.emit(t.msg,n);break;case"logcat_callback":uu.emitter.emit("log",n.type,n.logcat)}}}]),e}(),kd="error",Id="source_open",Bd="update_end",xd="buffer_full";var Dd=function(){function e(t){(0,iu.Z)(this,e),this.TAG="MSEController",this._config=t,this._emitter=new(lu()),this._config.isLive&&null==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new ld}return(0,ru.Z)(e,[{key:"destroy",value:function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"attachMediaElement",value:function(e){if(this._mediaSource)throw new fu("MediaSource has been attached to an HTMLMediaElement!");var t=this._mediaSource=new window.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),e.src=this._mediaSourceObjectURL}},{key:"detachMediaElement",value:function(){if(this._mediaSource){var e=this._mediaSource;for(var t in this._sourceBuffers){var n=this._pendingSegments[t];n.splice(0,n.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;var i=this._sourceBuffers[t];if(i){if("closed"!==e.readyState){try{e.removeSourceBuffer(i)}catch(e){uu.e(this.TAG,e.message)}i.removeEventListener("error",this.e.onSourceBufferError),i.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if("open"===e.readyState)try{e.endOfStream()}catch(e){uu.e(this.TAG,e.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)}},{key:"appendInitSegment",value:function(e,t){if(!this._mediaSource||"open"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);var n=e,i="".concat(n.container);n.codec&&n.codec.length>0&&(i+=";codecs=".concat(n.codec));var r=!1;if(uu.v(this.TAG,"Received Initialization Segment, mimeType: "+i),this._lastInitSegments[n.type]=n,i!==this._mimeTypes[n.type]){if(this._mimeTypes[n.type])uu.v(this.TAG,"Notice: ".concat(n.type," mimeType changed, origin: ").concat(this._mimeTypes[n.type],", target: ").concat(i));else{r=!0;try{var o=this._sourceBuffers[n.type]=this._mediaSource.addSourceBuffer(i);o.addEventListener("error",this.e.onSourceBufferError),o.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return uu.e(this.TAG,e.message),void this._emitter.emit(kd,{code:e.code,msg:e.message})}}this._mimeTypes[n.type]=i}t||this._pendingSegments[n.type].push(n),r||this._sourceBuffers[n.type]&&!this._sourceBuffers[n.type].updating&&this._doAppendSegments(),Eu.safari&&"audio/mpeg"===n.container&&n.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=n.mediaDuration/1e3,this._updateMediaSourceDuration())}},{key:"appendMediaSegment",value:function(e){var t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var n=this._sourceBuffers[t.type];!n||n.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()}},{key:"seek",value:function(e){for(var t in this._sourceBuffers)if(this._sourceBuffers[t]){var n=this._sourceBuffers[t];if("open"===this._mediaSource.readyState)try{n.abort()}catch(e){uu.e(this.TAG,e.message)}this._idrList.clear();var i=this._pendingSegments[t];if(i.splice(0,i.length),"closed"!==this._mediaSource.readyState){for(var r=0;r<n.buffered.length;r++){var o=n.buffered.start(r),a=n.buffered.end(r);this._pendingRemoveRanges[t].push({start:o,end:a})}if(n.updating||this._doRemoveRanges(),Eu.safari){var s=this._lastInitSegments[t];s&&(this._pendingSegments[t].push(s),n.updating||this._doAppendSegments())}}}}},{key:"endOfStream",value:function(){var e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)}},{key:"getNearestKeyframe",value:function(e){return this._idrList.getLastSyncPointBeforeDts(e)}},{key:"_needCleanupSourceBuffer",value:function(){if(!this._config.autoCleanupSourceBuffer)return!1;var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var n=this._sourceBuffers[t];if(n){var i=n.buffered;if(i.length>=1&&e-i.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1}},{key:"_doCleanupSourceBuffer",value:function(){var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var n=this._sourceBuffers[t];if(n){for(var i=n.buffered,r=!1,o=0;o<i.length;o++){var a=i.start(o),s=i.end(o);if(a<=e&&e<s+3){if(e-a>=this._config.autoCleanupMaxBackwardDuration){r=!0;var l=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:a,end:l})}}else s<e&&(r=!0,this._pendingRemoveRanges[t].push({start:a,end:s}))}r&&!n.updating&&this._doRemoveRanges()}}}},{key:"_updateMediaSourceDuration",value:function(){var e=this._sourceBuffers;if(0!==this._mediaElement.readyState&&"open"===this._mediaSource.readyState&&!(e.video&&e.video.updating||e.audio&&e.audio.updating)){var t=this._mediaSource.duration,n=this._pendingMediaDuration;n>0&&(isNaN(t)||n>t)&&(uu.v(this.TAG,"Update MediaSource duration from ".concat(t," to ").concat(n)),this._mediaSource.duration=n),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}}},{key:"_doRemoveRanges",value:function(){for(var e in this._pendingRemoveRanges)if(this._sourceBuffers[e]&&!this._sourceBuffers[e].updating)for(var t=this._sourceBuffers[e],n=this._pendingRemoveRanges[e];n.length&&!t.updating;){var i=n.shift();t.remove(i.start,i.end)}}},{key:"_doAppendSegments",value:function(){var e=this._pendingSegments;for(var t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&e[t].length>0){var n=e[t].shift();if(n.timestampOffset){var i=this._sourceBuffers[t].timestampOffset,r=n.timestampOffset/1e3;Math.abs(i-r)>.1&&(uu.v(this.TAG,"Update MPEG audio timestampOffset from ".concat(i," to ").concat(r)),this._sourceBuffers[t].timestampOffset=r),delete n.timestampOffset}if(!n.data||0===n.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(n.data),this._isBufferFull=!1,"video"===t&&n.hasOwnProperty("info")&&this._idrList.appendArray(n.info.syncPoints)}catch(e){this._pendingSegments[t].unshift(n),22===e.code?(this._isBufferFull||this._emitter.emit(xd),this._isBufferFull=!0):(uu.e(this.TAG,e.message),this._emitter.emit(kd,{code:e.code,msg:e.message}))}}}},{key:"_onSourceOpen",value:function(){if(uu.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var e=this._pendingSourceBufferInit;e.length;){var t=e.shift();this.appendInitSegment(t,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(Id)}},{key:"_onSourceEnded",value:function(){uu.v(this.TAG,"MediaSource onSourceEnded")}},{key:"_onSourceClose",value:function(){uu.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))}},{key:"_hasPendingSegments",value:function(){var e=this._pendingSegments;return e.video.length>0||e.audio.length>0}},{key:"_hasPendingRemoveRanges",value:function(){var e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0}},{key:"_onSourceBufferUpdateEnd",value:function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(Bd)}},{key:"_onSourceBufferError",value:function(e){uu.e(this.TAG,"SourceBuffer Error: ".concat(e))}}]),e}();const Pd=Dd;var Rd={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},jd={NETWORK_EXCEPTION:yu.EXCEPTION,NETWORK_STATUS_CODE_INVALID:yu.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:yu.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:yu.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:Xu,MEDIA_FORMAT_UNSUPPORTED:$u,MEDIA_CODEC_UNSUPPORTED:ed},Ld=function(){function e(t,n){if((0,iu.Z)(this,e),this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(lu()),this._config=Mu(),"object"===(0,nu.Z)(n)&&Object.assign(this._config,n),"flv"!==t.type.toLowerCase())throw new mu("FlvPlayer requires an flv MediaDataSource input!");!0===t.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=t,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var i=Eu.chrome&&(Eu.version.major<50||50===Eu.version.major&&Eu.version.build<2661);this._alwaysSeekKeyframe=!!(i||Eu.msedge||Eu.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return(0,ru.Z)(e,[{key:"destroy",value:function(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){var n=this;e===Uu.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then((function(){n._emitter.emit(Uu.MEDIA_INFO,n.mediaInfo)})):e===Uu.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then((function(){n._emitter.emit(Uu.STATISTICS_INFO,n.statisticsInfo)})),this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"attachMediaElement",value:function(e){var t=this;if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),e.addEventListener("seeking",this.e.onvSeeking),e.addEventListener("canplay",this.e.onvCanPlay),e.addEventListener("stalled",this.e.onvStalled),e.addEventListener("progress",this.e.onvProgress),this._msectl=new Pd(this._config),this._msectl.on(Bd,this._onmseUpdateEnd.bind(this)),this._msectl.on(xd,this._onmseBufferFull.bind(this)),this._msectl.on(Id,(function(){t._mseSourceOpened=!0,t._hasPendingLoad&&(t._hasPendingLoad=!1,t.load())})),this._msectl.on(kd,(function(e){t._emitter.emit(Uu.ERROR,Rd.MEDIA_ERROR,jd.MEDIA_MSE_ERROR,e)})),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}},{key:"detachMediaElement",value:function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)}},{key:"load",value:function(){var e=this;if(!this._mediaElement)throw new fu("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new fu("FlvPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new Sd(this._mediaDataSource,this._config),this._transmuxer.on(pd,(function(t,n){e._msectl.appendInitSegment(n)})),this._transmuxer.on(fd,(function(t,n){if(e._msectl.appendMediaSegment(n),e._config.lazyLoad&&!e._config.isLive){var i=e._mediaElement.currentTime;n.info.endDts>=1e3*(i+e._config.lazyLoadMaxDuration)&&null==e._progressChecker&&(uu.v(e.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),e._suspendTransmuxer())}})),this._transmuxer.on(md,(function(){e._msectl.endOfStream(),e._emitter.emit(Uu.LOADING_COMPLETE)})),this._transmuxer.on(gd,(function(){e._emitter.emit(Uu.RECOVERED_EARLY_EOF)})),this._transmuxer.on(Ad,(function(t,n){e._emitter.emit(Uu.ERROR,Rd.NETWORK_ERROR,t,n)})),this._transmuxer.on(hd,(function(t,n){e._emitter.emit(Uu.ERROR,Rd.MEDIA_ERROR,t,{code:-1,msg:n})})),this._transmuxer.on(vd,(function(t){e._mediaInfo=t,e._emitter.emit(Uu.MEDIA_INFO,Object.assign({},t))})),this._transmuxer.on(yd,(function(t){e._emitter.emit(Uu.METADATA_ARRIVED,t)})),this._transmuxer.on(bd,(function(t){e._emitter.emit(Uu.SCRIPTDATA_ARRIVED,t)})),this._transmuxer.on(Cd,(function(t){e._statisticsInfo=e._fillStatisticsInfo(t),e._emitter.emit(Uu.STATISTICS_INFO,Object.assign({},e._statisticsInfo))})),this._transmuxer.on(_d,(function(t){e._mediaElement&&!e._config.accurateSeek&&(e._requestSetTime=!0,e._mediaElement.currentTime=t/1e3)})),this._transmuxer.open()))}},{key:"unload",value:function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)}},{key:"play",value:function(){return this._mediaElement.play()}},{key:"pause",value:function(){this._mediaElement.pause()}},{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e}},{key:"mediaInfo",get:function(){return Object.assign({},this._mediaInfo)}},{key:"statisticsInfo",get:function(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)}},{key:"_fillStatisticsInfo",value:function(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,n=0,i=0;if(this._mediaElement.getVideoPlaybackQuality){var r=this._mediaElement.getVideoPlaybackQuality();n=r.totalVideoFrames,i=r.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(n=this._mediaElement.webkitDecodedFrameCount,i=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=n,e.droppedFrames=i),e}},{key:"_onmseUpdateEnd",value:function(){if(this._config.lazyLoad&&!this._config.isLive){for(var e=this._mediaElement.buffered,t=this._mediaElement.currentTime,n=0,i=0;i<e.length;i++){var r=e.start(i),o=e.end(i);if(r<=t&&t<o){n=o;break}}n>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(uu.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}}},{key:"_onmseBufferFull",value:function(){uu.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()}},{key:"_suspendTransmuxer",value:function(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))}},{key:"_checkProgressAndResume",value:function(){for(var e=this._mediaElement.currentTime,t=this._mediaElement.buffered,n=!1,i=0;i<t.length;i++){var r=t.start(i),o=t.end(i);if(e>=r&&e<o){e>=o-this._config.lazyLoadRecoverDuration&&(n=!0);break}}n&&(window.clearInterval(this._progressChecker),this._progressChecker=null,n&&(uu.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))}},{key:"_isTimepointBuffered",value:function(e){for(var t=this._mediaElement.buffered,n=0;n<t.length;n++){var i=t.start(n),r=t.end(n);if(e>=i&&e<r)return!0}return!1}},{key:"_internalSeek",value:function(e){var t=this._isTimepointBuffered(e),n=!1,i=0;if(e<1&&this._mediaElement.buffered.length>0){var r=this._mediaElement.buffered.start(0);(r<1&&e<r||Eu.safari)&&(n=!0,i=Eu.safari?.1:r)}if(n)this._requestSetTime=!0,this._mediaElement.currentTime=i;else if(t){if(this._alwaysSeekKeyframe){var o=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,this._mediaElement.currentTime=null!=o?o.dts/1e3:e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)}},{key:"_checkAndApplyUnbufferedSeekpoint",value:function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}},{key:"_checkAndResumeStuckPlayback",value:function(e){var t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){var n=t.buffered;n.length>0&&t.currentTime<n.start(0)&&(uu.w(this.TAG,"Playback seems stuck at ".concat(t.currentTime,", seek to ").concat(n.start(0))),this._requestSetTime=!0,this._mediaElement.currentTime=n.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)}},{key:"_onvLoadedMetadata",value:function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)}},{key:"_onvSeeking",value:function(e){var t=this._mediaElement.currentTime,n=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(t<1&&n.length>0){var i=n.start(0);if(i<1&&t<i||Eu.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=Eu.safari?.1:i)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){var r=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=r&&(this._requestSetTime=!0,this._mediaElement.currentTime=r.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}}},{key:"_onvCanPlay",value:function(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)}},{key:"_onvStalled",value:function(e){this._checkAndResumeStuckPlayback(!0)}},{key:"_onvProgress",value:function(e){this._checkAndResumeStuckPlayback()}}]),e}();const Md=Ld,Od=function(){function e(t,n){if((0,iu.Z)(this,e),this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(lu()),this._config=Mu(),"object"===(0,nu.Z)(n)&&Object.assign(this._config,n),"flv"===t.type.toLowerCase())throw new mu("NativePlayer does't support flv MediaDataSource input!");if(t.hasOwnProperty("segments"))throw new mu("NativePlayer(".concat(t.type,") doesn't support multipart playback!"));this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=t,this._mediaElement=null}return(0,ru.Z)(e,[{key:"destroy",value:function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}},{key:"on",value:function(e,t){var n=this;e===Uu.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then((function(){n._emitter.emit(Uu.MEDIA_INFO,n.mediaInfo)})):e===Uu.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then((function(){n._emitter.emit(Uu.STATISTICS_INFO,n.statisticsInfo)})),this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){this._emitter.removeListener(e,t)}},{key:"attachMediaElement",value:function(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}},{key:"detachMediaElement",value:function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"load",value:function(){if(!this._mediaElement)throw new fu("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)}},{key:"unload",value:function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}},{key:"play",value:function(){return this._mediaElement.play()}},{key:"pause",value:function(){this._mediaElement.pause()}},{key:"type",get:function(){return this._type}},{key:"buffered",get:function(){return this._mediaElement.buffered}},{key:"duration",get:function(){return this._mediaElement.duration}},{key:"volume",get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e}},{key:"muted",get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e}},{key:"currentTime",get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e}},{key:"mediaInfo",get:function(){var e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e}},{key:"statisticsInfo",get:function(){var e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,n=0,i=0;if(this._mediaElement.getVideoPlaybackQuality){var r=this._mediaElement.getVideoPlaybackQuality();n=r.totalVideoFrames,i=r.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(n=this._mediaElement.webkitDecodedFrameCount,i=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=n,e.droppedFrames=i),e}},{key:"_onvLoadedMetadata",value:function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(Uu.MEDIA_INFO,this.mediaInfo)}},{key:"_reportStatisticsInfo",value:function(){this._emitter.emit(Uu.STATISTICS_INFO,this.statisticsInfo)}}]),e}();au.install();var Fd={createPlayer:function(e,t){var n=e;if(null==n||"object"!==(0,nu.Z)(n))throw new mu("MediaDataSource must be an javascript object!");if(!n.hasOwnProperty("type"))throw new mu("MediaDataSource must has type field to indicate video file type!");return"flv"===n.type?new Md(n,t):new Od(n,t)},isSupported:function(){return Fu.supportMSEH264Playback()},getFeatureList:function(){return Fu.getFeatureList()}};Fd.BaseLoader=bu,Fd.LoaderStatus=vu,Fd.LoaderErrors=yu,Fd.Events=Uu,Fd.ErrorTypes=Rd,Fd.ErrorDetails=jd,Fd.FlvPlayer=Md,Fd.NativePlayer=Od,Fd.LoggingControl=Nu,Object.defineProperty(Fd,"version",{enumerable:!0,get:function(){return"__VERSION__"}});const Ud=Fd;var Qd=__webpack_require__(3379),Nd=__webpack_require__.n(Qd),qd=__webpack_require__(1424);Nd()(qd.Z,{insert:"head",singleton:!1}),qd.Z.locals;var zd=__webpack_require__(2110);Nd()(zd.Z,{insert:"head",singleton:!1}),zd.Z.locals;const Gd=function(t){var n,r,o,a,l,c=useI18n(),u=c.t,d=(c.i18n,t.type),A=void 0===d?"mp4":d,h=t.configure,f=t.url,m=t.videoData,g=(t.tableData,(null==h?void 0:h.autoplay)||(null==t?void 0:t.autoplay)),v=(null==h?void 0:h.loop)||(null==t?void 0:t.loop),y=(null==h?void 0:h.controls)||(null==t?void 0:t.controls),b=(null==h?void 0:h.muted)||(null==t?void 0:t.muted),C=(null==h?void 0:h.preload)||(null==t?void 0:t.preload),_=(null==h?void 0:h.startPosterImage)||(null==t?void 0:t.startPosterImage),E=(null==h?void 0:h.endPosterImage)||(null==t?void 0:t.endPosterImage),w=(null==h?void 0:h.isLive)||(null==t?void 0:t.isLive),T=(null==h?void 0:h.cors)||(null==t?void 0:t.cors),S=(null==h?void 0:h.withCredentials)||(null==t?void 0:t.withCredentials),k=(null==h?void 0:h.hasAudio)||(null==t?void 0:t.hasAudio),I=(null==h?void 0:h.hasVideo)||(null==t?void 0:t.hasVideo),B=((null==h?void 0:h.isHkws)||null==t||t.isHkws,(null==h?void 0:h.videoId)||null==t||t.videoId,(null==h?void 0:h.fluid)||(null==t?void 0:t.fluid)),x=(null==h?void 0:h.aspectRatio)||(null==t?void 0:t.aspectRatio),D=(null==h?void 0:h.notSupportedMessage)||(null==t?void 0:t.notSupportedMessage);console.log(A,9),A=null!=m&&m.type?null==m?void 0:m.type:"hls"==A||"m3u8"==A?"hls":A,f=(null==m?void 0:m.url)||(null==t?void 0:t.url);var P=s().useRef();console.log(m,A,"视频地址");var R=s().useRef(),j=s().useRef(),L=s().useRef(),M=s().useRef(),O=s().useState(!1),F=(0,i.Z)(O,2),U=F[0],Q=F[1],N=s().useState(),q=(0,i.Z)(N,2),z=q[0],G=q[1],H=s().useState(t.notSupportedMessage||"此视频暂无法播放， 请稍后再试"),W=(0,i.Z)(H,2),V=W[0],Y=W[1],J=s().useRef();s().useEffect((function(){var n;if(f&&"hls"==A)if(f&&f.indexOf("http:")>-1||f&&f.indexOf("https:")>-1)n=f;else{var i=window.location.origin;n="".concat(i).concat(f)}if("hls"!=A)if(null!=t&&t.url&&t.url.indexOf("http:")>-1||null!=t&&t.url&&t.url.indexOf("https:")>-1||null!=t&&t.url&&t.url.indexOf("/rest")>-1)n=null==t?void 0:t.url;else if(null!=t&&t.url)n=(null==t?void 0:t.url)&&"".concat((0,e.config)("mediaUrl")).concat(null==t?void 0:t.url);else{var r,o,a,s,l,c,u;if(null!=t&&null!==(r=t.configure)&&void 0!==r&&null!==(o=r.uploadUrl)&&void 0!==o&&null!==(a=o.list)&&void 0!==a&&a.length)n=(null==t||null===(c=t.configure)||void 0===c||null===(u=c.uploadUrl)||void 0===u?void 0:u.list)[0];else if(null!=t&&null!==(s=t.configure)&&void 0!==s&&null!==(l=s.uploadUrl)&&void 0!==l&&l.url){var d,h,p,m,g,v;n=(null==t||null===(d=t.configure)||void 0===d||null===(h=d.uploadUrl)||void 0===h?void 0:h.url)&&"".concat((0,e.config)("mediaUrl")).concat(null==t||null===(p=t.configure)||void 0===p||null===(m=p.uploadUrl)||void 0===m?void 0:m.url)||(null==t||null===(g=t.uploadUrl)||void 0===g?void 0:g.url)&&"".concat((0,e.config)("mediaUrl")).concat(null==t||null===(v=t.uploadUrl)||void 0===v?void 0:v.url)}}G(n)}),[f,null==t||null===(n=t.configure)||void 0===n||null===(r=n.uploadUrl)||void 0===r?void 0:r.url,null==t?void 0:t.uploadUrl]),s().useEffect((function(){if(A&&"flv"==A){if(Ud.isSupported()){void 0!==e&&null!=e&&(e.unload(),e.detachMediaElement(),e.destroy(),e=null);var e=Ud.createPlayer({type:"flv",url:f,isLive:w,cors:T,withCredentials:S,hasAudio:k,hasVideo:I},{enableWorker:!1,lazyLoadMaxDuration:180,seekType:"range"});R.current&&e&&(e.attachMediaElement(R.current),e.load(),e.play())}}else if(A&&"hls"==A){var t;null!=j&&j.current&&z&&(t&&t.dispose(),(t=tu(j.current,{loop:v||!0,controls:y||!0,preload:C||"auto",autoplay:g||!0,muted:b||!0,fluid:B,aspectRatio:x,notSupportedMessage:V||D},(function(){var e,n;this.on("error",(function(n){document.getElementsByClassName("vjs-modal-dialog-content")[0].innerHTML=V,e&&clearTimeout(e),e=setTimeout((function(){t.src(z),t.load(),t.play()}),3e3),P.current=e})),this.on("seeking",(function(){++n>=3&&(n=0,t.src(z),t.load(),t.play())})),this.on("seeked",(function(){n=0})),this.on("pause",(function(){})),this.on("play",(function(){}))}))).ready((function(){t.src(z),t.load(),t.play()})),M.current=t)}}),[R,j,z,h,V]),s().useEffect((function(){return J.current=0,null!=L&&L.current&&L.current.addEventListener("ended",(function(){var e,n,i=null==t||null===(e=t.configure)||void 0===e||null===(n=e.uploadUrl)||void 0===n?void 0:n.list;J.current>=(null==i?void 0:i.length)-1?J.current=0:J.current=J.current+1,K(),Q(!0),document.getElementById("end-video").setAttribute("poster",E)}),!1),function(){null!=M&&M.current&&p().isObject(null==M?void 0:M.current)&&(null==M||M.current.dispose(),M.current=null),null!=P&&P.current&&(clearTimeout(P.current),P.current=null)}}),[]),s().useEffect((function(){var e,n,i,r=null==t||null===(e=t.configure)||void 0===e||null===(n=e.uploadUrl)||void 0===n?void 0:n.list;p().isNumber(J.current)&&null!=r&&r.length&&null!=L&&L.current&&(J.current,i=r[J.current],(0==J.current&&v||J.current>0)&&(G(i),L.current.load(),L.current.play())),g&&K(),v&&g&&Q(!1)}),[v,g,J.current]);var K=function(e){null!=L&&L.current&&L.current.addEventListener("play",(function(){document.getElementById("end-video").removeAttribute("poster"),Q(!1)}),!1),e&&Q(!1)};return console.log(z,v,b,C,_,y,g,A,"视频源"),s().createElement("div",{id:"video_player",className:"video-player",style:{width:"100%",height:"100%"}},"mp4"==A?s().createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},s().createElement("video",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},className:"video-item end-video",ref:L,id:"end-video",poster:_,controls:y,autoplay:!!g&&"autoplay",muted:b||!0,preload:C,loop:!((null==t||null===(o=t.configure)||void 0===o||null===(a=o.uploadUrl)||void 0===a||null===(l=a.list)||void 0===l?void 0:l.length)>1)&&v,src:z}),U&&!v?s().createElement("img",{onClick:function(){return K(!0)},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0},src:E}):null):null,"hls"==A&&z?s().createElement("video",{ref:j,className:"video-js vjs-default-skin m3u8",poster:_,controls:y,autoplay:!!g&&"autoplay",loop:v,muted:b,width:"100%",height:"100%",onError:function(e){return function(e){var t,n,i,r,o,a,s,l,c,d;switch(null==e||null===(t=e.target)||void 0===t||null===(n=t.error)||void 0===n?void 0:n.code){case null==e||null===(i=e.target)||void 0===i||null===(r=i.error)||void 0===r?void 0:r.MEDIA_ERR_ABORTED:Y(u("您中止了视频播放"));break;case null==e||null===(o=e.target)||void 0===o||null===(a=o.error)||void 0===a?void 0:a.MEDIA_ERR_NETWORK:Y(u("网络错误导致视频下载部分失败"));break;case null==e||null===(s=e.target)||void 0===s||null===(l=s.error)||void 0===l?void 0:l.MEDIA_ERR_DECODE:Y(u("由于损坏问题或您的浏览器不支持使用的视频功能，视频播放被中止"));break;case null==e||null===(c=e.target)||void 0===c||null===(d=c.error)||void 0===d?void 0:d.MEDIA_ERR_SRC_NOT_SUPPORTED:Y(u("正在加载请稍等~~~"));break;default:Y(u("发生未知错误"))}}(e)}},s().createElement("source",{src:z,type:"application/x-mpegURL"})):null,"flv"==A&&z?s().createElement("div",{className:"mainContainer"},s().createElement("div",null,s().createElement("video",{ref:R,poster:_,class:"centeredVideo",controls:y,autoplay:!!g&&"autoplay",loop:v,muted:b,width:"100%",height:"100%"},"Your browser is too old which doesn't support HTML5 video."))):null)};var Hd=__webpack_require__(3753),Wd=__webpack_require__.n(Hd),Vd=function(t){var n=t.tableData,r=t.videoAction,o=t.cellKey,a=s().useRef(),l=s().useRef(),c=s().useState({url:"",accessToken:""}),u=(0,i.Z)(c,2),d=u[0],h=u[1],p=null==n?void 0:n.id;s().useEffect((function(){if(null!=d&&d.url&&null!=d&&d.accessToken&&p){var e,t=document.getElementById("video-ezuikit-".concat(o)).clientHeight||400,n=document.getElementById("video-ezuikit-".concat(o)).clientWidth||"100%";document.getElementById("video-container-".concat(p,"-").concat(o)).innerHTML="";var i=f();a.current="",new(Wd().EZUIKitPlayer)((e={id:"video-container-".concat(p,"-").concat(o),accessToken:d.accessToken,url:d.url},(0,A.Z)(e,"url",d.url),(0,A.Z)(e,"width",n),(0,A.Z)(e,"height",t),(0,A.Z)(e,"template",i?"theme":"mobileLive"),(0,A.Z)(e,"autoplay","true"),e))}}),[null==d?void 0:d.url,null==d?void 0:d.accessToken,p]);var f=function(){if("undefined"!=typeof window){for(var e=window.navigator.userAgent,t=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),n=!0,i=0;i<t.length;i++)if(e.indexOf(t[i])>0){n=!1;break}return n}};s().useEffect((function(){var e,t=null==n||null===(e=n.table)||void 0===e?void 0:e.id;"preview"==r&&(null==n?void 0:n.id)&&m(null==n?void 0:n.id,t),"record"==r&&(null==n?void 0:n.id)&&g(null==n?void 0:n.id,t)}),[null==n?void 0:n.id,r]);var m=function(t,n){(0,e.api)({name:"ezviz/ezopen/preview?id=".concat(t,"&table=").concat(n)}).fetch("",{}).then((function(e){var t=e.json;h(t.data)}))},g=function(t,n){(0,e.api)({name:"ezviz/ezopen/record?id=".concat(t,"&table=").concat(n)}).fetch("",{}).then((function(e){var t=e.json;h(t.data)}))};return s().createElement(s().Fragment,null,s().createElement("div",{className:"video-ezuikit",id:"video-ezuikit-".concat(o),ref:l,style:{width:"100%",height:"100%"}},s().createElement("div",{id:"video-container-".concat(p,"-").concat(o),ref:a})))};const Yd=function(e){var t=e.url,n=e.tableData,i=s().useRef();return s().useEffect((function(){var e,r,o,a,s,l;null!=n&&null!==(e=n.table)&&void 0!==e&&null!==(r=e.device)&&void 0!==r&&null!==(o=r.settings)&&void 0!==o&&o.rtmpUrlTemplate&&n.table.device.settings.rtmpUrlTemplate.indexOf("$$")>-1&&console.log(n.table.device.settings.rtmpUrlTemplate.replace("$$",null==n?void 0:n.id),"当前资产");var c,u={container:null!=n&&n.id?"#".concat(null==n?void 0:n.id):"#video_ckplayer",variable:null!=n&&n.id?"player".concat(null==n?void 0:n.id):"playervideo_ckplayer",autoplay:!0,video:null!=n&&n.id&&null!=n&&null!==(a=n.table)&&void 0!==a&&null!==(s=a.device)&&void 0!==s&&null!==(l=s.settings)&&void 0!==l&&l.rtmpUrlTemplate&&n.table.device.settings.rtmpUrlTemplate.indexOf("$$")>-1?n.table.device.settings.rtmpUrlTemplate.replace("$$",null==n?void 0:n.id):t,live:!0,debug:!0,flashplayer:!1,mobileCkControls:!1};if(window.ckplayer)c=new window.ckplayer(u),i.current=c;else{var d=document.createElement("script");d.src="/ckplayer/ckplayer.js",d.type="text/javascript",d.onload=function(e){window.ckplayer&&(c=new window.ckplayer(u),i.current=c)},d.onerror=function(e){message.error(e)},document.head.appendChild(d)}}),[t,n]),s().createElement(s().Fragment,null,s().createElement("div",{id:(null==n?void 0:n.id)||"video_ckplayer",className:"video_ck w-100 h-100",style:{width:"100%",height:"100%"}}))},Jd=icons;var Kd=__webpack_require__(6892);Nd()(Kd.Z,{insert:"head",singleton:!1}),Kd.Z.locals;var Zd=function(t){var n=t.jessConfigute,r=void 0===n?{}:n,o=t.url,a=t.tableData,c=(t.type,t.style),u=t.backUrl,d=(t.value,t.changeTime,t.videoData),A=t.resetStreamType,h=t.videoAction,f=s().useRef(),m=s().useRef(),g=s().useRef(),v=(null==d?void 0:d.url)||o,y=s().useState(v),b=(0,i.Z)(y,2),C=b[0],_=b[1],E=s().useState(!1),w=(0,i.Z)(E,2),T=(w[0],w[1],(0,e.use)("auth.user").user),S=s().useState(!1),k=(0,i.Z)(S,2),I=(k[0],k[1]),B=s().useState(!1),x=(0,i.Z)(B,2),D=(x[0],x[1]),P=((0,e.use)("cell.context.value","table"),(0,e.use)("cell.context.value","tableData"));s().useEffect((function(){var e;f.current&&null!=m&&m.current&&p().isFunction(null==m||null===(e=m.current)||void 0===e?void 0:e.destroy)&&(m.current.destroy(),m.current=null),C&&C.indexOf("token=")>-1&&R()}),[JSON.stringify(t.jessConfigute),C]);var R=function(){if(f.current){var e,t,n,i,o,a;null!=m&&m.current&&p().isFunction(null==m||null===(e=m.current)||void 0===e?void 0:e.destroy)&&C&&(m.current.destroy(),m.current=null);var s={container:f.current,videoBuffer:(null==r?void 0:r.videoBuffer)||1,isResize:(null==r?void 0:r.isResize)||!0,isFullResize:(null==r?void 0:r.isFullResize)||!1,hotKey:(null==r?void 0:r.hotKey)||!1,background:(null==r?void 0:r.background)||"",loadingText:(null==r?void 0:r.loadingText)||"",debug:(null==r?void 0:r.debug)||!1,showBandwidth:(null==r?void 0:r.showBandwidth)||!1,supportDblclickFullscreen:(null==r?void 0:r.supportDblclickFullscreen)||!1,keepScreenOn:(null==r?void 0:r.keepScreenOn)||!1,hasAudio:(null==r?void 0:r.hasAudio)||!0,rotate:(null==r?void 0:r.rotate)||0,operateBtns:{fullscreen:(null==r||null===(t=r.operateBtns)||void 0===t?void 0:t.fullscreen)||!0,screenshot:(null==r||null===(n=r.operateBtns)||void 0===n?void 0:n.screenshot)||!0,play:(null==r||null===(i=r.operateBtns)||void 0===i?void 0:i.play)||!0,audio:(null==r||null===(o=r.operateBtns)||void 0===o?void 0:o.audio)||!0,record:(null==r||null===(a=r.operateBtns)||void 0===a?void 0:a.record)||!0},forceNoOffscreen:(null==r?void 0:r.forceNoOffscreen)||!0,isNotMute:(null==r?void 0:r.isNotMute)||!1,useMSE:(null==r?void 0:r.useMSE)||!1,useWCS:(null==r?void 0:r.useWCS)||!1,wcsUseVideoRender:(null==r?void 0:r.wcsUseVideoRender)||!1,autoWasm:(null==r?void 0:r.autoWasm)||!0,hiddenAutoPause:(null==r?void 0:r.hiddenAutoPause)||!1,isFlv:(null==r?void 0:r.isFlv)||!1,timeout:(null==r?void 0:r.timeout)||10};if(window.JessibucaPro){var c=new window.JessibucaPro(s);c.play(C),j(c),m.current=c}else{var u=document.createElement("script");u.src="/jessibuca-pro/jessibuca-pro.js",u.type="text/javascript",document.head.appendChild(u),u.onload=function(e){if(window.JessibucaPro){var t=new window.JessibucaPro(s);t.play(C),j(t),m.current=t}},u.onerror=function(e){l.message.error(e)}}}},j=function(e){e.on("fullscreen",(function(e){if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)){var n=document.getElementById("dashboard-cell-wrap-".concat(null==t?void 0:t.cellKey)).parentNode.childNodes;if(e){for(var i=0;i<n.length;i++){var r,o;(null===(r=n[i])||void 0===r?void 0:r.id)!="dashboard-cell-wrap-".concat(null==t?void 0:t.cellKey)&&(document.getElementById(null===(o=n[i])||void 0===o?void 0:o.id).style.display="none")}g.current.style.display="none"}else for(var a=0;a<n.length;a++){var s,l;(null===(s=n[a])||void 0===s?void 0:s.id)!="dashboard-cell-wrap-".concat(null==t?void 0:t.cellKey)&&(document.getElementById(null===(l=n[a])||void 0===l?void 0:l.id).style.display="block")}}e&&"sub"==(null==d?void 0:d.streamType)?A("main"):!e&&null!=t&&t.streamType&&A(null==t?void 0:t.streamType)}))};s().useEffect((function(){var t=(0,e.api)("Role").getHeaders(),n=null==t?void 0:t.Authorization,i=t&&t["x-request-project"];if(u){var r="ws://".concat(window.location.host,"/").concat(u,"?token=").concat(n);i&&(r+="&x-request-project=".concat(i)),r&&_(r)}else _(null)}),[u]),s().useEffect((function(){var t=(0,e.api)("Role").getHeaders(),n=null==t?void 0:t.Authorization,i=t&&t["x-request-project"];if(null!=d&&d.type&&null!=d&&d.url){var r=d.url.startsWith("ws://")?"".concat(d.url,"?token=").concat(n):"ws://".concat(window.location.host,"/").concat(d.url,"?token=").concat(n);i&&(r+="&x-request-project=".concat(i)),_(r)}else if(p().isEmpty(h)||"preview"==h){var o=a||P;null!=o&&o.id&&null!=T&&T.userId&&L(a)}}),[null==T?void 0:T.id,d,null==a?void 0:a.id,null==P?void 0:P.id,h]);var L=function(t){var n,i={},r=(0,e.api)("Role").getHeaders(),o=null==r?void 0:r.Authorization,a=r&&r["x-request-project"];i.Authorization=o,a&&(i["x-request-project"]=a),o&&fetch((0,e.config)("mediaUrl")+"/video/live/url",{method:"POST",headers:i,body:JSON.stringify({id:null==t?void 0:t.id,table:null==t||null===(n=t.table)||void 0===n?void 0:n.id})}).then((function(e){return e.json()})).then((function(e){var t=null!=e&&e.url?"ws://".concat(window.location.host,"/").concat(e.url,"?token=").concat(i.Authorization):e.url;a&&(t+="&x-request-project=".concat(a)),t&&_(t)})).catch((function(e){400==e.code&&console.log(e.message)}))};return s().useEffect((function(){return function(){null!=m&&m.current&&(null==m||m.current.destroy(),m.current=null)}}),[]),s().useEffect((function(){var e,n=null===(e=document.getElementById("dashboard-cell-wrap-".concat(null==t?void 0:t.cellKey)))||void 0===e?void 0:e.clientHeight;D(n)}),[null==t?void 0:t.cellKey]),s().createElement("div",{className:"container-shell",style:{width:"100%",height:"100%"}},s().createElement("div",{className:"jessibuc-container",style:{background:"rgba(13, 14, 27, 0.7)",width:(null==c?void 0:c.width)||"100%",height:(null==c?void 0:c.height)||"100%"},ref:f,id:"container"}),/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?s().createElement("div",{className:"jessconfigute-control",ref:g,style:{zIndex:1e4}},s().createElement(Jd.FullscreenOutlined,{onClick:function(){/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)&&(function(e){for(var n=0;n<e.length;n++){var i,r;(null===(i=e[n])||void 0===i?void 0:i.id)!="dashboard-cell-wrap-".concat(null==t?void 0:t.cellKey)&&(document.getElementById(null===(r=e[n])||void 0===r?void 0:r.id).style.display="none")}}(document.getElementById("dashboard-cell-wrap-".concat(null==t?void 0:t.cellKey)).parentNode.childNodes),g.current.style.display="none",null!=m&&m.current&&(null==m||m.current.setFullscreen(!0))),I(!0)}})):null)};function Xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xd(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}xadminForm;var eA={autoplay:{title:_r("自动播放"),type:"boolean"},loop:{title:_r("循环播放"),type:"boolean"},controls:{title:_r("控制器"),type:"boolean"},muted:{title:_r("静音"),type:"boolean"},preload:{title:_r("预加载"),type:"string",enum_title:[_r("自动"),_r("载入元数据"),_r("不加载")],enum:["auto","meta","none"]},isHkws:{title:_r("海康"),type:"boolean"},videoId:{title:_r("监控点"),type:"object",fieldType:"tableData",field:{func:"device"}},isLive:{title:_r("直播流"),type:"boolean"},cors:{title:_r("开启cors获取http"),type:"boolean"},withCredentials:{title:_r("使用cookie进行http获取"),type:"boolean"},hasAudio:{title:_r("音轨"),type:"boolean"},hasVideo:{title:_r("视频"),type:"boolean"},fluid:{title:_r("流体"),type:"boolean"},aspectRatio:{title:_r("流体模式"),type:"string",enum:["16:9","4:3"]},notSupportedMessage:{title:_r("无法播放媒体流时默认消息"),type:"string"},resolution:{title:_r("分辨率"),type:"string",description:_r("例如：1280x960")},frameRate:{title:_r("帧率"),type:"number"},startPosterImage:{title:_r("开始海报封面"),type:"string",fieldType:"image"},endPosterImage:{title:_r("结束海报封面"),type:"string",fieldType:"image"},uploadUrl:{type:"object",title:_r("视频列表"),properties:{list:{type:"string",title:_r("视频选择"),fieldType:"media_modal",field:{uploadType:"video",multiple:!0,btnText:_r("媒体库")}}}}},tA=(_r("海康"),_r("监控点"),_r("分辨率"),_r("帧率"),{autoplay:{title:_r("自动播放"),type:"boolean"},loop:{title:_r("循环播放"),type:"boolean"},controls:{title:_r("控制器"),type:"boolean"},muted:{title:_r("静音"),type:"boolean"},preload:{title:_r("预加载"),type:"string",enum_title:[_r("自动"),_r("载入元数据"),_r("不加载")],enum:["auto","meta","none"]}}),nA=($d($d({},tA),{},{isLive:{title:_r("直播流"),type:"boolean"},cors:{title:_r("开启cors获取http"),type:"boolean"},withCredentials:{title:_r("使用cookie进行http获取"),type:"boolean"},hasAudio:{title:_r("音轨"),type:"boolean"},hasVideo:{title:_r("视频"),type:"boolean"}}),$d($d({},tA),{},{fluid:{title:_r("流体"),type:"boolean"},aspectRatio:{title:_r("流体模式"),type:"string",enum:["16:9","4:3"]},notSupportedMessage:{title:_r("无法播放媒体流时默认消息"),type:"string"}}),$d($d({},tA),{},{startPosterImage:{title:_r("开始海报封面"),type:"string",fieldType:"image"},endPosterImage:{title:_r("结束海报封面"),type:"string",fieldType:"image"},uploadUrl:{title:_r("上传视频"),type:"object",properties:{},description:_r("mp4格式")}}),{title:_r("配置项"),type:"object",properties:{node:{type:"object",title:_r("设备"),fieldType:"tableData",properties:{}},url:{title:_r("地址"),type:"string"},jessConfigute:{title:_r("高级配置"),type:"object",properties:{hotKey:{title:_r("键盘快捷键"),type:"boolean",description:_r("目前支持的键盘快捷键有：esc -> 退出全屏；arrowUp -> 声音增加；arrowDown -> 声音减少")},loadingText:{title:_r("加载过程中文案"),type:"string"},background:{title:_r("背景图"),type:"string",filedType:"image"},debug:{title:_r("控制台调试打印"),type:"boolean"},operateBtns:{title:_r("操作按钮"),type:"object",properties:{fullscreen:{title:_r("全屏"),type:"boolean"},screenshot:{title:_r("截图"),type:"boolean"},play:{title:_r("播放暂停"),type:"boolean"},audio:{title:_r("声音"),type:"boolean"},record:{title:_r("录制"),type:"boolean"}}},showBandwidth:{title:_r("网速"),type:"boolean"},supportDblclickFullscreen:{title:_r("屏幕双击"),type:"boolean"},keepScreenOn:{title:_r("屏幕常亮"),type:"boolean"},isNotMute:{title:_r("声音"),type:"boolean"},videoBuffer:{title:_r("缓冲时长, 单位秒"),type:"number",description:_r("设置最大缓冲时长，单位秒，播放器会自动消除延迟。")},useMSE:{title:_r("MediaSource硬解码"),type:"boolean",description:_r("视频编码只支持H.264视频（Safari on iOS不支持）")},useWCS:{title:_r("Webcodecs硬解码"),type:"boolean",description:_r("视频编码只支持H.264视频 (需在chrome 94版本以上，需要https或者localhost环境)")},wcsUseVideoRender:{title:_r("wcs硬解码video渲染"),type:"boolean",description:_r("webcodecs硬解码是否通过video标签渲染")},autoWasm:{title:_r("降级到wasm模式"),type:"boolean",description:_r("在使用MSE或者Webcodecs 播放H265的时候，是否自动降级到wasm模式。设置为false 则直接关闭播放，抛出Error 异常，设置为true 则会自动切换成wasm模式播放。")},forceNoOffscreen:{title:_r("不使用离屏模式"),type:"boolean"},hiddenAutoPause:{title:_r("页面隐藏自动暂停播放"),type:"boolean"},hasAudio:{title:_r("音频"),type:"boolean"},rotate:{title:_r("旋转角度"),type:"number",description:_r("只支持，0(默认) ，180，270 三个值")},isResize:{title:_r("画面等比缩放拉伸"),type:"boolean",description:_r("true: 不被拉伸，有黑边； false: 拉伸")},isFullResize:{title:_r("画面等比缩放拉伸"),type:"boolean",description:_r("true: 不被拉伸，无黑边，画面显示不全； false: 拉伸")},isFlv:{title:_r("以.flv为依据解析协议"),type:"boolean"},timeout:{title:_r("超时时长, 单位秒"),type:"number",description:_r("在连接成功之前和播放中途,如果超过设定时长无数据返回,则进行回调timeout事件")}}}}}),iA=function(e){var t=e.input,n=t.value,r=t.onChange,o=e.titleMap,a=useI18n(),c=a.t,u=(a.i18n,s().useState([])),d=(0,i.Z)(u,2),A=d[0],h=d[1];return s().useEffect((function(){o&&p().isArray(o)&&h(o.map((function(e){return{label:c(null==e?void 0:e.name),value:null==e?void 0:e.value}})))}),[JSON.stringify(o)]),s().createElement(l.Radio.Group,{style:{margin:"1rem 0"},buttonStyle:"solid",options:A,onChange:function(e){return r(e.target.value)},value:n,optionType:"button"})};iA.useGroup=!1;const rA=iA;var oA;function aA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function sA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aA(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lA=function(t,n,i,r,o,a,s){var l,c;if(null!=t&&t.id){var u,d={id:null==t?void 0:t.id,table:null==t||null===(u=t.table)||void 0===u?void 0:u.id,resolution:i,frameRate:r,streamType:s},A={},h=(0,e.api)("Role").getHeaders(),f=null==h?void 0:h.Authorization,m=h&&h["x-request-project"];return A.Authorization=f,m&&(A["x-request-project"]=m),fetch((0,e.config)("mediaUrl")+"/video/live/url",{method:"POST",headers:A,body:JSON.stringify(d)}).then((function(e){return e.json()})).then((function(e){if(null!=e&&e.url&&null!=e&&e.protocol)if("hls"==(null==e?void 0:e.protocol)&&e.url&&-1==e.url.indexOf("http:")){var t=window.location.origin;l="".concat(t).concat(e.url)}else l=e.url;return null!=e&&e.protocol&&(c="ws"==e.protocol?"rtsp":e.protocol),c&&n&&n.change("type",c),l&&n&&n.change("url",l),e.resolution&&n&&n.change("configure.resolution",e.resolution),e.frameRate&&n&&n.change("configure.frameRate",e.frameRate),o(e),{videoType:c,videoUrl:l,frameRate:e.frameRate,resolution:e.resolution,noVideo:!1,stream:s}})).catch((function(e){return o&&p().isFunction(o)&&o(e),{videoType:"",videoUrl:"",frameRate:"",resolution:"",noVideo:!0,stream:s}}))}},cA=function(r){var a,l,c,u,h,f,m,g,v,y,b,C,_,E,w,T,S=r.type,k=r.url,I=r.tableData,B=r.configure,x=r.videoAction,D=r.jessConfigute,P=r.show,R=r.defaultImage,j=r.streamType,L=void 0===j?"main":j,M=r.recordTimeRange,O=r.recordStartTime,F=r.recordEndTime,U=s().useState({type:r.type,url:"",frameRate:null,resolution:null,noVideo:!1,streamType:L}),Q=(0,i.Z)(U,2),N=Q[0],q=Q[1],z=s().useState(""),G=(0,i.Z)(z,2),H=G[0],W=G[1],V=((0,e.use)("auth.user").user,(0,e.use)("redux",(function(e){return{video:null==e?void 0:e.video}})).video);(p().isString(null==r?void 0:r.videoId)||p().isString(null==r?void 0:r.videoUid)||p().isString(null==r||null===(a=r.configure)||void 0===a?void 0:a.videoId)||p().isString(null==r||null===(l=r.configure)||void 0===l?void 0:l.videoUid))&&(h=(null==r?void 0:r.videoId)||(null==r?void 0:r.videoUid)||(null==r||null===(m=r.configure)||void 0===m?void 0:m.videoId)||(null==r||null===(g=r.configure)||void 0===g?void 0:g.videoUid)),(p().isPlainObject(null==r?void 0:r.videoId)||p().isPlainObject(null==r?void 0:r.videoUid)||p().isPlainObject(null==r||null===(c=r.configure)||void 0===c?void 0:c.videoId)||p().isPlainObject(null==r||null===(u=r.configure)||void 0===u?void 0:u.videoUid))&&(h=(null==r||null===(v=r.videoId)||void 0===v?void 0:v.id)||(null==r||null===(y=r.videoUid)||void 0===y?void 0:y.id)||(null==r||null===(b=r.configure)||void 0===b||null===(C=b.videoId)||void 0===C?void 0:C.id)||(null==r||null===(_=r.configure)||void 0===_||null===(E=_.videoUid)||void 0===E?void 0:E.id),f=(null==r?void 0:r.videoId)||(null==r?void 0:r.videoUid)||(null==r||null===(w=r.configure)||void 0===w?void 0:w.videoId)||(null==r||null===(T=r.configure)||void 0===T?void 0:T.videoUid));var Y=s().useRef(),J=useI18n(),K=J.t,Z=(J.i18n,(0,e.use)("redux").dispatch),X=((0,e.use)("cell.context.value","table"),(0,e.use)("cell.context.value","tableData"));s().useEffect((function(){(0,n.Z)(o().mark((function e(){var t,n,i,a,s,l,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("mp4"!=S){e.next=2;break}return e.abrupt("return");case 2:if(t=I||X,"record"==x){e.next=21;break}if("rtmp"==S||!L){e.next=21;break}if(q({type:"",url:""}),null==t||!t.id){e.next=19;break}return e.next=9,lA(t,"",null==B?void 0:B.resolution,null==B?void 0:B.frameRate,ne,0,L);case 9:n=e.sent,i=n.videoType,a=n.videoUrl,s=n.frameRate,l=n.resolution,c=n.noVideo,u=n.stream,i&&q({type:i,url:a,frameRate:s,resolution:l,noVideo:c,streamType:u}),e.next=21;break;case 19:null!=Y&&Y.current&&clearTimeout(Y.current),q({type:r.type,url:r.url,frameRate:null,resolution:null});case 21:case"end":return e.stop()}}),e)})))()}),[x,null==I?void 0:I.id,null==X?void 0:X.id,null==B?void 0:B.resolution,null==B?void 0:B.frameRate,S,k,L]),s().useEffect((function(){var e=I||X;if("record"==x&&"ezopen"!=S){var t=O?moment(O).utc().format():null!=M&&M.startTime?moment(null==M?void 0:M.startTime).utc().format():moment(moment(new Date).subtract(1,"d")).utc().format(),n=F?moment(F).utc().format():null!=M&&M.endTime?moment(null==M?void 0:M.endTime).utc().format():moment(new Date).utc().format();if(null!=e&&e.id&&t&&n){var i,r,o,a,s=(p().isString(null==e||null===(i=e.hkvideo)||void 0===i?void 0:i.point)?null==e||null===(r=e.hkvideo)||void 0===r?void 0:r.point:null==e||null===(o=e.hkvideo)||void 0===o||null===(a=o.point)||void 0===a?void 0:a.id)||e.id,l=moment(t).utc().format(),c=moment(n).utc().format();s&&l&&c&&ee(s,l,c,e)}}}),[x,null==I?void 0:I.id,null==X?void 0:X.id,null==B?void 0:B.resolution,null==B?void 0:B.frameRate,S,k,JSON.stringify(M),O,F]),s().useEffect((function(){var e,t,n,i=(null==I?void 0:I.id)||(null==X?void 0:X.id),r=null==I?void 0:I.table;if(i&&null!=V&&null!==(e=V.customBackplay)&&void 0!==e&&e[i]&&r&&"changeTime"==(null==V||null===(t=V.customBackplay)||void 0===t||null===(n=t[i])||void 0===n?void 0:n.type)){var o,a,s,l,c,u=null==V||null===(o=V.customBackplay)||void 0===o||null===(a=o[i])||void 0===a?void 0:a.startTime,d=null==V||null===(s=V.customBackplay[i])||void 0===s?void 0:s.endTime,A=null==V||null===(l=V.customBackplay)||void 0===l||null===(c=l[i])||void 0===c?void 0:c.videoRecords;te(i,u,d,A,I,"changeTime")}}),[JSON.stringify(null==V?void 0:V.customBackplay),JSON.stringify(I),JSON.stringify(X)]);var $=function(e,t){return e.startTime-t.startTime},ee=function(t,n,i,r){var o,a=null==r||null===(o=r.table)||void 0===o?void 0:o.id;(0,e.api)({name:"video/playback/records"}).fetch("?id=".concat(t,"&startTime=").concat(n,"&endTime=").concat(i,"&table=").concat(a),{}).then((function(e){var o,a=e.json;if(null!=a&&null!==(o=a.Records)&&void 0!==o&&o.length){var s=null==a?void 0:a.Records.map((function(e){return sA(sA({},e),{},{startTime:Date.parse(moment(e.StartTime).format("YYYY-MM-DD HH:mm:ss"))/1e3,endTime:Date.parse(moment(e.EndTime).format("YYYY-MM-DD HH:mm:ss"))/1e3})}));s.sort($);var l=moment(s[0].StartTime).format("YYYY-MM-DD HH:mm:ss"),c=moment(n).format("YYYY-MM-DD HH:mm:ss"),u=moment(l).diff(c,"s")>0?s[0].StartTime:n,d=s[0].EndTime;te(t,u,d,s,r)}else q(sA(sA({},N),{},{type:null,url:null})),W(null),Z({type:"@@video/upload_jessibucaPlayback",payload:(0,A.Z)({},t,{videoRecords:[],now:moment(Date.parse(moment(n).utc().format())).unix().valueOf(),url:null,startTime:n,endTime:i,type:null})})})).catch((function(e){te()}))},te=function(t,n,i,r,o,a){var s,l=null==o||null===(s=o.table)||void 0===s?void 0:s.id;t&&n&&i&&l&&(0,e.api)({name:"video/playback/url"}).fetch("?id=".concat(t,"&startTime=").concat(n,"&endTime=").concat(i,"&table=").concat(l),{}).then((function(e){var o,s=e.json;Z({type:"@@video/upload_jessibucaPlayback",payload:(0,A.Z)({},t,sA(sA({},null==V||null===(o=V.customBackplay)||void 0===o?void 0:o[t]),{},{videoRecords:r,now:moment(Date.parse(moment(n).utc().format())).unix().valueOf(),url:null==s?void 0:s.url,startTime:n,endTime:i,type:a||null}))}),q({type:null==s?void 0:s.protocol,url:null==s?void 0:s.url}),W(null==s?void 0:s.url)}))},ne=function e(t){if(400==(null==t?void 0:t.code)){console.log(t.message);var i=I||X;null!=Y&&Y.current&&clearTimeout(Y.current),Y.current=setTimeout((0,n.Z)(o().mark((function t(){var n,r,a,s,l,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==i||!i.id){t.next=11;break}return t.next=3,lA(i,"",null==B?void 0:B.resolution,null==B?void 0:B.frameRate,e,0,L);case 3:n=t.sent,r=n.videoType,a=n.videoUrl,s=n.frameRate,l=n.resolution,n.noVideo,c=n.stream,q({type:r,url:a,frameRate:s,resolution:l,noVideo:!0,streamType:c});case 11:case"end":return t.stop()}}),t)}))),5e3)}else null!=Y&&Y.current&&clearTimeout(Y.current)},ie=function(){var e=(0,n.Z)(o().mark((function e(t){var n,i,r,a,s,l,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I||X,e.next=3,lA(n,"",null==B?void 0:B.resolution,null==B?void 0:B.frameRate,ne,0,t);case 3:i=e.sent,r=i.videoType,a=i.videoUrl,s=i.frameRate,l=i.resolution,c=i.noVideo,u=i.stream,q({type:r,url:a,frameRate:s,resolution:l,noVideo:c,streamType:u});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();s().useEffect((function(){return function(){null!=Y&&Y.current&&clearTimeout(Y.current)}}),[]);var re,oe="rtsp"==(S=null!=I&&I.id||null!=X&&X.id?null==N?void 0:N.type:"hls"==S||"m3u8"==S?"hls":S)||"ws"==S?"ws":"";return s().createElement(s().Fragment,null,"ezopen"==S?s().createElement(Vd,d({videoAction:x},r,{videoData:N})):null!=N&&N.url&&"ws"==oe||"ws"==oe&&h||"ws"==oe&&r.url?s().createElement(gA,d({videoData:N},r,{tableData:I||f,videoId:h,videoUid:h})):("hls"==S||"flv"==S||"m3u8"==S)&&(null!=N&&N.url||null!=r&&r.url)||"mp4"==S&&null!=r&&r.url||"mp4"==S&&null!=r&&null!==(re=r.configure)&&void 0!==re&&re.uploadUrl?s().createElement(Gd,d({videoData:N},r)):"ws-raw"==S?s().createElement(Zd,d({backUrl:H,resetStreamType:function(e){ie(e)},videoData:N},r,{jessConfigute:D||(null==B?void 0:B.jessConfigute)})):"rtmp"==S?s().createElement(Yd,r):P&&R?s().createElement("img",{style:{width:"100%",height:"100%"},src:R}):s().createElement(t.C,{is:"NoData",style:{width:"100%",height:"100%"},description:K("暂无视频")}))};cA.useGroup=!1;var uA=function(e,t,n){e.forEach((function(e){t.setFieldData("".concat(e),{display:n})}))},dA=function(e){var t=e.input,n=e.options;return s().createElement(l.Radio.Group,{options:n,onChange:function(e){return t.onChange(e.target.value)},value:null==t?void 0:t.value})},AA=function(e){var t=e.input,n=t.value,i=t.onChange;return s().createElement(l.DatePicker,{onChange:function(e,t){return i(t)},value:n?moment(moment(n).format(),"YYYY-MM-DD HH:mm:ss"):null,allowClear:!0,showTime:!0})},hA={type:"object",properties:(oA={videoType:{title:_r("类型"),type:"string",unbind:!0,enum:["dataVideo","customVideo"],enum_title:[_r("设备表视频"),_r("自定义视频")]},tableData:{title:_r("设备"),type:"object",fieldType:"tableData",field:{func:"device"}},streamType:{title:_r("码流"),type:"string",field:{component:function(e){var t=useI18n(),n=t.t;return t.i18n,s().createElement(dA,d({},e,{options:[{label:n("主码流"),value:"main"},{label:n("子码流"),value:"sub"}]}))}},bind:!0},type:{title:_r("视频类型"),type:"string",enum:["mp4","flv","hls","rtsp","rtmp","ezopen","ws-raw"],enum_title:[_r("mp4"),_r("flv直播视频"),_r("hls直播视频"),_r("rtsp直播视频"),_r("rtmp直播视频"),_r("萤石云"),"ws-raw"]},url:{title:_r("视频地址"),type:"string",description:_r("请输入对应视频类型的地址")}},(0,A.Z)(oA,"streamType",{title:_r("码流类型"),type:"string",enum:["main","sub"],enum_title:[_r("主码流"),_r("子码流")]}),(0,A.Z)(oA,"videoAction",{title:_r("播放类型"),type:"string",enum:["preview","record"],enum_title:[_r("预览"),_r("回放")],field:{component:function(e){var t=useI18n(),n=t.t;return t.i18n,s().createElement(dA,d({},e,{options:[{label:n("预览"),value:"preview"},{label:n("回放"),value:"record"}]}))}}}),(0,A.Z)(oA,"recordStartTime",{title:_r("开始时间"),type:"string",field:{component:function(e){return s().createElement(AA,e)}},bind:!0}),(0,A.Z)(oA,"recordEndTime",{title:_r("结束时间"),type:"string",field:{component:function(e){return s().createElement(AA,e)}},bind:!0}),(0,A.Z)(oA,"show",{title:_r("占位图"),type:"boolean"}),(0,A.Z)(oA,"defaultImage",{title:_r("默认图片"),type:"string",fieldType:"image"}),(0,A.Z)(oA,"configure",{title:_r("高级配置"),type:"object",properties:sA({},eA),form:["*",{key:"resolution",component:function(e){var t=e.input,n=t.value,r=t.onChange,o=s().useState({left:null,right:null}),a=(0,i.Z)(o,2),c=a[0],u=a[1];return s().useEffect((function(){if(null!=c&&c.left&&null!=c&&c.right){var e="".concat(c.left,"x").concat(c.right);r(e)}}),[c]),s().useEffect((function(){if(n){var e=n.slice(0,n.indexOf("x")),t=n.slice(n.indexOf("x")+1);u({left:e,right:t})}}),[]),s().createElement("div",{style:{display:"flex"}},s().createElement(l.InputNumber,{min:1,onChange:function(e){return u(sA(sA({},c),{},{left:e}))},value:c.left,style:{marginRight:".2rem"}}),s().createElement(l.InputNumber,{min:1,onChange:function(e){return u(sA(sA({},c),{},{right:e}))},value:c.right}))}},"frameRate"]}),(0,A.Z)(oA,"jessConfigute",nA.properties.jessConfigute),oA),form:["*",{key:"videoType",component:rA},"tableData","type","url","videoAction","streamType","recordStartTime","recordEndTime","configure","jessConfigute","show","defaultImage"],formEffect:function(e){var t=e.getState(),i=(t.initialValues,t.values,Object.keys(eA));setTimeout((function(){var t=["tableData","type","url"];e.useField("videoType",(function(n){var i=n.value;i&&("dataVideo"==i?uA(t,e,!0):"customVideo"==i&&(uA(t.filter((function(e){return"tableData"!=e})),e,!0),uA(t.filter((function(e){return"tableData"==e})),e,!1)))})),e.useField("tableData",(function(t){t.value?e.setFieldData("streamType",{display:!0}):e.setFieldData("streamType",{display:!1})})),e.useField("show",(function(t){t.value?e.setFieldData("defaultImage",{display:!0}):e.setFieldData("defaultImage",{display:!1})})),e.useField("videoAction",(function(t){"record"==t.value?(e.setFieldData("recordStartTime",{display:!0}),e.setFieldData("recordEndTime",{display:!0})):(e.setFieldData("recordStartTime",{display:!1}),e.setFieldData("recordEndTime",{display:!1}))})),e.useField("type",(function(t){var n,r=t.value;"mp4"==r&&(n=["autoplay","loop","controls","muted","preload","uploadUrl","startPosterImage","endPosterImage"]),"flv"==r&&(n=["autoplay","loop","controls","muted","preload","isLive","cors","withCredentials","hasAudio","hasVideo"]),"rtsp"==r&&(n=["isHkws","videoId","resolution","frameRate"]),"hls"==r&&(n=["autoplay","loop","controls","muted","preload","fluid","aspectRatio","notSupportedMessage"]),"mp4"!=r?e.setFieldData("videoAction",{display:!0}):e.setFieldData("videoAction",{display:!1}),"ws-raw"==r?(e.setFieldData("jessConfigute",{display:!0}),e.setFieldData("configure",{display:!1})):(e.setFieldData("configure",{display:!0}),e.setFieldData("jessConfigute",{display:!1})),p().isEmpty(r)&&uA(["configure","jessConfigute"],e,!1),n&&i&&function(e,t,n){e.forEach((function(e){t.findIndex((function(t){return t==e}))>-1?n.setFieldData("configure.".concat(e),{display:!0}):n.setFieldData("configure.".concat(e),{display:!1})}))}(i,n,e)}))}),10),e.useEffect((function(t){var i=t.values;(0,n.Z)(o().mark((function t(){var n,r,a,s,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=window.location.pathname.split("/").slice(-1)[0]).startsWith("_p_")&&r.substring(3),null==i||null===(n=i.tableData)||void 0===n||!n.id||"rtmp"==(null==i?void 0:i.type)){t.next=11;break}return localStorage.getItem("user/admin/".concat(r))&&JSON.parse(localStorage.getItem("user/admin/".concat(r))),t.next=6,lA(i.tableData,e,null==i||null===(a=i.configure)||void 0===a?void 0:a.resolution,null==i||null===(s=i.configure)||void 0===s?void 0:s.frameRate,(function(){}));case 6:(l=t.sent).videoType,l.videoUrl,l.frameRate,l.resolution;case 11:case"end":return t.stop()}}),t)})))()}),["values"])}};const pA={title:_r("视频"),category:[_r("视频组件"),_r("基础视频")],component:cA,icon:__webpack_require__(9107),paramSchema:hA,initLayout:{width:200,height:200},initParam:{videoType:"dataVideo",streamType:"main",configure:{controls:!0},jessConfigute:{videoBuffer:1,isResize:!0,isFullResize:!1,hotKey:!1,background:"",loadingText:"",debug:!1,showBandwidth:!1,supportDblclickFullscreen:!1,keepScreenOn:!1,hasAudio:!0,rotate:0,operateBtns:{fullscreen:!0,screenshot:!0,play:!0,audio:!0,record:!0},forceNoOffscreen:!0,isNotMute:!1,useMSE:!1,useWCS:!1,wcsUseVideoRender:!1,autoWasm:!0,hiddenAutoPause:!1,isFlv:!1,timeout:10},videoAction:"preview"}};var fA=function(t,n){if(t&&n)return(0,e.api)({name:"core/t/".concat(n,"/d/").concat(t)}).fetch("",{}).then((function(e){return e.json}))},mA=function(r){var c=r.id,u=r.type,d=(r.styles,r.configure),A=r.resolution,h=r.frameRate,p=r.videoData,f=r.tableId,m=(0,a.useState)({type:null,url:null}),g=(0,i.Z)(m,2),v=g[0],y=g[1],b=(s().useRef(),(null==d?void 0:d.resolution)||A),C=(null==d?void 0:d.frameRate)||h,_=null==p?void 0:p.url;(0,a.useEffect)((function(){(0,n.Z)(o().mark((function e(){var t,n,i,r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c&&f||_)){e.next=18;break}return e.prev=1,e.next=4,fA(c,f);case 4:if(i=e.sent,!_){e.next=9;break}_&&_.indexOf("rtsp:")>-1&&E(_,b,C),e.next=13;break;case 9:if(null==i||null===(t=i._settings)||void 0===t||null===(n=t.video)||void 0===n||!n.rtspUrl){e.next=13;break}return s=null==i||null===(r=i._settings)||void 0===r||null===(a=r.video)||void 0===a?void 0:a.rtspUrl,E(s,b,C),e.abrupt("return");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),l.message.error(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))()}),[c,_,u,b,C]);var E=function(t,n,i){(0,e.api)({name:"video/live/pullRtsp"}).fetch("",{method:"POST",body:JSON.stringify({videoUrl:t,resolution:n,frameRate:i})}).then((function(e){var t=e.json;y({type:null==t?void 0:t.protocol,url:null==t?void 0:t.url})})).catch((function(e){l.message.error(e.message)}))};return s().useMemo((function(){return v?s().createElement(Zd,{videoData:v,jessConfigute:null==r?void 0:r.jessConfigute}):s().createElement(t.C,{is:"NoData"})}),[v])},gA=function(t){var n,r,o,l=t.videoId,c=t.videoUid,u=t.videoData,A=t.tableData,h=(0,a.useState)(null),p=(0,i.Z)(h,2),f=p[0],m=p[1],g=(0,e.use)("dashboard").dashboard,v=((0,e.use)("cell.context.value","table"),(0,e.use)("cell.context.value","tableData")),y=(null==t||null===(n=t.configure)||void 0===n?void 0:n.resolution)||(null==t?void 0:t.resolution)||(null==u?void 0:u.resolution),b=(null==t||null===(r=t.configure)||void 0===r?void 0:r.frameRate)||(null==t?void 0:t.frameRate)||(null==u?void 0:u.frameRate);s().useEffect((function(){if(g&&g.data){var e=g.data;null!=e&&e.contextNodes&&Object.values(e.contextNodes).forEach((function(e){(null==e?void 0:e.id)==(null==v?void 0:v.id)&&m(e.id)})),null!=e&&e.tableData&&m(e.tableData.id)}}),[g,v]);var C=l||c?l||c:v&&v.id||f||(null==A?void 0:A.id),_=null==A||null===(o=A.table)||void 0===o?void 0:o.id;return s().useMemo((function(){return s().createElement(mA,d({tableId:_,id:C},t))}),[C,null==u?void 0:u.url,y,b,_])},vA=__webpack_require__(7867);function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function bA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yA(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Nd()(vA.Z,{insert:"head",singleton:!1}),vA.Z.locals;var CA=function(r){var c=r.bg,u=r.btnColor,d=r.tableData,A=r.table,h=r.buttonType,p=void 0===h?"hk":h,f=(0,a.useState)(null),m=(0,i.Z)(f,2),g=m[0],v=m[1],y=(0,e.use)("dashboard").dashboard,b=useI18n(),C=b.t;b.i18n,(0,e.use)("cell.context.value"),(0,e.use)("cell.context.value","table"),(0,e.use)("cell.context.value","tableData"),s().useEffect((function(){if(y&&y.data){var e=y.data;e.contextNodes&&Object.values(e.contextNodes).forEach((function(e){var t;(null==e?void 0:e.id)==(null==d?void 0:d.id)&&(null==e||null===(t=e.table)||void 0===t?void 0:t.id)&&v(e.table.id)}))}}),[y]);var _=function(t){return(0,e.api)({name:"core/t/schema/".concat(t)}).fetch("",{})},E=function(t,n,i,r,o){console.log(o,"表的id"),r?("down"==r&&(0,e.api)({name:"ezviz/ptz/start?id=".concat(n,"&table=").concat(o,"&direction=").concat(i.id)}).fetch("",{method:"POST"}).then((function(e){console.log(C("指令下发成功！"))})).catch((function(e){l.message.error(e.message)})),"up"==r&&(0,e.api)({name:"ezviz/ptz/stop?id=".concat(n,"&table=").concat(o,"&direction=").concat(i.id)}).fetch("",{method:"POST"}).then((function(e){console.log(C("指令下发成功！"))})).catch((function(e){l.message.error(e.message)}))):(0,e.api)({name:"driver/driver/command"}).fetch("",{method:"POST",body:JSON.stringify(bA(bA({},t),{},{title:t.name,tableData:n,table:o}))}).then((function(e){l.message.success(C("指令下发成功！"))})).catch((function(e){l.message.error(e.message)}))},w=function(){var e=(0,n.Z)(o().mark((function e(t,n){var i,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=8;break}if(r=null==d?void 0:d.id,!(a=(null==d||null===(i=d.table)||void 0===i?void 0:i.id)||(null==d?void 0:d._table)||(null==A?void 0:A.id)||g)){e.next=6;break}return e.next=6,_(a).then((function(e){var i=e.json,o=i&&i.device&&i.device.commands;n?E(t,r,t,n,a):o&&o.length&&o.forEach((function(e){e.name===t.title&&E(e,r,t,n,a)}))}));case 6:e.next=9;break;case 8:l.message.error(C("未指定监控点"));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T="9%",S="19%",k="-7.5%",I=[{title:_r("上"),style:{top:T,left:"50%",marginLeft:k,transform:"rotate(-180deg)"},id:0},{title:_r("左上"),style:{top:S,left:S,transform:"rotate(135deg)"},id:4},{title:_r("左"),style:{top:"50%",left:T,marginTop:k,transform:"rotate(90deg)"},id:2},{title:_r("右下"),style:{bottom:S,right:S,transform:"rotate(-45deg)"},id:7},{title:_r("下"),style:{bottom:T,left:"50%",marginLeft:k,transform:"rotate(360deg)"},id:1},{title:_r("右"),style:{top:"50%",right:T,marginTop:k,transform:"rotate(-90deg)"},id:3},{title:_r("右上"),style:{top:S,right:S,transform:"rotate(225deg)"},id:6},{title:_r("左下"),style:{bottom:S,left:S,transform:"rotate(45deg)"},id:5},{title:_r("放大"),icon:"plus-circle",style:{top:"50%",left:"50%",marginLeft:k,marginTop:"-16%"},id:8},{title:_r("缩小"),icon:"minus-circle",placement:"bottom",style:{top:"50%",left:"50%",marginLeft:k,marginTop:"2%"},id:9}];return s().createElement(s().Fragment,null,s().createElement("div",{className:"video-buttons",style:r.size?{width:Number(r.size),background:c||"#222641"}:{background:c||"#222641"}},s().createElement("div",{className:"video-buttons-inner"}),s().createElement("div",{className:"video-buttons-center"}),I.map((function(e){return s().createElement(l.Tooltip,{title:C(e.title),placement:e.placement||"top"},"hk"==p?s().createElement(t.Icon,{name:e.icon||"caret-down",className:"triangle",onClick:function(){w(e)},style:bA(bA({},e.style),{},{color:u||"#757c99"})}):s().createElement(t.Icon,{name:e.icon||"caret-down",className:"triangle",onMouseDown:function(){w(e,"down")},onMouseUp:function(){w(e,"up")},style:bA(bA({},e.style),{},{color:u||"#757c99"})}))}))))},_A={type:"object",properties:{table:{title:_r("设备表"),type:"object",fieldType:"table",field:{func:"device"},properties:{}},tableData:{title:_r("设备"),type:"object",fieldType:"tableData",field:{func:"device"},properties:{}},buttonType:{title:_r("云台类型"),type:"string",enum:["hk","ysy"],enum_title:[_r("海康"),_r("萤石云")]},title:{title:_r("名称"),type:"string"},size:{title:_r("大小"),type:"string"},bg:{title:_r("云台主色"),type:"string",fieldType:"color"},btnColor:{title:_r("按钮颜色"),type:"string",fieldType:"color"}}};const EA={title:_r("云台控制按钮"),category:[_r("视频组件"),_r("基础视频")],icon:__webpack_require__(5769),component:CA,initParam:{buttonType:"hk"},paramSchema:_A};var wA=l.Typography.Paragraph,TA=function(t){var n=null==t?void 0:t.table,i=null==t?void 0:t.id,r={skip:0,limit:1,project:{name:1,id:1,video:1,model:1},filter:{id:i},withCount:!1},o=encodeURIComponent(JSON.stringify(r));return(0,e.api)({name:"core/t/".concat(null==n?void 0:n.id,"/d/").concat(i)}).fetch("?query="+o,{}).then((function(e){return e.json}))},SA=function(e){var t,n,i=e.warning;return s().createElement("div",{style:{paddingTop:"10px"},className:"paragraph-warning"},s().createElement(wA,{ellipsis:!0},"报警时间：",u()(null==i?void 0:i.time).format("YYYY-MM-DD HH:mm:ss")),s().createElement(wA,{ellipsis:!0},"所属模型：",null==i||null===(t=i.table)||void 0===t?void 0:t.name),s().createElement(wA,{ellipsis:!0},"报警设备：",null==i||null===(n=i.tableData)||void 0===n?void 0:n.name),s().createElement(wA,{ellipsis:!0},"所属部门：",i.department&&i.department.length&&i.department.map((function(e){return s().createElement("span",null,null==e?void 0:e.name)}))),s().createElement(wA,{ellipsis:!0},"报警数值：",i.fields&&i.fields.length&&i.fields.map((function(e){return s().createElement("span",null,null==e?void 0:e.name,":",e.value)}))),s().createElement(wA,{ellipsis:!0},"报警描述：",null==i?void 0:i.desc))},kA=function(t){var r,a=t.tableData,c=t.warning,u=s().useState(),d=(0,i.Z)(u,2),A=d[0],h=d[1],p=null==a||null===(r=a._settings)||void 0===r?void 0:r.linkageVideo,f=null==p?void 0:p.point,m=useI18n(),g=m.t;return m.i18n,s().useEffect((function(){(0,n.Z)(o().mark((function t(){var n,i,r,a,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!f){t.next=10;break}if(!_.isString(f)){t.next=5;break}t.t0={id:f},t.next=8;break;case 5:return t.next=7,TA(f);case 7:t.t0=t.sent;case 8:n=t.t0,(null===(i=n)||void 0===i?void 0:i.id)&&h(n);case 10:if(!f||!p.preset){t.next=22;break}if(r=p.preset,t.prev=12,null===(a=n)||void 0===a||!a.id){t.next=17;break}return t.next=16,(0,e.api)({name:"driver/driver/command"}).fetch("",{method:"POST",body:JSON.stringify({name:"转到指定预置点",title:"转到指定预置点",params:{转到指定预置点:r},table:n._table,tableData:null===(s=n)||void 0===s?void 0:s.id,ops:[{action:"cameraPreset",param:"转到指定预置点",speed:50,value:r}]})});case 16:l.message.success(g("自动切换到视频预置位 ")+r+g("成功"));case 17:t.next=22;break;case 19:t.prev=19,t.t1=t.catch(12),l.message.error(g("自动切换到视频预置位")+r+g("失败"));case 22:case"end":return t.stop()}}),t,null,[[12,19]])})))()}),[JSON.stringify(f)]),s().useMemo((function(){return s().createElement(l.Row,{style:{width:"100%",height:500},gutter:8},s().createElement(l.Col,{sm:19,style:{height:"100%"}},s().createElement(cA,{tableData:{id:_.isString(f)?f:null==f?void 0:f.id,name:_.isString(f)?f:null==f?void 0:f.id,table:null==f?void 0:f.table}})),s().createElement(l.Col,{sm:5,style:{height:"100%",overflowY:"scroll"}},s().createElement(CA,{tableData:A}),s().createElement(SA,{warning:c})))}),[A])};const IA=function(e){var n,r,o=e.item,a=s().useState(!1),c=(0,i.Z)(a,2),u=c[0],d=c[1],A=useI18n(),h=A.t,p=(A.i18n,function(){return d(!1)});return s().createElement(s().Fragment,null,s().createElement(l.Button,{disabled:o&&o.tableData&&!(null!=o&&null!==(n=o.tableData)&&void 0!==n&&null!==(r=n._settings)&&void 0!==r&&r.linkageVideo),onClick:function(){return d(!0)}},s().createElement(t.Icon,{type:"video-camera"})),s().createElement(l.Modal,{destroyOnClose:!0,title:h("报警监视"),visible:u,width:"80%",okText:h("确定"),onCancel:p,onOk:p,cancelText:h("取消")},u?s().createElement(kA,{tableData:o.tableData,warning:o}):null))};var BA=__webpack_require__(907),xA=__webpack_require__(181);function DA(e){return function(e){if(Array.isArray(e))return(0,BA.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,xA.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var PA=__webpack_require__(8488),RA=__webpack_require__.n(PA),jA=(__webpack_require__(5294),__webpack_require__(6018));function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function MA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LA(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Nd()(jA.Z,{insert:"head",singleton:!1}),jA.Z.locals;var OA=function(e){var t=useI18n(),n=t.t,r=(t.i18n,e.data),o=e.period,a=e.week_index,c=e.getTimeline,u=e.day_of_week,d=e.segmentTime,A=[{key:n("秒"),value:"s"},{key:n("分钟"),value:"m"},{key:n("小时"),value:"h"}],h=s().useState(d),p=(0,i.Z)(h,2),f=p[0],m=p[1];return s().useEffect((function(){"week"==o?c(r,u,f,a):c(r,u,f)}),[f]),s().createElement(l.Space,null,s().createElement(l.Input,{style:{width:160},placeholder:n("数值"),type:"number",onChange:function(e){0!=(null==r?void 0:r.length)?m(MA(MA({},f),{},{count:parseInt(e.target.value)})):l.message.info(n("请先添加录制计划"))},value:(null==d?void 0:d.count)||null,addonAfter:s().createElement(l.Select,{style:{width:75},onChange:function(e){0!=(null==r?void 0:r.length)?m(MA(MA({},f),{},{unit:e})):l.message.info(n("请先添加录制计划"))},value:(null==d?void 0:d.unit)||null},A.map((function(e){return s().createElement(l.Select.Option,{value:e.value},e.key)})))}))};function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function UA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FA(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var QA=function(e){var t,n,r,o,c=e.period,u=e.recording_mode,d=e.day_of_week,A=e.data,h=e.week_index,f=e.getTimeline,m=e.deteleItemTime,g=e.changeItemTime,v=e.segmentTime,y=(0,a.useRef)(),b=(0,a.useRef)(),C=s().useRef(),_=(0,a.useRef)(),E=(0,a.useState)({div:[],time:[]}),w=(0,i.Z)(E,2),T=w[0],S=w[1],k=(0,a.useState)({start:null,end:null}),I=(0,i.Z)(k,2),B=I[0],x=I[1],D="rgba(214, 0, 11, 0.5)",P="rgba(0, 34, 255, 0.5)",R=s().useState(null==y||null===(t=y.current)||void 0===t?void 0:t.offsetWidth),j=(0,i.Z)(R,2),L=(j[0],j[1]),M=useI18n(),O=M.t,F=(M.i18n,function(e){for(var t=e.offsetLeft,n=e.offsetParent;null!=n;)t+=n.offsetLeft,n=n.offsetParent;return t});s().useEffect((function(){var e,t=document.getElementsByTagName("span");"undefined"!=typeof window&&window.addEventListener("resize",(function(e){for(var t,n=null==y||null===(t=y.current)||void 0===t?void 0:t.offsetWidth,i=[],r=[],o=0;o<=n/(n/24);o++)i.push(s().createElement("div",{style:{position:"absolute",left:n/24*o-1,bottom:-4,width:1,height:5,background:"#C8CACC"}})),r.push(s().createElement("div",{style:{position:"absolute",left:n/24*o-4,bottom:-18,height:15,color:"#C8CACC",fontSize:12}},"".concat(o)));S({div:i,time:r}),L(n)}));for(var n=null==y||null===(e=y.current)||void 0===e?void 0:e.offsetWidth,i=[],r=[],o=0;o<=n/(n/24);o++)i.push(s().createElement("div",{style:{position:"absolute",left:n/24*o-1,bottom:-4,width:1,height:5,background:"#C8CACC"}})),r.push(s().createElement("div",{style:{position:"absolute",left:n/24*o-4,bottom:-18,height:15,color:"#C8CACC",fontSize:12}},"".concat(o)));S({div:i,time:r}),L(n);for(var a=0;a<t.length;a++)"Record Schedule"!=t[a].innerText&&"Plan Record Schedule"!=t[a].innerText||(t[a].parentNode.style.display="none")}),[y]);var U=function(e,t){return e.startX1-t.startX1};return s().createElement(l.Row,{className:"react_time_row"},s().createElement("div",{ref:y,className:"react_time_range__time_range_container",style:{width:"100%",position:"relative"},onMouseDown:function(e){return function(e){var t,n,i;e=e||window.event,(null==C||null===(t=C.current)||void 0===t?void 0:t.offsetWidth)||null==y||null===(n=y.current)||void 0===n||n.offsetWidth;var r=p().cloneDeep(A),o=e.clientX-F(y.current);if(p().isEmpty(c)||p().isEmpty(u))l.message.info(O("请先选择录像类型和周期"));else{r.push({startX1:o});var a,s=r.sort(U).findIndex((function(e){return e.startX1==o})),m=null===(i=r.sort(U)[s+1])||void 0===i?void 0:i.startX1;document.onmousemove=function(e){e=e||window.event,a=e.clientX-F(y.current)},document.onmouseup=function(e){var t=function(e,t,n){var i,r,o=(null==C||null===(i=C.current)||void 0===i?void 0:i.offsetWidth)||(null==y||null===(r=y.current)||void 0===r?void 0:r.offsetWidth);return e.clientX-F(y.current)<=o?t>=n?n:e.clientX-F(y.current)<=0?0:e.clientX-F(y.current):o}(e,a,m);if(null!=r&&r.length){var n=r.map((function(e){return e.width?e:UA(UA({},e),{},{endX1:t,width:t-e.startX1})}));"week"==c?f(n,d,v,h):f(n,d,v)}document.onmousemove=null,document.onmouseup=null}}}(e)}},s().createElement("div",{className:"react_time_range__rail__outer"}),s().createElement("div",{className:"react_time_range__rail__inner"}),null!==(n=T.div)&&void 0!==n&&n.length?T.div.map((function(e){return e})):null,null!==(r=T.time)&&void 0!==r&&r.length?T.time.map((function(e){return e})):null),s().createElement("div",{className:"react_time_handle",style:{position:"relative",width:"100%"},ref:C},null!=A&&A.length?A.map((function(e,t){return s().createElement(s().Fragment,null,p().isNumber(e.startX1)?s().createElement(s().Fragment,null,s().createElement("div",{ref:b,className:"react_time_range__handle_container",onMouseDown:function(e){return function(e,t){var n;e=e||window.event;var i=null==y||null===(n=y.current)||void 0===n?void 0:n.offsetWidth;document.onmousemove=function(e){var n;if(e=e||window.event,null!=A&&A.length){var r,o,a,s,l,u,m,g,b,C,_=p().cloneDeep(A),E=e.clientX-F(y.current),w=1==(null==A?void 0:A.length)?i:i-(null===(r=_[t])||void 0===r?void 0:r.width);E<=((null===(o=_[t+1])||void 0===o?void 0:o.startX1)-(null===(a=_[t])||void 0===a?void 0:a.width)||w)&&E>=((null===(s=_[t-1])||void 0===s?void 0:s.endX1)||0)?n=E:(E<=((null===(l=_[t-1])||void 0===l?void 0:l.endX1)||0)&&(n=(null===(g=_[t-1])||void 0===g?void 0:g.endX1)||0),E>=((null===(u=_[t+1])||void 0===u?void 0:u.startX1)-(null===(m=_[t])||void 0===m?void 0:m.width)||w)&&(n=(null===(b=_[t+1])||void 0===b?void 0:b.startX1)-(null===(C=_[t])||void 0===C?void 0:C.width)||w)),_[t]=UA(UA({},_[t]),{},{startX1:n,width:_[t].endX1-n}),"week"==c?f(_,d,v,h):f(_,d,v)}},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}}(e,t)},style:{left:e.startX1,top:"-15px"}},s().createElement("div",{className:"react_time_range__handle_marker__error",style:{backgroundColor:"ALARM"==e.recording_mode?D:P}})),s().createElement(l.Popconfirm,{icon:s().createElement("span",null),title:s().createElement(s().Fragment,null,s().createElement(l.TimePicker.RangePicker,{use12Hours:!1,format:"HH:mm",value:null!=B&&B.start&&null!=B&&B.end?[RA()(B.start,"HH:mm"),RA()(B.end,"HH:mm")]:null,onChange:function(e,t){return function(e,t){var n=t[0],i=t[1];x({start:n,end:i})}(0,t)}})),onConfirm:function(){return function(e){var t,n,i,r=y.current.offsetWidth;if(null!=B&&B.start&&null!=B&&B.end&&(t=B.start.substr(0,B.start.indexOf(":"))*(r/24)+B.start.substr(B.start.indexOf(":")+1)/60*(r/24),n=B.end.substr(0,B.end.indexOf(":"))*(r/24)+B.end.substr(B.end.indexOf(":")+1)/60*(r/24)),t&&n){var o=RA()("".concat(RA()(new Date).format("YYYY-MM-DD")," ").concat(parseInt(n/(r/24)),":").concat(n%(r/24)/(r/24)*60)),a=RA()("".concat(RA()(new Date).format("YYYY-MM-DD")," ").concat(parseInt(t/(r/24)),":").concat(t%(r/24)/(r/24)*60));i=o.diff(a,"minute"),g(A[e],t,n,B,i)}}(t)},onCancel:function(){return function(e){m(A[e])}(t)},okText:O("保存"),cancelText:O("删除"),placement:"top"},s().createElement("div",{className:"react_time_range__track",onClick:function(e){var n=A[t],i=null==n?void 0:n.start_time,r=null==n?void 0:n.end_time;x({start:i,end:r})},onMouseDown:function(e){return function(e,t){e=e||window.event;var n=y.current.offsetWidth;document.onmousemove=function(e){if(e=e||window.event,null!=A&&A.length){var i,r,o,a,s,l,u,m,g,b,C,_,E,w,T=p().cloneDeep(A),S=e.clientX-F(y.current);S<=((null===(i=T[t+1])||void 0===i?void 0:i.startX1)-(null===(r=T[t])||void 0===r?void 0:r.width)||n-(null===(o=T[t])||void 0===o?void 0:o.width))&&S>=((null===(a=T[t-1])||void 0===a?void 0:a.endX1)||0)?l=S:(S<=((null===(u=T[t-1])||void 0===u?void 0:u.endX1)||0)&&(l=(null===(C=T[t-1])||void 0===C?void 0:C.endX1)||0),S>=((null===(m=T[t+1])||void 0===m?void 0:m.startX1)-(null===(g=T[t])||void 0===g?void 0:g.width)||n-(null===(b=T[t])||void 0===b?void 0:b.width))&&(l=(null===(_=T[t+1])||void 0===_?void 0:_.startX1)-(null===(E=T[t])||void 0===E?void 0:E.width)||n-(null===(w=T[t])||void 0===w?void 0:w.width))),T[t]=UA(UA({},T[t]),{},{startX1:l,endX1:l+(null===(s=T[t])||void 0===s?void 0:s.width)}),"week"==c?f(T,d,v,h):f(T,d,v)}},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}}(e,t)},style:{left:e.startX1,top:"-15px",width:e.width,backgroundColor:"ALARM"==e.recording_mode?D:P}}))):null,p().isNumber(e.endX1)?s().createElement("div",{ref:_,className:"react_time_range__handle_container react_time_range__handle_container1",onMouseDown:function(e){return function(e,t){var n,i;e=e||window.event;var r=(null==C||null===(n=C.current)||void 0===n?void 0:n.offsetWidth)||(null==y||null===(i=y.current)||void 0===i?void 0:i.offsetWidth);document.onmousemove=function(e){var n,i=(e=e||window.event).clientX-F(y.current);if(null!=A&&A.length){var o,a,s,l,u,m,g,b=p().cloneDeep(A);i<=((null===(o=b[t+1])||void 0===o?void 0:o.startX1)||r)&&i>=((null===(a=b[t-1])||void 0===a?void 0:a.endX1)||0)?n=i:(i<=((null===(s=b[t-1])||void 0===s?void 0:s.endX1)||0)&&(n=(null===(m=b[t-1])||void 0===m?void 0:m.startX1)||0),i>=((null===(l=b[t+1])||void 0===l?void 0:l.startX1)||r-(null===(u=b[t])||void 0===u?void 0:u.width))&&(n=(null===(g=b[t+1])||void 0===g?void 0:g.startX1)||r)),b[t]=UA(UA({},b[t]),{},{endX1:n,width:n-b[t].startX1}),"week"==c?f(b,d,v,h):f(b,d,v)}},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}}(e,t)},style:{left:e.endX1,top:"-15px"}},s().createElement("div",{className:"react_time_range__handle_marker__error",style:{backgroundColor:"ALARM"==e.recording_mode?D:P}})):null)})):null),"plan_recordSchedule"==(null==e||null===(o=e.field)||void 0===o?void 0:o.key)?s().createElement("div",{style:{marginTop:"1.4rem"}}):s().createElement("div",{style:{display:"flex",alignItems:"center",marginTop:"1.4rem"}},O("分段时间"),"：",s().createElement(OA,e)))};function NA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NA(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}_r("时间进度条"),_r("视频组件"),__webpack_require__(2915);var zA=function(e){var t=useI18n(),n=t.t,i=(t.i18n,e.input),r=i.value,o=void 0===r?"CMR":r,a=i.onChange,c=(e.field.schema,e.titleMap);return s().createElement(l.Radio.Group,{value:o,onChange:function(e){var t=e.target.value;a(t)}},c.map((function(e){return s().createElement(l.Radio.Button,{value:e.value},n(e.name))})))},GA=function(t){var n,r=useI18n(),o=r.t,a=(r.i18n,t.input),c=a.onChange,u=a.value,A=t.field,h=A.schema,f=void 0===h?{}:h,m=(A.type,A.key),g=(t.field,"CMR"),v=[{title:o("周一"),day_of_week:"Monday",data:[],segmentTime:{count:10,unit:"m"}},{title:o("周二"),day_of_week:"Tuesday",data:[],segmentTime:{count:10,unit:"m"}},{title:o("周三"),day_of_week:"Wednesday",data:[],segmentTime:{count:10,unit:"m"}},{title:o("周四"),day_of_week:"Thursday",data:[],segmentTime:{count:10,unit:"m"}},{title:o("周五"),day_of_week:"Friday",data:[],segmentTime:{count:10,unit:"m"}},{title:o("周六"),day_of_week:"Saturday",data:[],segmentTime:{count:10,unit:"m"}},{title:o("周日"),day_of_week:"Sunday",data:[],segmentTime:{count:10,unit:"m"}}],y=[{title:o("每天"),day_of_week:"",data:[],segmentTime:{count:10,unit:"m"}}],b=s().useState(v),C=(0,i.Z)(b,2),_=C[0],E=C[1],w=s().useState(y),T=(0,i.Z)(w,2),S=T[0],k=T[1];if(null!=f&&f.recording_mode)try{var I,B,x;g=null===(I=(0,e.use)("form"))||void 0===I||null===(B=I.formState)||void 0===B||null===(x=B.values)||void 0===x?void 0:x.recording_mode}catch(e){console.log(e)}if(m&&m.indexOf("[")>-1){if(null!=f&&f.period)try{var D,P,R,j=m.substr(m.indexOf("[")+1,1),L=null===(D=(0,e.use)("form"))||void 0===D||null===(P=D.formState)||void 0===P||null===(R=P.values)||void 0===R?void 0:R.warningRecord[j].period;n=L}catch(e){console.log(e)}}else if(null!=f&&f.period)try{var M,O,F;n=null===(M=(0,e.use)("form"))||void 0===M||null===(O=M.formState)||void 0===O||null===(F=O.values)||void 0===F?void 0:F.period}catch(e){console.log(e)}s().useEffect((function(){var e,t,n=null===(e=document.getElementsByClassName("time_width")[0])||void 0===e?void 0:e.clientWidth;t=null!=u&&u.length?u.map((function(e){if(null!=e&&e.start_time&&e.end_time&&e.width){var t=parseFloat((e.start_time.substr(0,e.start_time.indexOf(":"))*(n/24)).toFixed(1))+parseFloat(n/24/60*e.start_time.substr(e.start_time.indexOf(":")+1)),i=parseFloat((e.end_time.substr(0,e.end_time.indexOf(":"))*(n/24)).toFixed(1))+parseFloat(n/24/60*e.end_time.substr(e.end_time.indexOf(":")+1));return qA(qA({},e),{},{startX1:t,endX1:i,width:i-t})}return e})):[],"undefined"!=typeof window&&window.addEventListener("resize",(function(e){var i;n=null===(i=document.getElementsByClassName("time_width")[0])||void 0===i?void 0:i.clientWidth,t=null!=u&&u.length?u.map((function(e){if(null!=e&&e.start_time&&e.end_time&&e.width){var t=parseFloat((e.start_time.substr(0,e.start_time.indexOf(":"))*(n/24)).toFixed(1))+parseFloat(n/24/60*e.start_time.substr(e.start_time.indexOf(":")+1)),i=parseFloat((e.end_time.substr(0,e.end_time.indexOf(":"))*(n/24)).toFixed(1))+parseFloat(n/24/60*e.end_time.substr(e.end_time.indexOf(":")+1));return qA(qA({},e),{},{startX1:t,endX1:i,width:i-t})}return e})):[],U(t)})),U(t)}),[u]);var U=function(e){var t=null!=e&&e.length?e.map((function(e){return e})):[],n=p().cloneDeep(_),i=p().cloneDeep(S);n.forEach((function(i,r){if(n[r].data=null!=e&&e.length?t.filter((function(e){return e.day_of_week==n[r].day_of_week})):[],null!=e&&e.length){var o,a=t.filter((function(e){return e.day_of_week==n[r].day_of_week}));n[r].segmentTime=null!=a&&a.length?null===(o=a[0])||void 0===o?void 0:o.segmentTime:{count:10,unit:"m"}}})),i.forEach((function(n,r){if(null!=e&&e.length){var o,a=t.filter((function(e){return!e.day_of_week}));i[r].segmentTime=null!=a&&a.length?null===(o=a[0])||void 0===o?void 0:o.segmentTime:null==n?void 0:n.segmentTime}}));var r=null!=e&&e.length?t.filter((function(e){return!(null!=e&&e.day_of_week)})):[];i[0].data=r,E(n),k(i)},Q=function(e){return e<10?"0"+e:e},N=function(e,t,i,r){var o;(null==e?void 0:e.length)&&e.forEach((function(r,o){var a=document.getElementsByClassName("time_width")[0].clientWidth,s=RA()("".concat(RA()(new Date).format("YYYY-MM-DD")," ").concat(parseInt(r.endX1/(a/24)),":").concat(Math.round(r.endX1%(a/24)/(a/24)*60))),l=RA()("".concat(RA()(new Date).format("YYYY-MM-DD")," ").concat(parseInt(r.startX1/(a/24)),":").concat(Math.round(r.startX1%(a/24)/(a/24)*60))),c=qA(qA({},r),{},{segmentTime:i,start_time:"".concat(Q(parseInt(r.startX1/(a/24))),":").concat(Math.round(Q(r.startX1%(a/24)/(a/24)*60))),end_time:p().isNumber(r.endX1)?"".concat(Q(parseInt(r.endX1/(a/24))),":").concat(Math.round(Q(r.endX1%(a/24)/(a/24)*60))):"",length:s.diff(l,"minute"),recording_mode:g,name:"week"==n?"".concat(v[t].day_of_week).concat(t,"录制").concat(o):"录制".concat(o)});"24:00"==(null==c?void 0:c.start_time)&&(c.start_time="23:59"),"24:00"==(null==c?void 0:c.end_time)&&(c.end_time="23:59"),"week"==n&&(c.day_of_week=v[t].day_of_week),c.start_time&&c.end_time&&c.recording_mode&&(e[o]=c)}));var a=p().cloneDeep(u);null!==(o=a)&&void 0!==o&&o.length?e.forEach((function(e,t){var n=a.findIndex((function(t){return t.name==e.name}));n>-1?a[n]=e:a.push(e)})):a=DA(e),c(a)},q=function(e){var t=p().cloneDeep(u).filter((function(t){return t.name!=e.name}));c(t)},z=function(e,t,n,i,r){var o=p().cloneDeep(u).map((function(o){return e.startX1==o.startX1?qA(qA({},o),{},{startX1:t,endX1:n,start_time:i.start,end_time:i.end,length:r,width:n-t}):o}));c(o)};return s().createElement(s().Fragment,null,s().createElement(l.Card,{style:{marginTop:".5rem",textAlign:"center"}},n&&"week"==n?_.map((function(e,i){return s().createElement(l.Row,{style:{marginTop:"0.5rem"}},s().createElement(l.Col,{span:2,style:{textAlign:"center"}},o(e.title)),s().createElement(l.Col,{span:22,className:"time_width"},s().createElement(QA,d({getTimeline:function(e,t,n,i){N(e,i,n)},deteleItemTime:function(e){q(e)},changeItemTime:function(e,t,n,i,r){z(e,t,n,i,r)},period:n,recording_mode:g||"CMR"},t,{day_of_week:e.day_of_week,week_index:i,data:e.data,segmentTime:e.segmentTime}))))})):S.map((function(e){return s().createElement(l.Row,{style:{marginTop:"0.5rem"}},s().createElement(l.Col,{span:2},o(e.title)),s().createElement(l.Col,{span:22,className:"time_width"},s().createElement(QA,d({getTimeline:function(e,t,n,i){N(e,i,n)},deteleItemTime:function(e){q(e)},changeItemTime:function(e,t,n,i,r){z(e,t,n,i,r)},period:n,recording_mode:g||"CMR"},t,{day_of_week:e.day_of_week,data:e.data,segmentTime:e.segmentTime}))))}))))};const HA=(0,A.Z)({},_r("录制计划"),{schema:function(e){return{type:"object",properties:{recording_mode:{type:"string",title:_r("录像类型"),enum:["CMR"],enum_title:[_r("定时录像")]}},form:[{key:"recording_mode",component:function(e){return s().createElement(zA,e)}}],formEffect:function(e){e.useField("recording_mode",(function(t){var n=e.getState().values,i=["table","tableData","level","warnType","rules"];"ALARM"==(null==n?void 0:n.recording_mode)?i.forEach((function(t){e.setFieldData(t,{display:!0})})):i.forEach((function(t){e.setFieldData(t,{display:!1})}))}))}}}});l.DatePicker.RangePicker;const WA={Replay:{name:"replay",resource:"record/replay/video",type:"object",icon:s().createElement(t.Icon,{svg:__webpack_require__(7339)}),title:_r("视频录制"),properties:{start_time:{title:_r("开始时间"),type:"string",format:"date-time"},end_time:{title:_r("结束时间"),type:"string",format:"date-time"},mode:{title:_r("录制类型"),type:"string",enum:["ALARM","CMR"],enum_title:[_r("报警录制"),_r("定时录制")]},table:{title:_r("设备表"),type:"object",fieldType:"table",properties:{title:{type:"string",title:_r("表名称")}},width:120},tableData:{title:_r("设备"),type:"object",fieldType:"tableData",properties:{warning:{type:"object",properties:{}},name:{type:"string",title:_r("名称"),fieldType:"node-link"},uid:{type:"string",title:_r("编号"),fieldType:"node-link"}},width:130}},display:function(e){var t,n,i={CMR:_r("定时录制"),ALARM:_r("报警录制")};return s().createElement("div",null,_t1("设备表"),"：",null==e||null===(t=e.table)||void 0===t?void 0:t.name,"、",_t1("设备"),"：",null==e||null===(n=e.tableData)||void 0===n?void 0:n.name,"、",_t1("录制类型"),"：",i[e.mode])},itemActions:[function(t){var n=t.item;return s().createElement(l.Button,{onClick:function(){return e.app.go("/app/replay/video/".concat(n.id,"/list"))}},_t1("查看分段"))},"delete"],filters:{submenu:["start_time","mode","tableData","table"]},components:{DataEmpty:function(e){return s().createElement(l.Empty,{description:_t1("暂无数据"),image:__webpack_require__(1007)})}},forceGetItem:!0,permission:{view:!0,add:!1,edit:!1,delete:!0},orders:{start_time:"DESC"},listFields:["table","tableData","start_time","end_time","mode","total_length"],form:["*"]}};var VA=__webpack_require__(526);function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function JA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YA(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Nd()(VA.Z,{insert:"head",singleton:!1}),VA.Z.locals;var KA=[];null!=KA&&KA.length&&KA.forEach((function(e,t){var n=document.createElement("script");n.src=e;var i=document.getElementsByTagName("script")[t];i.parentNode.insertBefore(n,i)}));var ZA=function(t){var n,r=useI18n(),o=r.t,a=(r.i18n,t.tableData),c=t.initIWndow,u=((0,e.use)("cell.context.value","table"),(0,e.use)("cell.context.value","tableData")),d=s().useState(),A=(0,i.Z)(d,2),h=A[0],f=A[1],m=s().useState({wndNum:"1",visible:!1}),g=(0,i.Z)(m,2),v=(g[0],g[1],null==t?void 0:t.cellKey),y=(null===(n=(0,e.use)("cell.structure.value",v))||void 0===n?void 0:n.parent)||"root",b=(0,e.use)("cell.params.value",y,"base.layoutType"),C=(0,e.use)("cell.layout.value",y,"".concat(b,".").concat(v,".width")),_=(0,e.use)("cell.layout.value",y,"".concat(b,".").concat(v,".height")),E=C&&p().isNumber(C)?C:p().isString(C)?C.replace(/[^0-9]/gi,""):C,w=_&&p().isNumber(_)?_:p().isString(_)?_.replace(/[^0-9]/gi,""):_,T=E||600,S=w||400,k=s().useState(0),I=(0,i.Z)(k,2),B=I[0],x=I[1],D=s().useState({text:o("关闭鼠标交互"),visible:!1}),P=(0,i.Z)(D,2),R=P[0],j=P[1],L=(0,e.use)("video.store.value"),M=(0,e.use)("video.store.set"),O=null==L?void 0:L.playback,F=null==L?void 0:L.type,U="backPlay"==F?null==O?void 0:O.g_iWndIndex:null==L?void 0:L.g_iWndIndex,Q=s().useRef(),N=s().useRef([]),q=s().useRef([]);s().useEffect((function(){var e;if(null!==(e=window)&&void 0!==e&&e.WebVideoCtrl){if(-1==window.I_CheckPluginInstall())return void l.message.warning(o("您还未安装过插件，双击开发包目录里的WebComponentsKit.exe安装！"));f(window.WebVideoCtrl)}}),[window.WebVideoCtrl]),s().useEffect((function(){h&&T&&S&&c&&h.I_InitPlugin(T,S,{bWndFull:!0,iWndowType:c||4,bDebugMode:!0,cbSelWnd:function(e){var t=e.children[0].textContent,n=parseInt(t,10);x(n)},cbInitPluginComplete:function(){h.I_InsertOBJECTPlugin("divPlugin"),-1!=h.I_CheckPluginVersion()||l.message.warning(o("检测到新的插件版本，双击开发包目录里的WebComponentsKit.exe升级！"))}})}),[h,T,S,c]),s().useEffect((function(){if(null!=U&&U.length){var e=p().cloneDeep(U),t=e.findIndex((function(e){return e.index==B}));t>-1&&(e[t]=JA(JA({},e[t]),{},{selected:!0}));var n=e.map((function(e){return e.index!=B?JA(JA({},e),{},{selected:!1}):e})),i=JA({},L);i=JA(JA({},L),{},"backPlay"==F?{playback:{g_iWndIndex:n}}:{g_iWndIndex:n}),M(i)}}),[F,B]),s().useEffect((function(){if(h&&"realPlay"==F){if(null!=a&&a.length){for(var e=[],n=0;n<a.length;n++)0==n?e.push({index:n,isPlayer:!1,tableData:a[n],selected:!0}):e.push({index:n,isPlayer:!1,tableData:a[n],selected:!1});var i=0;return setTimeout((function(){var t;(null==e||null===(t=e[i])||void 0===t?void 0:t.tableData)&&G(e,e[i].tableData,e[i].index)}),100),void(Q.current=setInterval((function(){var t;++i>=e.length&&clearInterval(Q.current),i<=e.length&&(null==e||null===(t=e[i])||void 0===t?void 0:t.tableData)&&G(e,e[i].tableData,e[i].index)}),9e3))}if(null!=u&&u.id)return void G([u],u,0);var r;if(null!=L&&null!==(r=L.g_iWndIndex)&&void 0!==r&&r.length){var o=0,s=t.initIWndow*t.initIWndow,l=[];return null==L||L.g_iWndIndex.forEach((function(e){p().isEmpty(e.tableData)||l.push(e.index)})),z(s,l),setTimeout((function(){var e,t,n;(null==L||null===(e=L.g_iWndIndex)||void 0===e||null===(t=e[o])||void 0===t?void 0:t.tableData)&&G(null==L?void 0:L.g_iWndIndex,null==L||null===(n=L.g_iWndIndex[o])||void 0===n?void 0:n.tableData,null==L?void 0:L.g_iWndIndex[o].index)}),100),Q.current&&clearInterval(Q.current),void(Q.current=setInterval((function(){var e,t;++o>=(null==L?void 0:L.g_iWndIndex.length)&&clearInterval(Q.current),o<=(null==L?void 0:L.g_iWndIndex.length)&&(null==L||null===(e=L.g_iWndIndex)||void 0===e||null===(t=e[o])||void 0===t?void 0:t.tableData)&&G(L.g_iWndIndex,L.g_iWndIndex[o].tableData,L.g_iWndIndex[o].index)}),9e3))}}var c;if(h&&"backPlay"==F&&null!=O&&null!==(c=O.g_iWndIndex)&&void 0!==c&&c.length){var d=t.initIWndow*t.initIWndow,A=[];return null==O||O.g_iWndIndex.forEach((function(e){!p().isEmpty(e.tableData)&&e.isPlayer&&A.push(e.index)})),void z(d,A)}}),[h,JSON.stringify(a),F]);var z=function(e,t){if(t.length){for(var n=[],i=0;i<e;i++)n.push(i);var r=(s=t,n.concat(s).filter((function(e,t,n){return n.indexOf(e)===n.lastIndexOf(e)})));r.forEach((function(e){window.WebVideoCtrl.I_Stop({iWndIndex:e,success:function(){console.log(e,o("暂停播放的视频"))},error:function(e,t){console.log(o("暂停播放失败"))}})}))}else for(var a=0;a<e;a++)h.I_GetWindowStatus(a)&&window.WebVideoCtrl.I_Stop({iWndIndex:a,success:function(){console.log(o("暂停的视屏"))},error:function(e,t){console.log(o("暂停播放失败"))}});var s};s().useEffect((function(){return function(){var e;null!==(e=N.current)&&void 0!==e&&e.length&&(N.current.forEach((function(e,t){if(null!=e&&e){var n="";window.WebVideoCtrl.I_Stop({iWndIndex:t,success:function(){n=o("停止预览成功！"),console.log("".concat(e,"-").concat(t,"-").concat(n));var i=window.WebVideoCtrl.I_Logout(e);n=o(0==i?"退出成功！":"退出失败！"),console.log("".concat(e,"-").concat(t,"-").concat(n))},error:function(){n=o("停止预览失败！"),console.log("".concat(e,"-").concat(t,"-").concat(n))}})}})),console.log(N.current)),Q.current&&clearInterval(Q.current)}}),[]);var G=function(e,t,n){var i,r,a,s,c,u,d,A,p,f,m=null==t||null===(i=t.device)||void 0===i||null===(r=i.settings)||void 0===r?void 0:r.ip,g=(null==t||null===(a=t.device)||void 0===a||null===(s=a.settings)||void 0===s?void 0:s.webPort)||(null==t||null===(c=t.device)||void 0===c||null===(u=c.settings)||void 0===u?void 0:u.port),v=null==t||null===(d=t.device)||void 0===d||null===(A=d.settings)||void 0===A?void 0:A.username,y=null==t||null===(p=t.device)||void 0===p||null===(f=p.settings)||void 0===f?void 0:f.password;if(""!=m&&""!=g){var b=m+"_"+g;-1==h.I_Login(m,1,g,v,y,{success:function(i){setTimeout((function(){var i=H(b);i&&W(e,b,i.iRtspPort,t,n)}),1e3),console.log(b,i,o(" 登录成功！"))},error:function(e,t){console.log(b+o(" 登录失败！"),t)}})&&(H(b),console.log(b+o(" 已登录过！")),0==window.WebVideoCtrl.I_Logout(b)?(o("退出成功！"),h.I_Login(m,1,g,v,y,{success:function(i){setTimeout((function(){var i=H(b);i&&W(e,b,i.iRtspPort,t,n)}),1e3),console.log(b,i,o(" 登录成功！"))},error:function(e,t){l.message.error(b+o(" 登录失败！"),t)}})):o("退出失败！"))}},H=function(e){if(null!=e){var t=h.I_GetDevicePort(e);if(null!=t)return t;console.log(e+o(" 获取端口失败！"))}},W=function(e,t,n,i,r){var o=r||U.filter((function(e){return e.selected}))[0].index;null!=h.I_GetWindowStatus(o)||V(e,t,n,i,r)},V=function(e,t,n,i,r){var a,s,c="";h.I_StartRealPlay(t,{iWndIndex:r,iPort:n,iStreamType:2,iChannelID:(null==i||null===(a=i.device)||void 0===a||null===(s=a.settings)||void 0===s?void 0:s.channel)||1,bZeroChannel:false,success:function(){c=o("开始预览成功！"),console.log(t+" "+c);var n=e.map((function(e){return JA(JA({},e),{},{isPlayer:!0})})),i=JA({},L);i=JA(JA({},L),{},"backPlay"==F?{playback:{g_iWndIndex:n}}:{g_iWndIndex:n}),M(i),N.current=[].concat(DA(N.current),[t]),q.current=[].concat(DA(q.current),[r])},error:function(e,n){c=o(403===e?"设备不支持Websocket取流！":"开始预览失败！"),N.current=[].concat(DA(N.current),[t]),l.message.error(t+" "+c)}})};return s().createElement(s().Fragment,null,s().createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},s().createElement("div",{style:{width:"100%",height:"100%"},id:"divPlugin",className:"plugin"}),null!=t&&t.dashboardMode?s().createElement(s().Fragment,null,s().createElement(l.Button,{onClick:function(){j({text:R.visible?o("关闭鼠标交互"):o("激活鼠标交互"),visible:!R.visible})},style:{position:"absolute",top:"0px",right:"40px",height:"30px",background:"rgba(0, 0, 0, 0.4)",color:"#fff",fontSize:"12px",zIndex:199}},R.text),s().createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",display:R.visible?"block":"none",zIndex:88}})):null))};const XA=xadminModel,$A=ReactDnD,eh=Recoil;var th=["cellKey","__style__","data","video","type"];function nh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ih(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nh(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rh={type:"object",properties:{type:{title:_r("类型"),type:"string",enum:["realPlay","backPlay"],enum_title:[_r("预览"),_r("回放")]},initIWndow:{type:"number",title:_r("默认分屏")},department:{type:"array",title:_r("部门"),fieldType:"tableData",field:{func:"dataAuth",style:{minWidth:200},placeholder:_r("选择部门")},items:{}},tableData:{type:"array",title:_r("设备"),items:{},fieldType:"tableData",field:{func:"device"}}},form:["*"],formEffect:function(e){e.useField("type",(function(t){"backPlay"!=t.value?e.setFieldData("tableData",{display:!0}):e.setFieldData("tableData",{display:!1})}))}},oh=s().createContext();oh.displayName="Cell_VideoContext";var ah=function(e){var t=e.children,n=(e.data,e.style,e.table,e.video),i=t;return n&&!p().isEmpty(n)&&(i=s().createElement(oh.Provider,{value:n},i)),i},sh=function(e){var t=e.ItemType,n=e.children,r=e.onDrop;if(!t)throw Error("DnD ItemType must be defined");var o=s().useRef(null),a=(0,$A.useDrop)({accept:t,drop:function(e,t){t.didDrop()||null!=o&&o.current&&r({item:e,monitor:t,dropNode:o.current})},collect:function(e){return{isOver:e.isOver(),isOverCurrent:e.isOver({shallow:!0})}}}),l=(0,i.Z)(a,2),c=l[0],u=(c.isOver,c.isOverCurrent),d=l[1],A=u?{background:"rgba(67, 89, 199, 0.2)"}:{};return s().createElement("div",{className:"dnd-drop",style:ih({width:"100%",height:"100%"},A),ref:function(e){d(e),o.current=e}},n)};const lh={title:_r("无插件视频"),category:[_r("视频组件"),_r("海康无插件视频")],icon:__webpack_require__(3625),component:function(t){var n=(0,e.use)("editor.cell.add").addCell,i=t.cellKey,r=t.__style__,o=t.data,a=t.video,l=t.type,c=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,th),u=(0,e.use)("cell.params.value",i,"base.layoutType"),A=(0,e.use)("video.store.value"),h=(0,e.use)("video.store.set");return s().useEffect((function(){!p().isEmpty(h)&&h(ih(ih({},A),{},{type:l}))}),[l]),s().createElement(eh.RecoilRoot,{override:!1}," ",null!=t&&t.dashboardMode?s().createElement(sh,{ItemType:"widget",onDrop:function(e){var i=e.item,r=e.monitor,o=e.dropNode,a=null==o?void 0:o.getBoundingClientRect(),s=r.getSourceClientOffset(),l=s.x-a.x,c=s.y-a.y,u={x:l>0?l:0,y:c>0?c:0};n(i.type,{position:u,dropKey:t.cellKey})}},s().createElement(ah,{data:o,style:r,video:a},s().useMemo((function(){return s().createElement(ZA,d({cellKey:i},c))}),[i,u]))):s().createElement(ah,{data:o,style:r,video:a},s().useMemo((function(){return s().createElement(ZA,d({cellKey:i},c))}),[i,u])))},paramSchema:rh,initParam:{initIWndow:4,type:"realPlay"},initLayout:{width:600,height:400},permission:"hikH5"};function ch(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function uh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ch(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ch(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dh=function(t){var n=t.changCurrentTime,r=t.axisConfiguration,o=(t.dataVideo,t.tableData),l=t.ctxTableData,c=t.width,u=t.currentTime,d=(0,e.use)("redux",(function(e){return{video:null==e?void 0:e.video}})).video,A=(0,a.useState)({width:c,currentTime:u,videoRecords:null==t?void 0:t.dataVideo}),h=(0,i.Z)(A,2),p=h[0],f=h[1],m=(0,a.useState)(),g=(0,i.Z)(m,2),v=g[0],y=g[1],b=(0,a.useState)(!1),C=(0,i.Z)(b,2),_=C[0],E=C[1],w=(0,a.useRef)(),T=null==r?void 0:r.textColor,S=null==r?void 0:r.textSize,k=null==r?void 0:r.background,I=null==r?void 0:r.scaleColor,B=(null==o?void 0:o.id)||(null==l?void 0:l.id);s().useEffect((function(){var e,n,i,r=r;B&&null!=d&&null!==(e=d.customBackplay)&&void 0!==e&&e[B]&&(r=null==d||null===(n=d.customBackplay)||void 0===n||null===(i=n[B])||void 0===i?void 0:i.now),f(uh(uh({},p),{},{width:t.width,currentTime:r,videoRecords:t.dataVideo}))}),[JSON.stringify(null==d?void 0:d.customBackplay),B,null==t?void 0:t.width,u,JSON.stringify(t.dataVideo)]);var x=(0,a.useRef)(!0),D=s().useState(0),P=(0,i.Z)(D,2),R=P[0],j=P[1];(0,a.useEffect)((function(){c&&u&&null!=t&&t.cellKey&&(U(c,u,p.videoRecords),O())}),[null==t?void 0:t.cellKey,c,u]);var L=function(e,n,i,r,o,a){var s=document.getElementById("time_line_".concat(null==t?void 0:t.cellKey)).getContext("2d");s.beginPath(),s.moveTo(e,n),s.lineTo(i,r),s.strokeStyle=o,s.lineWidth=a,s.stroke()};s().useEffect((function(){y(function(){if(p.currentTime&&R){var e=F(p.currentTime+60*R-p.currentTime%60-60*parseInt(c/2));return"".concat(e[0],"-").concat(e[1],"-").concat(e[2]," ").concat(e[3],":").concat(e[4],":").concat(e[5])}}())}),[c,p.currentTime,R]);var M=function(e){j(e.offsetX),E(!0);var n=document.getElementById("tooltip_div_".concat(null==t?void 0:t.cellKey));n.style.left=e.offsetX-15+"px",n.style.top="-30px"},O=function(){var e=document.getElementById("time_line_layer_".concat(null==t?void 0:t.cellKey));e.onmouseleave=function(t){E(!1),e.onmousemove=function(e){M(e)}};var i=0,r=0;e.onmousedown=function(n){x.current=!1,i=n.offsetX,r=p.currentTime,t.clearTime(),e.onmousemove=function(e){E(!1);var t=e.offsetX,n=60*(i-t)+r;n&&U(p.width,n)}},e.onmouseup=function(t){var o=t.offsetX;n(60*(i-o)+r),x.current=!0,e.onmousemove=function(e){M(e)}},e.onmousemove=function(e){M(e)}},F=function(e){var t=new Date(1e3*e);return[t.getFullYear(),t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,t.getDate()<10?"0"+t.getDate():t.getDate(),t.getHours()<10?"0"+t.getHours():t.getHours(),t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds()]},U=function(e,i,r){var o=T||"white";setTimeout((function(){!function(e,n){document.getElementById("time_line_".concat(null==t?void 0:t.cellKey)).getContext("2d").clearRect(0,0,e,50);for(var i=(parseInt(n/60)-parseInt(e/2))%60,r=0;r<e;r++){var o=I||"white";(i+r)%30==0&&L(r,0,r,10,o,1);var a=n+60*r-n%60-60*parseInt(e/2);if((i+r)%60==0){L(r,0,r,20,o,1);var s=document.getElementById("time_line_".concat(null==t?void 0:t.cellKey)).getContext("2d");s.font=S&&"".concat(S,"px Arial")||"12px Arial";var l=F(a);s.fillStyle=o,s.fillText("".concat(l[3],":").concat(l[4]),r,25)}}}(e,i),function(e,i,r){var o=document.getElementById("is_have_video_".concat(t.cellKey)).getContext("2d");o.clearRect(0,0,e,50);var a=i+60*parseInt(e/2),s=i-60*parseInt(e/2),l=null!=r&&r.length?r.filter((function(e){return parseInt(null==e?void 0:e.startTime)<a&&parseInt(null==e?void 0:e.endTime)>s})):[];null!=l&&l.length&&l.map((function(t,r){var a,s;0==r&&parseInt(null==t?void 0:t.startTime)>i&&n(parseInt(null==t?void 0:t.startTime)),r<l.length?parseInt(t.endTime)<i&&parseInt(null===(a=l[r+1])||void 0===a?void 0:a.startTime)>i&&n(parseInt(null===(s=l[r+1])||void 0===s?void 0:s.startTime)):parseInt(t.endTime)<i&&n(parseInt(t.endTime));var c=parseInt((parseInt(null==t?void 0:t.startTime)+60*e/2-i+i%60)/60),u=parseInt((parseInt(t.endTime)+60*e/2-i+i%60)/60),d=(u=u<e?u:e)-(c=c>0?c:0);o.fillStyle="rgb(255, 204, 0)",o.fillRect(c,0,d,50)}))}(e,i,r),L(parseInt(e/2),0,parseInt(e/2),35,"blue",1);var a=document.getElementById("time_line_".concat(null==t?void 0:t.cellKey)).getContext("2d");a.font=S&&"".concat(S,"px Arial")||"12px Arial",a.fillStyle=o;var s=F(i);a.fillText("".concat(s[0],"-").concat(s[1],"-").concat(s[2]," ").concat(s[3],":").concat(s[4],":").concat(s[5]),parseInt(e/2)-50,48)}),1)};return s().createElement("div",{style:{position:"relative"}},s().createElement("div",{className:"tooltip_div",id:"tooltip_div_".concat(null==t?void 0:t.cellKey),style:{display:_?"block":"none"}},v),s().createElement("canvas",{className:"is_have_video",id:"is_have_video_".concat(null==t?void 0:t.cellKey),width:p.width,height:"50",style:{backgroundColor:k||"gray"}}),s().createElement("canvas",{className:"time_line",id:"time_line_".concat(null==t?void 0:t.cellKey),width:p.width,height:"50",style:{backgroundColor:k||"rgb(0, 255, 234, 0)"}}),s().createElement("canvas",{className:"time_line_layer",id:"time_line_layer_".concat(null==t?void 0:t.cellKey),ref:w,width:p.width,height:"50",style:{backgroundColor:k||"rgb(0, 255, 234, 0)"}}),null!=t&&t.editMode?s().createElement("div",{style:{position:"absolute",width:"100%",height:(null==t?void 0:t.currentCellHeight)||50,top:"0px",left:"0px",zIndex:88}}):null)},Ah={type:"object",properties:{tableData:{title:_r("设备"),type:"object",fieldType:"tableData",field:{func:"device"}},axisConfiguration:{title:_r("轴配置"),type:"object",properties:{scaleColor:{title:_r("刻度颜色"),type:"string",fieldType:"color"},background:{title:_r("背景色"),type:"string",fieldType:"color",description:_r("背景色需要设置透明度")},textColor:{title:_r("文字颜色"),type:"string",fieldType:"color"},textSize:{title:_r("文字大小"),type:"number"}}},bindTime:{title:_r("时间数据"),type:"string",fieldType:"variable"}}},hh={title:_r("视频时间轴"),category:[_r("视频组件"),_r("基础视频")],icon:__webpack_require__(5920),component:function(t){var n,r,o,a,l,c=t.tableData,u=t.cellKey,h=(t.bindTime,(0,e.use)("redux",(function(e){return{video:null==e?void 0:e.video}})).video),f=s().useState([]),m=(0,i.Z)(f,2),g=m[0],v=m[1],y=s().useState(RA()(Date.parse(new Date)).unix().valueOf()),b=(0,i.Z)(y,2),C=b[0],_=b[1],E=(0,e.use)("redux").dispatch,w=((0,e.use)("cell.context.value","table"),(0,e.use)("cell.context.value","tableData")),T=(null===(n=(0,e.use)("cell.structure.value",u))||void 0===n?void 0:n.parent)||"root",S=(0,e.use)("cell.params.value",T,"base.layoutType"),k=(0,e.use)("cell.layout.value",T,"".concat(S,".").concat(u,".width")),I=(0,e.use)("cell.layout.value",T,"".concat(S,".").concat(u,".height")),B=k&&p().isNumber(k)?k:p().isString(k)?k.replace(/[^0-9]/gi,""):k,x=I&&p().isNumber(I)?I:p().isString(I)?I.replace(/[^0-9]/gi,""):I,D=s().useState(B||100),P=(0,i.Z)(D,2),R=P[0],j=P[1],L=s().useState(x||100),M=(0,i.Z)(L,2),O=M[0],F=M[1],U=(null===e.app||void 0===e.app||null===(r=e.app.context)||void 0===r||null===(o=r.recoil)||void 0===o||o.useDataSet("customVar"),null===e.app||void 0===e.app||null===(a=e.app.context)||void 0===a||null===(l=a.recoil)||void 0===l||l.useDataValue("customVar"),s().useRef());return s().useEffect((function(){var e,t=(null==c?void 0:c.id)||(null==w?void 0:w.id);if(t&&null!=h&&null!==(e=h.customBackplay)&&void 0!==e&&e[t]){var n,i,r=null==h||null===(n=h.customBackplay)||void 0===n?void 0:n[t].videoRecords,o=null==h||null===(i=h.customBackplay)||void 0===i?void 0:i[t].now;v(r),_(o),o&&(U.current&&clearInterval(U.current),U.current=setInterval((function(){_(o)}),1e3))}}),[JSON.stringify(null==h?void 0:h.customBackplay),JSON.stringify(c),JSON.stringify(w)]),s().useEffect((function(){var e,n,i=B||(null===(e=document.getElementById("dashboard-cell-wrap-".concat(t.cellKey)))||void 0===e?void 0:e.clientWidth)||100,r=(null===(n=document.getElementById("dashboard-cell-wrap-".concat(t.cellKey)))||void 0===n?void 0:n.clientHeight)||100;j(i),F(r)}),[k,B]),s().createElement(dh,d({width:R,height:O||100,clearTime:function(){}},t,{dataVideo:g,currentTime:C,changCurrentTime:function(e){return t=e,a=RA()(1e3*t).utc().format(),void((s=(null==c?void 0:c.id)||(null==w?void 0:w.id))&&a&&E({type:"@@video/upload_jessibucaPlayback",payload:(0,A.Z)({},s,uh(uh({},null==h||null===(n=h.customBackplay)||void 0===n?void 0:n[s]),{},{type:"changeTime",startTime:a,now:RA()(a).unix().valueOf(),endTime:RA()(null==h||null===(i=h.customBackplay)||void 0===i||null===(r=i[s])||void 0===r?void 0:r.endTime).diff(a,"h")<2?RA()(new Date).utc().format():null==h||null===(o=h.customBackplay)||void 0===o?void 0:o[s].endTime}))}));var t,n,i,r,o,a,s}}))},paramSchema:Ah};const ph=dh;function fh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function mh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fh(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gh=function(e,t){if(null!=e){var n=window.WebVideoCtrl.I_GetDevicePort(e);if(null!=n)return n;console.log(e+t(" 获取端口失败！"))}},vh=l.DatePicker.RangePicker,yh=!1,bh=function(){return{type:"object",properties:{}}},Ch={title:_r("预览"),category:[_r("视频组件"),_r("海康无插件视频")],icon:__webpack_require__(4571),component:function(t){e.app.context.store;var i,r,a=(0,e.use)("video.store.value"),c=(0,e.use)("video.store.set"),u=useI18n(),d=u.t,A=(u.i18n,(null==a?void 0:a.g_iWndIndex)||[{index:0,selected:!0,tableData:{},isPlayer:!1,buttonControl:null}]),h=s().useRef();s().useEffect((function(){h.current&&y()}),[]);var f=function(e){var t=A.map((function(t){return t.selected?mh(mh({},t),{},{isPlayer:"open"!=e||!t.isPlayer}):t}));!p().isEmpty(c)&&c(mh(mh({},a),{},{g_iWndIndex:t}))},m=function(){var t=(0,n.Z)(o().mark((function t(n){var i,r,a,s,l,c,u,d,h,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d=null===(i=A.filter((function(e){return e.selected})))||void 0===i||null===(r=i[0])||void 0===r||null===(a=r.tableData)||void 0===a?void 0:a.id,h=null===(s=A.filter((function(e){return e.selected})))||void 0===s||null===(l=s[0])||void 0===l||null===(c=l.tableData)||void 0===c||null===(u=c.table)||void 0===u?void 0:u.id,!d||!h){t.next=7;break}return t.next=5,(0,e.api)({name:"core/t/".concat(h,"/d/").concat(d)}).fetch("",{}).then((function(e){var t=e.json;return mh(mh({},t),null==t?void 0:t._settings)}));case 5:(p=t.sent)&&g(p);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(e,t){var n,i,r,o,a,s,c,u,A,h,p=null==e||null===(n=e.device)||void 0===n||null===(i=n.settings)||void 0===i?void 0:i.ip,f=(null==e||null===(r=e.device)||void 0===r||null===(o=r.settings)||void 0===o?void 0:o.webPort)||(null==e||null===(a=e.device)||void 0===a||null===(s=a.settings)||void 0===s?void 0:s.port),m=null==e||null===(c=e.device)||void 0===c||null===(u=c.settings)||void 0===u?void 0:u.username,g=null==e||null===(A=e.device)||void 0===A||null===(h=A.settings)||void 0===h?void 0:h.password;if(""!=p&&""!=f){var y=p+"_"+f,b=window.WebVideoCtrl.I_Login(p,1,f,m,g,{success:function(n){setTimeout((function(){var n=gh(y);!function(e,t){null!=e&&(window.WebVideoCtrl.I_GetAnalogChannelInfo(e,{async:!1,success:function(n){console.log(n),console.log(e+t(" 获取模拟通道成功！"))},error:function(n,i){console.log(e+t(" 获取模拟通道失败！"),n,i)}}),window.WebVideoCtrl.I_GetDigitalChannelInfo(e,{async:!1,success:function(n){console.log(e+t(" 获取数字通道成功！"))},error:function(n,i){console.log(e+t(" 获取数字通道失败！"),n,i)}}),window.WebVideoCtrl.I_GetZeroChannelInfo(e,{async:!1,success:function(n){console.log(e+t(" 获取零通道成功！"))},error:function(n,i){console.log(e+t(" 获取零通道失败！"),n,i)}}))}(y,d),n&&v(y,n.iRtspPort,e,t)}),100),console.log(y,n,d(" 登录成功！"))},error:function(e,t){console.log(y+d(" 登录失败！"),t)}});-1==b&&l.message.warning(y+d(" 已登录过！"))}},v=function(e,t,n,i){var r,o,a="";window.WebVideoCtrl.I_StartRealPlay(e,{iWndIndex:i,iPort:t,iStreamType:2,iChannelID:(null==n||null===(r=n.device)||void 0===r||null===(o=r.settings)||void 0===o?void 0:o.channel)||1,bZeroChannel:yh,success:function(){a=d("开始预览成功！"),console.log(e+" "+a),f("close"),h.current=!0},error:function(t,n){a=d(403===t?"设备不支持Websocket取流！":"开始预览失败！"),b(e),console.log(e+" "+a)}})},y=function(){var e=A.filter((function(e){return e.selected}))[0].index,t=window.WebVideoCtrl.I_GetWindowStatus(e),n="";null!=t&&window.WebVideoCtrl.I_Stop({success:function(){n=d("停止预览成功！"),l.message.success(t.szDeviceIdentify+" "+n),f("open"),b(t.szDeviceIdentify)},error:function(){n=d("停止预览失败！"),l.message.error(t.szDeviceIdentify+" "+n)}})},b=function(e){var t="";if(null!=e){var n=window.WebVideoCtrl.I_Logout(e);t=d(0==n?"退出成功！":"退出失败！"),console.log(e+" "+t)}};return s().createElement(l.Button,{style:{width:"100%",height:"100%"},onClick:function(){var e,t;null!=A&&A.length&&null!==(e=A.filter((function(e){return e.selected})))&&void 0!==e&&null!==(t=e[0])&&void 0!==t&&t.isPlayer?y():m()},icon:null!=A&&A.length&&null!==(i=A.filter((function(e){return e.selected})))&&void 0!==i&&null!==(r=i[0])&&void 0!==r&&r.isPlayer?s().createElement(Jd.PauseOutlined,null):s().createElement(Jd.CaretRightOutlined,null)})},paramSchema:bh,permission:"hikH5"},_h={title:_r("回放"),category:[_r("视频组件"),_r("海康无插件视频")],icon:__webpack_require__(8114),component:function(t){var i,r=useI18n(),a=r.t,c=(r.i18n,t.consumerModel),u=(t.editMode,(0,e.use)("cell.context.value","table"),(0,e.use)("cell.context.value","tableData")),d=(e.app.context.store,(0,e.use)("video.store.value")),A=(0,e.use)("video.store.set"),h=null==d?void 0:d.playback,f="realPlay"!=(null==d?void 0:d.type)?null==h?void 0:h.g_iWndIndex:null==d?void 0:d.g_iWndIndex,m=function(e,t){var n=f.map((function(n){return n.selected?mh(mh({},n),{},{isPlayer:"open"!=e||!n.isPlayer,startTime:t||n.startTime}):n}));!p().isEmpty(A)&&A(mh(mh({},d),{},{playback:{g_iWndIndex:n}}))};console.log(d,9988);var g=function(){var t=(0,n.Z)(o().mark((function t(n){var i,r,s,d,A,m,g,y,b,C,_,E,w,T,S;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_=(null==h||null===(i=h.g_iWndIndex)||void 0===i?void 0:i.length)&&(null===(r=h.g_iWndIndex.filter((function(e){return null==e?void 0:e.selected}))[0])||void 0===r||null===(s=r.tableData)||void 0===s?void 0:s.id)||(null==u?void 0:u.id),E=(null==h||null===(d=h.g_iWndIndex)||void 0===d?void 0:d.length)&&(null===(A=h.g_iWndIndex.filter((function(e){return null==e?void 0:e.selected}))[0])||void 0===A||null===(m=A.tableData)||void 0===m||null===(g=m.table)||void 0===g?void 0:g.id)||(null==c?void 0:c.id),w=(null==f?void 0:f.length)&&(null===(y=f.filter((function(e){return e.selected}))[0])||void 0===y?void 0:y.startTime),T=(null==f?void 0:f.length)&&(null===(b=f.filter((function(e){return e.selected}))[0])||void 0===b?void 0:b.endTime),!p().isEmpty(_)){t.next=7;break}return l.message.info(a("请先选择回放通道")),t.abrupt("return");case 7:if(!p().isEmpty(w)&&!p().isEmpty(T)){t.next=10;break}return l.message.info(a("请先选择回放时间段")),t.abrupt("return");case 10:return t.next=12,(0,e.api)({name:"core/t/".concat(E,"/d/").concat(_)}).fetch("",{}).then((function(e){var t=e.json;return mh(mh({},t),null==t?void 0:t._settings)}));case 12:S=t.sent,(null==h||null===(C=h.g_iWndIndex)||void 0===C?void 0:C.length)&&v(h.g_iWndIndex,S,w,T);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(e,t,n,i,r){var o,a,s,l,c,u,d,A,h,p,f=null==t||null===(o=t.device)||void 0===o||null===(a=o.settings)||void 0===a?void 0:a.ip,m=(null==t||null===(s=t.device)||void 0===s||null===(l=s.settings)||void 0===l?void 0:l.webPort)||(null==t||null===(c=t.device)||void 0===c||null===(u=c.settings)||void 0===u?void 0:u.port),g=null==t||null===(d=t.device)||void 0===d||null===(A=d.settings)||void 0===A?void 0:A.username,v=null==t||null===(h=t.device)||void 0===h||null===(p=h.settings)||void 0===p?void 0:p.password;if(""!=f&&""!=m){var b=f+"_"+m;-1==window.WebVideoCtrl.I_Login(f,1,m,g,v,{success:function(o){y(e,b,f,t,r,n,i)},error:function(o,a){y(e,b,f,t,r,n,i)}})&&y(e,b,f,t,r,n,i)}},y=function(e,t,n,i,r,o,s){var c,u,d=window.WebVideoCtrl.I_GetWindowStatus(e),A=n,h=(null==i||null===(c=i.device)||void 0===c||null===(u=c.settings)||void 0===u?void 0:u.channel)||1,p=o,f=s,g="";if(null!=t){var v=function(){window.WebVideoCtrl.I_StartPlayback(t,{iWndIndex:r,iPort:A,iStreamType:1,iChannelID:h,szStartTime:p,szEndTime:f,success:function(){g=a("开始回放成功！"),m("close"),console.log(t+" "+g,e,"sfsffasfaff ")},error:function(e,n){g=a(403===e?"设备不支持Websocket取流！":"开始回放失败！"),l.message.error(t+" "+g)}})};null!=d?window.WebVideoCtrl.I_Stop({success:function(){v()}}):v()}};return s().createElement(l.Button,{style:{width:"100%",height:"100%"},onClick:function(){var e,n,i,r,o;null!=f&&f.length&&null!==(e=f.filter((function(e){return e.selected}))[0])&&void 0!==e&&e.isPlayer?!t.editMode&&(i=f.filter((function(e){return e.selected}))[0].index,r=window.WebVideoCtrl.I_GetWindowStatus(i),o="",null!=r&&(window.WebVideoCtrl.I_GetOSDTime({success:function(e){n=e}}),window.WebVideoCtrl.I_Stop({success:function(){o=a("停止回放成功！"),console.log(r.szDeviceIdentify+" "+o+n),m("open",n)},error:function(){o=a("停止回放失败！"),l.message.error(r.szDeviceIdentify+" "+o),m("open")}}))):!t.editMode&&g()},icon:null!=f&&f.length&&null!==(i=f.filter((function(e){return e.selected}))[0])&&void 0!==i&&i.isPlayer?s().createElement(Jd.PauseOutlined,null):s().createElement(Jd.CaretRightOutlined,null)})},paramSchema:bh,permission:"hikH5"},Eh={title:_r("分屏"),category:[_r("视频组件"),_r("海康无插件视频")],icon:__webpack_require__(9984),component:function(e){var t=e.editMode,n=s().useState({wndNum:"2",visible:!1}),r=(0,i.Z)(n,2),o=r[0],a=r[1],c=s().createElement(l.Radio.Group,{value:o.wndNum,onChange:function(e){var t;t=e.target.value,a(mh(mh({},o),{},{wndNum:t,visible:!1})),window.WebVideoCtrl.I_ChangeWndNum(parseInt(t,10))}},s().createElement(l.Radio.Button,{value:"1"},"1X1"),s().createElement(l.Radio.Button,{value:"2"},"2X2"),s().createElement(l.Radio.Button,{value:"3"},"3X3"),s().createElement(l.Radio.Button,{value:"4"},"4X4"));return s().createElement(l.Popover,{placement:"bottom",visible:o.visible,content:c},s().createElement(l.Button,{style:{width:"100%",height:"100%"},type:"primary",onClick:function(){!t&&a(mh(mh({},o),{},{visible:!0}))}},o.wndNum))},paramSchema:bh,permission:"hikH5"},wh={title:_r("全屏"),category:[_r("视频组件"),_r("海康无插件视频")],icon:__webpack_require__(6426),component:function(e){return s().createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},s().createElement(l.Button,{style:{width:"100%",height:"100%"},icon:s().createElement(Jd.FullscreenOutlined,null),onClick:function(){window.WebVideoCtrl.I_FullScreen(!0)}}),e.editMode?s().createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",display:"block",zIndex:88}}):null)},paramSchema:bh,permission:"hikH5"},Th={title:_r("通道选择器"),category:[_r("视频组件"),_r("海康无插件视频")],icon:__webpack_require__(1439),component:function(n){e.app.context.store;var i,r,o=(0,e.use)("video.store.value"),a=(0,e.use)("video.store.set"),l=null==o?void 0:o.type,c=(null==o?void 0:o.g_iWndIndex)||[{index:0,selected:!0,tableData:{},isPlayer:!1,buttonControl:null}];return s().createElement(t.C,{is:"Common.SelectTableRecord",style:{width:"100%"},field:{schema:{}},input:{value:null===(i=c.filter((function(e){return null==e?void 0:e.selected})))||void 0===i||null===(r=i[0])||void 0===r?void 0:r.tableData,onChange:function(e){!function(e){var t=c.map((function(t){return t.selected?mh(mh({},t),{},{tableData:e}):t}));"backPlay"==l?!p().isEmpty(a)&&a(mh(mh({},o),{},{playback:{g_iWndIndex:t}})):!p().isEmpty(a)&&a(mh(mh({},o),{},{g_iWndIndex:t}))}(e)}}})},paramSchema:bh,permission:"hikH5"},Sh={type:"object",properties:{timeRange:{title:_r("回放时间范围"),type:"string",enum:["nearlyYear","nearlyMonth","nearlyWeek","nearlyDay"],enum_title:[_r("最近一年"),_r("最近一个月"),_r("最近一周"),_r("最近一天")]},startSwitch:{title:_r("当前时间开始"),type:"boolean"}}},kh={title:_r("日历选择器"),category:[_r("视频组件"),_r("海康无插件视频")],icon:__webpack_require__(5763),component:function(t){var n,i,r,o,a=useI18n(),c=(a.t,a.i18n,e.app.context.store,(0,e.use)("video.store.value")),u=(0,e.use)("video.store.set"),d=null==c?void 0:c.playback,A=(null==c||c.type,(null==d?void 0:d.g_iWndIndex)||[{index:0,selected:!0,tableData:{},isPlayer:!1,buttonControl:null,startTime:null,endTime:null}]),h=null!==(n=A.filter((function(e){return e.selected}))[0])&&void 0!==n&&n.startTime&&null!==(i=A.filter((function(e){return e.selected}))[0])&&void 0!==i&&i.endTime?[RA()(null===(r=A.filter((function(e){return e.selected}))[0])||void 0===r?void 0:r.startTime),RA()(null===(o=A.filter((function(e){return e.selected}))[0])||void 0===o?void 0:o.endTime)]:[],f=t.timeRange,m=t.startSwitch,g={nearlyYear:{count:1,unit:"Y",fromNow:m||!1},nearlyMonth:{count:1,unit:"M",fromNow:m||!1},nearlyWeek:{count:1,unit:"w",fromNow:m||!1},nearlyDay:{count:1,unit:"d",fromNow:m||!1}},v=(0,e.use)("dashboard.backPlay")||{},y=(v.isHistoryMode,v.time,function(e,t){for(var n=[],i=e;i<t;i++)n.push(i);return n});return s().createElement(l.Space,{direction:"vertical",size:12},s().createElement(vh,{disabledTime:m?function(e,t){var n=RA()(new Date).format("HH");return RA()(new Date).format("mm"),RA()(new Date).format("ss"),"start"===t?{disabledHours:function(){return y(0,n)}}:{disabledHours:function(){return y(n,24)}}}:null,disabledDate:function(e){return f&&g[f]&&m?e>=RA()().endOf("day")||RA()().subtract(g[f].count,g[f].unit).startOf("day")>=e:f&&g[f]?e<RA()().startOf(g[f].unit).subtract(g[f].count,g[f].unit)||e>RA()().subtract(g[f].count,g[f].unit).endOf(g[f].unit):e&&e>=RA()().endOf("day")},value:h,allowClear:!0,showTime:!0,onChange:function(e,t){if(p().isArray(t)&&null!=t&&t.length){var n=A.map((function(e){return e.selected?mh(mh({},e),{},{startTime:t[0],endTime:t[1]}):e}));!p().isEmpty(u)&&u(mh(mh({},c),{},{playback:{g_iWndIndex:n}}))}}}))},paramSchema:Sh,initParam:{startSwitch:!0},permission:"hikH5"},Ih={type:"object",properties:{axisConfiguration:{title:_r("轴配置"),type:"object",properties:{scaleColor:{title:_r("刻度颜色"),type:"string",fieldType:"color"},background:{title:_r("背景色"),type:"string",fieldType:"color",description:_r("背景色需要设置透明度")},textColor:{title:_r("文字颜色"),type:"string",fieldType:"color"},textSize:{title:_r("文字大小"),type:"number"}}}}},Bh={title:_r("回放时间轴"),category:[_r("视频组件"),_r("海康无插件视频")],icon:__webpack_require__(8306),component:function(t){var r,a,c=useI18n(),u=c.t,A=(c.i18n,(0,e.use)("video.store.value")),h=((0,e.use)("video.store.set"),null==A?void 0:A.playback),f=(null==h?void 0:h.g_iWndIndex)||[{index:0,selected:!0,tableData:{},isPlayer:!1,buttonControl:null}],m=s().useState([]),g=(0,i.Z)(m,2),v=g[0],y=g[1],b=s().useState(RA()(Date.parse(new Date)).unix().valueOf()),C=(0,i.Z)(b,2),_=C[0],E=C[1],w=null==t?void 0:t.cellKey,T=(null===(r=(0,e.use)("cell.structure.value",w))||void 0===r?void 0:r.parent)||"root",S=(0,e.use)("cell.params.value",T,"base.layoutType"),k=(0,e.use)("cell.layout.value",T,"".concat(S,".").concat(w,".width")),I=(0,e.use)("cell.layout.value",T,"".concat(S,".").concat(w,".height")),B=(k&&p().isNumber(k)?k:p().isString(k)?k.replace(/[^0-9]/gi,""):k)||100,x=(I&&p().isNumber(I)?I:p().isString(I)?I.replace(/[^0-9]/gi,""):I)||100,D=s().useRef(),P=(0,e.use)("dashboard.backPlay")||{},R=(P.isHistoryMode,P.time,[{channelId:"1000008$1$0$0",recordSource:"3",recordType:"3",startTime:"1637048684",endTime:"1638048704",recordName:"{f1ad4d43-3bc3-1e43-9cce-d852e1c70da4}",fileLength:"16384",planId:"0",ssId:"1001",diskId:"1637048684-1637048704",streamId:"29",forgotten:"0",streamType:"1"},{channelId:"1000008$1$0$0",recordSource:"3",recordType:"3",startTime:"1637048909",endTime:"1638048929",recordName:"{f1ad4d43-3bc3-1e43-9cce-d852e1c70da4}",fileLength:"16384",planId:"0",ssId:"1001",diskId:"1637048909-1637048929",streamId:"29",forgotten:"0",streamType:"1"}]);s().useEffect((function(){var e=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=R.length-1;t>0;t--)for(var n=0;n<t;n++)if(parseInt(e[n].startTime)>parseInt(e[n+1].startTime)){var i=[e[n+1],e[n]];e[n]=i[0],e[n+1]=i[1]}return e}(R);return y(e),function(){D.current&&(clearInterval(D.current),D.current=null)}}),[]),s().useEffect((function(){var e;if(null!==(e=f.filter((function(e){return e.selected}))[0])&&void 0!==e&&e.startTime){var t,n=null===(t=f.filter((function(e){return e.selected}))[0])||void 0===t?void 0:t.startTime,i=RA()(Date.parse(n)).unix().valueOf();E(i),D.current&&(clearInterval(D.current),D.current=null);var r=f.filter((function(e){return e.selected}))[0];null!=r&&r.startTime&&null!=r&&r.tableData&&null!=r&&r.isPlayer&&(D.current=setInterval((function(){F()}),1e3))}}),[null===(a=f.filter((function(e){return e.selected}))[0])||void 0===a?void 0:a.startTime]);var j=function(){var t=(0,n.Z)(o().mark((function t(n){var i,r,a,s,c,d,A,h,m,g,v,y,b,C,_,w,T,S,k,I,B,x,D,P,R,j,M,F;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E(n),null===(i=f.filter((function(e){return e.selected}))[0])||void 0===i||null===(r=i.tableData)||void 0===r||!r.id){t.next=21;break}if(k=null===(a=f.filter((function(e){return e.selected}))[0])||void 0===a||null===(s=a.tableData)||void 0===s?void 0:s.id,I=null===(c=f.filter((function(e){return e.selected}))[0])||void 0===c||null===(d=c.tableData)||void 0===d||null===(A=d.table)||void 0===A?void 0:A.id,B=RA()(1e3*n).format("YYYY-MM-DD HH:mm:ss"),x=RA()(new Date).format("YYYY-MM-DD HH:mm:ss"),!p().isEmpty(k)){t.next=9;break}return l.message.info(u("请先选择回放通道")),t.abrupt("return");case 9:if(!p().isEmpty(B)&&!p().isEmpty(x)){t.next=12;break}return l.message.info(u("请先选择回放时间段")),t.abrupt("return");case 12:return t.next=14,(0,e.api)({name:"core/t/".concat(I,"/d/").concat(k)}).fetch("",{}).then((function(e){var t=e.json;return mh(mh({},t),null==t?void 0:t._settings)}));case 14:if(D=t.sent,P=null==D||null===(h=D.device)||void 0===h||null===(m=h.settings)||void 0===m?void 0:m.ip,R=(null==D||null===(g=D.device)||void 0===g||null===(v=g.settings)||void 0===v?void 0:v.webPort)||(null==D||null===(y=D.device)||void 0===y||null===(b=y.settings)||void 0===b?void 0:b.port),null==D||null===(C=D.device)||void 0===C||null===(_=C.settings)||void 0===_||_.username,null==D||null===(w=D.device)||void 0===w||null===(T=w.settings)||void 0===T||T.password,""!=P&&""!=R){t.next=18;break}return t.abrupt("return");case 18:j=P+"_"+R,M=f.filter((function(e){return e.selected}))[0].index,null!==(S=f.filter((function(e){return e.selected}))[0])&&void 0!==S&&S.isPlayer?(F=gh(j,u),O(j,P,F.iRtspPort,D,M,B,x)):L(j,P,oPort.iRtspPort,D,M,B,x);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(e,t,n,i,r,o,a){-1==window.WebVideoCtrl.I_Login(t,1,n,szUsername,szPassword,{success:function(t){M(e,n,i,r,o,a)},error:function(t,n){console.log(e+u(" 登录失败！"),n)}})&&(console.log(e+u(" 已登录过！")),M(e,t,i,r,o,a))},M=function(e,t,n,i,r,o,a){var s,l,c=r||f.filter((function(e){return e.selected}))[0].index,d=WebVideoCtrl.I_GetWindowStatus(c),A=n,h=(null==i||null===(s=i.device)||void 0===s||null===(l=s.settings)||void 0===l?void 0:l.channel)||1,p=o,m=a,g="";if(null!=e){var v=function(){window.WebVideoCtrl.I_StartPlayback(e,{iWndIndex:r,iPort:A,iStreamType:1,iChannelID:h,szStartTime:p,szEndTime:m||RA()(new Date).format("YYYY-MM-DD HH:mm:ss"),success:function(){g=u("开始回放成功！"),console.log(e+" "+g),D.current&&(clearInterval(D.current),D.current=null),D.current=setInterval((function(){F()}),1e3)},error:function(t,n){g=u(403===t?"设备不支持Websocket取流！":"开始回放失败！"),console.log(e+" "+g)}})};null!=d?window.WebVideoCtrl.I_Stop({success:function(){v()}}):v()}},O=function(e,t,n,i,r,o,a){var s=f.filter((function(e){return e.selected}))[0].index,c=window.WebVideoCtrl.I_GetWindowStatus(s),d="";null!=c&&window.WebVideoCtrl.I_Stop({iWndIndex:c.iIndex,success:function(){d=u("停止回放成功！"),console.log(c.szDeviceIdentify+" "+d),console.log(e,t,n,i,c.iIndex,o,a,"sfsfsfsf"),M(e,t,n,i,c.iIndex,o,a),clearInterval(D.current),D.current=null},error:function(){d=u("停止回放失败！"),l.message.error(c.szDeviceIdentify+" "+d)}})},F=function(){window.WebVideoCtrl.I_GetOSDTime({success:function(e){var t=RA()(Date.parse(e)).unix().valueOf();E(t)}})};return s().createElement(s().Fragment,null,s().createElement(ph,d({clearTime:function(){D.current&&(clearInterval(D.current),D.current=null)},width:B,height:x},t,{videoRecords:v,currentTime:_,changCurrentTime:function(e){return j(e)}})))},paramSchema:Ih,permission:"hikH5"},xh={type:"object",properties:{table:{title:_r("设备表"),type:"array",fieldType:"table",items:{}}}},Dh={title:_r("web视频设备树"),category:[_r("视频组件"),_r("海康无插件视频")],icon:__webpack_require__(5920),component:function(n){var r=useI18n(),o=(r.t,r.i18n,n.table),a=(n.selectDepartment,n.consumerModel,s().useState([])),l=(0,i.Z)(a,2),c=l[0],u=l[1],d=(0,e.use)("video.store.value"),A=(0,e.use)("video.store.set"),h=null==d?void 0:d.playback,f=null==d?void 0:d.type,m=(e.app.context.store,"backPlay"==f?null==h?void 0:h.g_iWndIndex:null==d?void 0:d.g_iWndIndex);s().useEffect((function(){(null==c?void 0:c.length)>=(null==m?void 0:m.length)&&g(c,m,A),(null==c?void 0:c.length)<(null==m?void 0:m.length)&&v(c,m,A),console.log(c,m,899)}),[c.length]);var g=function(e,t){var n,i,r=p().cloneDeep(t);null!=e&&e.length?(e.forEach((function(e,t){r.forEach((function(n,i){var o;(null==n||null===(o=n.tableData)||void 0===o?void 0:o.id)==e.id?r[i]=mh(mh({},r[i]),{},{tableData:e}):r[t]=mh(mh({},r[t]),{},{isPlayer:!1,index:t,tableData:e})}))})),console.log(r,e,t,"添加后的数据123"),"backPlay"==f?!p().isEmpty(A)&&A(mh(mh({},d),{},{playback:{g_iWndIndex:r}})):!p().isEmpty(A)&&A(mh(mh({},d),{},{g_iWndIndex:r}))):(console.log(m,999),"backPlay"==f?!p().isEmpty(A)&&A(mh(mh({},d),{},{playback:{g_iWndIndex:[{index:0,selected:!0,isPlayer:!1,buttonControl:null,tableData:{},startTime:null!=m&&m.length?null===(n=m[0])||void 0===n?void 0:n.startTime:"",endTime:null!=m&&m.length?null===(i=m[0])||void 0===i?void 0:i.endTime:""}]}})):!p().isEmpty(A)&&A(mh(mh({},d),{},{g_iWndIndex:[{index:0,selected:!0,isPlayer:!1,buttonControl:null,tableData:{}}]})))},v=function(e,t,n){var i,r,o=p().cloneDeep(t);null!=e&&e.length?(o.forEach((function(t,n){if(null!=e&&e.length){var i=e.findIndex((function(e){var n;return(null==t||null===(n=t.tableData)||void 0===n?void 0:n.id)==e.id}));o[n]=mh(mh({},o[n]),{},i>-1?{tableData:e[i],isPlayer:t.isPlayer}:{selected:o[n].selected,tableData:{},isPlayer:!1})}else o[n]=mh(mh({},o[n]),{},{tableData:{},isPlayer:!1})})),"backPlay"==f?!p().isEmpty(n)&&n(mh(mh({},d),{},{playback:{g_iWndIndex:o}})):!p().isEmpty(n)&&n(mh(mh({},d),{},{g_iWndIndex:o}))):"backPlay"==f?!p().isEmpty(n)&&n(mh(mh({},d),{},{playback:{g_iWndIndex:[{index:0,selected:!0,isPlayer:!1,buttonControl:null,tableData:{},startTime:null!=m&&m.length?null===(i=m[0])||void 0===i?void 0:i.startTime:"",endTime:null!=m&&m.length?null===(r=m[0])||void 0===r?void 0:r.endTime:""}]}})):!p().isEmpty(n)&&n(mh(mh({},d),{},{g_iWndIndex:[{index:0,selected:!0,isPlayer:!1,buttonControl:null,tableData:{}}]}))};return s().createElement(t.C,{is:"NodeTree",tables:o,key:f,input:{value:c,onChange:function(e){u(e)}}})},paramSchema:xh,permission:"hikH5"},Ph=__webpack_require__(5195),Rh={VideoWidget:pA,WebVideos:ZA,JessibucaVideo:Zd,TimelineMin:ph},jh={VideoWidget:pA,ButtonWidget:EA,VideoContainer:lh,TimeAxis:hh,PlayBtnWidget:Ch,SplitScreenBtnWidget:Eh,FullScreenBtnWidget:wh,NodeTreeWidget:Dh,ChannelSelectorWidget:Th,VideoDatePickerWidget:kh,PlayBackBtnWidget:_h,TimeAxisWidget:Bh,ISCVideo:Ph.Z};function Lh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var Mh=l.Select.Option,Oh=l.Select.OptGroup,Fh=function(e){var t=[];return e&&0==e.length?[]:(e.map((function(e){e&&e.warning&&e.warning.rules&&e.warning.rules.forEach((function(n){n.sign=e.name,t.push(n)}))})),t)};const Uh=function(t){var r,a,c=t.input,u=c.onChange,d=c.value,h=t.field,f=h.key,m=(h.option.form,h.schema,h.type,s().useState({loading:!1,options:{}})),g=(0,i.Z)(m,2),v=g[0],y=(v.loading,v.options),b=g[1],C=s().useState(d&&d.map((function(e){return e.id}))||[]),_=(0,i.Z)(C,2),E=(_[0],_[1],s().useState([])),w=(0,i.Z)(E,2),T=w[0],S=w[1],k={fields:["name","icon","warning"]},I=useI18n(),B=I.t;if(I.i18n,f&&f.indexOf("[")>-1){var x=f.substr(f.indexOf("[")+1,1),D=(0,e.use)("form",(function(e){return{tables:e.values&&e.values.warningRecord[x].table,tableDatas:e.values&&e.values.warningRecord[x].tableData}})),P=D.tables,R=D.tableDatas;r=P,a=R}else{var j=(0,e.use)("form",(function(e){return{tables:e.values&&e.values.table,tableDatas:e.values&&e.values.tableData}})),L=j.tables,M=j.tableDatas;r=L,a=M}var O=function(){var t=(0,n.Z)(o().mark((function t(n,i){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={},t.next=3,(0,e.api)({name:"core/t/schema"}).query(k,{where:{id:{$in:n.map((function(e){return e.id}))}}}).then((function(e){var t=e.items;t&&t.length>0&&(r.table=Fh(t))}));case 3:return t.next=5,(0,e.api)({name:"core/tableData"}).query(k,{where:{id:{$in:i.map((function(e){return e.id}))}}}).then((function(e){var t=e.items;t&&t.length>0&&(r.tableData=Fh(t))}));case 5:b({options:r});case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();s().useEffect((function(){r&&r.length>0&&(0,e.api)({name:"core/table"}).query(k,{where:{id:{$in:r.map((function(e){return e.id}))}}}).then((function(e){var t=e.items;t&&t.length>0&&b((function(e){return{options:{table:Fh(t)}}}))})),a&&a.length>0&&O(r,a)}),[r,a]),s().useEffect((function(){var e=Object.keys(y).reduce((function(e,t){return e.concat(y[t])}),[]);if(e&&e.length>0){var t=p().intersectionBy(e,d,"id");S(e),u(t)}}),[JSON.stringify(y)]);var F=function(e){return(y[e]||[]).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lh(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({label:"".concat(e.warningname||e.description," "),value:e.id},e)})).filter((function(e){return e.id}))},U=[],Q=Object.keys(y).reduce((function(e,t,n){return e.concat(y[t])}),[]);return d&&(U=p().intersectionBy(Q,d,"id").map((function(e){return e.id}))),s().createElement(l.Select,{mode:"multiple",placeholder:B("请选择"),value:U,style:{minWidth:200},onChange:function(e){var t=p().intersectionBy(T,e.map((function(e){return{id:e}})),"id");u(t)}},Object.keys(y).map((function(e){return p().isArray(F(e))&&F(e).length>0?s().createElement(Oh,{label:B("table"==e?"设备表":"设备")},F(e).map((function(e){return s().createElement(Mh,{key:e.value},e.label,"-( ",e.sign," )")}))):null})))};function Qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qh(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}l.Select.Option,l.Select.Option;var qh={level:{title:_r("级别选择"),type:"array",fieldType:"select_multiples",items:{},enums:[_r("低"),_r("中"),_r("高")],enum_title:[_r("低"),_r("中"),_r("高")]},warnType:{title:_r("报警类型"),type:"array",items:{}},table:{type:"array",title:_r("被录制设备表"),fieldType:"table",field:{func:"device"},items:{}},tableData:{type:"array",title:_r("被录制设备"),items:{},fieldType:"tableData",field:{func:"device"}},rules:{title:_r("报警规则"),type:"array",items:{}}},zh={key:"warningRecord",itemsRender:t.C.lazy("Form.Items.Card"),cardsRender:function(e){var t=e.title,n=e.item,i=e.actions;return s().createElement(l.Card,{title:(null==n?void 0:n.warningname)||t,extra:s().createElement("span",null),actions:i},s().createElement("div",{style:{overflow:"hidden",wordBreak:"keep-all",whiteSpace:"nowrap",textOverflow:"ellipsis"}},(null==n?void 0:n.description)||"未填写.."))},searchEnable:!0,searchFields:[],group:t.C.lazy("Form.CollapseGroup")};_r("周期定义"),_r("天"),_r("周"),_r("禁用"),_r("报警录像"),Nh(Nh({period:{type:"string",title:_r("周期定义"),enum:["day","week"],enum_title:[_r("天"),_r("周")],width:150,field:{width:150}},recordSchedule:{type:"array",title:"",recording_mode:"recording_mode",period:"period",items:{}}},qh),{},{disabled:{type:"boolean",title:_r("禁用")}});var Gh=l.Select.Option,Hh=(l.Tabs.TabPane,function(n){var r=(0,a.useState)(null),o=(0,i.Z)(r,2),c=o[0],u=o[1],d=n.input,A=d.onChange,h=d.value,p=(0,e.use)("settings").settings.warning;return(0,a.useEffect)((function(){p&&p.warningkind&&u(p.warningkind)}),[]),s().createElement(l.Select,{labelInValue:!0,defaultValue:{value:h.id},onChange:function(e){if(e){var t={id:e.value,name:e.label};A(t)}},notFoundContent:s().createElement(t.C,{is:"NoData"})},c?c.map((function(e){return s().createElement(Gh,{value:e.id},e.name)})):null)}),Wh=(0,eh.atom)({key:"video.store",default:{g_iWndIndex:[{index:0,selected:!0,tableData:{},isPlayer:!1,buttonControl:null}],type:"realPlay",playback:{g_iWndIndex:[{index:0,selected:!0,tableData:{},isPlayer:!1,buttonControl:null}]},jessibucaPlayback:{g_iWndIndex:[{index:0,selected:!0,tableData:{},isPlayer:!1,buttonControl:null}]}}});function Vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Yh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vh(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jh=new Map,Kh=function(e,t){if(e){var n="selector.".concat(null==e?void 0:e.key).concat(t?"."+t:"");if(Jh.has(n))return Jh.get(n);var i=(0,eh.selector)({key:n,get:function(n){var i=(0,n.get)(e);return t?p().get(i,t):i},set:function(n,i){var r=n.set,o=(0,n.get)(e),a=i;return t&&(a=p().set(Yh({},o),t,i)),r(e,a)},cachePolicy_UNSTABLE:{eviction:"most-recent"}});return Jh.set(n,i),i}},Zh=function(e){var t=s().useRef(null),n=s().useRef(null),i=s().useRef(null),r=s().useCallback((function(e){return t.current=e}));return{subscribe:function(e,r){var o=null,a=!1,s=!1,l=0,c=function(e){return i.current&&i.current(e)},u=function e(){return setTimeout((function(){1==(o&&o.readyState)&&(o.send("client send keeplive message!"),e())}),3e4)},d=function(){o=new WebSocket(e),a=!0,c("connecting"),o.onopen=function(){console.log("WebSocket已链接!"),a=!1,l=0,c("connected"),o.onmessage=function(e){var i=JSON.parse(e.data);t.current&&t.current(i),n.current&&n.current(i,o)},o.onclose=function(e){console.log("WebSocket已关闭"),c("close"),A()};var e=JSON.stringify({type:"query",data:r});o.send(e),u()},o.onerror=function(e){console.error("WebSocket连接错误",e),c("error"),A()}},A=function(){if(!a&&!s){var e=3e3;l>10&&l<20&&(e=1e4),l>20&&(e=6e4),l++,console.log("WebSocket正在尝试第次".concat(l,"重新链接...!")),setTimeout((function(){return d()}),e)}};return d(),function(){s=!0,o&&o.close()}},onData:s().useCallback((function(e){return n.current=e})),onMessage:r,onStatus:s().useCallback((function(e){return i.current=e}))}};const Xh={video:function(e){return Yh({},e)},"video.store":function(e){return function(){return(0,eh.useRecoilState)(Kh.apply(void 0,arguments))}(Wh,e)},"video.store.value":function(e){return function(){return(0,eh.useRecoilValue)(Kh.apply(void 0,arguments))}(Wh,e)},"video.store.set":function(e){return function(){return(0,eh.useSetRecoilState)(Kh.apply(void 0,arguments))}(Wh,e)},wsVideo:function(t){var n=Zh(),i=n.subscribe,r=n.onData,o=n.onMessage,a=n.onStatus,s=(0,e.api)("Role").getHeaders(),l=null==s?void 0:s.Authorization,c=s&&s["x-request-project"];return{subscribe:function(e,t){var n=0==window.location.protocol.indexOf("https")?"wss":"ws",r="".concat(n,"://").concat(window.location.host,"/").concat(e,"?token=").concat(l);return c&&(r+="&x-request-project=".concat(c)),i(r,t)},onData:r,onMessage:o,onStatus:a}}};function $h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ep(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$h(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tp={g_iWndIndex:[{index:0,selected:!0,node:{},isPlayer:!1,buttonControl:null}],type:"realPlay",playback:{g_iWndIndex:[{index:0,selected:!0,node:{},isPlayer:!1,buttonControl:null}]},jessibucaPlayback:{g_iWndIndex:[{index:0,selected:!0,node:{},isPlayer:!1,buttonControl:null}]},streamType:"main",customBackplay:{}};const np={video:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tp,t=arguments.length>1?arguments[1]:void 0;return"@@video/upload_iWndIndex"==t.type?ep(ep({},e),{},{g_iWndIndex:t.video.g_iWndIndex}):"@@video/upload_playbackiWnd"==t.type?ep(ep({},e),{},{playback:{g_iWndIndex:t.playback.g_iWndIndex}}):"@@video/upload_playType"==t.type?ep(ep({},e),{},{type:t.playType||(null==e?void 0:e.type)}):"@@video/upload_stream_type"==t.type?ep(ep({},e),{},{streamType:t.streamType||(null==e?void 0:e.streamType)}):"@@video/upload_jessibucaPlayback"==t.type?ep(ep({},e),{},{customBackplay:ep(ep({},e.customBackplay),t.payload)}):e}},ip=echarts;var rp=__webpack_require__(493);function op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ap(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?op(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):op(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Nd()(rp.Z,{insert:"head",singleton:!1}),rp.Z.locals;var sp=function(e){var n=e.percent,r=e.counts;if(!r)return s().createElement("div",{style:{height:"160px",textAlign:"center"}},s().createElement(t.Icon,{svg:__webpack_require__(8274),className:"device-video-icon"}));var o=s().useRef(),a=s().useState(null),l=(0,i.Z)(a,2),c=(l[0],l[1]);return s().useEffect((function(){return function(){try{ip.dispose(o.current)}catch(e){console.log(e)}}}),[]),s().useLayoutEffect((function(){var e=ip.getInstanceByDom(o.current)||ip.init(o.current);try{e.setOption({title:{x:"center",text:(n[0]/r*100).toFixed(1)+"%",left:"center",top:"45%",textStyle:{fontSize:18,color:"#603BE7",align:"center"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",position:["25%","50%"]},color:["#FFD982","#603BE7"],legend:{show:!1,orient:"vertical",x:"left",data:["在线","掉线"]},series:[{name:"",type:"pie",radius:["40%","60%"],center:["50%","55%"],data:[{value:n[0].toFixed(1),name:"在线"},{value:n[1].toFixed(1),name:"掉线"}],itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),c(null)}catch(e){c(e)}}),[n]),s().createElement("div",{key:"EchartPie",ref:o,style:{width:"100%",height:160,overflow:"hidden"}})},lp=function(e){var n=e.data,r=e.grid,o=void 0===r?{}:r;if(null==n||!n.length)return s().createElement("div",{style:{height:"160px",textAlign:"center",marginTop:"20px"}}," ",s().createElement(t.Icon,{svg:__webpack_require__(8274),className:"percent-video"}));var a=s().useRef(),l=s().useState(null),c=(0,i.Z)(l,2),u=(c[0],c[1]);return s().useEffect((function(){return function(){try{ip.dispose(a.current)}catch(e){console.log(e)}}}),[]),s().useLayoutEffect((function(){var e=ip.getInstanceByDom(a.current)||ip.init(a.current);try{e.setOption({xAxis:{type:"category",boundaryGap:!1},yAxis:{type:"value",boundaryGap:[0,"30%"]},grid:ap({right:"15%"},o),tooltip:{trigger:"axis",formatter:function(e,t,n){var i,r,o,a;return"<span><span>".concat(null==e||null===(i=e[0])||void 0===i||null===(r=i.value)||void 0===r?void 0:r[0],"</span><br/>").concat(null==e||null===(o=e[0])||void 0===o||null===(a=o.value)||void 0===a?void 0:a[1],"%</span>")}},legend:{show:!0},series:[{type:"line",data:n}]}),u(null)}catch(e){u(e)}}),[JSON.stringify(n),JSON.stringify(o)]),s().createElement("div",{key:"EchartPie",ref:a,style:{width:"100%",height:250,overflow:"hidden"}})};l.DatePicker.RangePicker;const cp=function(n){var r,o,a,c,u,d,A,h,p,f,m,g,v=(0,e.use)("wsVideo"),y=v.subscribe,b=v.onData,C=s().useState({CPUUsage:[],Devices:{},MemoryUsage:[],HardDiskUsage:[],NetWork:[],Streams:[]}),_=(0,i.Z)(C,2),E=_[0],w=_[1],T=[{title:_t1("网卡"),dataIndex:"Name",key:"Name",fixed:"left",width:100},{title:_t1("接收总bit"),dataIndex:"Receive",key:"Receive",width:150},{title:_t1("接收速度"),dataIndex:"ReceiveSpeed",key:"ReceiveSpeed",width:150},{title:_t1("发送总bit"),dataIndex:"Sent",key:"Sent",width:150},{title:_t1("发送速度"),dataIndex:"SentSpeed",key:"SentSpeed",width:150}];return s().useEffect((function(){b((function(e){e&&w((function(t){var n=[].concat(DA(t.CPUUsage),[[moment(new Date).format("HH:mm:ss"),e.CPUUsage.toFixed(1)]]),i=[].concat(DA(t.HardDiskUsage),[[moment(new Date).format("HH:mm:ss"),e.HardDiskUsage.toFixed(1)]]),r=[].concat(DA(t.MemoryUsage),[[moment(new Date).format("HH:mm:ss"),e.MemoryUsage.toFixed(1)]]),o=[].concat(DA(t.Streams),[[moment(new Date).format("HH:mm:ss"),e.Streams.toFixed(1)]]);return{Devices:null==e?void 0:e.Devices,NetWork:null==e?void 0:e.NetWork,CPUUsage:n.length>99?n.slice(99,n.length):n,HardDiskUsage:i.length>99?i.slice(99,i.length):i,MemoryUsage:r.length>99?r.slice(99,r.length):r,Streams:o.length>99?o.slice(99,o.length):o}}))}))}),[]),s().useEffect((function(){return y("video/mediaServer/summary/state","")}),[]),s().createElement(t.Page,{title:s().createElement("span",null,s().createElement(t.Icon,{svg:__webpack_require__(2492),className:"equipmentIcon"})," ",_t1("概览")),className:"videoPage"},s().createElement(l.Row,{gutter:14,style:{marginBottom:14}},s().createElement(l.Col,{span:8},s().createElement(l.Card,{style:{minHeight:300}},s().createElement("div",{className:"video-home-title"},_t1("设备信息")),s().createElement(l.Row,{style:{height:250}},s().createElement(l.Col,{span:12},s().createElement(sp,{percent:[null==E||null===(r=E.Devices)||void 0===r?void 0:r.OnlineDeviceSum,(null==E||null===(o=E.Devices)||void 0===o?void 0:o.DeviceSum)-(null==E||null===(a=E.Devices)||void 0===a?void 0:a.DeviceSum)],counts:null==E||null===(c=E.Devices)||void 0===c?void 0:c.DeviceSum}),s().createElement("div",{className:"videoTitle",style:{textAlign:"center"}},s().createElement("div",null,_t1("在线设备数"),"：",s().createElement("span",{style:{fontSize:"18px"}},(null==E||null===(u=E.Devices)||void 0===u?void 0:u.OnlineDeviceSum)||0)),s().createElement("div",null,_t1("总设备数"),"：",s().createElement("span",{style:{fontSize:"18px"}},(null==E||null===(d=E.Devices)||void 0===d?void 0:d.DeviceSum)||0)))),s().createElement(l.Col,{span:12},s().createElement(sp,{percent:[null==E||null===(A=E.Devices)||void 0===A?void 0:A.OnlineChannelSum,(null==E||null===(h=E.Devices)||void 0===h?void 0:h.ChannelSum)-(null==E||null===(p=E.Devices)||void 0===p?void 0:p.ChannelSum)],counts:null==E||null===(f=E.Devices)||void 0===f?void 0:f.ChannelSum}),s().createElement("div",{className:"videoTitle",style:{textAlign:"center"}},s().createElement("div",null,_t1("在线通道数"),"：",s().createElement("span",{style:{fontSize:"18px"}},(null==E||null===(m=E.Devices)||void 0===m?void 0:m.OnlineChannelSum)||0)),s().createElement("div",null,_t1("总通道数"),"：",s().createElement("span",{style:{fontSize:"18px"}},(null==E||null===(g=E.Devices)||void 0===g?void 0:g.ChannelSum)||0))))))),s().createElement(l.Col,{span:8},s().createElement(l.Card,{style:{minHeight:300}},s().createElement("div",{className:"video-home-title"},_t1("流数量")),s().createElement(lp,{data:null==E?void 0:E.Streams}))),s().createElement(l.Col,{span:8},s().createElement(l.Card,{style:{minHeight:300}},s().createElement("div",null,_t1("CPU使用率")),s().createElement(lp,{data:null==E?void 0:E.CPUUsage})))),s().createElement(l.Row,{gutter:14},s().createElement(l.Col,{span:8},s().createElement(l.Card,{style:{minHeight:300}},s().createElement("div",{className:"video-home-title"},_t1("硬盘使用率")),s().createElement(lp,{data:null==E?void 0:E.HardDiskUsage}))),s().createElement(l.Col,{span:8},s().createElement(l.Card,{style:{minHeight:300}},s().createElement("div",{className:"video-home-title"},_t1("内存占用率")),s().createElement(lp,{data:null==E?void 0:E.MemoryUsage}))),s().createElement(l.Col,{span:8},s().createElement(l.Card,{style:{minHeight:300}},s().createElement("div",{className:"video-home-title"},_t1("带宽使用")),s().createElement(l.Table,{pagination:!1,columns:T,dataSource:null==E?void 0:E.NetWork,scroll:{x:300},locale:{emptyText:s().createElement(l.Empty,{description:_t1("暂无数据"),image:__webpack_require__(1007)})}})))))};function up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?up(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):up(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}l.DatePicker.RangePicker;var Ap=function(n){var r=(0,e.use)("params").id,o=s().useState({data:[],totalData:[]}),a=(0,i.Z)(o,2),c=a[0],u=a[1],d=s().useState({visible:!1,url:null}),A=(0,i.Z)(d,2),h=A[0],f=A[1],m=s().useState({current:1,pageSize:15,total:null}),g=(0,i.Z)(m,2),v=g[0],y=g[1],b=s().useState(null),C=(0,i.Z)(b,2),_=C[0],E=C[1],w=l.Form.useForm(),T=(0,i.Z)(w,1)[0],S=r,k=(window.location.origin,[{title:"通道号",dataIndex:"DeviceID",key:"DeviceID",render:function(e,t,n){return null==t?void 0:t.DeviceID}},{title:"通道国标编号",dataIndex:"gbId",key:"gbId",render:function(e,t,n){return S}},{title:"通道名称",dataIndex:"Name",key:"Name"},{title:"状态",dataIndex:"Status",key:"Status",render:function(e,t,n){return"ON"==(null==t?void 0:t.Status)?"在线":"OFF"==(null==t?void 0:t.Status)?"离线":"NoParent"==(null==t?void 0:t.Status)?null==t?void 0:t.parentStatus:void 0}},{title:"位置",dataIndex:"position",key:"position",render:function(e,t,n){return"".concat(null==t?void 0:t.Longitude,",").concat(null==t?void 0:t.Latitude)}},{title:"",key:"action",render:function(e,t,n){return s().createElement(s().Fragment,null,s().createElement(l.Button,{size:"middle",onClick:function(){I(t)}},"播放"))}}]),I=function(t){var n=(0,e.api)("Role").getHeaders(),i=(null==n||n.Authorization,n&&n["x-request-project"]);i&&"x-request-project=".concat(i),(0,e.api)({name:"mediaServer/gb28181/invite?id=".concat(S,"&channel=").concat(null==t?void 0:t.DeviceID)}).fetch("",{method:"POST"}).then((function(e){f(dp(dp({},h),{},{visible:!0,url:"ws://".concat(window.location.host,"/video/mediaServer/gb28181/ws/").concat(S,"/").concat(null==t?void 0:t.DeviceID)}))})).catch((function(e){304==(null==e?void 0:e.status)&&f(dp(dp({},h),{},{visible:!0,url:"ws://".concat(window.location.host,"/video/mediaServer/gb28181/ws/").concat(S,"/").concat(null==t?void 0:t.DeviceID)}))}))};s().useEffect((function(){S&&(0,e.api)({name:"mediaServer/gb28181/list"}).fetch("",{}).then((function(e){var t=e.json;if(null!=t&&t.length){var n,i,r,o=null===(n=t.filter((function(e){return(null==e?void 0:e.ID)==S})))||void 0===n?void 0:n[0],a=((null===(i=t.filter((function(e){return(null==e?void 0:e.ID)==S})))||void 0===i||null===(r=i[0])||void 0===r?void 0:r.Channels)||[]).map((function(e){return dp(dp({},e),{},{parentStatus:null==o?void 0:o.Status})}));u(dp(dp({},c),{},{totalData:a})),y(dp(dp({},v),{},{total:null==a?void 0:a.length}))}}))}),[S]),s().useEffect((function(){B(v.current,v.pageSize,c.totalData)}),[c.totalData]);var B=function(e,t,n){var i,r=p().cloneDeep(n);1==e?(i=r.slice(0,t),u(dp(dp({},c),{},{data:i}))):(i=r.slice(t*(e-1),t*e),u(dp(dp({},c),{},{data:i})))},x=function(e,t){y(dp(dp({},v),{},{current:e,pageSize:t})),B(e,t,c.totalData)};return s().createElement(eh.RecoilRoot,{override:!1},s().createElement(t.Page,{title:_t1("通道管理"),actions:s().createElement(l.Button,{onClick:function(){return e.app.go("/app/NationalEquipment")}},_t1("返回"))},s().createElement(l.Card,null,s().createElement(l.Form,{form:T,name:"Status",onFinish:function(e){var t;if(e){if(null!=c&&null!==(t=c.totalData)&&void 0!==t&&t.length){var n=c.totalData.filter((function(t){return e.Status.map((function(e){return e.key})).indexOf(t.Status)>-1}));B(1,15,n),y(dp(dp({},v),{},{total:null==n?void 0:n.length}))}}else l.message.info("请先选择状态")}},s().createElement(l.Form.Item,{name:"Status",label:_t1("状态")},s().createElement(l.Select,{style:{width:200},onChange:function(e){E(e.map((function(e){return null==e?void 0:e.value})))},mode:"multiple",allowClear:!0,labelInValue:!0,value:_||void 0},[{title:"跟随父级",status:"NoParent"},{title:"在线",status:"ON"},{title:"离线",status:"OFF"}].map((function(e){return s().createElement(l.Select.Option,{value:null==e?void 0:e.status},e.title)})))),s().createElement(l.Form.Item,{style:{textAlign:"center"}},s().createElement(l.Button,{type:"primary",htmlType:"submit"},_t1("搜索")),s().createElement(l.Button,{style:{marginLeft:".5rem"},onClick:function(){T.resetFields(),E(null),y({current:1,pageSize:15,total:c.totalData.length}),B(1,15,c.totalData)}},_t1("重置"))))),s().createElement("div",{style:{margin:".5rem 0",textAlign:"left"}},s().createElement(l.Pagination,{onChange:function(e,t){return x(e,t)},current:null==v?void 0:v.current,pageSize:null==v?void 0:v.pageSize,total:null==v?void 0:v.total})),s().createElement(l.Table,{dataSource:null==c?void 0:c.data,columns:k,bordered:!0,pagination:!1}),s().createElement("div",{style:{marginTop:".5rem",textAlign:"right"}},s().createElement(l.Pagination,{onChange:function(e,t){return x(e,t)},current:null==v?void 0:v.current,pageSize:null==v?void 0:v.pageSize,total:null==v?void 0:v.total})),s().createElement(l.Modal,{destroyOnClose:!0,title:_t1("视频"),bodyStyle:{height:"400px"},visible:h.visible,onOk:function(){f({visible:!1,url:null})},onCancel:function(){f({visible:!1,url:null})}},s().createElement(cA,{type:"ws-raw",url:h.url}))))};function hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}__webpack_require__(1533),xadminI18n;var fp=function(t){var n,r=t.filter,o=t.setFilter,a=s().useState([]),c=(0,i.Z)(a,2),u=c[0],d=c[1];s().useEffect((function(){(0,e.api)({name:"syslog/log/listService"}).fetch("",{}).then((function(e){var t,n=null===(t=e.json.filter((function(e){return e.name.includes("driver-media-server")})))||void 0===t?void 0:t[0],i=(null==n?void 0:n.module)||[],r=null==n?void 0:n.name;d(i),r&&o({service:r})}))}),[]);var A=null===(n=p().castArray(u))||void 0===n?void 0:n.map((function(e){return{value:e,label:_t1(e)}}));return s().createElement(l.Select,{showSearch:!0,allowClear:!0,style:{width:120},value:null==r?void 0:r.module,onChange:function(e){o((function(t){return pp(pp({},t),{},{module:e})}))},placeholder:_t1("搜索"),options:A})},mp=function(t){var n,i=t.filter,r=t.setFilter,o=(0,e.use)("model").model,a=null==o||null===(n=o.properties)||void 0===n?void 0:n.level,c=[];return a.enum.forEach((function(e,t){c.push({title:(null==a?void 0:a.enum_title[t])||e,value:e})})),s().createElement(l.Card,{className:"node-card-filter"},s().createElement(l.Form,{layout:"inline",style:{marginBottom:10,display:"flex",justifyContent:"center",alignItems:"center"}},s().createElement(l.Form.Item,{label:_t1("级别"),style:{whiteSpace:"nowrap",marginRight:30}},s().createElement(l.Select,{style:{minWidth:120},allowClear:!0,value:null==i?void 0:i.level,onChange:function(e){return r((function(t){return pp(pp({},t),{},{level:e})}))}},c.map((function(e){return s().createElement(l.Select.Option,{value:null==e?void 0:e.value},null==e?void 0:e.title)})))),s().createElement(l.Form.Item,{label:_t1("模块")},s().createElement(fp,{filter:i,setFilter:r}))))};function gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function vp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gp(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yp=function(t){var n,i=t.showText,r=t.field,o=t.reTitle,a=(0,e.use)("model.list.header",{field:r}).title,c=(0,e.use)("model.list.order",{field:r}),u=c.order,d=c.canOrder,A=c.changeOrder,h={ASC:s().createElement(Jd.CaretUpOutlined,null),DESC:s().createElement(Jd.CaretDownOutlined,null)}[u]||"",f=[].concat(DA((n=[],d&&(n=[s().createElement(l.Menu.Item,{onClick:function(e){A("ASC")},key:"ASC"},s().createElement(Jd.CaretUpOutlined,null)," ",_t("Sort ASC")),s().createElement(l.Menu.Item,{onClick:function(e){A("DESC")},key:"DESC"},s().createElement(Jd.CaretDownOutlined,null)," ",_t("Sort DESC"))],""!=u&&n.push(s().createElement(l.Menu.Item,{onClick:function(e){A("")}},s().createElement(Jd.CloseOutlined,null)," ",_t("Clear order")))),n)),DA((0,e.Block)("model.list.header.menu")||[]));return f.filter((function(e){return!p().isNil(e)})).length>0?s().createElement(l.Dropdown,{overlay:s().createElement(l.Menu,{selectedKeys:[u]},s().Children.toArray(f)),trigger:["click"]},s().createElement("a",{style:{cursor:"pointer"}},o||a," ",h)):!1===i?null:s().createElement("span",null,o||a," ",h)},bp=function(t){var r=t.filter,a=t.setFilter,c=t.status,u=(t.visible,t.isStop),d=((0,e.use)("model").model,(0,e.use)("model.list")),A=(d.items,d.loading),h=d.fields,f=s().useState([]),m=(0,i.Z)(f,2),g=m[0],v=m[1],y=s().useRef(),b=(s().useRef(),s().useRef()),C=[],_=DA(h);if(_.splice(_.indexOf("service"),1),_&&_.length>0){var E=new Set([]),w={};DA(_).forEach((function(e){var t=p().isObject(e)?e.key:e,n=(p().isObject(e),e);if(n){var i=vp({},p().clone(n));i.dataIndex=t,i.width=120,i.render=function(e,n){return s().createElement(l.Tooltip,{title:"time"==t?RA()(null==n?void 0:n[t]).format("YYYY-MM-DD HH:mm:ss"):null==n?void 0:n[t]},s().createElement("div",{style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"100%"}},"time"==t?RA()(null==n?void 0:n[t]).format("YYYY-MM-DD"):null==n?void 0:n[t]))},i.title=s().createElement(yp,{key:"model-list-header-".concat(t),field:t,reTitle:(null==i?void 0:i.title)||(null==i?void 0:i.name)}),E.add(vp(vp({},i||{}),{},{key:t}))}})),C=Array.from(E).map((function(e){return p().isString(e)?w[e]:e}))}s().useEffect((function(){return function(){null!=y&&y.current&&clearInterval(y.current)}}),[]),s().useEffect((function(){(0,n.Z)(o().mark((function t(){var n,i,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,e.api)({name:"core/time"}).fetch("",{}).then((function(e){return e.json}));case 2:(n=t.sent)&&(u&&null!=y&&y.current?clearInterval(y.current):(i=RA()(n).subtract(3,"s").format("YYYY-MM-DD HH:mm:ss"),r=RA()(n).format("YYYY-MM-DD HH:mm:ss"),T({$gte:i,$lte:r}),null!=y&&y.current&&clearInterval(y.current),y.current=setInterval((function(){i=RA()(i).add(3,"s").format("YYYY-MM-DD HH:mm:ss"),r=RA()(r).add(3,"s").format("YYYY-MM-DD HH:mm:ss"),T({$gte:i,$lte:r})}),3e3)));case 4:case"end":return t.stop()}}),t)})))()}),[JSON.stringify(r),u]),s().useEffect((function(){c&&(c.includes("clear")&&v([]),c.includes("reset")&&a((function(e){return{service:null==e?void 0:e.service}})))}),[c]);var T=function(t){var n=JSON.stringify({sort:{time:1},limit:1e3,project:{time:1,service:1,module:1,level:1,msg:1,data:1},filter:vp(vp({},r),{},{time:t})}),i=encodeURIComponent(n);(0,e.api)({name:"syslog/log?query=".concat(i)}).fetch("",{}).then((function(e){var t=e.json;v((function(e){return[].concat(DA(e),DA(t))}))}))};s().useEffect((function(){S()}),[JSON.stringify(g)]);var S=function(){var e=document.querySelector("#scrollRef .ant-table-body");g.length>10&&(e.scrollTop=55*(null==g?void 0:g.length))};return s().createElement(l.Table,{id:"scrollRef",loading:A,columns:C,dataSource:g,bordered:!0,pagination:!1,scroll:{y:550},ref:b})};const Cp=function(n){var r=s().useState(!1),o=(0,i.Z)(r,2),a=o[0],c=o[1],u=e.app.get("models").SystemLog,d=s().useState({}),A=(0,i.Z)(d,2),h=A[0],p=A[1],f=s().useState(null),m=(0,i.Z)(f,2),g=m[0],v=m[1],y=s().useState(!1),b=(0,i.Z)(y,2),C=b[0],_=b[1],E=vp(vp({},u),{},{initQuery:!0});return s().createElement(s().Fragment,null,s().createElement(l.Button,{onClick:function(){return c(!0)}},_t1("视频日志")),s().createElement(l.Drawer,{title:_t1("视频日志"),placement:"right",width:500,mask:!1,destroyOnClose:!0,visible:a,bodyStyle:{padding:0},onClose:function(){c(!1),v("stop-".concat(Math.random()))}},s().createElement(XA.Model,{modelKey:"SystemLog",key:"SystemLog",schema:E},s().createElement(mp,{setFilter:p,filter:h}),s().createElement(l.Button.Group,{style:{display:"flex",justifyContent:"end",width:"100%",textAlign:"right",padding:"0 10px 10px 0"}},s().createElement(l.Button,{size:"small",style:{display:"flex",justifyContent:"center",alignItems:"center"},type:"primary",onClick:function(){return v("reset-".concat(Math.random()))},icon:s().createElement(t.Icon,{style:{width:14,height:14},svg:__webpack_require__(3765)})}),s().createElement(l.Button,{size:"small",style:{display:"flex",justifyContent:"center",alignItems:"center"},type:"primary",onClick:function(){return v("clear-".concat(Math.random()))},icon:s().createElement(t.Icon,{style:{width:14,height:14},svg:__webpack_require__(8491)})}),s().createElement(l.Tooltip,{title:C?"运行":"暂停"},s().createElement(l.Button,{style:{display:"flex",justifyContent:"center",alignItems:"center"},size:"small",type:"primary",onClick:function(){return _(!C)},icon:C?s().createElement(Jd.CaretRightOutlined,{style:{fontSize:16}}):s().createElement(Jd.PauseOutlined,{style:{fontSize:16}})}))),s().createElement(bp,{visible:a,filter:h,setFilter:p,status:g,isStop:C}))))};function _p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ep(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_p(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}l.DatePicker.RangePicker;var wp=function(n){var r=n.type,o=n.title,a=void 0===o?"概览":o,c=s().useState({data:[],totalData:[]}),u=(0,i.Z)(c,2),d=u[0],A=u[1],h=s().useState({visible:!1,url:null}),f=(0,i.Z)(h,2),m=f[0],g=f[1],v=s().useState({current:1,pageSize:15,total:null}),y=(0,i.Z)(v,2),b=y[0],C=y[1],_=s().useState(null),E=(0,i.Z)(_,2),w=E[0],T=E[1],S=l.Form.useForm(),k=(0,i.Z)(S,1)[0],I={REGISTER:"注册",RECOVER:"离线",ONLINE:"在线",OFFLINE:"离线",ALARMED:"在线"},B=[{title:_t1("设备国标编号"),dataIndex:"ID",key:"ID",render:function(e,t,n){return null==t?void 0:t.ID}},{title:_t1("设备名称"),dataIndex:"Name",key:"Name",render:function(e,t,n){return null==t?void 0:t.Name}},{title:_t1("厂家"),dataIndex:"Manufacturer",key:"Manufacturer"},{title:_t1("在线状态"),dataIndex:"Status",key:"Status",render:function(e,t,n){return _t1(I[null==t?void 0:t.Status])}},{title:"",key:"action",render:function(t,n,i){return s().createElement(l.Button,{size:"small",onClick:function(){e.app.go("/app/channels/".concat(null==n?void 0:n.ID,"/list"))}},_t1("查看通道"))}}],x=[{title:"StreamPath",dataIndex:"Path",key:"Path"},{title:_t1("类型"),dataIndex:"Type",key:"Type"},{title:_t1("订阅者"),dataIndex:"Subscribers",key:"Subscribers"},{title:_t1("开始时间"),dataIndex:"StartTime",key:"StartTime",render:function(e,t,n){return RA()(null==t?void 0:t.StartTime).format("YYYY-MM-DD HH:mm:ss")}},{title:"BPS",dataIndex:"BPS",key:"BPS"},{title:"",key:"action",render:function(t,n,i){return s().createElement(s().Fragment,null,s().createElement(l.Button,{size:"small",onClick:function(){e.app.go("/app/StreamPath/detail?streamId=".concat(null==n?void 0:n.Path))}},_t1("流详情")),s().createElement(l.Button,{size:"small",onClick:function(){var t=(0,e.api)("Role").getHeaders(),i=(null==t||t.Authorization,t&&t["x-request-project"]);i&&"x-request-project=".concat(i),g(Ep(Ep({},m),{},{visible:!0,url:"ws://".concat(window.location.host,"/video/mediaServer/gb28181/ws/").concat(null==n?void 0:n.Path)}))}},_t1("播放")))}}];s().useEffect((function(){var t="Equipment"==r?"mediaServer/gb28181/list":"mediaServer/stream/list";(0,e.api)({name:t}).fetch("",{}).then((function(e){var t=e.json;null!=t&&t.length&&(A(Ep(Ep({},d),{},{totalData:t})),C(Ep(Ep({},b),{},{total:null==t?void 0:t.length})))}))}),[r]),s().useEffect((function(){D(b.current,b.pageSize,d.totalData)}),[d.totalData]);var D=function(e,t,n){var i,r=p().cloneDeep(n);1==e?(i=r.slice(0,t),A(Ep(Ep({},d),{},{data:i}))):(i=r.slice(t*(e-1),t*e),A(Ep(Ep({},d),{},{data:i})))},P=function(e,t){C(Ep(Ep({},b),{},{current:e,pageSize:t})),D(e,t,d.totalData)},R=[{title:_t1("在线"),status:"ONLINE"},{title:_t1("离线"),status:"OFF"},{title:_t1("注册"),status:"REGISTER"}];return s().createElement(t.Page,{title:s().createElement("span",null,s().createElement(t.Icon,{svg:__webpack_require__(8074)("./".concat(a,".svg")),className:"equipmentIcon"})," ",_t1(a)),actions:s().createElement(Cp,null)},"Stream"==r?null:s().createElement(l.Card,null,s().createElement(l.Form,{form:k,name:"Status",onFinish:function(e){var t;if(e){if(null!=d&&null!==(t=d.totalData)&&void 0!==t&&t.length){var n=d.totalData.filter((function(t){var n,i=null===(n=e.Status)||void 0===n?void 0:n.map((function(e){return null==e?void 0:e.key}));return i.indexOf("OFF")>-1&&("RECOVER"==(null==t?void 0:t.Status)||"OFFLINE"==(null==t?void 0:t.Status))||i.indexOf("ONLINE")>-1&&("ONLINE"==(null==t?void 0:t.Status)||"ALARMED"==(null==t?void 0:t.Status))||i.indexOf("REGISTER")>-1&&"REGISTER"==(null==t?void 0:t.Status)}));D(1,15,n),C(Ep(Ep({},b),{},{total:null==n?void 0:n.length}))}}else l.message.info(_t1("请先选择状态"))}},s().createElement(l.Form.Item,{name:"Status",label:_t1("状态")},s().createElement(l.Select,{style:{width:200},onChange:function(e){T(e.map((function(e){return null==e?void 0:e.value})))},mode:"multiple",allowClear:!0,labelInValue:!0,value:w||void 0},R.map((function(e){return s().createElement(l.Select.Option,{value:null==e?void 0:e.status},e.title)})))),s().createElement(l.Form.Item,{style:{textAlign:"center"}},s().createElement(l.Button,{type:"primary",htmlType:"submit"},_t1("搜索")),s().createElement(l.Button,{style:{marginLeft:".5rem"},onClick:function(){k.resetFields(),T(null),C({current:1,pageSize:15,total:d.totalData.length}),D(1,15,d.totalData)}},_t1("重置"))))),s().createElement("div",{style:{margin:".5rem 0",textAlign:"left"}},s().createElement(l.Pagination,{onChange:function(e,t){return P(e,t)},current:null==b?void 0:b.current,pageSize:null==b?void 0:b.pageSize,total:null==b?void 0:b.total})),s().createElement(l.Table,{dataSource:null==d?void 0:d.data,columns:"Equipment"==r?B:x,bordered:!0,pagination:!1,locale:{emptyText:s().createElement(l.Empty,{description:_t1("暂无数据"),image:__webpack_require__(1007)})}}),s().createElement("div",{style:{marginTop:".5rem",textAlign:"right"}},s().createElement(l.Pagination,{onChange:function(e,t){return P(e,t)},current:null==b?void 0:b.current,pageSize:null==b?void 0:b.pageSize,total:null==b?void 0:b.total})),s().createElement(l.Modal,{destroyOnClose:!0,title:_t1("视频"),bodyStyle:{height:"400px"},visible:m.visible,onOk:function(){g({visible:!1,url:null})},onCancel:function(){g({visible:!1,url:null})}},s().createElement(cA,{type:"ws-raw",url:m.url})))},Tp=function(n){n.params;var r,o,a,c,u,d=s().useState({}),A=(0,i.Z)(d,2),h=A[0],p=A[1],f=s().useState(5),m=(0,i.Z)(f,2),g=m[0],v=m[1],y=s().useRef(),b=window.location.href.substr(window.location.href.indexOf("?streamId=")+10),C=[{title:"5"+_t1("秒"),value:5},{title:"10"+_t1("秒"),value:10},{title:_t1("不刷新"),value:"no"}],_={0:_t1("等待发布"),1:_t1("正在发布"),2:_t1("等待关闭"),3:_t1("已关闭")};s().useEffect((function(){b&&E(b)}),[b]),s().useEffect((function(){b&&g&&("no"!=g?y.current=setInterval((function(){E(b)}),1e3*g):(null==y?void 0:y.current)&&clearInterval(y.current))}),[b,g]);var E=function(t){t&&(0,e.api)({name:"mediaServer/stream/info?streamPath=".concat(t)}).fetch("",{}).then((function(e){var t=e.json;p((function(e){var n;return Ep(Ep({},t),{},{Tracks:null!=t&&null!==(n=t.Tracks)&&void 0!==n&&n.length?t.Tracks.map((function(t,n){var i,r,o,a;return Ep(Ep({},t),{},{BPSEchart:null!=e&&null!==(i=e.Tracks)&&void 0!==i&&null!==(r=i[n])&&void 0!==r&&r.BPSEchart?[].concat(DA(null==e?void 0:e.Tracks[n].BPSEchart),[[RA()(new Date).format("HH:mm:ss"),null!=t&&t.BPS?t.BPS.toFixed(1):null]]):[[RA()(new Date).format("HH:mm:ss"),null!=t&&t.BPS?t.BPS.toFixed(1):null]],FPSEchart:null!=e&&null!==(o=e.Tracks)&&void 0!==o&&null!==(a=o[n])&&void 0!==a&&a.FPSEchart?[].concat(DA(null==e?void 0:e.Tracks[n].FPSEchart),[[RA()(new Date).format("HH:mm:ss"),null!=t&&t.FPS?t.FPS.toFixed(1):null]]):[[RA()(new Date).format("HH:mm:ss"),null!=t&&t.FPS?t.FPS.toFixed(1):null]]})})):[]})}))}))};return s().createElement(t.Page,{title:s().createElement("span",null,s().createElement("span",null,s().createElement(Jd.LeftOutlined,{onClick:function(){e.app.go("/app/StreamList")}})),s().createElement("span",null,_t1("流详情")))},s().createElement(l.Card,null,s().createElement(l.Row,null,s().createElement(l.Col,null,s().createElement(l.Row,null,s().createElement(l.Col,{style:{height:30,lineHeight:2.2,marginRight:"1rem"}},_t1("接口定时查询间隔"),":"),s().createElement(l.Col,null,s().createElement(l.Select,{style:{width:200},value:g,onChange:function(e){v(e)}},C.map((function(e){return s().createElement(l.Select.Option,{value:null==e?void 0:e.value},null==e?void 0:e.title)}))))))),s().createElement(l.Tabs,null,s().createElement(l.Tabs.TabPane,{tab:_t1("详情"),key:"detail"},s().createElement("div",null,s().createElement("div",null,_t1("基础信息")),s().createElement(l.Card,{style:{width:"50%"}},s().createElement(l.Row,{style:{width:"100%"}},s().createElement(l.Col,{style:{width:"100%"}},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},_t1("流标识")),s().createElement(l.Col,{span:12},null==h?void 0:h.Path))),s().createElement(l.Col,{style:{width:"100%"}},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},_t1("流状态")),s().createElement(l.Col,{span:12},null==_?void 0:_[null==h?void 0:h.State]))),s().createElement(l.Col,{style:{width:"100%"}},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},_t1("发布类型")),s().createElement(l.Col,{span:12},null==h||null===(r=h.Publisher)||void 0===r?void 0:r.Type))),s().createElement(l.Col,{style:{width:"100%"}},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},_t1("发布时间")),s().createElement(l.Col,{span:12},null!=h&&null!==(o=h.Publisher)&&void 0!==o&&o.StartTime?RA()(h.Publisher.StartTime).format("YYYY-MM-DD HH:mm:ss"):"-"))),s().createElement(l.Col,{style:{width:"100%"}},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},_t1("订阅者总数")),s().createElement(l.Col,{span:12},(null==h||null===(a=h.Subscribers)||void 0===a?void 0:a.length)||0))))),s().createElement(l.Row,{style:{width:"100%"},gutter:14},null!=h&&null!==(c=h.Tracks)&&void 0!==c&&c.length?h.Tracks.map((function(e){var t,n,i;return s().createElement(l.Col,{col:12,style:{width:"50%"}},s().createElement(l.Card,{style:{width:"100%"}},s().createElement("div",null,null==e?void 0:e.Name,_t1("详情")),s().createElement(l.Row,null,s().createElement(l.Col,{style:{width:"100%"}},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},_t1("轨道名称")),s().createElement(l.Col,null,null==e?void 0:e.Name))),s().createElement(l.Col,{style:{width:"100%"}},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},_t1("裸数据长度")),s().createElement(l.Col,{span:12},null==e?void 0:e.RawSize))),s().createElement(l.Col,{style:{width:"100%"}},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},_t1("裸数据前十字节")),s().createElement(l.Col,{span:12},JSON.stringify(null==e?void 0:e.RawPart.map((function(e){return e.toString(16)})))))),s().createElement(l.Col,{style:{width:"100%"}},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},_t1("分辨率")),s().createElement(l.Col,{span:12},null==e?void 0:e.Width,"*",e.Height))),s().createElement(l.Col,{span:12},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},"GOP"),s().createElement(l.Col,{span:12},(null==e?void 0:e.GOP)||"-"))))),s().createElement(l.Col,{style:{width:"100%"}},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},_t1("累计帧数")),s().createElement(l.Col,{span:12},null==e?void 0:e.MoveCount))),s().createElement(l.Col,{span:12},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},_t1("时间戳")),s().createElement(l.Col,{span:12},null==e||null===(t=e.LastValue)||void 0===t?void 0:t.Timestamp))))),s().createElement(l.Col,{style:{width:"100%"}},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},"PTS"),s().createElement(l.Col,{span:12},null==e||null===(n=e.LastValue)||void 0===n?void 0:n.PTS))),s().createElement(l.Col,{span:12},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},"DTS"),s().createElement(l.Col,{span:12},null==e||null===(i=e.LastValue)||void 0===i?void 0:i.DTS))))),s().createElement(l.Col,{style:{width:"100%"}},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},"BPS"),s().createElement(l.Col,{span:12},null==e?void 0:e.BPS)),s().createElement(lp,{grid:{left:"15%",right:"10%"},data:null==e?void 0:e.BPSEchart})),s().createElement(l.Col,{span:12},s().createElement(l.Row,null,s().createElement(l.Col,{span:12},"FPS"),s().createElement(l.Col,{span:12},null==e?void 0:e.FPS)),s().createElement(lp,{grid:{left:"15%",right:"10%"},data:null==e?void 0:e.BPSEchart})))))))})):null))),s().createElement(l.Tabs.TabPane,{tab:_t1("代码"),key:"code"},s().createElement(l.Card,null,s().createElement("div",{contenteditable:"true"},s().createElement("pre",{style:{whiteSpace:"pre",width:"100%",height:500,overflowY:"auto"}},JSON.stringify(Ep(Ep({},h),{},{Tracks:null!=h&&null!==(u=h.Tracks)&&void 0!==u&&u.length?h.Tracks.map((function(e){var t;return Ep(Ep({},e),{},{RawPart:null!=e&&null!==(t=e.RawPart)&&void 0!==t&&t.length?null==e?void 0:e.RawPart.map((function(e){return e.toString(16)})):[]})})):[]}),null,4))))))))};const Sp=JSON.parse('{"分钟":"Minute","小时":"Hour","数值":"Numerical value","秒":"Second","请先添加录制计划":"Please add a recording schedule first","输入设备名称或编号":"Enter device name or number","请选择设备":"Please select a device","设备":"Equipment","轴配置":"Axis configuration","刻度颜色":"Scale color","背景色":"Background color","背景色需要设置透明度":"The background color needs to be set to transparency","文字颜色":"Text color","文字大小":"Text size","时间数据":"Time data","视频时间轴":"Video Timeline","视频组件":"Video components","基础视频":"Basic Video","请先选择录像类型和周期":"Please select the recording type and period first","保存":"Save","删除":"Delete","分段时间":"Segmented time","时间进度条":"Time progress bar","请输入mp4视频地址":"Please enter the MP4 video address","请输入m3u8的视频地址":"Please enter the video address for m3u8","请输入flv格式的视频地址":"Please enter a video address in flv format","您中止了视频播放":"You have suspended video playback","网络错误导致视频下载部分失败":"Network error causing video download failure","由于损坏问题或您的浏览器不支持使用的视频功能，视频播放被中止":"Video playback has been aborted due to damage issues or unsupported video features in your browser","正在加载请稍等~~~":"Loading, please wait~~~","发生未知错误":"Unknown error occurred","自动切换到视频预置位 ":"Automatically switch to video preset position","成功":"Success","自动切换到视频预置位":"Automatically switch to video preset position","失败":"Fail","报警监视":"Alarm monitoring","确定":"Determine","取消":"Cancel","请选择":"Please select","设备表":"Equipment List","联动视频":"Linkage Video","监控点":"Monitoring points","预置位":"Preset position","预置位共有300点，根据实际情况进行设备的预置位定义":"There are a total of 300 preset positions, which are defined according to the actual situation of the equipment","恢复报警预置位":"Restore alarm preset position","GIS及视频录像":"GIS and video recording","【联动视频】表功能应用后，可实现监控点的配置，在报警中可以显示视频联动，查看报警设备的视频信息，这里驱动为录像机类型驱动时才需要设置联动视频。应用后，表的TAB会相应的增加一个":"After the application of the \\"Linkage Video\\" table function, the configuration of monitoring points can be achieved. In the alarm, video linkage can be displayed and the video information of the alarm device can be viewed. The linkage video only needs to be set when the driver is a recorder type driver. After application, a corresponding TAB will be added to the table","录像配置":"Recording configuration","【录像配置】表功能应用后，可实现录制计划的定义，包括周期计划配置及以报警为条件进行计划配置，驱动为录像机类型驱动时可使用此功能。如需通过录像查看生产状况、事故问题等，可应用此功能。应用后，表的TAB会相应的增加一个":"After the application of the recording configuration table function, the definition of recording plans can be achieved, including cycle plan configuration and plan configuration based on alarm conditions. This function can be used when the driver is a recorder type driver. If you need to view production status, accident issues, etc. through video recording, you can apply this function. After application, a corresponding TAB will be added to the table","定时录像":"Timed recording","通过设置录制周期对设备进行周期录制":"Record the device periodically by setting the recording cycle","录制计划":"Recording schedule","录制管理":"Recording Management","视频分段页":"Video Segmentation Page","视频管理":"Video Management","通道管理":"Channel management","国标设备":"National standard equipment","流列表":"Stream List","流详情":"Stream Details","海康平台配置":"Haikang Platform Configuration","视频配置":"Video Configuration","海康iSC平台地址":"Address of Haikang iSC platform","平台合作方Key":"Platform Partner Key","平台合作方Secret":"Platform Partner Secret","部门":"Department","报警类型":"Alarm type","报警地址":"Alarm address","录像存储配置":"Video storage configuration","过期时间":"Expiration time","天":"Day","视频百分比":"Video percentage","图片百分比":"Picture percentage","萤石云平台配置":"Fluorite cloud platform configuration","视频录制":"Video recording ","开始时间":"Start time","结束时间":"End time","录制类型":"Recording type","报警录制":"Alarm recording","定时录制":"Scheduled recording","表名称":"Table Name","名称":"Name","编号":"Number","查看分段":"View Segments","时长":"Duration","查看视频":"View Video","下载":"Download","请先选择时间":"Please select a time first","视频":"Video","返回":"Return","时间":"Time","搜索":"Search","重置":"Reset","视频回放":"Video playback","周一":"Monday","周二":"Tuesday","周三":"Wednesday","周四":"Thursday","周五":"Friday","周六":"Saturday","周日":"Sunday","每天":"Every day","周":"Week","月":"Month","年":"Year","季度":"Quarter","时":"Hour","分":"Branch","录像类型":"Recording type","级别选择":"Level selection","低":"Low","中":"In","高":"High","被录制设备表":"Recorded Device Table","被录制设备":"Recorded device","报警规则":"Alarm Rules","周期定义":"Cycle definition","禁用":"Disabled","报警录像":"Alarm recording","指令下发成功！":"Command issued successfully!","未指定监控点":"No monitoring point specified","上":"Upper","左上":"Upper Left","左":"Left","右下":"Lower right","下":"Lower","右":"Right","右上":"Upper Right","左下":"Lower Left","放大":"Enlarge","缩小":"Narrow","云台类型":"Pan tilt type","海康":"Haikang","萤石云":"Fluorite cloud","大小":"Size","云台主色":"Main color of cloud head","按钮颜色":"Button color","云台控制按钮":"Pan tilt control button","自动播放":"Auto Play","循环播放":"Loop Playback","控制器":"Controller","静音":"Mute","预加载":"Preload","自动":"Automatic","载入元数据":"Load metadata","不加载":"Do not load","直播流":"Live streaming","开启cors获取http":"Enable cors to obtain http","使用cookie进行http获取":"Using cookies for HTTP retrieval","音轨":"Audio track","流体":"Fluid","流体模式":"Fluid mode","无法播放媒体流时默认消息":"Default message when unable to play media stream","分辨率":"Resolving power","例如：1280x960":"For example: 1280x960","帧率":"Frame rate","开始海报封面":"Start poster cover","结束海报封面":"End poster cover","视频列表":"Video List","视频选择":"Video selection","媒体库":"Media Library","上传视频":"Upload Video","mp4格式":"MP4 format","配置项":"Configuration Item","地址":"Address","高级配置":"Advanced configuration","键盘快捷键":"Keyboard shortcuts","目前支持的键盘快捷键有：esc -> 退出全屏；arrowUp -> 声音增加；arrowDown -> 声音减少":"The currently supported keyboard shortcuts include: ESC ->Exit Full Screen; ArrowUp ->sound increase; ArrowDown ->Sound reduction","加载过程中文案":"Loading process in Chinese","背景图":"Background image","控制台调试打印":"Console debugging printing","操作按钮":"Operation button","全屏":"Full screen","截图":"Screenshot","播放暂停":"Play Pause","声音":"Voice","录制":"Recording","网速":"Network speed","屏幕双击":"Double click on the screen","屏幕常亮":"Screen always on","缓冲时长, 单位秒":"Buffer duration in seconds","设置最大缓冲时长，单位秒，播放器会自动消除延迟。":"Set the maximum buffer duration in seconds, and the player will automatically eliminate the delay.","MediaSource硬解码":"MediaSource hard decoding","视频编码只支持H.264视频（Safari on iOS不支持）":"Video encoding only supports H.264 videos (not supported by Safari on iOS)","Webcodecs硬解码":"Webcodecs hard decoding","视频编码只支持H.264视频 (需在chrome 94版本以上，需要https或者localhost环境)":"Video encoding only supports H.264 videos (must be in Chrome 94 or above and require an HTTPS or localhost environment)","wcs硬解码video渲染":"WCS hard decoding video rendering","webcodecs硬解码是否通过video标签渲染":"Whether webcodecs hard decoding is rendered through video tags","降级到wasm模式":"Downgrading to wasm mode","在使用MSE或者Webcodecs 播放H265的时候，是否自动降级到wasm模式。设置为false 则直接关闭播放，抛出Error 异常，设置为true 则会自动切换成wasm模式播放。":"Whether to automatically downgrade to wasm mode when playing H265 using MSE or Webcodecs. If set to false, it will directly turn off playback and throw an Error exception. If set to true, it will automatically switch to wasm mode for playback.","不使用离屏模式":"Do not use off screen mode","页面隐藏自动暂停播放":"Page Hide Auto Pause Playback","音频":"Audio frequency","旋转角度":"Rotation angle","只支持，0(默认) ，180，270 三个值":"Only supported, 0 (default), 180270 three values","画面等比缩放拉伸":"Scale and stretch the screen proportionally","true: 不被拉伸，有黑边； false: 拉伸":"True: not stretched, with black edges; False: stretching","true: 不被拉伸，无黑边，画面显示不全； false: 拉伸":"True: Not stretched, no black edges, incomplete display of the screen; False: stretching","以.flv为依据解析协议":"Parsing protocols based on. flv","超时时长, 单位秒":"Time out duration in seconds","连接前播放中无数据回调超时事件":"No data callback timeout event during playback before connection","回放时间":"Playback time ","暂无视频":"There are currently no videos available","类型":"Type","设备表视频":"Device List Video","自定义视频":"Custom Video","码流":"Bitstream","主码流":"Main code stream","子码流":"Subcode stream","视频类型":"Video Type","mp4":"Mp4","flv直播视频":"FLV Live Video","hls直播视频":"HLS Live Video","rtsp直播视频":"RTSP Live Video","rtmp直播视频":"RTMP Live Video","视频地址":"Video address","请输入对应视频类型的地址":"Please enter the address for the corresponding video type","码流类型":"Stream type","播放类型":"Playback type","预览":"Preview","回放":"Playback","占位图":"Occupy Bitmap","默认图片":"Default Picture","默认分屏":"Default split screen","部门选择":"Department selection","无插件视频":"No plugin video","海康无插件视频":"Haikang plugin free video","视频容器":"Video container","停止云台成功！":"Successfully stopped PTZ!","开启云台成功！":"Successfully opened the cloud platform!","开启云台失败！":"Opening PTZ failed!","停止云台失败！":"Stop PTZ failed!","web视频云台控制按钮":"Web video pan tilt control button","获取端口失败！":"Failed to obtain port!","获取模拟通道成功！":"Successfully obtained simulation channel!","获取模拟通道失败！":"Failed to obtain simulation channel!","获取数字通道成功！":"Successfully obtained digital channel!","获取数字通道失败！":"Failed to obtain digital channel!","获取零通道成功！":"Successfully obtained zero channel!","获取零通道失败！":"Failed to obtain zero channel!","登录成功！":"Login successful!","登录失败！":"Login failed!","已登录过！":"Already logged in!","开始预览成功！":"Preview started successfully!","设备不支持Websocket取流！":"The device does not support Websocket streaming!","开始预览失败！":"Failed to start preview!","停止预览成功！":"Successfully stopped previewing!","停止预览失败！":"Stop preview failed!","退出成功！":"Exit successful!","退出失败！":"Exit failed!","请先选择回放通道":"Please select a playback channel first","请先选择回放时间段":"Please select a playback time period first","开始回放成功！":"Successfully started playback!","开始回放失败！":"Failed to start playback!","停止回放成功！":"Successfully stopped playback!","停止回放失败！":"Stop playback failed!","分屏":"Split screen","通道选择器":"Channel selector","回放时间范围":"Playback time range","最近一年":"Last year","最近一个月":"Last month","最近一周":"Last week","最近一天":"Last Day","当前时间开始":"Current time start","日历选择器":"Calendar selector","回放时间轴":"Playback Timeline","选择部门":"Select Department","web视频资产树":"Web Video Asset Tree","关闭鼠标交互":"Turn off mouse interaction","您还未安装过插件，双击开发包目录里的WebComponentsKit.exe安装！":"You have not installed the plugin yet. Double click on WebComponentsKit.exe in the development package directory to install it!","检测到新的插件版本，双击开发包目录里的WebComponentsKit.exe升级！":"Detected a new plugin version, double-click on WebComponentsKit.exe in the development package directory to upgrade!","暂停播放的视频":"Paused Video","暂停播放失败":"Pause playback failed","暂停的视屏":"Paused video","激活鼠标交互":"Activate mouse interaction","网卡":"Network card","接收总bit":"Received total bit","接收速度":"Receiving speed","发送总bit":"Send total bit","发送速度":"Sending speed","概览":"Overview","设备信息":"Device Information","在线设备数":"Number of online devices","总设备数":"Total number of devices","在线通道数":"Number of online channels","总通道数":"Total number of channels","流数量":"Number of streams","CPU使用率":"CPU usage rate","硬盘使用率":"Hard disk usage rate","内存占用率":"Memory usage rate","带宽使用":"Bandwidth usage","设备国标编号":"Equipment national standard number","设备名称":"Device Name","厂家":"Manufactor","在线状态":"Online status","查看通道":"Viewing Channels","订阅者":"Subscriber","播放":"Play","录像管理":"Video management","文件":"File","暂无数据":"There is currently no data available","在线":"On-line","离线":"Off-line","请先选择状态":"Please select a status first","状态":"State","不刷新":"Do not refresh","等待发布":"Waiting for publication","正在发布":"Publishing","等待关闭":"Waiting for shutdown","已关闭":"Closed","接口定时查询间隔":"Interface scheduled query interval","详情":"Details","基础信息":"Basic information","流标识":"Flow identification","流状态":"Flow state","发布类型":"Publication Type","发布时间":"Release time","订阅者总数":"Total subscribers ","轨道名称":"Track name","裸数据长度":"Raw data length","裸数据前十字节":"Bare data front cross section","累计帧数":"Accumulated frames","时间戳":"Time stamp","代码":"Code","查看":"Check","创建":"Establish","修改":"Modify","视频地址获取":"Video address acquisition"}'),kp={zh_Hans:{translation:JSON.parse('{"分钟":"分钟","小时":"小时","数值":"数值","秒":"秒","请先添加录制计划":"请先添加录制计划","输入设备名称或编号":"输入设备名称或编号","请选择设备":"请选择设备","设备":"设备","轴配置":"轴配置","刻度颜色":"刻度颜色","背景色":"背景色","背景色需要设置透明度":"背景色需要设置透明度","文字颜色":"文字颜色","文字大小":"文字大小","时间数据":"时间数据","视频时间轴":"视频时间轴","视频组件":"视频组件","基础视频":"基础视频","请先选择录像类型和周期":"请先选择录像类型和周期","保存":"保存","删除":"删除","分段时间":"分段时间","时间进度条":"时间进度条","请输入mp4视频地址":"请输入mp4视频地址","请输入m3u8的视频地址":"请输入m3u8的视频地址","请输入flv格式的视频地址":"请输入flv格式的视频地址","您中止了视频播放":"您中止了视频播放","网络错误导致视频下载部分失败":"网络错误导致视频下载部分失败","由于损坏问题或您的浏览器不支持使用的视频功能，视频播放被中止":"由于损坏问题或您的浏览器不支持使用的视频功能，视频播放被中止","正在加载请稍等~~~":"正在加载请稍等~~~","发生未知错误":"发生未知错误","自动切换到视频预置位 ":"自动切换到视频预置位 ","成功":"成功","自动切换到视频预置位":"自动切换到视频预置位","失败":"失败","报警监视":"报警监视","确定":"确定","取消":"取消","请选择":"请选择","设备表":"设备表","联动视频":"联动视频","监控点":"监控点","预置位":"预置位","预置位共有300点，根据实际情况进行设备的预置位定义":"预置位共有300点，根据实际情况进行设备的预置位定义","恢复报警预置位":"恢复报警预置位","GIS及视频录像":"GIS及视频录像","【联动视频】表功能应用后，可实现监控点的配置，在报警中可以显示视频联动，查看报警设备的视频信息，这里驱动为录像机类型驱动时才需要设置联动视频。应用后，表的TAB会相应的增加一个":"【联动视频】表功能应用后，可实现监控点的配置，在报警中可以显示视频联动，查看报警设备的视频信息，这里驱动为录像机类型驱动时才需要设置联动视频。应用后，表的TAB会相应的增加一个","录像配置":"录像配置","【录像配置】表功能应用后，可实现录制计划的定义，包括周期计划配置及以报警为条件进行计划配置，驱动为录像机类型驱动时可使用此功能。如需通过录像查看生产状况、事故问题等，可应用此功能。应用后，表的TAB会相应的增加一个":"【录像配置】表功能应用后，可实现录制计划的定义，包括周期计划配置及以报警为条件进行计划配置，驱动为录像机类型驱动时可使用此功能。如需通过录像查看生产状况、事故问题等，可应用此功能。应用后，表的TAB会相应的增加一个","定时录像":"定时录像","通过设置录制周期对设备进行周期录制":"通过设置录制周期对设备进行周期录制","录制计划":"录制计划","录制管理":"录制管理","视频分段页":"视频分段页","视频管理":"视频管理","通道管理":"通道管理","国标设备":"国标设备","流列表":"流列表","流详情":"流详情","海康平台配置":"海康平台配置","视频配置":"视频配置","海康iSC平台地址":"海康iSC平台地址","平台合作方Key":"平台合作方Key","平台合作方Secret":"平台合作方Secret","部门":"部门","报警类型":"报警类型","报警地址":"报警地址","录像存储配置":"录像存储配置","过期时间":"过期时间","天":"天","视频百分比":"视频百分比","图片百分比":"图片百分比","萤石云平台配置":"萤石云平台配置","视频录制":"视频录制","开始时间":"开始时间","结束时间":"结束时间","录制类型":"录制类型","报警录制":"报警录制","定时录制":"定时录制","表名称":"表名称","名称":"名称","编号":"编号","查看分段":"查看分段","时长":"时长","查看视频":"查看视频","下载":"下载","请先选择时间":"请先选择时间","视频":"视频","返回":"返回","时间":"时间","搜索":"搜索","重置":"重置","视频回放":"视频回放","周一":"周一","周二":"周二","周三":"周三","周四":"周四","周五":"周五","周六":"周六","周日":"周日","每天":"每天","周":"周","月":"月","年":"年","季度":"季度","时":"时","分":"分","录像类型":"录像类型","级别选择":"级别选择","低":"低","中":"中","高":"高","被录制设备表":"被录制设备表","被录制设备":"被录制设备","报警规则":"报警规则","周期定义":"周期定义","禁用":"禁用","报警录像":"报警录像","指令下发成功！":"指令下发成功！","未指定监控点":"未指定监控点","上":"上","左上":"左上","左":"左","右下":"右下","下":"下","右":"右","右上":"右上","左下":"左下","放大":"放大","缩小":"缩小","云台类型":"云台类型","海康":"海康","萤石云":"萤石云","大小":"大小","云台主色":"云台主色","按钮颜色":"按钮颜色","云台控制按钮":"云台控制按钮","自动播放":"自动播放","循环播放":"循环播放","控制器":"控制器","静音":"静音","预加载":"预加载","自动":"自动","载入元数据":"载入元数据","不加载":"不加载","直播流":"直播流","开启cors获取http":"开启cors获取http","使用cookie进行http获取":"使用cookie进行http获取","音轨":"音轨","流体":"流体","流体模式":"流体模式","无法播放媒体流时默认消息":"无法播放媒体流时默认消息","分辨率":"分辨率","例如：1280x960":"例如：1280x960","帧率":"帧率","开始海报封面":"开始海报封面","结束海报封面":"结束海报封面","视频列表":"视频列表","视频选择":"视频选择","媒体库":"媒体库","上传视频":"上传视频","mp4格式":"mp4格式","配置项":"配置项","地址":"地址","高级配置":"高级配置","键盘快捷键":"键盘快捷键","目前支持的键盘快捷键有：esc -> 退出全屏；arrowUp -> 声音增加；arrowDown -> 声音减少":"目前支持的键盘快捷键有：esc -> 退出全屏；arrowUp -> 声音增加；arrowDown -> 声音减少","加载过程中文案":"加载过程中文案","背景图":"背景图","控制台调试打印":"控制台调试打印","操作按钮":"操作按钮","全屏":"全屏","截图":"截图","播放暂停":"播放暂停","声音":"声音","录制":"录制","网速":"网速","屏幕双击":"屏幕双击","屏幕常亮":"屏幕常亮","缓冲时长, 单位秒":"缓冲时长, 单位秒","设置最大缓冲时长，单位秒，播放器会自动消除延迟。":"设置最大缓冲时长，单位秒，播放器会自动消除延迟。","MediaSource硬解码":"MediaSource硬解码","视频编码只支持H.264视频（Safari on iOS不支持）":"视频编码只支持H.264视频（Safari on iOS不支持）","Webcodecs硬解码":"Webcodecs硬解码","视频编码只支持H.264视频 (需在chrome 94版本以上，需要https或者localhost环境)":"视频编码只支持H.264视频 (需在chrome 94版本以上，需要https或者localhost环境)","wcs硬解码video渲染":"wcs硬解码video渲染","webcodecs硬解码是否通过video标签渲染":"webcodecs硬解码是否通过video标签渲染","降级到wasm模式":"降级到wasm模式","在使用MSE或者Webcodecs 播放H265的时候，是否自动降级到wasm模式。设置为false 则直接关闭播放，抛出Error 异常，设置为true 则会自动切换成wasm模式播放。":"在使用MSE或者Webcodecs 播放H265的时候，是否自动降级到wasm模式。设置为false 则直接关闭播放，抛出Error 异常，设置为true 则会自动切换成wasm模式播放。","不使用离屏模式":"不使用离屏模式","页面隐藏自动暂停播放":"页面隐藏自动暂停播放","音频":"音频","旋转角度":"旋转角度","只支持，0(默认) ，180，270 三个值":"只支持，0(默认) ，180，270 三个值","画面等比缩放拉伸":"画面等比缩放拉伸","true: 不被拉伸，有黑边； false: 拉伸":"true: 不被拉伸，有黑边； false: 拉伸","true: 不被拉伸，无黑边，画面显示不全； false: 拉伸":"true: 不被拉伸，无黑边，画面显示不全； false: 拉伸","以.flv为依据解析协议":"以.flv为依据解析协议","超时时长, 单位秒":"超时时长, 单位秒","连接前播放中无数据回调超时事件":"连接前播放中无数据回调超时事件","回放时间":"回放时间","暂无视频":"暂无视频","类型":"类型","设备表视频":"设备表视频","自定义视频":"自定义视频","码流":"码流","主码流":"主码流","子码流":"子码流","视频类型":"视频类型","mp4":"mp4","flv直播视频":"flv直播视频","hls直播视频":"hls直播视频","rtsp直播视频":"rtsp直播视频","rtmp直播视频":"rtmp直播视频","视频地址":"视频地址","请输入对应视频类型的地址":"请输入对应视频类型的地址","码流类型":"码流类型","播放类型":"播放类型","预览":"预览","回放":"回放","占位图":"占位图","默认图片":"默认图片","默认分屏":"默认分屏","部门选择":"部门选择","无插件视频":"无插件视频","海康无插件视频":"海康无插件视频","视频容器":"视频容器","停止云台成功！":"停止云台成功！"," 开启云台成功！":" 开启云台成功！"," 开启云台失败！":" 开启云台失败！"," 停止云台成功！":" 停止云台成功！"," 停止云台失败！":" 停止云台失败！","web视频云台控制按钮":"web视频云台控制按钮"," 获取端口失败！":" 获取端口失败！"," 获取模拟通道成功！":" 获取模拟通道成功！"," 获取模拟通道失败！":" 获取模拟通道失败！"," 获取数字通道成功！":" 获取数字通道成功！"," 获取数字通道失败！":" 获取数字通道失败！"," 获取零通道成功！":" 获取零通道成功！"," 获取零通道失败！":" 获取零通道失败！"," 登录成功！":" 登录成功！"," 登录失败！":" 登录失败！"," 已登录过！":" 已登录过！","开始预览成功！":"开始预览成功！","设备不支持Websocket取流！":"设备不支持Websocket取流！","开始预览失败！":"开始预览失败！","停止预览成功！":"停止预览成功！","停止预览失败！":"停止预览失败！","退出成功！":"退出成功！","退出失败！":"退出失败！","请先选择回放通道":"请先选择回放通道","请先选择回放时间段":"请先选择回放时间段","开始回放成功！":"开始回放成功！","开始回放失败！":"开始回放失败！","停止回放成功！":"停止回放成功！","停止回放失败！":"停止回放失败！","分屏":"分屏","通道选择器":"通道选择器","回放时间范围":"回放时间范围","最近一年":"最近一年","最近一个月":"最近一个月","最近一周":"最近一周","最近一天":"最近一天","当前时间开始":"当前时间开始","日历选择器":"日历选择器","回放时间轴":"回放时间轴","选择部门":"选择部门","web视频资产树":"web视频资产树","关闭鼠标交互":"关闭鼠标交互","您还未安装过插件，双击开发包目录里的WebComponentsKit.exe安装！":"您还未安装过插件，双击开发包目录里的WebComponentsKit.exe安装！","检测到新的插件版本，双击开发包目录里的WebComponentsKit.exe升级！":"检测到新的插件版本，双击开发包目录里的WebComponentsKit.exe升级！","暂停播放的视频":"暂停播放的视频","暂停播放失败":"暂停播放失败","暂停的视屏":"暂停的视屏","激活鼠标交互":"激活鼠标交互","网卡":"网卡","接收总bit":"接收总bit","接收速度":"接收速度","发送总bit":"发送总bit","发送速度":"发送速度","概览":"概览","设备信息":"设备信息","在线设备数":"在线设备数","总设备数":"总设备数","在线通道数":"在线通道数","总通道数":"总通道数","流数量":"流数量","CPU使用率":"CPU使用率","硬盘使用率":"硬盘使用率","内存占用率":"内存占用率","带宽使用":"带宽使用","设备国标编号":"设备国标编号","设备名称":"设备名称","厂家":"厂家","在线状态":"在线状态","查看通道":"查看通道","订阅者":"订阅者","播放":"播放","录像管理":"录像管理","文件":"文件","暂无数据":"暂无数据","在线":"在线","离线":"离线","请先选择状态":"请先选择状态","状态":"状态","不刷新":"不刷新","等待发布":"等待发布","正在发布":"正在发布","等待关闭":"等待关闭","已关闭":"已关闭","接口定时查询间隔":"接口定时查询间隔","详情":"详情","基础信息":"基础信息","流标识":"流标识","流状态":"流状态","发布类型":"发布类型","发布时间":"发布时间","订阅者总数":"订阅者总数","轨道名称":"轨道名称","裸数据长度":"裸数据长度","裸数据前十字节":"裸数据前十字节","累计帧数":"累计帧数","时间戳":"时间戳","代码":"代码","查看":"查看","创建":"创建","修改":"修改","视频地址获取":"视频地址获取"}')},en:{translation:Sp}};l.Tabs.TabPane;var Ip={name:"airiot.video",components:Rh,items:{paramsTab:{type:"map",description:_r("录制计划")}},locales:kp,paramsTab:HA,icons:{name:"Video",url:__webpack_require__(3028)},dashboardWidgets:jh,menuItems:[{title:_r("视频管理"),parent:"business",icon:"Users",key:"video",permission:"summary.view",children:[{title:_r("概览"),url:"/app/video",icon:"Users",permission:"summary.view"},{title:_r("国标设备"),url:"/app/NationalEquipment",icon:"Users",permission:"gb28181.view"},{title:_r("流列表"),url:"/app/StreamList",icon:"Users",permission:"stream.view"}]}],models:WA,routers:{"/app/":[{path:"video",breadcrumbName:_r("视频管理"),component:function(e){return React.createElement(t.C,{is:"CheckPermission",permission:"video"},React.createElement(cp,e))}},{path:"channels/:id/list",breadcrumbName:_r("通道管理"),component:function(e){return React.createElement(t.C,{is:"CheckPermission",permission:"video"},React.createElement(Ap,e))}},{path:"NationalEquipment",breadcrumbName:_r("国标设备"),component:function(e){return React.createElement(t.C,{is:"CheckPermission",permission:"video"},React.createElement(wp,{title:"国标设备",type:"Equipment"}))}},{path:"StreamList",breadcrumbName:_r("流列表"),component:function(e){return React.createElement(t.C,{is:"CheckPermission",permission:"video"},React.createElement(wp,{title:"流列表",type:"Stream"}))}},{path:"StreamPath/detail",breadcrumbName:_r("流详情"),component:function(e){return React.createElement(t.C,{is:"CheckPermission",permission:"video"},React.createElement(Tp,e))}}]},"settings.schema":function(e){return function(e,t){e.data,t(null,{name:"hikSettings",title:_r("海康平台配置"),type:"object",parentTab:_r("视频配置"),parentIndex:"modular",properties:{address:{type:"string",title:_r("海康iSC平台地址")},appKey:{type:"string",title:_r("平台合作方Key")},appSecret:{type:"string",title:_r("平台合作方Secret")},department:{type:"object",title:_r("部门"),fieldType:"tableData",field:{func:"dataAuth",style:{minWidth:200},placeholder:_r("选择部门")},properties:{}},warningKind:{type:"object",title:_r("报警类型"),properties:{}},warningDest:{type:"string",title:_r("报警地址")}},form:["*",{key:"warningKind",component:Hh}]})}},hooks:Xh,reducers:np},Bp={name:"airiot-record-video","settings.schema":function(e){return function(e,t){e.data,t(null,{name:"recordSettings",title:_r("录像存储配置"),parentTab:_r("视频配置"),parentIndex:"modular",type:"object",properties:{expireIn:{title:_r("过期时间"),type:"number",description:_r("天")},videoPercent:{title:_r("视频百分比"),type:"number"},picturePercent:{title:_r("图片百分比"),type:"number"}},form:["*"]})}}},xp={name:"airiot-ysy-video","settings.schema":function(e){return function(e,t){e.data,t(null,{name:"ysySettings",title:_r("萤石云平台配置"),parentTab:_r("视频配置"),parentIndex:"modular",type:"object",properties:{AppKey:{type:"string",title:"AppKey"},Secret:{type:"string",title:"Secret"}},form:["*"]})}}},Dp={name:"airiot-hkws-video",context:function(e){return function(t,n){try{var i=e.get("models").Warning;i&&i.itemActions&&(i.itemActions.push((function(e){var t=e.item;return React.createElement(IA,{item:t})})),i.projectFields.push("tableData._settings.linkageVideo"))}catch(e){console.log(e)}n(null,t)}}};function Pp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var Rp={name:"linkageVideo",title:_r("联动视频"),type:"object",showInList:!1,properties:{point:{title:_r("监控点"),type:"object",fieldType:"tableData",field:{func:"device",component:function(r){var a=r.input,c=(a.value,a.onChange,s().useState(null)),u=(0,i.Z)(c,2),A=u[0],h=u[1],p=["driver-common-camera","driver-ezviz","driver-hik-camera","driver-hik-isccamera","driver-media-server"];return s().useEffect((function(){(0,n.Z)(o().mark((function t(){var n,i,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,e.api)({name:"core/t/schema"}).query({fields:["title","name","function","schema","device"]},{where:{function:{$regex:"device"}}});case 2:n=t.sent,null!=(i=n.items)&&i.length&&null!=(r=i.filter((function(e){var t,n=null==e||null===(t=e.device)||void 0===t?void 0:t.driver;if(n&&p.indexOf(n)>-1)return e})))&&r.length&&h(r.map((function(e){return null==e?void 0:e.id})));case 5:case"end":return t.stop()}}),t)})))()}),[]),null!=A&&A.length?s().createElement(t.C,d({is:"Common.SelectTableRecord",table:A},r)):s().createElement(l.Select,{style:{maxWidth:200},notFoundContent:s().createElement(t.C,{is:"NoData"})})}}},preset:{title:_r("预置位"),type:"number",description:_r("监控设备本身的预置位编号,需要在设备本身的配置页面上, 对应好监控设备每个预置位和设备的关系。在报警页面预览平台本设备关联的监控时,平台将下发指令,对应的监控将转到这个预置位")},recoveryPreset:{title:_r("恢复报警预置位"),type:"number",description:_r("停止预览本设备关联的监控时,平台将下发指令,将对应的监控转到这个预置位")}},form:["*","point","preset","recoveryPreset"]};const jp={name:"airiot.plugin.linkageVideo",plugins:{name:_r("联动视频"),key:"linkageVideo",pluginGroup:_r("GIS及视频录像"),description:{content:_r("【联动视频】表功能应用后，可实现监控点的配置，在报警中可以显示视频联动，查看报警设备的视频信息，这里驱动为录像机类型驱动时才需要设置联动视频。应用后，表的TAB会相应的增加一个")},useSetting:function(){return{schema:Rp}},useRecordSetting:function(e){return e.table,e.setting,e.record,e.data,e.saveSetting,{schema:Rp}},onModel:function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pp(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}}};_r("录像配置"),_r("GIS及视频录像"),_r("【录像配置】表功能应用后，可实现录制计划的定义，包括周期计划配置及以报警为条件进行计划配置，驱动为录像机类型驱动时可使用此功能。如需通过录像查看生产状况、事故问题等，可应用此功能。应用后，表的TAB会相应的增加一个"),_r("定时录像"),_r("通过设置录制周期对设备进行周期录制"),e.app.use(Ip).use(Bp).use(xp).use(Dp).use(jp)})()})();
//# sourceMappingURL=front.js.map
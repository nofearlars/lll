# 变量编辑器文档

## 需求点

* 画面中绑定变量：组件输出数组对象，前端解析数组对象。表数据的获取，需要异步。
* 流程中绑定变量：组件输出数组对象，前端存数组对象，后端解析字符串模板。
* iot-datasource中绑定变量：组件输出字符串模板，需实现反解析规则，后端解析字符串模板。
* 逻辑编辑器（报警规则）：jsonlogic，组件输出数组对象，解析规则待定。
* 查询条件编辑器（历史数据数据项）：influxDB，组件输出数组对象，解析规则待定。
## Props

### style

编辑框样式自定义

### schema

JsonSchema结构，定义输入的变量树结构

### data

变量的数据，可根据数据生成预期值，若未传schema，根据data生成变量结构

### value

编辑器的值，默认为数组，`stringify=true`时为字符串

### hasPanel

是否存在变量选择面板

### panelWidth

变量选择面板宽度

### select

选择模式，`single`为单选，`multiple`为多选，不定义为正常输入

### panelVisible

控制变量面板显示隐藏

### panelTargetRef

面板挂在的dom节点，用于确定展示的相对位置

### hasLoading

是否展示加载中

### limit

限制类型，类型为数组。

### nodeType

限制只选择某一特定类型的节点。

### stringify

将value字符串化

### funcExt

函数扩展

### isModal

使用弹窗模式

### modalVisible

弹窗显示隐藏

### isFormula

是否启用公式模式，默认false

### customStringify

自定义变量解析函数

### onChange

value变化时触发

### onSelectVarAndFun

变量及函数状态变化时触发

### onExpected

预期值变化时触发

### onModalCancel

弹窗关闭时触发

## Ref





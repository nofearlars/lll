"use strict";(this.webpackChunk_airiot_editor=this.webpackChunk_airiot_editor||[]).push([[2621],{2621:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var n=r(4925),o=r(4942),u=r(7363),c=r.n(u),i=r(8339),s=["model"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e){return/^\d+$/.test(e.toString())?"".concat(e,"px"):e}self.MonacoEnvironment={getWorkerUrl:function(e,t){return"json"===t?"/editor/json.worker.js":"css"===t?"/editor/css.worker.js":"html"===t?"/editor/html.worker.js":"typescript"===t||"javascript"===t?"/editor/ts.worker.js":"/editor/editor.worker.js"}};const d=function(e){var t=e.width,r=e.height,o=e.value,u=e.defaultValue,f=e.onChange,d=e.theme,p=e.options,g=e.language,h=e.overrideServices,v=e.editorWillMount,j=e.editorDidMount,O=e.onHeightChange,b=e.disableEnter,w=c().useRef(),y=c().useRef(),m=c().useRef(!1),E=c().useRef(f),k={width:l(t),height:l(r)};return c().useEffect((function(){if(w.current){var e=a({},p);v&&(e=a(a({},e),v(i)));var t=null!=o?o:u;y.current=i.editor.create(w.current,a(a({value:t,language:g},e),d?{theme:d}:{}),h),j&&j(y.current,i);var r=y.current.onDidChangeModelContent((function(e){f&&!m.current&&E.current(y.current.getValue(),e);var t=document.querySelector(".view-lines").offsetHeight;O&&O(t)}));return function(){if(y.current){y.current.dispose();var e=y.current.getModel();e&&e.dispose()}r&&r.dispose()}}}),[]),c().useEffect((function(){E.current=f}),[f]),c().useEffect((function(){if(y.current){var e=y.current.getModel();null!=o&&o!==e.getValue()&&(m.current=!0,y.current.pushUndoStop(),e.pushEditOperations([],[{range:e.getFullModelRange(),text:o}]),y.current.pushUndoStop(),m.current=!1)}}),[o]),c().useEffect((function(){if(y.current&&p){p.model;var e=(0,n.Z)(p,s);y.current.updateOptions(e)}}),[p]),c().useEffect((function(){y.current&&i.editor.setModelLanguage(y.current.getModel(),g)}),[g]),c().useEffect((function(){i.editor.setTheme(d)}),[d]),c().useEffect((function(){y.current&&y.current.layout()}),[r,t]),c().useEffect((function(){y.current.onKeyDown((function(e){"Enter"===e.code&&b&&e.preventDefault()}))}),[b]),c().createElement("div",{ref:w,style:k,className:"monaco-editor-container"})}}}]);
//# sourceMappingURL=2621.8217ed5b839bea2a7481.js.map
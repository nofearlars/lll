"use strict";(this.webpackChunk_airiot_editor=this.webpackChunk_airiot_editor||[]).push([[8387,6331],{6331:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f,schema:()=>d});var i=n(885),r=n(7462),a=n(7363),o=n.n(a),l=n(1821),c=n(3078),u=(n(3204),n(5907)),s=(n(5301),l.Input.TextArea),m={roundedSelection:!1,readOnly:!1,minimap:{enabled:!1},cursorStyle:"line",automaticLayout:!1},d={type:"object",required:["name"],properties:{name:{title:_r("函数名称"),type:"string"},content:{title:_r("函数内容"),type:"string",field:{component:function(e){var t=e.input;return o().useEffect((function(){t.value||t.onChange("function aaa () {}")}),[]),o().createElement(u.C,(0,r.Z)({is:"CodeEditor"},t,{value:t.value||"function aaa () {}",language:"javascript",width:"100%",height:"250",options:m}))}}},description:{title:_r("备注说明"),type:"string",field:{component:function(e){var t=e.input;return o().createElement(s,(0,r.Z)({rows:2},t))}}}}},p=function(e){var t=e.children,n=e.invalid,i=e.handleSubmit,r=e.submitting,a={wrapperCol:{xs:{span:24,offset:0},sm:{span:18,offset:5}}};return o().createElement(l.Form,{onSubmit:i},t,o().createElement(l.Form.Item,a,o().createElement(l.Button,{type:"primary",onClick:i,loading:r,disabled:n},_t("Save"))))};const f=function(){var e=o().useState(!1),t=(0,i.Z)(e,2),n=t[0],r=t[1],a=useI18n().t;return o().createElement(o().Fragment,null,o().createElement(l.Button,{size:"small",style:{width:80,overflow:"hidden",textOverflow:"ellipsis"},onClick:function(){return r(!0)}},o().createElement(l.Tooltip,{title:a("创建函数")},"+",a("创建函数"))),o().createElement(l.Modal,{title:a("创建函数"),visible:n,width:"80%",onCancel:function(){return r(!1)},footer:null},o().createElement(u.C,{is:"I18nSchemaForm",formKey:"add-function",schema:d,onSubmit:function(e){(0,c.api)({name:"core/scriptSetting"}).fetch("",{method:"POST",body:JSON.stringify(e)}).then((function(){l.message.success(a("保存成功")),r(!1)}))},component:p})))}}}]);
//# sourceMappingURL=8387.34a6b085a257a8ce301f.js.map
"use strict";(this.webpackChunk_airiot_flow=this.webpackChunk_airiot_flow||[]).push([[350],{4350:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var r=n(4942),l=n(885),i=n(2982),a=n(7363),o=n.n(a),c=n(3078),d=n.n(c),u=n(1821),s=n(6640);const v={def:{index:0},起始节点:{title:_r("起始"),index:1},系统操作节点:{title:_r("系统操作"),index:1},业务数据节点:{title:_r("业务数据"),index:2},起始高级节点:{title:_r("高级"),index:3},处理节点:{title:_r("处理"),index:2},表处理节点:{title:_r("表处理"),index:1},全局变量处理节点:{title:_r("全局变量处理"),index:2},资产属性处理节点:{title:_r("资产属性处理"),index:3},数据节点:{title:_r("数据"),index:4},其他节点:{title:_r("其他"),index:5},人工节点:{title:_r("人工"),index:3},高级节点:{title:_r("高级"),index:5},通知:{title:_r("通知"),index:4}};var f=n(3067);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}u.Input.Search;var y=u.Collapse.Panel,g=function(e){var t=e.sort((function(e,t){var n,r;return(null===(n=v[e])||void 0===n?void 0:n.index)-(null===(r=v[t])||void 0===r?void 0:r.index)}));return(0,i.Z)(new Set([].concat((0,i.Z)(t),(0,i.Z)(e))))},h=function(e){var t,r=e.node,l=(e.category,useI18n().t),i=null;try{i=n(8074)("./".concat((null==r?void 0:r.icon)||(null==r?void 0:r.title),".svg"))}catch(e){i=n(424)}return o().createElement(u.Col,null,o().createElement(u.Tooltip,{placement:"top",title:l(r.title)},o().createElement("div",{className:"widgets-card flow-card",style:{width:88,height:70},draggable:!0,onDragStart:function(e){return function(e,t){e.dataTransfer.setData("application/reactflow",JSON.stringify(t)),e.dataTransfer.effectAllowed="move"}(e,r)}},o().createElement("div",{className:"add-cell"},o().createElement("div",{dangerouslySetInnerHTML:{__html:null===(t=i)||void 0===t?void 0:t.replace(/\<title.*\/title>/,"")}})),o().createElement("div",{className:"text-cell"},l(r.title)))))},E=function(e){var t,r=e.category,l=null;try{l=n(8074)("./".concat(r,".svg"))}catch(e){l=n(898)}return o().createElement("div",{style:{display:"flex"}},o().createElement("div",{style:{display:"flex",textAlign:"center",alignItems:"center",marginRight:10},dangerouslySetInnerHTML:{__html:null===(t=l)||void 0===t?void 0:t.replace(/\<title.*\/title>/,"")}}),o().createElement("div",null,r))};const x=function(){var e={},t=function(e){var t,n,r,l=null===(t=d().context)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.license;if(!l)return e;var i=l.feature||[],a=null===(r=_.filter(e,(function(e){return e.permission&&!i.includes(e.permission)})))||void 0===r?void 0:r.map((function(e){return null==e?void 0:e.key}));return _.omit(e,a)}(d().get("flowNodes")),n=o().useState(""),a=(0,l.Z)(n,2),c=a[0],m=a[1],x=function(e,t){if(t){var n={};for(var r in e){var l,i=e[r].title,a=null===(l=(0,f.ZP)(e[r].title,{style:"normal"}))||void 0===l?void 0:l.join("");-1===i.indexOf(t)&&-1===a.indexOf(t)||(n[r]=e[r])}return n}return e}(t,c),w=useI18n().t;Object.keys(x).forEach((function(t){var n=x[t];n.key=t;var l,a=n.category;if(a)if(_.isString(a))e[a]=p(p({},e[t]||{}),{},{def:[].concat((0,i.Z)((null===(l=e[a])||void 0===l?void 0:l.def)||[]),[n])});else if(_.isArray(a)&&a.length>0){var o=a[0];if(1==a.length){var c;e[o]=p(p({},e[o]||{}),{},{def:[].concat((0,i.Z)((null===(c=e[a])||void 0===c?void 0:c.def)||[]),[n])})}else{var d,u=a[1];e[o]=p(p({},e[o]||{}),{},(0,r.Z)({},u,[].concat((0,i.Z)((null===(d=e[o])||void 0===d?void 0:d[u])||[]),[n])))}}}));var O=[6,6];return o().createElement("div",{style:{height:"100%",overflowY:"hidden"}},o().createElement("div",{style:{height:50,display:"flex",justifyContent:"center",alignItems:"center"}},o().createElement("div",{className:"search-wrap"},o().createElement(s.SearchOutlined,{className:"search-icon"}),o().createElement(u.Input,{allowClear:!0,onChange:function(e){m(e.target.value)},placeholder:w("请输入节点名称查询")}))),o().createElement(u.Collapse,{expandIconPosition:"right",className:"flow-tabpane",style:{height:"calc(100% - 50px)",overflowY:"auto"},defaultActiveKey:Object.keys(e),bordered:!1},e&&!_.isEmpty(e)?g(Object.keys(e)).map((function(t){var n,r=e[t],l=w((null===(n=v[t])||void 0===n?void 0:n.title)||t);return o().createElement(y,{header:o().createElement(E,{category:l}),key:t,style:{borderRadius:0}},r&&g(Object.keys(r)).map((function(e){var t=r[e];if("def"==e)return o().createElement(u.Row,{gutter:O},t&&t.length>0?t.map((function(t){return o().createElement(h,{category:e,node:t})})):null);var n,l=w((null===(n=v[e])||void 0===n?void 0:n.title)||e);return o().createElement(o().Fragment,null,o().createElement("div",{className:"flow-node-level-title"},l),o().createElement(u.Row,{gutter:O},t&&t.length>0?t.map((function(t){return o().createElement(h,{category:e,node:t})})):null))})))})):null))}}}]);
//# sourceMappingURL=350.9a57d3cba80efdf871c5.js.map
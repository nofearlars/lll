import { Select } from 'antd'
import _ from 'lodash'
import React from 'react'
import { app, use } from 'xadmin'
const { Option } = Select

const TypeSelect = props => {
  const { field: { schema }, input: { value, onChange } } = props
  const { settings } = use('settings')
  const ops = settings?.warning?.warningkind || []

  function handleChange(value) {
    onChange(value)
  }
  return (
    <Select
      mode="multiple"
      value={value || undefined}
      style={{ width: '100%' }}
      placeholder={_t1(schema.title) + '...'}
      onChange={handleChange}
      options={ops?.length ? ops.map(op => ({ label: op.name, value: op.id })): []}
    >
    </Select>
  )
}

export default TypeSelect


import schema from './schema'

export default {
  name: 'airiot.plugin.warning',
  plugins: {
    name: _r('报警设置'),
    key: 'warning',
    pluginGroup: _r('通用表功能'),
    description: {
      content: _r(`【报警设置】表功能应用后，可实现复杂报警规则的定义。如当数据点的数据值超过某个范围或者设备掉线，需要产生报警时，可应用此功能。应用后，表的TAB会相应的增加一个`),
      config: [
        {
          name: _r('报警规则'),
          info: _r('可定义报警逻辑、报警描述、报警类型，上传报警声音等详细信息')
        }
      ]
    },
    useSetting: ({ data }) => {
      return { schema: schema(data) }
    },
    useRecordSetting: ({ table, setting, record, data, saveSetting }) => {
      return { schema: schema(data, record) }
    }
  }
}
import React from 'react'
import _ from 'lodash'
import { Menu } from 'antd'
import { app } from 'xadmin'
import { useMenuItems } from './utils'

const MainMenu = (props) => {
  const { canClick = true } = props
  const menuItems = app.get('menuItems')
  const { items, onMenuClick } = useMenuItems(menuItems, canClick)

  return (
    <Menu
      mode={props.mode}
      theme={props.theme}
      onClick={onMenuClick}
      collapsed={props.collapsed}
      style={{ overflowY: 'scroll', overflowY: 'overlay', minHeight: 100 }}
      items={items}
    />
  )
}

export default MainMenu
